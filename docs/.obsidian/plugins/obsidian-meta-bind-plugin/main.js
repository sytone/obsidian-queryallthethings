/*
-------------------------------------------
Meta Bind Plugin - Release Build
-------------------------------------------
By: Moritz Jung (https://mprojectscode.github.io/)
Time: Sat, 23 Dec 2023 13:38:29 GMT
Version: 0.10.2
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var N5=Object.create;var gu=Object.defineProperty;var M5=Object.getOwnPropertyDescriptor;var T5=Object.getOwnPropertyNames;var F5=Object.getPrototypeOf,I5=Object.prototype.hasOwnProperty;var B5=(r,e,t)=>e in r?gu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Lr=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),O5=(r,e)=>{for(var t in e)gu(r,t,{get:e[t],enumerable:!0})},P_=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of T5(e))!I5.call(r,i)&&i!==t&&gu(r,i,{get:()=>e[i],enumerable:!(n=M5(e,i))||n.enumerable});return r};var gr=(r,e,t)=>(t=r!=null?N5(F5(r)):{},P_(e||!r||!r.__esModule?gu(t,"default",{value:r,enumerable:!0}):t,r)),P5=r=>P_(gu({},"__esModule",{value:!0}),r);var jr=(r,e,t)=>(B5(r,typeof e!="symbol"?e+"":e,t),t);var bc=Lr(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.P_HELPERS=Bn.ParserHelpers=Bn.validateRegexFlags=Bn.validateRange=Bn.getIndex=Bn.arrayUnion=void 0;var xd=wc();function J6(r,e){if(r===void 0&&e===void 0)return;if(r===void 0)return e;if(e===void 0)return r;let t=[...r];for(let n of e)t.includes(n)||t.push(n);return t}Bn.arrayUnion=J6;function Y6(r){return r===void 0?-1:r.index}Bn.getIndex=Y6;function X6(r,e){if(e<r)throw new Error(`Invalid Range: max might not be smaller than min. Received [${r}, ${e}].`);if(r<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${r}, ${e}].`);if(r===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${r}, ${e}].`);if(!Number.isInteger(r)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${r}, ${e}].`)}Bn.validateRange=X6;function Q6(r){for(let e of r)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}Bn.validateRegexFlags=Q6;var xc=class{followedBy(e){return new xd.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new xd.Parser(function(n){let i=n.copy(),a=e.p(i),o=n.sliceTo(i.position.index);return a.success?n.fail("not '"+o+"'"):n.succeed(void 0)})}test(e){return new xd.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};Bn.ParserHelpers=xc;Bn.P_HELPERS=new xc});var jA=Lr(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});_c.ParserContext=void 0;var bd=bc(),wd=class r{constructor(e,t){this.input=e,this.position=t}moveToPosition(e){return this.position=e,this}copy(){return new r(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let t=this.position.index;t<e;t++)this.input[t]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,t){return this.succeedAt(this.position.index+e,t)}failOffset(e,t){return this.failAt(this.position.index+e,t)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,t){return this.advanceTo(e),{success:!0,value:t,furthest:void 0,expected:void 0}}failAt(e,t){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(t)?t:[t]}}merge(e,t){if(e===void 0)return t;let n=(0,bd.getIndex)(e.furthest),i=(0,bd.getIndex)(t.furthest);if(i>n)return t;let a=i===n?(0,bd.arrayUnion)(e.expected,t.expected):e.expected;return t.furthest=e.furthest,t.expected=a,t}};_c.ParserContext=wd});var si=Lr(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.P_UTILS=void 0;var Ac=wc(),lr=ui(),_d=class r{static position(){return new Ac.Parser(e=>e.succeed(e.getPosition()))}static any(){return new Ac.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new Ac.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new Ac.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return lr.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return lr.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return lr.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return lr.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return lr.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return lr.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return lr.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return lr.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return lr.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return lr.P.regexp(/^\s+/).describe("whitespace")}static cr(){return lr.P.string("\r")}static lf(){return lr.P.string(`
`)}static crlf(){return lr.P.string(`\r
`)}static newline(){return lr.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,t,n){return lr.P.sequenceMap((i,a)=>i.reduce((o,l)=>n(l,o),a),e.many(),t)}static postfix(e,t,n){return lr.P.sequenceMap((i,a)=>a.reduce((o,l)=>n(l,o),i),t,e.many())}static binaryRight(e,t,n){return lr.P.sequenceMap((i,a)=>i.reverse().reduce((o,l)=>{let[u,s]=l;return n(u,s,o)},a),lr.P.sequence(t,e.trim(this.optionalWhitespace())).many(),t)}static binaryLeft(e,t,n){return lr.P.sequenceMap((i,a)=>a.reduce((o,l)=>{let[u,s]=l;return n(o,u,s)},i),t,lr.P.sequence(e.trim(this.optionalWhitespace()),t).many())}static binaryRightRange(e,t,n){return lr.P.sequenceMap((i,a,o)=>i.reverse().reduce((l,u)=>{let[s,c,f]=u;return n({from:s,to:o},c,f,l)},a),lr.P.sequence(r.position(),t,e.trim(this.optionalWhitespace())).many(),t,r.position())}static binaryLeftRange(e,t,n){return lr.P.sequenceMap((i,a,o)=>o.reduce((l,u)=>{let[s,c,f]=u;return n({from:i,to:f},l,s,c)},a),r.position(),t,lr.P.sequence(e.trim(this.optionalWhitespace()),t,r.position()).many())}static func(e,t,n){let i=typeof e=="string"?lr.P.string(e):e;return lr.P.sequenceMap((a,o,l,u,s,c)=>n(a,u),i,lr.P.string("("),this.optionalWhitespace(),t,this.optionalWhitespace(),lr.P.string(")"))}};Dc.P_UTILS=_d});var JA=Lr(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.ParsingError=bs.createParsingErrorMessage=void 0;function ZA(r,e,t){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(t){let o=r.split(`
`)[e.furthest.line-1],l=`${e.furthest.line} |   `;i+=`

${l}${o}`,i+=`
${" ".repeat(e.furthest.column-1+l.length)}^ (${n})`}return i}bs.createParsingErrorMessage=ZA;var Ad=class extends Error{constructor(e,t){super(ZA(e,t,!0))}};bs.ParsingError=Ad});var wc=Lr(Ec=>{"use strict";Object.defineProperty(Ec,"__esModule",{value:!0});Ec.Parser=void 0;var K6=jA(),li=ui(),Dd=bc(),ws=si(),eV=JA(),Ed=class r{constructor(e){this.p=e}tryParse(e){return this.p(new K6.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let t=this.tryParse(e);if(t.success)return t.value;throw new eV.ParsingError(e,t)}or(e){return li.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(li.P.string(e))}wrap(e,t){let n=this;return new r(function(a){let o=e.p(a);if(!o.success)return o;let l=a.merge(o,n.p(a));if(!l.success)return l;let u=a.merge(l,t.p(a));return u.success?a.merge(u,a.succeed(l.value)):u})}wrapString(e,t){return this.wrap(li.P.string(e),li.P.string(t))}then(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return li.P.sequence(this,e)}many(){let e=this;return new r(function(n){let i,a=n.position.index,o=[];for(;;){let l=n.copy(),u=e.p(l);if(i=n.merge(i,u),i.success){if(l.position.index===a)throw new Error("infinite loop in many() parser detected");n.moveToPosition(l.position),o.push(i.value)}else return n.merge(i,n.succeed(o))}})}repeat(e,t){(0,Dd.validateRange)(e,t);let n=this;return new r(function(a){let o,l,u=[],s=0;for(;s<e;s++)if(o=n.p(a),l=a.merge(l,o),o.success)u.push(o.value);else return l;for(;s<t;s++){let c=a.copy();if(o=n.p(c),l=a.merge(l,o),o.success)a.moveToPosition(c.position),u.push(o.value);else break}return a.merge(l,a.succeed(u))})}atMost(e){return this.repeat(0,e)}atLeast(e){return li.P.sequenceMap((t,n)=>t.concat(n),this.repeat(e,e),this.many())}separateBy(e){return li.P.separateBy(this,e)}separateByNotEmpty(e){return li.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let t=this;return new r(function(i){let a=t.p(i);return a.success&&(a.value=e(a.value)),a})}marker(){return li.P.sequenceMap(function(t,n,i){return{value:n,range:{from:t,to:i}}},ws.P_UTILS.position(),this,ws.P_UTILS.position())}namedMarker(e){return li.P.sequenceMap(function(n,i,a){return{value:i,name:e,range:{from:n,to:a}}},ws.P_UTILS.position(),this,ws.P_UTILS.position())}node(e){return li.P.sequenceMap(function(n,i,a){return e(i,{from:n,to:a})},ws.P_UTILS.position(),this,ws.P_UTILS.position())}followedBy(e){return this.skip(Dd.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip(Dd.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let t=this;return new r(function(i){let a=t.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let t=this;return new r(function(i){var a;let o=t.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or(li.P.succeed(e))}chain(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let l=e(a.value).p(i);return i.merge(a,l)})}thenEof(){let e=this;return new r(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,t="",n=new Map,i=new Map;return new r(function(o){let l=o.position.index;if(o.input!==t)t=o.input,n.clear(),i.clear();else{let s=n.get(l),c=i.get(l);if(s!==void 0&&c!==void 0)return o.moveToPosition(Object.assign({},c)),Object.assign({},s)}let u=e.p(o);return n.set(l,Object.assign({},u)),i.set(l,o.getPosition()),u})}};Ec.Parser=Ed});var ui=Lr(Sc=>{"use strict";Object.defineProperty(Sc,"__esModule",{value:!0});Sc.P=void 0;var Yn=wc(),Cc=bc(),Cd=class r{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new Yn.Parser(function(n){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let u=e[o].p(n);if(i=n.merge(i,u),!i.success)return i;a[o]=i.value}return i.value=a,i})}static sequenceMap(e,...t){if(t.length===0)throw new Error("sequenceMap must have at least one parser argument");return new Yn.Parser(function(i){let a,o=new Array(t.length);for(let l=0;l<t.length;l++){let s=t[l].p(i);if(a=i.merge(a,s),!a.success)return a;o[l]=a.value}return a.value=e(...o),a})}static createLanguage(e){let t={},n={},i={};for(let a in e)i[a]=r.reference(()=>e[a](t,i)),Object.defineProperty(n,a,{get:()=>{if(t[a]!==void 0)return t[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)t[a]=e[a](n,i);return t}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new Yn.Parser(function(n){let i;for(let a of e){let o=a,l=n.copy(),u=o.p(l);if(i=n.merge(i,u),i.success)return n.moveToPosition(l.position),i}return i})}static separateBy(e,t){return this.separateByNotEmpty(e,t).or(r.succeed([]))}static separateByNotEmpty(e,t){return this.sequenceMap(function(i,a){return a.unshift(i),a},e,t.then(e).many())}static string(e){let t="'"+e+"'";return new Yn.Parser(function(i){for(let a=0;a<e.length;a++)if(i.input[i.position.index+a]!==e[a])return i.fail(t);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,t){(0,Cc.validateRegexFlags)(e.flags);let n=e.source;return t!==void 0?new Yn.Parser(function(a){let o=a.input.slice(a.position.index),l=e.exec(o);if(l!==null){let u=t!=null?t:0;if(u>=0&&u<=l.length){let c=l[0],f=l[u];return a.succeedOffset(c.length,f)}let s="expected valid match group (0 to "+l.length+") in "+n;return a.fail(s)}else return a.fail(n)}):new Yn.Parser(function(a){let o=a.input.slice(a.position.index),l=e.exec(o);if(l!==null){let u=l[0];return a.succeedOffset(u.length,u)}else return a.fail(n)})}static succeed(e){return new Yn.Parser(function(n){return n.succeed(e)})}static fail(e){return new Yn.Parser(function(n){return n.fail(e)})}static oneOf(e){return Cc.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return Cc.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(t=>this.string(t))).describe(e.map(t=>`'${t}'`).join(" or "))}static manyOf(e){return new Yn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new Yn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new Yn.Parser(e)}static range(e,t){let n=e.charCodeAt(0),i=t.charCodeAt(0);return Cc.P_HELPERS.test(function(o){let l=o.charCodeAt(0);return n<=l&&l<=i}).describe(`${e}-${t}`)}static takeWhile(e){return new Yn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new Yn.Parser(function(n){return e().p(n)})}};Sc.P=Cd});var ph=Lr((ch,fh)=>{(function(r,e){typeof ch=="object"&&typeof fh!="undefined"?fh.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self,r["'typed'"]=e())})(ch,function(){"use strict";function r(){return!0}function e(){return!1}function t(){}let n="Argument is not a typed-function.";function i(){function o(H){return typeof H=="object"&&H!==null&&H.constructor===Object}let l=[{name:"number",test:function(H){return typeof H=="number"}},{name:"string",test:function(H){return typeof H=="string"}},{name:"boolean",test:function(H){return typeof H=="boolean"}},{name:"Function",test:function(H){return typeof H=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(H){return H instanceof Date}},{name:"RegExp",test:function(H){return H instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(H){return H===null}},{name:"undefined",test:function(H){return H===void 0}}],u={name:"any",test:r,isAny:!0},s,c,f=0,p={createCount:0};function m(H){let ne=s.get(H);if(ne)return ne;let pe='Unknown type "'+H+'"',_e=H.toLowerCase(),Ne;for(Ne of c)if(Ne.toLowerCase()===_e){pe+='. Did you mean "'+Ne+'" ?';break}throw new TypeError(pe)}function h(H){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",pe=ne?m(ne).index:c.length,_e=[];for(let De=0;De<H.length;++De){if(!H[De]||typeof H[De].name!="string"||typeof H[De].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let Ce=H[De].name;if(s.has(Ce))throw new TypeError('Duplicate type name "'+Ce+'"');_e.push(Ce),s.set(Ce,{name:Ce,test:H[De].test,isAny:H[De].isAny,index:pe+De,conversionsTo:[]})}let Ne=c.slice(pe);c=c.slice(0,pe).concat(_e).concat(Ne);for(let De=pe+_e.length;De<c.length;++De)s.get(c[De]).index=De}function d(){s=new Map,c=[],f=0,h([u],!1)}d(),h(l);function g(){let H;for(H of c)s.get(H).conversionsTo=[];f=0}function v(H){let ne=c.filter(pe=>{let _e=s.get(pe);return!_e.isAny&&_e.test(H)});return ne.length?ne:["any"]}function w(H){return H&&typeof H=="function"&&"_typedFunctionData"in H}function y(H,ne,pe){if(!w(H))throw new TypeError(n);let _e=pe&&pe.exact,Ne=Array.isArray(ne)?ne.join(","):ne,De=E(Ne),Ce=b(De);if(!_e||Ce in H.signatures){let se=H._typedFunctionData.signatureMap.get(Ce);if(se)return se}let Pe=De.length,M;if(_e){M=[];let se;for(se in H.signatures)M.push(H._typedFunctionData.signatureMap.get(se))}else M=H._typedFunctionData.signatures;for(let se=0;se<Pe;++se){let Ee=De[se],Ke=[],st;for(st of M){let fr=k(st.params,se);if(!(!fr||Ee.restParam&&!fr.restParam)){if(!fr.hasAny){let Hn=A(fr);if(Ee.types.some(_i=>!Hn.has(_i.name)))continue}Ke.push(st)}}if(M=Ke,M.length===0)break}let q;for(q of M)if(q.params.length<=Pe)return q;throw new TypeError("Signature not found (signature: "+(H.name||"unnamed")+"("+b(De,", ")+"))")}function x(H,ne,pe){return y(H,ne,pe).implementation}function _(H,ne){let pe=m(ne);if(pe.test(H))return H;let _e=pe.conversionsTo;if(_e.length===0)throw new Error("There are no conversions to "+ne+" defined.");for(let Ne=0;Ne<_e.length;Ne++)if(m(_e[Ne].from).test(H))return _e[Ne].convert(H);throw new Error("Cannot convert "+H+" to "+ne)}function b(H){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return H.map(pe=>pe.name).join(ne)}function D(H){let ne=H.indexOf("...")===0,_e=(ne?H.length>3?H.slice(3):"any":H).split("|").map(Pe=>m(Pe.trim())),Ne=!1,De=ne?"...":"";return{types:_e.map(function(Pe){return Ne=Pe.isAny||Ne,De+=Pe.name+"|",{name:Pe.name,typeIndex:Pe.index,test:Pe.test,isAny:Pe.isAny,conversion:null,conversionIndex:-1}}),name:De.slice(0,-1),hasAny:Ne,hasConversion:!1,restParam:ne}}function C(H){let ne=H.types.map(Ce=>Ce.name),pe=P(ne),_e=H.hasAny,Ne=H.name,De=pe.map(function(Ce){let Pe=m(Ce.from);return _e=Pe.isAny||_e,Ne+="|"+Ce.from,{name:Ce.from,typeIndex:Pe.index,test:Pe.test,isAny:Pe.isAny,conversion:Ce,conversionIndex:Ce.index}});return{types:H.types.concat(De),name:Ne,hasAny:_e,hasConversion:De.length>0,restParam:H.restParam}}function A(H){return H.typeSet||(H.typeSet=new Set,H.types.forEach(ne=>H.typeSet.add(ne.name))),H.typeSet}function E(H){let ne=[];if(typeof H!="string")throw new TypeError("Signatures must be strings");let pe=H.trim();if(pe==="")return ne;let _e=pe.split(",");for(let Ne=0;Ne<_e.length;++Ne){let De=D(_e[Ne].trim());if(De.restParam&&Ne!==_e.length-1)throw new SyntaxError('Unexpected rest parameter "'+_e[Ne]+'": only allowed for the last parameter');if(De.types.length===0)return null;ne.push(De)}return ne}function F(H){let ne=U(H);return ne?ne.restParam:!1}function I(H){if(!H||H.types.length===0)return r;if(H.types.length===1)return m(H.types[0].name).test;if(H.types.length===2){let ne=m(H.types[0].name).test,pe=m(H.types[1].name).test;return function(Ne){return ne(Ne)||pe(Ne)}}else{let ne=H.types.map(function(pe){return m(pe.name).test});return function(_e){for(let Ne=0;Ne<ne.length;Ne++)if(ne[Ne](_e))return!0;return!1}}}function O(H){let ne,pe,_e;if(F(H)){ne=we(H).map(I);let Ne=ne.length,De=I(U(H)),Ce=function(Pe){for(let M=Ne;M<Pe.length;M++)if(!De(Pe[M]))return!1;return!0};return function(M){for(let q=0;q<ne.length;q++)if(!ne[q](M[q]))return!1;return Ce(M)&&M.length>=Ne+1}}else return H.length===0?function(De){return De.length===0}:H.length===1?(pe=I(H[0]),function(De){return pe(De[0])&&De.length===1}):H.length===2?(pe=I(H[0]),_e=I(H[1]),function(De){return pe(De[0])&&_e(De[1])&&De.length===2}):(ne=H.map(I),function(De){for(let Ce=0;Ce<ne.length;Ce++)if(!ne[Ce](De[Ce]))return!1;return De.length===ne.length})}function k(H,ne){return ne<H.length?H[ne]:F(H)?U(H):null}function R(H,ne){let pe=k(H,ne);return pe?A(pe):new Set}function T(H){return H.conversion===null||H.conversion===void 0}function N(H,ne){let pe=new Set;return H.forEach(_e=>{let Ne=R(_e.params,ne),De;for(De of Ne)pe.add(De)}),pe.has("any")?["any"]:Array.from(pe)}function V(H,ne,pe){let _e,Ne,De=H||"unnamed",Ce=pe,Pe;for(Pe=0;Pe<ne.length;Pe++){let Ee=[];if(Ce.forEach(Ke=>{let st=k(Ke.params,Pe),fr=I(st);(Pe<Ke.params.length||F(Ke.params))&&fr(ne[Pe])&&Ee.push(Ke)}),Ee.length===0){if(Ne=N(Ce,Pe),Ne.length>0){let Ke=v(ne[Pe]);return _e=new TypeError("Unexpected type of argument in function "+De+" (expected: "+Ne.join(" or ")+", actual: "+Ke.join(" | ")+", index: "+Pe+")"),_e.data={category:"wrongType",fn:De,index:Pe,actual:Ke,expected:Ne},_e}}else Ce=Ee}let M=Ce.map(function(Ee){return F(Ee.params)?1/0:Ee.params.length});if(ne.length<Math.min.apply(null,M))return Ne=N(Ce,Pe),_e=new TypeError("Too few arguments in function "+De+" (expected: "+Ne.join(" or ")+", index: "+ne.length+")"),_e.data={category:"tooFewArgs",fn:De,index:ne.length,expected:Ne},_e;let q=Math.max.apply(null,M);if(ne.length>q)return _e=new TypeError("Too many arguments in function "+De+" (expected: "+q+", actual: "+ne.length+")"),_e.data={category:"tooManyArgs",fn:De,index:ne.length,expectedLength:q},_e;let se=[];for(let Ee=0;Ee<ne.length;++Ee)se.push(v(ne[Ee]).join("|"));return _e=new TypeError('Arguments of type "'+se.join(", ")+'" do not match any of the defined signatures of function '+De+"."),_e.data={category:"mismatch",actual:se},_e}function B(H){let ne=c.length+1;for(let pe=0;pe<H.types.length;pe++)T(H.types[pe])&&(ne=Math.min(ne,H.types[pe].typeIndex));return ne}function X(H){let ne=f+1;for(let pe=0;pe<H.types.length;pe++)T(H.types[pe])||(ne=Math.min(ne,H.types[pe].conversionIndex));return ne}function ee(H,ne){if(H.hasAny){if(!ne.hasAny)return 1}else if(ne.hasAny)return-1;if(H.restParam){if(!ne.restParam)return 1}else if(ne.restParam)return-1;if(H.hasConversion){if(!ne.hasConversion)return 1}else if(ne.hasConversion)return-1;let pe=B(H)-B(ne);if(pe<0)return-1;if(pe>0)return 1;let _e=X(H)-X(ne);return _e<0?-1:_e>0?1:0}function W(H,ne){let pe=H.params,_e=ne.params,Ne=U(pe),De=U(_e),Ce=F(pe),Pe=F(_e);if(Ce&&Ne.hasAny){if(!Pe||!De.hasAny)return 1}else if(Pe&&De.hasAny)return-1;let M=0,q=0,se;for(se of pe)se.hasAny&&++M,se.hasConversion&&++q;let Ee=0,Ke=0;for(se of _e)se.hasAny&&++Ee,se.hasConversion&&++Ke;if(M!==Ee)return M-Ee;if(Ce&&Ne.hasConversion){if(!Pe||!De.hasConversion)return 1}else if(Pe&&De.hasConversion)return-1;if(q!==Ke)return q-Ke;if(Ce){if(!Pe)return 1}else if(Pe)return-1;let st=(pe.length-_e.length)*(Ce?-1:1);if(st!==0)return st;let fr=[],Hn=0;for(let ts=0;ts<pe.length;++ts){let $l=ee(pe[ts],_e[ts]);fr.push($l),Hn+=$l}if(Hn!==0)return Hn;let _i;for(_i of fr)if(_i!==0)return _i;return 0}function P(H){if(H.length===0)return[];let ne=H.map(m);H.length>1&&ne.sort((Ne,De)=>Ne.index-De.index);let pe=ne[0].conversionsTo;if(H.length===1)return pe;pe=pe.concat([]);let _e=new Set(H);for(let Ne=1;Ne<ne.length;++Ne){let De;for(De of ne[Ne].conversionsTo)_e.has(De.from)||(pe.push(De),_e.add(De.from))}return pe}function K(H,ne){let pe=ne;if(H.some(Ne=>Ne.hasConversion)){let Ne=F(H),De=H.map(ve);pe=function(){let Pe=[],M=Ne?arguments.length-1:arguments.length;for(let q=0;q<M;q++)Pe[q]=De[q](arguments[q]);return Ne&&(Pe[M]=arguments[M].map(De[M])),ne.apply(this,Pe)}}let _e=pe;if(F(H)){let Ne=H.length-1;_e=function(){return pe.apply(this,G(arguments,0,Ne).concat([G(arguments,Ne)]))}}return _e}function ve(H){let ne,pe,_e,Ne,De=[],Ce=[];switch(H.types.forEach(function(Pe){Pe.conversion&&(De.push(m(Pe.conversion.from).test),Ce.push(Pe.conversion.convert))}),Ce.length){case 0:return function(M){return M};case 1:return ne=De[0],_e=Ce[0],function(M){return ne(M)?_e(M):M};case 2:return ne=De[0],pe=De[1],_e=Ce[0],Ne=Ce[1],function(M){return ne(M)?_e(M):pe(M)?Ne(M):M};default:return function(M){for(let q=0;q<Ce.length;q++)if(De[q](M))return Ce[q](M);return M}}}function ie(H){function ne(pe,_e,Ne){if(_e<pe.length){let De=pe[_e],Ce=[];if(De.restParam){let Pe=De.types.filter(T);Pe.length<De.types.length&&Ce.push({types:Pe,name:"..."+Pe.map(M=>M.name).join("|"),hasAny:Pe.some(M=>M.isAny),hasConversion:!1,restParam:!0}),Ce.push(De)}else Ce=De.types.map(function(Pe){return{types:[Pe],name:Pe.name,hasAny:Pe.isAny,hasConversion:Pe.conversion,restParam:!1}});return $(Ce,function(Pe){return ne(pe,_e+1,Ne.concat([Pe]))})}else return[Ne]}return ne(H,0,[])}function oe(H,ne){let pe=Math.max(H.length,ne.length);for(let Pe=0;Pe<pe;Pe++){let M=R(H,Pe),q=R(ne,Pe),se=!1,Ee;for(Ee of q)if(M.has(Ee)){se=!0;break}if(!se)return!1}let _e=H.length,Ne=ne.length,De=F(H),Ce=F(ne);return De?Ce?_e===Ne:Ne>=_e:Ce?_e>=Ne:_e===Ne}function ge(H){return H.map(ne=>Le(ne)?he(ne.referToSelf.callback):ye(ne)?re(ne.referTo.references,ne.referTo.callback):ne)}function ue(H,ne,pe){let _e=[],Ne;for(Ne of H){let De=pe[Ne];if(typeof De!="number")throw new TypeError('No definition for referenced signature "'+Ne+'"');if(De=ne[De],typeof De!="function")return!1;_e.push(De)}return _e}function ce(H,ne,pe){let _e=ge(H),Ne=new Array(_e.length).fill(!1),De=!0;for(;De;){De=!1;let Ce=!0;for(let Pe=0;Pe<_e.length;++Pe){if(Ne[Pe])continue;let M=_e[Pe];if(Le(M))_e[Pe]=M.referToSelf.callback(pe),_e[Pe].referToSelf=M.referToSelf,Ne[Pe]=!0,Ce=!1;else if(ye(M)){let q=ue(M.referTo.references,_e,ne);q?(_e[Pe]=M.referTo.callback.apply(this,q),_e[Pe].referTo=M.referTo,Ne[Pe]=!0,Ce=!1):De=!0}}if(Ce&&De)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return _e}function me(H){let ne=/\bthis(\(|\.signatures\b)/;Object.keys(H).forEach(pe=>{let _e=H[pe];if(ne.test(_e.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function de(H,ne){if(p.createCount++,Object.keys(ne).length===0)throw new SyntaxError("No signatures provided");p.warnAgainstDeprecatedThis&&me(ne);let pe=[],_e=[],Ne={},De=[],Ce;for(Ce in ne){if(!Object.prototype.hasOwnProperty.call(ne,Ce))continue;let ar=E(Ce);if(!ar)continue;pe.forEach(function(hu){if(oe(hu,ar))throw new TypeError('Conflicting signatures "'+b(hu)+'" and "'+b(ar)+'".')}),pe.push(ar);let Fn=_e.length;_e.push(ne[Ce]);let C5=ar.map(C),Hl;for(Hl of ie(C5)){let hu=b(Hl);De.push({params:Hl,name:hu,fn:Fn}),Hl.every(S5=>!S5.hasConversion)&&(Ne[hu]=Fn)}}De.sort(W);let Pe=ce(_e,Ne,du),M;for(M in Ne)Object.prototype.hasOwnProperty.call(Ne,M)&&(Ne[M]=Pe[Ne[M]]);let q=[],se=new Map;for(M of De)se.has(M.name)||(M.fn=Pe[M.fn],q.push(M),se.set(M.name,M));let Ee=q[0]&&q[0].params.length<=2&&!F(q[0].params),Ke=q[1]&&q[1].params.length<=2&&!F(q[1].params),st=q[2]&&q[2].params.length<=2&&!F(q[2].params),fr=q[3]&&q[3].params.length<=2&&!F(q[3].params),Hn=q[4]&&q[4].params.length<=2&&!F(q[4].params),_i=q[5]&&q[5].params.length<=2&&!F(q[5].params),ts=Ee&&Ke&&st&&fr&&Hn&&_i;for(let ar=0;ar<q.length;++ar)q[ar].test=O(q[ar].params);let $l=Ee?I(q[0].params[0]):e,Q4=Ke?I(q[1].params[0]):e,K4=st?I(q[2].params[0]):e,e5=fr?I(q[3].params[0]):e,t5=Hn?I(q[4].params[0]):e,r5=_i?I(q[5].params[0]):e,n5=Ee?I(q[0].params[1]):e,i5=Ke?I(q[1].params[1]):e,a5=st?I(q[2].params[1]):e,o5=fr?I(q[3].params[1]):e,s5=Hn?I(q[4].params[1]):e,u5=_i?I(q[5].params[1]):e;for(let ar=0;ar<q.length;++ar)q[ar].implementation=K(q[ar].params,q[ar].fn);let l5=Ee?q[0].implementation:t,c5=Ke?q[1].implementation:t,f5=st?q[2].implementation:t,p5=fr?q[3].implementation:t,m5=Hn?q[4].implementation:t,d5=_i?q[5].implementation:t,h5=Ee?q[0].params.length:-1,g5=Ke?q[1].params.length:-1,v5=st?q[2].params.length:-1,y5=fr?q[3].params.length:-1,x5=Hn?q[4].params.length:-1,b5=_i?q[5].params.length:-1,w5=ts?6:0,_5=q.length,A5=q.map(ar=>ar.test),D5=q.map(ar=>ar.implementation),E5=function(){for(let Fn=w5;Fn<_5;Fn++)if(A5[Fn](arguments))return D5[Fn].apply(this,arguments);return p.onMismatch(H,arguments,q)};function du(ar,Fn){return arguments.length===h5&&$l(ar)&&n5(Fn)?l5.apply(this,arguments):arguments.length===g5&&Q4(ar)&&i5(Fn)?c5.apply(this,arguments):arguments.length===v5&&K4(ar)&&a5(Fn)?f5.apply(this,arguments):arguments.length===y5&&e5(ar)&&o5(Fn)?p5.apply(this,arguments):arguments.length===x5&&t5(ar)&&s5(Fn)?m5.apply(this,arguments):arguments.length===b5&&r5(ar)&&u5(Fn)?d5.apply(this,arguments):E5.apply(this,arguments)}try{Object.defineProperty(du,"name",{value:H})}catch(ar){}return du.signatures=Ne,du._typedFunctionData={signatures:q,signatureMap:se},du}function Be(H,ne,pe){throw V(H,ne,pe)}function we(H){return G(H,0,H.length-1)}function U(H){return H[H.length-1]}function G(H,ne,pe){return Array.prototype.slice.call(H,ne,pe)}function le(H,ne){for(let pe=0;pe<H.length;pe++)if(ne(H[pe]))return H[pe]}function $(H,ne){return Array.prototype.concat.apply([],H.map(ne))}function Q(){let H=we(arguments).map(pe=>b(E(pe))),ne=U(arguments);if(typeof ne!="function")throw new TypeError("Callback function expected as last argument");return re(H,ne)}function re(H,ne){return{referTo:{references:H,callback:ne}}}function he(H){if(typeof H!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:H}}}function ye(H){return H&&typeof H.referTo=="object"&&Array.isArray(H.referTo.references)&&typeof H.referTo.callback=="function"}function Le(H){return H&&typeof H.referToSelf=="object"&&typeof H.referToSelf.callback=="function"}function Ae(H,ne){if(!H)return ne;if(ne&&ne!==H){let pe=new Error("Function names do not match (expected: "+H+", actual: "+ne+")");throw pe.data={actual:ne,expected:H},pe}return H}function ct(H){let ne;for(let pe in H)Object.prototype.hasOwnProperty.call(H,pe)&&(w(H[pe])||typeof H[pe].signature=="string")&&(ne=Ae(ne,H[pe].name));return ne}function xt(H,ne){let pe;for(pe in ne)if(Object.prototype.hasOwnProperty.call(ne,pe)){if(pe in H&&ne[pe]!==H[pe]){let _e=new Error('Signature "'+pe+'" is defined twice');throw _e.data={signature:pe,sourceFunction:ne[pe],destFunction:H[pe]},_e}H[pe]=ne[pe]}}let Ut=p;p=function(H){let ne=typeof H=="string",pe=ne?1:0,_e=ne?H:"",Ne={};for(let De=pe;De<arguments.length;++De){let Ce=arguments[De],Pe={},M;if(typeof Ce=="function"?(M=Ce.name,typeof Ce.signature=="string"?Pe[Ce.signature]=Ce:w(Ce)&&(Pe=Ce.signatures)):o(Ce)&&(Pe=Ce,ne||(M=ct(Ce))),Object.keys(Pe).length===0){let q=new TypeError("Argument to 'typed' at index "+De+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw q.data={index:De,argument:Ce},q}ne||(_e=Ae(_e,M)),xt(Ne,Pe)}return de(_e||"",Ne)},p.create=i,p.createCount=Ut.createCount,p.onMismatch=Be,p.throwMismatchError=Be,p.createError=V,p.clear=d,p.clearConversions=g,p.addTypes=h,p._findType=m,p.referTo=Q,p.referToSelf=he,p.convert=_,p.findSignature=y,p.find=x,p.isTypedFunction=w,p.warnAgainstDeprecatedThis=!0,p.addType=function(H,ne){let pe="any";ne!==!1&&s.has("Object")&&(pe="Object"),p.addTypes([H],pe)};function Xt(H){if(!H||typeof H.from!="string"||typeof H.to!="string"||typeof H.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(H.to===H.from)throw new SyntaxError('Illegal to define conversion from "'+H.from+'" to itself.')}return p.addConversion=function(H){Xt(H);let ne=m(H.to);if(ne.conversionsTo.every(function(pe){return pe.from!==H.from}))ne.conversionsTo.push({from:H.from,convert:H.convert,index:f++});else throw new Error('There is already a conversion from "'+H.from+'" to "'+ne.name+'"')},p.addConversions=function(H){H.forEach(p.addConversion)},p.removeConversion=function(H){Xt(H);let ne=m(H.to),pe=le(ne.conversionsTo,Ne=>Ne.from===H.from);if(!pe)throw new Error("Attempt to remove nonexistent conversion from "+H.from+" to "+H.to);if(pe.convert!==H.convert)throw new Error("Conversion to remove does not match existing conversion");let _e=ne.conversionsTo.indexOf(pe);ne.conversionsTo.splice(_e,1)},p.resolve=function(H,ne){if(!w(H))throw new TypeError(n);let pe=H._typedFunctionData.signatures;for(let _e=0;_e<pe.length;++_e)if(pe[_e].test(ne))return pe[_e];return null},p}var a=i();return a})});var NC=Lr((Oh,SC)=>{(function(r){"use strict";var e=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},t=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},n=function(s){var c=Math.PI/4;if(-c>s||s>c)return Math.cos(s)-1;var f=s*s;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(s,c){var f=Math.abs(s),p=Math.abs(c);return f<3e3&&p<3e3?Math.sqrt(f*f+p*p):(f<p?(f=p,p=s/c):p=c/s,f*Math.sqrt(1+p*p))},a=function(){throw SyntaxError("Invalid Param")};function o(s,c){var f=Math.abs(s),p=Math.abs(c);return s===0?Math.log(p):c===0?Math.log(f):f<3e3&&p<3e3?Math.log(s*s+c*c)*.5:(s=s/2,c=c/2,.5*Math.log(s*s+c*c)+Math.LN2)}var l=function(s,c){var f={re:0,im:0};if(s==null)f.re=f.im=0;else if(c!==void 0)f.re=s,f.im=c;else switch(typeof s){case"object":if("im"in s&&"re"in s)f.re=s.re,f.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return u.INFINITY;f.re=s.abs*Math.cos(s.arg),f.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return u.INFINITY;f.re=s.r*Math.cos(s.phi),f.im=s.r*Math.sin(s.phi)}else s.length===2?(f.re=s[0],f.im=s[1]):a();break;case"string":f.im=f.re=0;var p=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,h=0;p===null&&a();for(var d=0;d<p.length;d++){var g=p[d];g===" "||g==="	"||g===`
`||(g==="+"?m++:g==="-"?h++:g==="i"||g==="I"?(m+h===0&&a(),p[d+1]!==" "&&!isNaN(p[d+1])?(f.im+=parseFloat((h%2?"-":"")+p[d+1]),d++):f.im+=parseFloat((h%2?"-":"")+"1"),m=h=0):((m+h===0||isNaN(g))&&a(),p[d+1]==="i"||p[d+1]==="I"?(f.im+=parseFloat((h%2?"-":"")+g),d++):f.re+=parseFloat((h%2?"-":"")+g),m=h=0))}m+h>0&&a();break;case"number":f.im=0,f.re=s;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function u(s,c){if(!(this instanceof u))return new u(s,c);var f=l(s,c);this.re=f.re,this.im=f.im}u.prototype={re:0,im:0,sign:function(){var s=this.abs();return new u(this.re/s,this.im/s)},add:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re+f.re,this.im+f.im)},sub:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re-f.re,this.im-f.im)},mul:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:f.im===0&&this.im===0?new u(this.re*f.re,0):new u(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(s,c){var f=new u(s,c);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return u.NAN;if(this.isInfinite()||f.isZero())return u.INFINITY;if(this.isZero()||f.isInfinite())return u.ZERO;s=this.re,c=this.im;var p=f.re,m=f.im,h,d;return m===0?new u(s/p,c/p):Math.abs(p)<Math.abs(m)?(d=p/m,h=p*d+m,new u((s*d+c)/h,(c*d-s)/h)):(d=m/p,h=m*d+p,new u((s+c*d)/h,(c-s*d)/h))},pow:function(s,c){var f=new u(s,c);if(s=this.re,c=this.im,f.isZero())return u.ONE;if(f.im===0){if(c===0&&s>0)return new u(Math.pow(s,f.re),0);if(s===0)switch((f.re%4+4)%4){case 0:return new u(Math.pow(c,f.re),0);case 1:return new u(0,Math.pow(c,f.re));case 2:return new u(-Math.pow(c,f.re),0);case 3:return new u(0,-Math.pow(c,f.re))}}if(s===0&&c===0&&f.re>0&&f.im>=0)return u.ZERO;var p=Math.atan2(c,s),m=o(s,c);return s=Math.exp(f.re*m-f.im*p),c=f.im*m+f.re*p,new u(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){var s=this.re,c=this.im,f=this.abs(),p,m;if(s>=0){if(c===0)return new u(Math.sqrt(s),0);p=.5*Math.sqrt(2*(f+s))}else p=Math.abs(c)/Math.sqrt(2*(f-s));return s<=0?m=.5*Math.sqrt(2*(f-s)):m=Math.abs(c)/Math.sqrt(2*(f+s)),new u(p,c<0?-m:m)},exp:function(){var s=Math.exp(this.re);return this.im,new u(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,c=this.im;return new u(Math.expm1(s)*Math.cos(c)+n(c),Math.exp(s)*Math.sin(c))},log:function(){var s=this.re,c=this.im;return c===0&&s>0,new u(o(s,c),Math.atan2(c,s))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,c=this.im;return new u(Math.sin(s)*e(c),Math.cos(s)*t(c))},cos:function(){var s=this.re,c=this.im;return new u(Math.cos(s)*e(c),-Math.sin(s)*t(c))},tan:function(){var s=2*this.re,c=2*this.im,f=Math.cos(s)+e(c);return new u(Math.sin(s)/f,t(c)/f)},cot:function(){var s=2*this.re,c=2*this.im,f=Math.cos(s)-e(c);return new u(-Math.sin(s)/f,t(c)/f)},sec:function(){var s=this.re,c=this.im,f=.5*e(2*c)+.5*Math.cos(2*s);return new u(Math.cos(s)*e(c)/f,Math.sin(s)*t(c)/f)},csc:function(){var s=this.re,c=this.im,f=.5*e(2*c)-.5*Math.cos(2*s);return new u(Math.sin(s)*e(c)/f,-Math.cos(s)*t(c)/f)},asin:function(){var s=this.re,c=this.im,f=new u(c*c-s*s+1,-2*s*c).sqrt(),p=new u(f.re-c,f.im+s).log();return new u(p.im,-p.re)},acos:function(){var s=this.re,c=this.im,f=new u(c*c-s*s+1,-2*s*c).sqrt(),p=new u(f.re-c,f.im+s).log();return new u(Math.PI/2-p.im,p.re)},atan:function(){var s=this.re,c=this.im;if(s===0){if(c===1)return new u(0,1/0);if(c===-1)return new u(0,-1/0)}var f=s*s+(1-c)*(1-c),p=new u((1-c*c-s*s)/f,-2*s/f).log();return new u(-.5*p.im,.5*p.re)},acot:function(){var s=this.re,c=this.im;if(c===0)return new u(Math.atan2(1,s),0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).atan():new u(s!==0?s/0:0,c!==0?-c/0:0).atan()},asec:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(0,1/0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).acos():new u(s!==0?s/0:0,c!==0?-c/0:0).acos()},acsc:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(Math.PI/2,1/0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).asin():new u(s!==0?s/0:0,c!==0?-c/0:0).asin()},sinh:function(){var s=this.re,c=this.im;return new u(t(s)*Math.cos(c),e(s)*Math.sin(c))},cosh:function(){var s=this.re,c=this.im;return new u(e(s)*Math.cos(c),t(s)*Math.sin(c))},tanh:function(){var s=2*this.re,c=2*this.im,f=e(s)+Math.cos(c);return new u(t(s)/f,Math.sin(c)/f)},coth:function(){var s=2*this.re,c=2*this.im,f=e(s)-Math.cos(c);return new u(t(s)/f,-Math.sin(c)/f)},csch:function(){var s=this.re,c=this.im,f=Math.cos(2*c)-e(2*s);return new u(-2*t(s)*Math.cos(c)/f,2*e(s)*Math.sin(c)/f)},sech:function(){var s=this.re,c=this.im,f=Math.cos(2*c)+e(2*s);return new u(2*e(s)*Math.cos(c)/f,-2*t(s)*Math.sin(c)/f)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var c=this.asin();return this.re=-this.im,this.im=s,s=c.re,c.re=-c.im,c.im=s,c},acosh:function(){var s=this.acos();if(s.im<=0){var c=s.re;s.re=-s.im,s.im=c}else{var c=s.im;s.im=-s.re,s.re=c}return s},atanh:function(){var s=this.re,c=this.im,f=s>1&&c===0,p=1-s,m=1+s,h=p*p+c*c,d=h!==0?new u((m*p-c*c)/h,(c*p+m*c)/h):new u(s!==-1?s/0:0,c!==0?c/0:0),g=d.re;return d.re=o(d.re,d.im)/2,d.im=Math.atan2(d.im,g)/2,f&&(d.im=-d.im),d},acoth:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(0,Math.PI/2);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).atanh():new u(s!==0?s/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var s=this.re,c=this.im;if(c===0)return new u(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).asinh():new u(s!==0?s/0:0,c!==0?-c/0:0).asinh()},asech:function(){var s=this.re,c=this.im;if(this.isZero())return u.INFINITY;var f=s*s+c*c;return f!==0?new u(s/f,-c/f).acosh():new u(s!==0?s/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var s=this.re,c=this.im,f=s*s+c*c;return new u(s/f,-c/f)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new u(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new u(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new u(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,c){var f=new u(s,c);return Math.abs(f.re-this.re)<=u.EPSILON&&Math.abs(f.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var s=this.re,c=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<u.EPSILON&&(s=0),Math.abs(c)<u.EPSILON&&(c=0),c===0?f+s:(s!==0?(f+=s,f+=" ",c<0?(c=-c,f+="-"):f+="+",f+=" "):c<0&&(c=-c,f+="-"),c!==1&&(f+=c),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return u}):typeof Oh=="object"?(Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,SC.exports=u):r.Complex=u})(Oh)});var TC=Lr((Rh,MC)=>{(function(r){"use strict";var e=2e3,t={s:1,n:0,d:1};function n(d,g){if(isNaN(d=parseInt(d,10)))throw m();return d*g}function i(d,g){if(g===0)throw p();var v=Object.create(f.prototype);v.s=d<0?-1:1,d=d<0?-d:d;var w=c(d,g);return v.n=d/w,v.d=g/w,v}function a(d){for(var g={},v=d,w=2,y=4;y<=v;){for(;v%w===0;)v/=w,g[w]=(g[w]||0)+1;y+=1+2*w++}return v!==d?v>1&&(g[v]=(g[v]||0)+1):g[d]=(g[d]||0)+1,g}var o=function(d,g){var v=0,w=1,y=1,x=0,_=0,b=0,D=1,C=1,A=0,E=1,F=1,I=1,O=1e7,k;if(d!=null)if(g!==void 0){if(v=d,w=g,y=v*w,v%1!==0||w%1!==0)throw h()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)v=d.n,w=d.d,"s"in d&&(v*=d.s);else if(0 in d)v=d[0],1 in d&&(w=d[1]);else throw m();y=v*w;break}case"number":{if(d<0&&(y=d,d=-d),d%1===0)v=d;else if(d>0){for(d>=1&&(C=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=C);E<=O&&I<=O;)if(k=(A+F)/(E+I),d===k){E+I<=O?(v=A+F,w=E+I):I>E?(v=F,w=I):(v=A,w=E);break}else d>k?(A+=F,E+=I):(F+=A,I+=E),E>O?(v=F,w=I):(v=A,w=E);v*=C}else(isNaN(d)||isNaN(g))&&(w=v=NaN);break}case"string":{if(E=d.match(/\d+|./g),E===null)throw m();if(E[A]==="-"?(y=-1,A++):E[A]==="+"&&A++,E.length===A+1?_=n(E[A++],y):E[A+1]==="."||E[A]==="."?(E[A]!=="."&&(x=n(E[A++],y)),A++,(A+1===E.length||E[A+1]==="("&&E[A+3]===")"||E[A+1]==="'"&&E[A+3]==="'")&&(_=n(E[A],y),D=Math.pow(10,E[A].length),A++),(E[A]==="("&&E[A+2]===")"||E[A]==="'"&&E[A+2]==="'")&&(b=n(E[A+1],y),C=Math.pow(10,E[A+1].length)-1,A+=3)):E[A+1]==="/"||E[A+1]===":"?(_=n(E[A],y),D=n(E[A+2],1),A+=3):E[A+3]==="/"&&E[A+1]===" "&&(x=n(E[A],y),_=n(E[A+2],y),D=n(E[A+4],1),A+=5),E.length<=A){w=D*C,y=v=b+w*x+C*_;break}}default:throw m()}if(w===0)throw p();t.s=y<0?-1:1,t.n=Math.abs(v),t.d=Math.abs(w)};function l(d,g,v){for(var w=1;g>0;d=d*d%v,g>>=1)g&1&&(w=w*d%v);return w}function u(d,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var v=10%g,w=1;v!==1;w++)if(v=v*10%g,w>e)return 0;return w}function s(d,g,v){for(var w=1,y=l(10,v,g),x=0;x<300;x++){if(w===y)return x;w=w*10%g,y=y*10%g}return 0}function c(d,g){if(!d)return g;if(!g)return d;for(;;){if(d%=g,!d)return g;if(g%=d,!g)return d}}function f(d,g){if(o(d,g),this instanceof f)d=c(t.d,t.n),this.s=t.s,this.n=t.n/d,this.d=t.d/d;else return i(t.s*t.n,t.d)}var p=function(){return new Error("Division by Zero")},m=function(){return new Error("Invalid argument")},h=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(d,g){return o(d,g),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(d,g){return o(d,g),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(d,g){return o(d,g),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(d,g){return o(d,g),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(d,g){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(d===void 0)return i(this.s*this.n%this.d,1);if(o(d,g),t.n===0&&this.d===0)throw p();return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(d,g){return o(d,g),i(c(t.n,this.n)*c(t.d,this.d),t.d*this.d)},lcm:function(d,g){return o(d,g),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,c(t.n,this.n)*c(t.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(d,g){if(o(d,g),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var v=a(this.n),w=a(this.d),y=1,x=1;for(var _ in v)if(_!=="1"){if(_==="0"){y=0;break}if(v[_]*=t.n,v[_]%t.d===0)v[_]/=t.d;else return null;y*=Math.pow(_,v[_])}for(var _ in w)if(_!=="1"){if(w[_]*=t.n,w[_]%t.d===0)w[_]/=t.d;else return null;x*=Math.pow(_,w[_])}return t.s<0?i(x,y):i(y,x)},equals:function(d,g){return o(d,g),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(d,g){o(d,g);var v=this.s*this.n*t.d-t.s*t.n*this.d;return(0<v)-(v<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var g=this.abs(),v=g.toContinued(),w=1;w<v.length;w++){for(var y=i(v[w-1],1),x=w-2;x>=0;x--)y=y.inverse().add(v[x]);if(Math.abs(y.sub(g).valueOf())<d)return y.mul(this.s)}return this},divisible:function(d,g){return o(d,g),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var g,v="",w=this.n,y=this.d;return this.s<0&&(v+="-"),y===1?v+=w:(d&&(g=Math.floor(w/y))>0&&(v+=g,v+=" ",w%=y),v+=w,v+="/",v+=y),v},toLatex:function(d){var g,v="",w=this.n,y=this.d;return this.s<0&&(v+="-"),y===1?v+=w:(d&&(g=Math.floor(w/y))>0&&(v+=g,w%=y),v+="\\frac{",v+=w,v+="}{",v+=y,v+="}"),v},toContinued:function(){var d,g=this.n,v=this.d,w=[];if(isNaN(g)||isNaN(v))return w;do w.push(Math.floor(g/v)),d=g%v,g=v,v=d;while(g!==1);return w},toString:function(d){var g=this.n,v=this.d;if(isNaN(g)||isNaN(v))return"NaN";d=d||15;var w=u(g,v),y=s(g,v,w),x=this.s<0?"-":"";if(x+=g/v|0,g%=v,g*=10,g&&(x+="."),w){for(var _=y;_--;)x+=g/v|0,g%=v,g*=10;x+="(";for(var _=w;_--;)x+=g/v|0,g%=v,g*=10;x+=")"}else for(var _=d;g&&_--;)x+=g/v|0,g%=v,g*=10;return x}},typeof Rh=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,MC.exports=f):r.Fraction=f})(Rh)});var GN=Lr((zxe,HN)=>{HN.exports=function r(e,t){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,l=/^0/,u=function(y){return r.insensitive&&(""+y).toLowerCase()||""+y},s=u(e).replace(i,"")||"",c=u(t).replace(i,"")||"",f=s.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(s.match(o),16)||f.length!==1&&s.match(a)&&Date.parse(s),h=parseInt(c.match(o),16)||m&&c.match(a)&&Date.parse(c)||null,d,g;if(h){if(m<h)return-1;if(m>h)return 1}for(var v=0,w=Math.max(f.length,p.length);v<w;v++){if(d=!(f[v]||"").match(l)&&parseFloat(f[v])||f[v]||0,g=!(p[v]||"").match(l)&&parseFloat(p[v])||p[v]||0,isNaN(d)!==isNaN(g))return isNaN(d)?1:-1;if(typeof d!=typeof g&&(d+="",g+=""),d<g)return-1;if(d>g)return 1}return 0}});var ZM=Lr((aDe,jM)=>{"use strict";var ix=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},SG={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},NG={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},MG=function(e,t){return ix({},e,t)};jM.exports=function(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.preserveFormatting,n=t===void 0?!1:t,i=e.escapeMapFn,a=i===void 0?MG:i,o=String(r),l="",u=a(ix({},SG),n?ix({},NG):{}),s=Object.keys(u),c=function(){var p=!1;s.forEach(function(m,h){p||o.length>=m.length&&o.slice(0,m.length)===m&&(l+=u[s[h]],o=o.slice(m.length,o.length),p=!0)}),p||(l+=o.slice(0,1),o=o.slice(1,o.length))};o;)c();return l}});var DO=Lr((AO,ab)=>{(function(r,e,t){function n(l){var u=this,s=o();u.next=function(){var c=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=c-(u.c=c|0)},u.c=1,u.s0=s(" "),u.s1=s(" "),u.s2=s(" "),u.s0-=s(l),u.s0<0&&(u.s0+=1),u.s1-=s(l),u.s1<0&&(u.s1+=1),u.s2-=s(l),u.s2<0&&(u.s2+=1),s=null}function i(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var s=new n(l),c=u&&u.state,f=s.next;return f.int32=function(){return s.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,c&&(typeof c=="object"&&i(c,s),f.state=function(){return i(s,{})}),f}function o(){var l=4022871197,u=function(s){s=String(s);for(var c=0;c<s.length;c++){l+=s.charCodeAt(c);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return u}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.alea=a})(AO,typeof ab=="object"&&ab,typeof define=="function"&&define)});var CO=Lr((EO,ob)=>{(function(r,e,t){function n(o){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var c=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^c^c>>>8},o===(o|0)?l.x=o:u+=o;for(var s=0;s<u.length+64;s++)l.x^=u.charCodeAt(s)|0,l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor128=a})(EO,typeof ob=="object"&&ob,typeof define=="function"&&define)});var NO=Lr((SO,sb)=>{(function(r,e,t){function n(o){var l=this,u="";l.next=function(){var c=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(c^c<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:u+=o;for(var s=0;s<u.length+64;s++)l.x^=u.charCodeAt(s)|0,s==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorwow=a})(SO,typeof sb=="object"&&sb,typeof define=="function"&&define)});var TO=Lr((MO,ub)=>{(function(r,e,t){function n(o){var l=this;l.next=function(){var s=l.x,c=l.i,f,p,m;return f=s[c],f^=f>>>7,p=f^f<<24,f=s[c+1&7],p^=f^f>>>10,f=s[c+3&7],p^=f^f>>>3,f=s[c+4&7],p^=f^f<<7,f=s[c+7&7],f=f^f<<13,p^=f^f<<9,s[c]=p,l.i=c+1&7,p};function u(s,c){var f,p,m=[];if(c===(c|0))p=m[0]=c;else for(c=""+c,f=0;f<c.length;++f)m[f&7]=m[f&7]<<15^c.charCodeAt(f)+m[f+1&7]<<13;for(;m.length<8;)m.push(0);for(f=0;f<8&&m[f]===0;++f);for(f==8?p=m[7]=-1:p=m[f],s.x=m,s.i=0,f=256;f>0;--f)s.next()}u(l,o)}function i(o,l){return l.x=o.x.slice(),l.i=o.i,l}function a(o,l){o==null&&(o=+new Date);var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=u.next,c.quick=c,s&&(s.x&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorshift7=a})(MO,typeof ub=="object"&&ub,typeof define=="function"&&define)});var IO=Lr((FO,lb)=>{(function(r,e,t){function n(o){var l=this;l.next=function(){var s=l.w,c=l.X,f=l.i,p,m;return l.w=s=s+1640531527|0,m=c[f+34&127],p=c[f=f+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,m=c[f]=m^p,l.i=f,m+(s^s>>>16)|0};function u(s,c){var f,p,m,h,d,g=[],v=128;for(c===(c|0)?(p=c,c=null):(c=c+"\0",p=0,v=Math.max(v,c.length)),m=0,h=-32;h<v;++h)c&&(p^=c.charCodeAt((h+32)%c.length)),h===0&&(d=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,h>=0&&(d=d+1640531527|0,f=g[h&127]^=p+d,m=f==0?m+1:0);for(m>=128&&(g[(c&&c.length||0)&127]=-1),m=127,h=4*128;h>0;--h)p=g[m+34&127],f=g[m=m+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,g[m]=p^f;s.w=d,s.X=g,s.i=m}u(l,o)}function i(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function a(o,l){o==null&&(o=+new Date);var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=u.next,c.quick=c,s&&(s.X&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor4096=a})(FO,typeof lb=="object"&&lb,typeof define=="function"&&define)});var OO=Lr((BO,cb)=>{(function(r,e,t){function n(o){var l=this,u="";l.next=function(){var c=l.b,f=l.c,p=l.d,m=l.a;return c=c<<25^c>>>7^f,f=f-p|0,p=p<<24^p>>>8^m,m=m-c|0,l.b=c=c<<20^c>>>12^f,l.c=f=f-p|0,l.d=p<<16^f>>>16^m,l.a=m-c|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):u+=o;for(var s=0;s<u.length+20;s++)l.b^=u.charCodeAt(s)|0,l.next()}function i(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.tychei=a})(BO,typeof cb=="object"&&cb,typeof define=="function"&&define)});var RO=Lr((PO,Rp)=>{(function(r,e,t){var n=256,i=6,a=52,o="random",l=t.pow(n,i),u=t.pow(2,a),s=u*2,c=n-1,f;function p(y,x,_){var b=[];x=x==!0?{entropy:!0}:x||{};var D=g(d(x.entropy?[y,w(e)]:y==null?v():y,3),b),C=new m(b),A=function(){for(var E=C.g(i),F=l,I=0;E<u;)E=(E+I)*n,F*=n,I=C.g(1);for(;E>=s;)E/=2,F/=2,I>>>=1;return(E+I)/F};return A.int32=function(){return C.g(4)|0},A.quick=function(){return C.g(4)/4294967296},A.double=A,g(w(C.S),e),(x.pass||_||function(E,F,I,O){return O&&(O.S&&h(O,C),E.state=function(){return h(C,{})}),I?(t[o]=E,F):E})(A,D,"global"in x?x.global:this==t,x.state)}function m(y){var x,_=y.length,b=this,D=0,C=b.i=b.j=0,A=b.S=[];for(_||(y=[_++]);D<n;)A[D]=D++;for(D=0;D<n;D++)A[D]=A[C=c&C+y[D%_]+(x=A[D])],A[C]=x;(b.g=function(E){for(var F,I=0,O=b.i,k=b.j,R=b.S;E--;)F=R[O=c&O+1],I=I*n+R[c&(R[O]=R[k=c&k+F])+(R[k]=F)];return b.i=O,b.j=k,I})(n)}function h(y,x){return x.i=y.i,x.j=y.j,x.S=y.S.slice(),x}function d(y,x){var _=[],b=typeof y,D;if(x&&b=="object")for(D in y)try{_.push(d(y[D],x-1))}catch(C){}return _.length?_:b=="string"?y:y+"\0"}function g(y,x){for(var _=y+"",b,D=0;D<_.length;)x[c&D]=c&(b^=x[c&D]*19)+_.charCodeAt(D++);return w(x)}function v(){try{var y;return f&&(y=f.randomBytes)?y=y(n):(y=new Uint8Array(n),(r.crypto||r.msCrypto).getRandomValues(y)),w(y)}catch(b){var x=r.navigator,_=x&&x.plugins;return[+new Date,r,_,r.screen,w(e)]}}function w(y){return String.fromCharCode.apply(0,y)}if(g(t.random(),e),typeof Rp=="object"&&Rp.exports){Rp.exports=p;try{f=require("crypto")}catch(y){}}else typeof define=="function"&&define.amd?define(function(){return p}):t["seed"+o]=p})(typeof self!="undefined"?self:PO,[],Math)});var LO=Lr((ARe,kO)=>{var WW=DO(),jW=CO(),ZW=NO(),JW=TO(),YW=IO(),XW=OO(),jo=RO();jo.alea=WW;jo.xor128=jW;jo.xorwow=ZW;jo.xorshift7=JW;jo.xor4096=YW;jo.tychei=XW;kO.exports=jo});var jJ={};O5(jJ,{MetaBindBuild:()=>pd,default:()=>qm});module.exports=P5(jJ);var zm=require("obsidian");var rn=require("obsidian");var R_=["January","February","March","April","May","June","July","August","September","October","November","December"],po=[{index:0,name:"Sunday",shortName:"Su"},{index:1,name:"Monday",shortName:"Mo"},{index:2,name:"Tuesday",shortName:"Tu"},{index:3,name:"Wednesday",shortName:"We"},{index:4,name:"Thursday",shortName:"Th"},{index:5,name:"Friday",shortName:"Fr"},{index:6,name:"Saturday",shortName:"Sa"}],Ai={devMode:!1,ignoreCodeBlockRestrictions:!1,preferredDateFormat:"YYYY-MM-DD",useUsDateInputOrder:!1,firstWeekday:po[1],syncInterval:200,minSyncInterval:50,maxSyncInterval:1e3,enableJs:!1,viewFieldDisplayNullAsEmpty:!1,enableSyntaxHighlighting:!0,inputFieldTemplates:[],excludedFolders:["templates"],inputTemplates:void 0};var SA=require("obsidian");function Se(){}function R5(r,e){for(let t in e)r[t]=e[t];return r}function $m(r){return r()}function Wl(){return Object.create(null)}function at(r){r.forEach($m)}function jl(r){return typeof r=="function"}function Ue(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}var Gl;function rs(r,e){return r===e?!0:(Gl||(Gl=document.createElement("a")),Gl.href=e,r===Gl.href)}function k_(r){return Object.keys(r).length===0}function Qi(r,e,t,n){if(r){let i=L_(r,e,t,n);return r[0](i)}}function L_(r,e,t,n){return r[1]&&n?R5(t.ctx.slice(),r[1](n(e))):t.ctx}function Ki(r,e,t,n){if(r[2]&&n){let i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],o=Math.max(e.dirty.length,i.length);for(let l=0;l<o;l+=1)a[l]=e.dirty[l]|i[l];return a}return e.dirty|i}return e.dirty}function ea(r,e,t,n,i,a){if(i){let o=L_(e,t,n,a);r.p(o,i)}}function ta(r){if(r.ctx.length>32){let e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}var vu=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var Zl=class r{constructor(e){jr(this,"_listeners","WeakMap"in vu?new WeakMap:void 0);jr(this,"_observer");jr(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(t=>{var n;for(let i of t)r.entries.set(i.target,i),(n=this._listeners.get(i.target))==null||n(i)})}};Zl.entries="WeakMap"in vu?new WeakMap:void 0;var V_=!1;function U_(){V_=!0}function q_(){V_=!1}function z(r,e){r.appendChild(e)}function Zr(r,e,t){let n=z_(r);if(!n.getElementById(e)){let i=j("style");i.id=e,i.textContent=t,V5(n,i)}}function z_(r){if(!r)return document;let e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function V5(r,e){return z(r.head||r,e),e.sheet}function Y(r,e,t){r.insertBefore(e,t||null)}function J(r){r.parentNode&&r.parentNode.removeChild(r)}function Ct(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function j(r){return document.createElement(r)}function Gn(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Re(r){return document.createTextNode(r)}function fe(){return Re(" ")}function or(){return Re("")}function be(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function L(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function ai(r){return r===""?null:+r}function $_(r){return Array.from(r.childNodes)}function rt(r,e){e=""+e,r.data!==e&&(r.data=e)}function Xe(r,e){r.value=e==null?"":e}function ns(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function Sr(r,e,t){for(let n=0;n<r.options.length;n+=1){let i=r.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function Wn(r){let e=r.querySelector(":checked");return e&&e.__value}function _t(r,e,t){r.classList.toggle(e,!!t)}function Jl(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}function H_(r){let e={};return r.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var Ma;function ra(r){Ma=r}function Yl(){if(!Ma)throw new Error("Function called outside component initialization");return Ma}function tn(r){Yl().$$.on_mount.push(r)}function mo(r){Yl().$$.on_destroy.push(r)}function yu(){let r=Yl();return(e,t,{cancelable:n=!1}={})=>{let i=r.$$.callbacks[e];if(i){let a=Jl(e,t,{cancelable:n});return i.slice().forEach(o=>{o.call(r,a)}),!a.defaultPrevented}return!0}}function G_(r,e){let t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}var ho=[];var Ir=[],as=[],Gm=[],G5=Promise.resolve(),Wm=!1;function W_(){Wm||(Wm=!0,G5.then(Xl))}function Jr(r){as.push(r)}function go(r){Gm.push(r)}var Hm=new Set,is=0;function Xl(){if(is!==0)return;let r=Ma;do{try{for(;is<ho.length;){let e=ho[is];is++,ra(e),W5(e.$$)}}catch(e){throw ho.length=0,is=0,e}for(ra(null),ho.length=0,is=0;Ir.length;)Ir.pop()();for(let e=0;e<as.length;e+=1){let t=as[e];Hm.has(t)||(Hm.add(t),t())}as.length=0}while(ho.length);for(;Gm.length;)Gm.pop()();Wm=!1,Hm.clear(),ra(r)}function W5(r){if(r.fragment!==null){r.update(),at(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Jr)}}function j_(r){let e=[],t=[];as.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),as=e}var Ql=new Set,vo;function gt(){vo={r:0,c:[],p:vo}}function vt(){vo.r||at(vo.c),vo=vo.p}function te(r,e){r&&r.i&&(Ql.delete(r),r.i(e))}function ae(r,e,t,n){if(r&&r.o){if(Ql.has(r))return;Ql.add(r),vo.c.push(()=>{Ql.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function We(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function Z_(r,e){r.d(1),e.delete(r.key)}function Kl(r,e){ae(r,1,1,()=>{e.delete(r.key)})}function os(r,e,t,n,i,a,o,l,u,s,c,f){let p=r.length,m=a.length,h=p,d={};for(;h--;)d[r[h].key]=h;let g=[],v=new Map,w=new Map,y=[];for(h=m;h--;){let D=f(i,a,h),C=t(D),A=o.get(C);A?n&&y.push(()=>A.p(D,e)):(A=s(C,D),A.c()),v.set(C,g[h]=A),C in d&&w.set(C,Math.abs(h-d[C]))}let x=new Set,_=new Set;function b(D){te(D,1),D.m(l,c),o.set(D.key,D),c=D.first,m--}for(;p&&m;){let D=g[m-1],C=r[p-1],A=D.key,E=C.key;D===C?(c=D.first,p--,m--):v.has(E)?!o.has(A)||x.has(A)?b(D):_.has(E)?p--:w.get(A)>w.get(E)?(_.add(A),b(D)):(x.add(E),p--):(u(C,o),p--)}for(;p--;){let D=r[p];v.has(D.key)||u(D,o)}for(;m;)b(g[m-1]);return at(y),g}var j5=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Z5=new Set([...j5]);function yo(r,e,t){let n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function Fe(r){r&&r.c()}function Me(r,e,t){let{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),Jr(()=>{let a=r.$$.on_mount.map($m).filter(jl);r.$$.on_destroy?r.$$.on_destroy.push(...a):at(a),r.$$.on_mount=[]}),i.forEach(Jr)}function Te(r,e){let t=r.$$;t.fragment!==null&&(j_(t.after_update),at(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Y5(r,e){r.$$.dirty[0]===-1&&(ho.push(r),W_(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function qe(r,e,t,n,i,a,o=null,l=[-1]){let u=Ma;ra(r);let s=r.$$={fragment:null,ctx:[],props:a,update:Se,not_equal:i,bound:Wl(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Wl(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};o&&o(s.root);let c=!1;if(s.ctx=t?t(r,e.props||{},(f,p,...m)=>{let h=m.length?m[0]:p;return s.ctx&&i(s.ctx[f],s.ctx[f]=h)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](h),c&&Y5(r,f)),p}):[],s.update(),c=!0,at(s.before_update),s.fragment=n?n(s.ctx):!1,e.target){if(e.hydrate){U_();let f=$_(e.target);s.fragment&&s.fragment.l(f),f.forEach(J)}else s.fragment&&s.fragment.c();e.intro&&te(r.$$.fragment),Me(r,e.target,e.anchor),q_(),Xl()}ra(u)}var X5;typeof HTMLElement=="function"&&(X5=class extends HTMLElement{constructor(e,t,n){super();jr(this,"$$ctor");jr(this,"$$s");jr(this,"$$c");jr(this,"$$cn",!1);jr(this,"$$d",{});jr(this,"$$r",!1);jr(this,"$$p_d",{});jr(this,"$$l",{});jr(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let i=this.$$c.$on(e,t);this.$$l_u.set(t,i)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){let i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let o;return{c:function(){o=j("slot"),a!=="default"&&L(o,"name",a)},m:function(s,c){Y(s,o,c)},d:function(s){s&&J(o)}}}};if(await Promise.resolve(),!this.$$cn)return;let t={},n=H_(this);for(let a of this.$$s)a in n&&(t[a]=[e(a)]);for(let a of this.attributes){let o=this.$$g_p(a.name);o in this.$$d||(this.$$d[o]=jm(o,a.value,this.$$p_d,"toProp"))}for(let a in this.$$p_d)!(a in this.$$d)&&this[a]!==void 0&&(this.$$d[a]=this[a],delete this[a]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let o=jm(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let o of this.$$l[a]){let l=this.$$c.$on(a,o);this.$$l_u.set(o,l)}this.$$l={}}}attributeChangedCallback(e,t,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=jm(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function jm(r,e,t,n){var a;let i=(a=t[r])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!t[r])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var Ve=class{constructor(){jr(this,"$$");jr(this,"$$set")}$destroy(){Te(this,1),this.$destroy=Se}$on(e,t){if(!jl(t))return Se;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!k_(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var J_="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(J_);var Vr=class extends Error{constructor(e){super(""),this.errorLevel=e.errorLevel,this.effect=e.effect,this.cause=e.cause,this.tip=e.tip,this.docs=e.docs,this.context=e.context,this.positionContext=e.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},fn=class extends Vr{getErrorType(){return"MB_INTERNAL"}},na=class extends Vr{getErrorType(){return"MB_PARSING"}},xu=class extends Vr{getErrorType(){return"MB_VALIDATION"}},xo=class extends Vr{getErrorType(){return"MB_BIND_TARGET"}};var sr=class extends Vr{getErrorType(){return"MB_ARGUMENT"}},bo=class extends Vr{getErrorType(){return"MB_JS"}},ia=class extends Vr{getErrorType(){return"MB_EXPRESSION"}};var bu=class extends Vr{getErrorType(){return"MB_EXAMPLE"}},ss=class extends Vr{getErrorType(){return"MB_EMBED"}},ec=class extends Vr{getErrorType(){return"MB_BUTTON"}};function Y_(r,e,t){let n=r.slice();return n[1]=e[t],n}function Q5(r){let e,t,n,i=r[0].stack+"",a;return{c(){e=j("div"),t=j("pre"),n=j("code"),a=Re(i),L(n,"class","language-none mb-none"),L(t,"class","mb-pre"),L(e,"class","mb-card")},m(o,l){Y(o,e,l),z(e,t),z(t,n),z(n,a)},p(o,l){l&1&&i!==(i=o[0].stack+"")&&rt(a,i)},d(o){o&&J(e)}}}function K5(r){let e,t,n,i=r[0].errorLevel+"",a,o,l=r[0].getErrorType()+"",u,s,c,f,p=r[0].effect+"",m,h,d,g,v,w,y,x,_,b=r[0].cause+"",D,C,A,E,F,I,O=r[0].effect+"",k,R,T,N,V=r[0].positionContext&&X_(r),B=r[0].tip&&Q_(r),X=r[0].docs&&K_(r),ee=r[0].context&&tA(r);return{c(){e=j("div"),t=j("h6"),n=j("span"),a=Re(i),o=Re(`
				[`),u=Re(l),s=Re("]"),f=Re(`
			- `),m=Re(p),h=fe(),V&&V.c(),d=fe(),g=j("table"),v=j("tbody"),w=j("tr"),y=j("td"),y.textContent="Cause",x=fe(),_=j("td"),D=Re(b),C=fe(),A=j("tr"),E=j("td"),E.textContent="Effect",F=fe(),I=j("td"),k=Re(O),R=fe(),B&&B.c(),T=fe(),X&&X.c(),N=fe(),ee&&ee.c(),L(n,"class",c=r[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text"),L(e,"class","mb-card mb-card-full-width markdown-rendered")},m(W,P){Y(W,e,P),z(e,t),z(t,n),z(n,a),z(n,o),z(n,u),z(n,s),z(t,f),z(t,m),z(e,h),V&&V.m(e,null),z(e,d),z(e,g),z(g,v),z(v,w),z(w,y),z(w,x),z(w,_),z(_,D),z(v,C),z(v,A),z(A,E),z(A,F),z(A,I),z(I,k),z(v,R),B&&B.m(v,null),z(v,T),X&&X.m(v,null),z(v,N),ee&&ee.m(v,null)},p(W,P){P&1&&i!==(i=W[0].errorLevel+"")&&rt(a,i),P&1&&l!==(l=W[0].getErrorType()+"")&&rt(u,l),P&1&&c!==(c=W[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text")&&L(n,"class",c),P&1&&p!==(p=W[0].effect+"")&&rt(m,p),W[0].positionContext?V?V.p(W,P):(V=X_(W),V.c(),V.m(e,d)):V&&(V.d(1),V=null),P&1&&b!==(b=W[0].cause+"")&&rt(D,b),P&1&&O!==(O=W[0].effect+"")&&rt(k,O),W[0].tip?B?B.p(W,P):(B=Q_(W),B.c(),B.m(v,T)):B&&(B.d(1),B=null),W[0].docs?X?X.p(W,P):(X=K_(W),X.c(),X.m(v,N)):X&&(X.d(1),X=null),W[0].context?ee?ee.p(W,P):(ee=tA(W),ee.c(),ee.m(v,null)):ee&&(ee.d(1),ee=null)},d(W){W&&J(e),V&&V.d(),B&&B.d(),X&&X.d(),ee&&ee.d()}}}function X_(r){let e,t,n=r[0].positionContext+"",i;return{c(){e=j("pre"),t=j("code"),i=Re(n),L(t,"class","language-none mb-none"),L(e,"class","mb-pre")},m(a,o){Y(a,e,o),z(e,t),z(t,i)},p(a,o){o&1&&n!==(n=a[0].positionContext+"")&&rt(i,n)},d(a){a&&J(e)}}}function Q_(r){let e,t,n,i,a=r[0].tip+"",o;return{c(){e=j("tr"),t=j("td"),t.textContent="Tip",n=fe(),i=j("td"),o=Re(a)},m(l,u){Y(l,e,u),z(e,t),z(e,n),z(e,i),z(i,o)},p(l,u){u&1&&a!==(a=l[0].tip+"")&&rt(o,a)},d(l){l&&J(e)}}}function K_(r){let e,t,n,i,a=We(r[0].docs),o=[];for(let l=0;l<a.length;l+=1)o[l]=eA(Y_(r,a,l));return{c(){e=j("tr"),t=j("td"),t.textContent="Docs",n=fe(),i=j("td");for(let l=0;l<o.length;l+=1)o[l].c()},m(l,u){Y(l,e,u),z(e,t),z(e,n),z(e,i);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(i,null)},p(l,u){if(u&1){a=We(l[0].docs);let s;for(s=0;s<a.length;s+=1){let c=Y_(l,a,s);o[s]?o[s].p(c,u):(o[s]=eA(c),o[s].c(),o[s].m(i,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d(l){l&&J(e),Ct(o,l)}}}function eA(r){let e,t=r[1]+"",n,i,a;return{c(){e=j("a"),n=Re(t),a=j("br"),L(e,"href",i=r[1])},m(o,l){Y(o,e,l),z(e,n),Y(o,a,l)},p(o,l){l&1&&t!==(t=o[1]+"")&&rt(n,t),l&1&&i!==(i=o[1])&&L(e,"href",i)},d(o){o&&(J(e),J(a))}}}function tA(r){let e,t,n,i,a,o,l=JSON.stringify(r[0].context,null,4)+"",u;return{c(){e=j("tr"),t=j("td"),t.textContent="Context",n=fe(),i=j("td"),a=j("pre"),o=j("code"),u=Re(l),L(o,"class","language-none mb-none"),L(a,"class","mb-pre")},m(s,c){Y(s,e,c),z(e,t),z(e,n),z(e,i),z(i,a),z(a,o),z(o,u)},p(s,c){c&1&&l!==(l=JSON.stringify(s[0].context,null,4)+"")&&rt(u,l)},d(s){s&&J(e)}}}function e8(r){let e;function t(a,o){return a[0]instanceof Vr?K5:Q5}let n=t(r,-1),i=n(r);return{c(){i.c(),e=or()},m(a,o){i.m(a,o),Y(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Se,o:Se,d(a){a&&J(e),i.d(a)}}}function t8(r,e,t){let{error:n}=e;return r.$$set=i=>{"error"in i&&t(0,n=i.error)},[n]}var Zm=class extends Ve{constructor(e){super(),qe(this,e,t8,e8,Ue,{error:0})}},Jm=Zm;function rA(r,e,t){let n=r.slice();return n[2]=e[t],n}function nA(r,e,t){let n=r.slice();return n[5]=e[t],n}function iA(r){let e,t,n;return{c(){e=j("p"),t=j("code"),n=Re(r[1]),L(t,"class","language-none meta-bind-none")},m(i,a){Y(i,e,a),z(e,t),z(t,n)},p(i,a){a&2&&rt(n,i[1])},d(i){i&&J(e)}}}function aA(r){let e,t,n,i,a,o,l=We(r[0].getErrors()),u=[];for(let c=0;c<l.length;c+=1)u[c]=oA(nA(r,l,c));let s=c=>ae(u[c],1,1,()=>{u[c]=null});return{c(){e=j("h6"),e.textContent="Errors",t=fe(),n=j("p"),n.textContent="Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",i=fe();for(let c=0;c<u.length;c+=1)u[c].c();a=or()},m(c,f){Y(c,e,f),Y(c,t,f),Y(c,n,f),Y(c,i,f);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(c,f);Y(c,a,f),o=!0},p(c,f){if(f&1){l=We(c[0].getErrors());let p;for(p=0;p<l.length;p+=1){let m=nA(c,l,p);u[p]?(u[p].p(m,f),te(u[p],1)):(u[p]=oA(m),u[p].c(),te(u[p],1),u[p].m(a.parentNode,a))}for(gt(),p=l.length;p<u.length;p+=1)s(p);vt()}},i(c){if(!o){for(let f=0;f<l.length;f+=1)te(u[f]);o=!0}},o(c){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)ae(u[f]);o=!1},d(c){c&&(J(e),J(t),J(n),J(i),J(a)),Ct(u,c)}}}function oA(r){let e,t;return e=new Jm({props:{error:r[5]}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.error=n[5]),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function sA(r){let e,t,n,i,a,o,l=We(r[0].getWarnings()),u=[];for(let c=0;c<l.length;c+=1)u[c]=uA(rA(r,l,c));let s=c=>ae(u[c],1,1,()=>{u[c]=null});return{c(){e=j("h6"),e.textContent="Warnings",t=fe(),n=j("p"),n.textContent=`Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was
		invalid or uses deprecated functionality.`,i=fe();for(let c=0;c<u.length;c+=1)u[c].c();a=or()},m(c,f){Y(c,e,f),Y(c,t,f),Y(c,n,f),Y(c,i,f);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(c,f);Y(c,a,f),o=!0},p(c,f){if(f&1){l=We(c[0].getWarnings());let p;for(p=0;p<l.length;p+=1){let m=rA(c,l,p);u[p]?(u[p].p(m,f),te(u[p],1)):(u[p]=uA(m),u[p].c(),te(u[p],1),u[p].m(a.parentNode,a))}for(gt(),p=l.length;p<u.length;p+=1)s(p);vt()}},i(c){if(!o){for(let f=0;f<l.length;f+=1)te(u[f]);o=!0}},o(c){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)ae(u[f]);o=!1},d(c){c&&(J(e),J(t),J(n),J(i),J(a)),Ct(u,c)}}}function uA(r){let e,t;return e=new Jm({props:{error:r[2]}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.error=n[2]),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function r8(r){let e,t=r[0].hasErrors(),n,i=r[0].hasWarnings(),a,o,l=r[1]&&iA(r),u=t&&aA(r),s=i&&sA(r);return{c(){l&&l.c(),e=fe(),u&&u.c(),n=fe(),s&&s.c(),a=or()},m(c,f){l&&l.m(c,f),Y(c,e,f),u&&u.m(c,f),Y(c,n,f),s&&s.m(c,f),Y(c,a,f),o=!0},p(c,[f]){c[1]?l?l.p(c,f):(l=iA(c),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&1&&(t=c[0].hasErrors()),t?u?(u.p(c,f),f&1&&te(u,1)):(u=aA(c),u.c(),te(u,1),u.m(n.parentNode,n)):u&&(gt(),ae(u,1,1,()=>{u=null}),vt()),f&1&&(i=c[0].hasWarnings()),i?s?(s.p(c,f),f&1&&te(s,1)):(s=sA(c),s.c(),te(s,1),s.m(a.parentNode,a)):s&&(gt(),ae(s,1,1,()=>{s=null}),vt())},i(c){o||(te(u),te(s),o=!0)},o(c){ae(u),ae(s),o=!1},d(c){c&&(J(e),J(n),J(a)),l&&l.d(c),u&&u.d(c),s&&s.d(c)}}}function n8(r,e,t){let{errorCollection:n}=e,{declaration:i}=e;return r.$$set=a=>{"errorCollection"in a&&t(0,n=a.errorCollection),"declaration"in a&&t(1,i=a.declaration)},[n,i]}var Ym=class extends Ve{constructor(e){super(),qe(this,e,n8,r8,Ue,{errorCollection:0,declaration:1})}},us=Ym;function i8(r){let e,t,n=r[1].default,i=Qi(n,r,r[0],null);return{c(){e=j("div"),i&&i.c(),L(e,"class","modal-button-container")},m(a,o){Y(a,e,o),i&&i.m(e,null),t=!0},p(a,[o]){i&&i.p&&(!t||o&1)&&ea(i,n,a,a[0],t?Ki(n,a[0],o,null):ta(a[0]),null)},i(a){t||(te(i,a),t=!0)},o(a){ae(i,a),t=!1},d(a){a&&J(e),i&&i.d(a)}}}function a8(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=a=>{"$$scope"in a&&t(0,i=a.$$scope)},[i,n]}var Xm=class extends Ve{constructor(e){super(),qe(this,e,a8,i8,Ue,{})}},ls=Xm;var Wt;(function(r){r.assertEqual=i=>i;function e(i){}r.assertIs=e;function t(i){throw new Error}r.assertNever=t,r.arrayToEnum=i=>{let a={};for(let o of i)a[o]=o;return a},r.getValidEnumValues=i=>{let a=r.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(let l of a)o[l]=i[l];return r.objectValues(o)},r.objectValues=i=>r.objectKeys(i).map(function(a){return i[a]}),r.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},r.find=(i,a)=>{for(let o of i)if(a(o))return o},r.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}r.joinValues=n,r.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Wt||(Wt={}));var Km;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(Km||(Km={}));var Je=Wt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ta=r=>{switch(typeof r){case"undefined":return Je.undefined;case"string":return Je.string;case"number":return isNaN(r)?Je.nan:Je.number;case"boolean":return Je.boolean;case"function":return Je.function;case"bigint":return Je.bigint;case"symbol":return Je.symbol;case"object":return Array.isArray(r)?Je.array:r===null?Je.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?Je.promise:typeof Map!="undefined"&&r instanceof Map?Je.map:typeof Set!="undefined"&&r instanceof Set?Je.set:typeof Date!="undefined"&&r instanceof Date?Je.date:Je.object;default:return Je.unknown}},$e=Wt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),o8=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),jn=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(a){return a.message},n={_errors:[]},i=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let l=n,u=0;for(;u<o.path.length;){let s=o.path[u];u===o.path.length-1?(l[s]=l[s]||{_errors:[]},l[s]._errors.push(t(o))):l[s]=l[s]||{_errors:[]},l=l[s],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Wt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};jn.create=r=>new jn(r);var wu=(r,e)=>{let t;switch(r.code){case $e.invalid_type:r.received===Je.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case $e.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Wt.jsonStringifyReplacer)}`;break;case $e.unrecognized_keys:t=`Unrecognized key(s) in object: ${Wt.joinValues(r.keys,", ")}`;break;case $e.invalid_union:t="Invalid input";break;case $e.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Wt.joinValues(r.options)}`;break;case $e.invalid_enum_value:t=`Invalid enum value. Expected ${Wt.joinValues(r.options)}, received '${r.received}'`;break;case $e.invalid_arguments:t="Invalid function arguments";break;case $e.invalid_return_type:t="Invalid function return type";break;case $e.invalid_date:t="Invalid date";break;case $e.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Wt.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case $e.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case $e.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case $e.custom:t="Invalid input";break;case $e.invalid_intersection_types:t="Intersection results could not be merged";break;case $e.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case $e.not_finite:t="Number must be finite";break;default:t=e.defaultError,Wt.assertNever(r)}return{message:t}},fA=wu;function s8(r){fA=r}function rc(){return fA}var nc=r=>{let{data:e,path:t,errorMaps:n,issueData:i}=r,a=[...t,...i.path||[]],o={...i,path:a},l="",u=n.filter(s=>!!s).slice().reverse();for(let s of u)l=s(o,{data:e,defaultError:l}).message;return{...i,path:a,message:i.message||l}},u8=[];function Qe(r,e){let t=nc({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,rc(),wu].filter(n=>!!n)});r.common.issues.push(t)}var pn=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let i of t){if(i.status==="aborted")return Mt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let i of t)n.push({key:await i.key,value:await i.value});return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let i of t){let{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Mt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value!="undefined"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}},Mt=Object.freeze({status:"aborted"}),pA=r=>({status:"dirty",value:r}),Dn=r=>({status:"valid",value:r}),ed=r=>r.status==="aborted",td=r=>r.status==="dirty",_u=r=>r.status==="valid",ic=r=>typeof Promise!="undefined"&&r instanceof Promise,ft;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ft||(ft={}));var oi=class{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},lA=(r,e)=>{if(_u(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new jn(r.common.issues);return this._error=t,this._error}}};function Ft(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:i}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>o.code!=="invalid_type"?{message:l.defaultError}:typeof l.data=="undefined"?{message:n!=null?n:l.defaultError}:{message:t!=null?t:l.defaultError},description:i}}var It=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ta(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ta(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new pn,ctx:{common:e.parent.common,data:e.data,parsedType:Ta(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(ic(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let i={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ta(e)},a=this._parseSync({data:e,path:i.path,parent:i});return lA(i,a)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ta(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(ic(i)?i:Promise.resolve(i));return lA(n,a)}refine(e,t){let n=i=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,a)=>{let o=e(i),l=()=>a.addIssue({code:$e.custom,...n(i)});return typeof Promise!="undefined"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new Zn({schema:this,typeName:yt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Di.create(this,this._def)}nullable(){return sa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oa.create(this,this._def)}promise(){return Ba.create(this,this._def)}or(e){return So.create([this,e],this._def)}and(e){return No.create(this,e,this._def)}transform(e){return new Zn({...Ft(this._def),schema:this,typeName:yt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new Bo({...Ft(this._def),innerType:this,defaultValue:t,typeName:yt.ZodDefault})}brand(){return new uc({typeName:yt.ZodBranded,type:this,...Ft(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new hs({...Ft(this._def),innerType:this,catchValue:t,typeName:yt.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Au.create(this,e)}readonly(){return vs.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},l8=/^c[^\s-]{8,}$/i,c8=/^[a-z][a-z0-9]*$/,f8=/^[0-9A-HJKMNP-TV-Z]{26}$/,p8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,m8=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,d8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Qm,h8=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,g8=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,v8=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function y8(r,e){return!!((e==="v4"||!e)&&h8.test(r)||(e==="v6"||!e)&&g8.test(r))}var Fa=class r extends It{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Je.string){let a=this._getOrReturnCtx(e);return Qe(a,{code:$e.invalid_type,expected:Je.string,received:a.parsedType}),Mt}let n=new pn,i;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),Qe(i,{code:$e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),Qe(i,{code:$e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?Qe(i,{code:$e.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Qe(i,{code:$e.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")m8.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"email",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Qm||(Qm=new RegExp(d8,"u")),Qm.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"emoji",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")p8.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"uuid",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")l8.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"cuid",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")c8.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"cuid2",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")f8.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"ulid",code:$e.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch(o){i=this._getOrReturnCtx(e,i),Qe(i,{validation:"url",code:$e.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"regex",code:$e.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),Qe(i,{code:$e.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),Qe(i,{code:$e.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),Qe(i,{code:$e.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?v8(a).test(e.data)||(i=this._getOrReturnCtx(e,i),Qe(i,{code:$e.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?y8(e.data,a.version)||(i=this._getOrReturnCtx(e,i),Qe(i,{validation:"ip",code:$e.invalid_string,message:a.message}),n.dirty()):Wt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),{validation:t,code:$e.invalid_string,...ft.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ft.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ft.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ft.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ft.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ft.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ft.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ft.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ft.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...ft.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ft.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ft.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ft.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ft.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ft.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ft.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ft.errToObj(t)})}nonempty(e){return this.min(1,ft.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Fa.create=r=>{var e;return new Fa({checks:[],typeName:yt.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Ft(r)})};function x8(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,a=parseInt(r.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}var wo=class r extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Je.number){let a=this._getOrReturnCtx(e);return Qe(a,{code:$e.invalid_type,expected:Je.number,received:a.parsedType}),Mt}let n,i=new pn;for(let a of this._def.checks)a.kind==="int"?Wt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),Qe(n,{code:$e.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:$e.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:$e.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?x8(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:$e.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),Qe(n,{code:$e.not_finite,message:a.message}),i.dirty()):Wt.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ft.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ft.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ft.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ft.toString(t))}setLimit(e,t,n,i){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ft.toString(i)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ft.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ft.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ft.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ft.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ft.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ft.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ft.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ft.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ft.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Wt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};wo.create=r=>new wo({checks:[],typeName:yt.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Ft(r)});var _o=class r extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Je.bigint){let a=this._getOrReturnCtx(e);return Qe(a,{code:$e.invalid_type,expected:Je.bigint,received:a.parsedType}),Mt}let n,i=new pn;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:$e.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:$e.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),Qe(n,{code:$e.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Wt.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ft.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ft.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ft.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ft.toString(t))}setLimit(e,t,n,i){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ft.toString(i)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ft.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ft.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ft.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ft.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ft.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};_o.create=r=>{var e;return new _o({checks:[],typeName:yt.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Ft(r)})};var Ao=class extends It{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Je.boolean){let n=this._getOrReturnCtx(e);return Qe(n,{code:$e.invalid_type,expected:Je.boolean,received:n.parsedType}),Mt}return Dn(e.data)}};Ao.create=r=>new Ao({typeName:yt.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Ft(r)});var Do=class r extends It{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Je.date){let a=this._getOrReturnCtx(e);return Qe(a,{code:$e.invalid_type,expected:Je.date,received:a.parsedType}),Mt}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return Qe(a,{code:$e.invalid_date}),Mt}let n=new pn,i;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),Qe(i,{code:$e.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),Qe(i,{code:$e.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Wt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ft.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ft.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Do.create=r=>new Do({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:yt.ZodDate,...Ft(r)});var fs=class extends It{_parse(e){if(this._getType(e)!==Je.symbol){let n=this._getOrReturnCtx(e);return Qe(n,{code:$e.invalid_type,expected:Je.symbol,received:n.parsedType}),Mt}return Dn(e.data)}};fs.create=r=>new fs({typeName:yt.ZodSymbol,...Ft(r)});var Eo=class extends It{_parse(e){if(this._getType(e)!==Je.undefined){let n=this._getOrReturnCtx(e);return Qe(n,{code:$e.invalid_type,expected:Je.undefined,received:n.parsedType}),Mt}return Dn(e.data)}};Eo.create=r=>new Eo({typeName:yt.ZodUndefined,...Ft(r)});var Co=class extends It{_parse(e){if(this._getType(e)!==Je.null){let n=this._getOrReturnCtx(e);return Qe(n,{code:$e.invalid_type,expected:Je.null,received:n.parsedType}),Mt}return Dn(e.data)}};Co.create=r=>new Co({typeName:yt.ZodNull,...Ft(r)});var Ia=class extends It{constructor(){super(...arguments),this._any=!0}_parse(e){return Dn(e.data)}};Ia.create=r=>new Ia({typeName:yt.ZodAny,...Ft(r)});var aa=class extends It{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Dn(e.data)}};aa.create=r=>new aa({typeName:yt.ZodUnknown,...Ft(r)});var Ei=class extends It{_parse(e){let t=this._getOrReturnCtx(e);return Qe(t,{code:$e.invalid_type,expected:Je.never,received:t.parsedType}),Mt}};Ei.create=r=>new Ei({typeName:yt.ZodNever,...Ft(r)});var ps=class extends It{_parse(e){if(this._getType(e)!==Je.undefined){let n=this._getOrReturnCtx(e);return Qe(n,{code:$e.invalid_type,expected:Je.void,received:n.parsedType}),Mt}return Dn(e.data)}};ps.create=r=>new ps({typeName:yt.ZodVoid,...Ft(r)});var oa=class r extends It{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==Je.array)return Qe(t,{code:$e.invalid_type,expected:Je.array,received:t.parsedType}),Mt;if(i.exactLength!==null){let o=t.data.length>i.exactLength.value,l=t.data.length<i.exactLength.value;(o||l)&&(Qe(t,{code:o?$e.too_big:$e.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(Qe(t,{code:$e.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(Qe(t,{code:$e.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,l)=>i.type._parseAsync(new oi(t,o,t.path,l)))).then(o=>pn.mergeArray(n,o));let a=[...t.data].map((o,l)=>i.type._parseSync(new oi(t,o,t.path,l)));return pn.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:ft.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:ft.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:ft.toString(t)}})}nonempty(e){return this.min(1,e)}};oa.create=(r,e)=>new oa({type:r,minLength:null,maxLength:null,exactLength:null,typeName:yt.ZodArray,...Ft(e)});function cs(r){if(r instanceof In){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=Di.create(cs(n))}return new In({...r._def,shape:()=>e})}else return r instanceof oa?new oa({...r._def,type:cs(r.element)}):r instanceof Di?Di.create(cs(r.unwrap())):r instanceof sa?sa.create(cs(r.unwrap())):r instanceof Li?Li.create(r.items.map(e=>cs(e))):r}var In=class r extends It{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=Wt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Je.object){let s=this._getOrReturnCtx(e);return Qe(s,{code:$e.invalid_type,expected:Je.object,received:s.parsedType}),Mt}let{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ei&&this._def.unknownKeys==="strip"))for(let s in i.data)o.includes(s)||l.push(s);let u=[];for(let s of o){let c=a[s],f=i.data[s];u.push({key:{status:"valid",value:s},value:c._parse(new oi(i,f,i.path,s)),alwaysSet:s in i.data})}if(this._def.catchall instanceof Ei){let s=this._def.unknownKeys;if(s==="passthrough")for(let c of l)u.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(s==="strict")l.length>0&&(Qe(i,{code:$e.unrecognized_keys,keys:l}),n.dirty());else if(s!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let s=this._def.catchall;for(let c of l){let f=i.data[c];u.push({key:{status:"valid",value:c},value:s._parse(new oi(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let s=[];for(let c of u){let f=await c.key;s.push({key:f,value:await c.value,alwaysSet:c.alwaysSet})}return s}).then(s=>pn.mergeObjectSync(n,s)):pn.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return ft.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var i,a,o,l;let u=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,t,n).message)!==null&&o!==void 0?o:n.defaultError;return t.code==="unrecognized_keys"?{message:(l=ft.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:yt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return Wt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return Wt.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}deepPartial(){return cs(this)}partial(e){let t={};return Wt.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return Wt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Di;)a=a._def.innerType;t[n]=a}}),new r({...this._def,shape:()=>t})}keyof(){return mA(Wt.objectKeys(this.shape))}};In.create=(r,e)=>new In({shape:()=>r,unknownKeys:"strip",catchall:Ei.create(),typeName:yt.ZodObject,...Ft(e)});In.strictCreate=(r,e)=>new In({shape:()=>r,unknownKeys:"strict",catchall:Ei.create(),typeName:yt.ZodObject,...Ft(e)});In.lazycreate=(r,e)=>new In({shape:r,unknownKeys:"strip",catchall:Ei.create(),typeName:yt.ZodObject,...Ft(e)});var So=class extends It{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function i(a){for(let l of a)if(l.result.status==="valid")return l.result;for(let l of a)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;let o=a.map(l=>new jn(l.ctx.common.issues));return Qe(t,{code:$e.invalid_union,unionErrors:o}),Mt}if(t.common.async)return Promise.all(n.map(async a=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let a,o=[];for(let u of n){let s={...t,common:{...t.common,issues:[]},parent:null},c=u._parseSync({data:t.data,path:t.path,parent:s});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:s}),s.common.issues.length&&o.push(s.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let l=o.map(u=>new jn(u));return Qe(t,{code:$e.invalid_union,unionErrors:l}),Mt}}get options(){return this._def.options}};So.create=(r,e)=>new So({options:r,typeName:yt.ZodUnion,...Ft(e)});var tc=r=>r instanceof Mo?tc(r.schema):r instanceof Zn?tc(r.innerType()):r instanceof To?[r.value]:r instanceof Fo?r.options:r instanceof Io?Object.keys(r.enum):r instanceof Bo?tc(r._def.innerType):r instanceof Eo?[void 0]:r instanceof Co?[null]:null,ac=class r extends It{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==Je.object)return Qe(t,{code:$e.invalid_type,expected:Je.object,received:t.parsedType}),Mt;let n=this.discriminator,i=t.data[n],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(Qe(t,{code:$e.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Mt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let i=new Map;for(let a of t){let o=tc(a.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new r({typeName:yt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Ft(n)})}};function rd(r,e){let t=Ta(r),n=Ta(e);if(r===e)return{valid:!0,data:r};if(t===Je.object&&n===Je.object){let i=Wt.objectKeys(e),a=Wt.objectKeys(r).filter(l=>i.indexOf(l)!==-1),o={...r,...e};for(let l of a){let u=rd(r[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(t===Je.array&&n===Je.array){if(r.length!==e.length)return{valid:!1};let i=[];for(let a=0;a<r.length;a++){let o=r[a],l=e[a],u=rd(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return t===Je.date&&n===Je.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var No=class extends It{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(ed(a)||ed(o))return Mt;let l=rd(a.value,o.value);return l.valid?((td(a)||td(o))&&t.dirty(),{status:t.value,value:l.data}):(Qe(n,{code:$e.invalid_intersection_types}),Mt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};No.create=(r,e,t)=>new No({left:r,right:e,typeName:yt.ZodIntersection,...Ft(t)});var Li=class r extends It{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.array)return Qe(n,{code:$e.invalid_type,expected:Je.array,received:n.parsedType}),Mt;if(n.data.length<this._def.items.length)return Qe(n,{code:$e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mt;!this._def.rest&&n.data.length>this._def.items.length&&(Qe(n,{code:$e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...n.data].map((o,l)=>{let u=this._def.items[l]||this._def.rest;return u?u._parse(new oi(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>pn.mergeArray(t,o)):pn.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}};Li.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Li({items:r,typeName:yt.ZodTuple,rest:null,...Ft(e)})};var oc=class r extends It{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.object)return Qe(n,{code:$e.invalid_type,expected:Je.object,received:n.parsedType}),Mt;let i=[],a=this._def.keyType,o=this._def.valueType;for(let l in n.data)i.push({key:a._parse(new oi(n,l,n.path,l)),value:o._parse(new oi(n,n.data[l],n.path,l))});return n.common.async?pn.mergeObjectAsync(t,i):pn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof It?new r({keyType:e,valueType:t,typeName:yt.ZodRecord,...Ft(n)}):new r({keyType:Fa.create(),valueType:e,typeName:yt.ZodRecord,...Ft(t)})}},ms=class extends It{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.map)return Qe(n,{code:$e.invalid_type,expected:Je.map,received:n.parsedType}),Mt;let i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,u],s)=>({key:i._parse(new oi(n,l,n.path,[s,"key"])),value:a._parse(new oi(n,u,n.path,[s,"value"]))}));if(n.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let u of o){let s=await u.key,c=await u.value;if(s.status==="aborted"||c.status==="aborted")return Mt;(s.status==="dirty"||c.status==="dirty")&&t.dirty(),l.set(s.value,c.value)}return{status:t.value,value:l}})}else{let l=new Map;for(let u of o){let s=u.key,c=u.value;if(s.status==="aborted"||c.status==="aborted")return Mt;(s.status==="dirty"||c.status==="dirty")&&t.dirty(),l.set(s.value,c.value)}return{status:t.value,value:l}}}};ms.create=(r,e,t)=>new ms({valueType:e,keyType:r,typeName:yt.ZodMap,...Ft(t)});var ds=class r extends It{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.set)return Qe(n,{code:$e.invalid_type,expected:Je.set,received:n.parsedType}),Mt;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Qe(n,{code:$e.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Qe(n,{code:$e.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function o(u){let s=new Set;for(let c of u){if(c.status==="aborted")return Mt;c.status==="dirty"&&t.dirty(),s.add(c.value)}return{status:t.value,value:s}}let l=[...n.data.values()].map((u,s)=>a._parse(new oi(n,u,n.path,s)));return n.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,t){return new r({...this._def,minSize:{value:e,message:ft.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:ft.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};ds.create=(r,e)=>new ds({valueType:r,minSize:null,maxSize:null,typeName:yt.ZodSet,...Ft(e)});var sc=class r extends It{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==Je.function)return Qe(t,{code:$e.invalid_type,expected:Je.function,received:t.parsedType}),Mt;function n(l,u){return nc({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rc(),wu].filter(s=>!!s),issueData:{code:$e.invalid_arguments,argumentsError:u}})}function i(l,u){return nc({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rc(),wu].filter(s=>!!s),issueData:{code:$e.invalid_return_type,returnTypeError:u}})}let a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Ba){let l=this;return Dn(async function(...u){let s=new jn([]),c=await l._def.args.parseAsync(u,a).catch(m=>{throw s.addIssue(n(u,m)),s}),f=await Reflect.apply(o,this,c);return await l._def.returns._def.type.parseAsync(f,a).catch(m=>{throw s.addIssue(i(f,m)),s})})}else{let l=this;return Dn(function(...u){let s=l._def.args.safeParse(u,a);if(!s.success)throw new jn([n(u,s.error)]);let c=Reflect.apply(o,this,s.data),f=l._def.returns.safeParse(c,a);if(!f.success)throw new jn([i(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:Li.create(e).rest(aa.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new r({args:e||Li.create([]).rest(aa.create()),returns:t||aa.create(),typeName:yt.ZodFunction,...Ft(n)})}},Mo=class extends It{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};Mo.create=(r,e)=>new Mo({getter:r,typeName:yt.ZodLazy,...Ft(e)});var To=class extends It{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return Qe(t,{received:t.data,code:$e.invalid_literal,expected:this._def.value}),Mt}return{status:"valid",value:e.data}}get value(){return this._def.value}};To.create=(r,e)=>new To({value:r,typeName:yt.ZodLiteral,...Ft(e)});function mA(r,e){return new Fo({values:r,typeName:yt.ZodEnum,...Ft(e)})}var Fo=class r extends It{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return Qe(t,{expected:Wt.joinValues(n),received:t.parsedType,code:$e.invalid_type}),Mt}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),n=this._def.values;return Qe(t,{received:t.data,code:$e.invalid_enum_value,options:n}),Mt}return Dn(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return r.create(e)}exclude(e){return r.create(this.options.filter(t=>!e.includes(t)))}};Fo.create=mA;var Io=class extends It{_parse(e){let t=Wt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Je.string&&n.parsedType!==Je.number){let i=Wt.objectValues(t);return Qe(n,{expected:Wt.joinValues(i),received:n.parsedType,code:$e.invalid_type}),Mt}if(t.indexOf(e.data)===-1){let i=Wt.objectValues(t);return Qe(n,{received:n.data,code:$e.invalid_enum_value,options:i}),Mt}return Dn(e.data)}get enum(){return this._def.values}};Io.create=(r,e)=>new Io({values:r,typeName:yt.ZodNativeEnum,...Ft(e)});var Ba=class extends It{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==Je.promise&&t.common.async===!1)return Qe(t,{code:$e.invalid_type,expected:Je.promise,received:t.parsedType}),Mt;let n=t.parsedType===Je.promise?t.data:Promise.resolve(t.data);return Dn(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}};Ba.create=(r,e)=>new Ba({type:r,typeName:yt.ZodPromise,...Ft(e)});var Zn=class extends It{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===yt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{Qe(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let o=i.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(l=>this._def.schema._parseAsync({data:l,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){let o=l=>{let u=i.refinement(l,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){let l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Mt:(l.status==="dirty"&&t.dirty(),o(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Mt:(l.status==="dirty"&&t.dirty(),o(l.value).then(()=>({status:t.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!_u(o))return o;let l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>_u(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:t.value,value:l})):o);Wt.assertNever(i)}};Zn.create=(r,e,t)=>new Zn({schema:r,typeName:yt.ZodEffects,effect:e,...Ft(t)});Zn.createWithPreprocess=(r,e,t)=>new Zn({schema:e,effect:{type:"preprocess",transform:r},typeName:yt.ZodEffects,...Ft(t)});var Di=class extends It{_parse(e){return this._getType(e)===Je.undefined?Dn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Di.create=(r,e)=>new Di({innerType:r,typeName:yt.ZodOptional,...Ft(e)});var sa=class extends It{_parse(e){return this._getType(e)===Je.null?Dn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};sa.create=(r,e)=>new sa({innerType:r,typeName:yt.ZodNullable,...Ft(e)});var Bo=class extends It{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===Je.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Bo.create=(r,e)=>new Bo({innerType:r,typeName:yt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ft(e)});var hs=class extends It{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ic(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new jn(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new jn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};hs.create=(r,e)=>new hs({innerType:r,typeName:yt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ft(e)});var gs=class extends It{_parse(e){if(this._getType(e)!==Je.nan){let n=this._getOrReturnCtx(e);return Qe(n,{code:$e.invalid_type,expected:Je.nan,received:n.parsedType}),Mt}return{status:"valid",value:e.data}}};gs.create=r=>new gs({typeName:yt.ZodNaN,...Ft(r)});var b8=Symbol("zod_brand"),uc=class extends It{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},Au=class r extends It{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Mt:a.status==="dirty"?(t.dirty(),pA(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Mt:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:yt.ZodPipeline})}},vs=class extends It{_parse(e){let t=this._def.innerType._parse(e);return _u(t)&&(t.value=Object.freeze(t.value)),t}};vs.create=(r,e)=>new vs({innerType:r,typeName:yt.ZodReadonly,...Ft(e)});var dA=(r,e={},t)=>r?Ia.create().superRefine((n,i)=>{var a,o;if(!r(n)){let l=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(a=l.fatal)!==null&&a!==void 0?a:t)!==null&&o!==void 0?o:!0,s=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...s,fatal:u})}}):Ia.create(),w8={object:In.lazycreate},yt;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(yt||(yt={}));var _8=(r,e={message:`Input not instance of ${r.name}`})=>dA(t=>t instanceof r,e),hA=Fa.create,gA=wo.create,A8=gs.create,D8=_o.create,vA=Ao.create,E8=Do.create,C8=fs.create,S8=Eo.create,N8=Co.create,M8=Ia.create,T8=aa.create,F8=Ei.create,I8=ps.create,B8=oa.create,O8=In.create,P8=In.strictCreate,R8=So.create,k8=ac.create,L8=No.create,V8=Li.create,U8=oc.create,q8=ms.create,z8=ds.create,$8=sc.create,H8=Mo.create,G8=To.create,W8=Fo.create,j8=Io.create,Z8=Ba.create,cA=Zn.create,J8=Di.create,Y8=sa.create,X8=Zn.createWithPreprocess,Q8=Au.create,K8=()=>hA().optional(),e6=()=>gA().optional(),t6=()=>vA().optional(),r6={string:r=>Fa.create({...r,coerce:!0}),number:r=>wo.create({...r,coerce:!0}),boolean:r=>Ao.create({...r,coerce:!0}),bigint:r=>_o.create({...r,coerce:!0}),date:r=>Do.create({...r,coerce:!0})},n6=Mt,er=Object.freeze({__proto__:null,defaultErrorMap:wu,setErrorMap:s8,getErrorMap:rc,makeIssue:nc,EMPTY_PATH:u8,addIssueToContext:Qe,ParseStatus:pn,INVALID:Mt,DIRTY:pA,OK:Dn,isAborted:ed,isDirty:td,isValid:_u,isAsync:ic,get util(){return Wt},get objectUtil(){return Km},ZodParsedType:Je,getParsedType:Ta,ZodType:It,ZodString:Fa,ZodNumber:wo,ZodBigInt:_o,ZodBoolean:Ao,ZodDate:Do,ZodSymbol:fs,ZodUndefined:Eo,ZodNull:Co,ZodAny:Ia,ZodUnknown:aa,ZodNever:Ei,ZodVoid:ps,ZodArray:oa,ZodObject:In,ZodUnion:So,ZodDiscriminatedUnion:ac,ZodIntersection:No,ZodTuple:Li,ZodRecord:oc,ZodMap:ms,ZodSet:ds,ZodFunction:sc,ZodLazy:Mo,ZodLiteral:To,ZodEnum:Fo,ZodNativeEnum:Io,ZodPromise:Ba,ZodEffects:Zn,ZodTransformer:Zn,ZodOptional:Di,ZodNullable:sa,ZodDefault:Bo,ZodCatch:hs,ZodNaN:gs,BRAND:b8,ZodBranded:uc,ZodPipeline:Au,ZodReadonly:vs,custom:dA,Schema:It,ZodSchema:It,late:w8,get ZodFirstPartyTypeKind(){return yt},coerce:r6,any:M8,array:B8,bigint:D8,boolean:vA,date:E8,discriminatedUnion:k8,effect:cA,enum:W8,function:$8,instanceof:_8,intersection:L8,lazy:H8,literal:G8,map:q8,nan:A8,nativeEnum:j8,never:F8,null:N8,nullable:Y8,number:gA,object:O8,oboolean:t6,onumber:e6,optional:J8,ostring:K8,pipeline:Q8,preprocess:X8,promise:Z8,record:U8,set:z8,strictObject:P8,string:hA,symbol:C8,transformer:cA,tuple:V8,undefined:S8,union:R8,unknown:T8,void:I8,NEVER:n6,ZodIssueCode:$e,quotelessJson:o8,ZodError:jn});function yA(r,e){return(t,n)=>t[r]===void 0==(t[e]===void 0)?(n.addIssue({code:er.ZodIssueCode.custom,message:`Either ${r} or ${e} must be filled, but not both`}),!1):!0}function ua(){return function(r){return r}}var Oa=(i=>(i.DEFAULT="default",i.PRIMARY="primary",i.DESTRUCTIVE="destructive",i.PLAIN="plain",i))(Oa||{}),Du=(o=>(o.COMMAND="command",o.JS="js",o.OPEN="open",o.INPUT="input",o.SLEEP="sleep",o.TEMPLATER_CREATE_NOTE="templaterCreateNote",o))(Du||{}),i6=ua()(er.object({type:er.literal("command"),command:er.string()})),a6=ua()(er.object({type:er.literal("js"),file:er.string()})),o6=ua()(er.object({type:er.literal("open"),link:er.string()})),s6=ua()(er.object({type:er.literal("input"),str:er.string()})),u6=ua()(er.object({type:er.literal("sleep"),ms:er.number()})),l6=ua()(er.object({type:er.literal("templaterCreateNote"),templateFile:er.string(),folderPath:er.string().optional(),fileName:er.string().optional(),openNote:er.boolean().optional()})),xA=ua()(er.union([i6,a6,o6,s6,u6,l6])),c6=er.enum(Object.values(Oa)),bA=ua()(er.object({label:er.string(),style:c6,id:er.string().optional(),hidden:er.boolean().optional(),action:xA.optional(),actions:xA.array().optional()}).superRefine(yA("action","actions")));function f6(r){Zr(r,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function p6(r){let e,t,n,i,a=r[4].default,o=Qi(a,r,r[3],null);return{c(){e=j("button"),o&&o.c(),L(e,"aria-label",r[2]),e.disabled=r[1],L(e,"class","svelte-12xcpmj"),_t(e,"mod-cta",r[0]==="primary"),_t(e,"mod-warning",r[0]==="destructive"),_t(e,"mod-plain",r[0]==="plain"),_t(e,"disabled",r[1])},m(l,u){Y(l,e,u),o&&o.m(e,null),t=!0,n||(i=be(e,"click",r[5]),n=!0)},p(l,[u]){o&&o.p&&(!t||u&8)&&ea(o,a,l,l[3],t?Ki(a,l[3],u,null):ta(l[3]),null),(!t||u&4)&&L(e,"aria-label",l[2]),(!t||u&2)&&(e.disabled=l[1]),(!t||u&1)&&_t(e,"mod-cta",l[0]==="primary"),(!t||u&1)&&_t(e,"mod-warning",l[0]==="destructive"),(!t||u&1)&&_t(e,"mod-plain",l[0]==="plain"),(!t||u&2)&&_t(e,"disabled",l[1])},i(l){t||(te(o,l),t=!0)},o(l){ae(o,l),t=!1},d(l){l&&J(e),o&&o.d(l),n=!1,i()}}}function m6(r,e,t){let{$$slots:n={},$$scope:i}=e,{variant:a="default"}=e,{disabled:o=!1}=e,{tooltip:l=""}=e;function u(s){G_.call(this,r,s)}return r.$$set=s=>{"variant"in s&&t(0,a=s.variant),"disabled"in s&&t(1,o=s.disabled),"tooltip"in s&&t(2,l=s.tooltip),"$$scope"in s&&t(3,i=s.$$scope)},[a,o,l,i,n,u]}var nd=class extends Ve{constructor(e){super(),qe(this,e,m6,p6,Ue,{variant:0,disabled:1,tooltip:2},f6)}},qt=nd;var _A=require("obsidian");function wA(r){let e;return{c(){e=j("div"),L(e,"class","mb-icon-wrapper")},m(t,n){Y(t,e,n),r[2](e)},p:Se,d(t){t&&J(e),r[2](null)}}}function d6(r){let e,t=r[0].length>0&&wA(r);return{c(){t&&t.c(),e=or()},m(n,i){t&&t.m(n,i),Y(n,e,i)},p(n,[i]){n[0].length>0?t?t.p(n,i):(t=wA(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Se,o:Se,d(n){n&&J(e),t&&t.d(n)}}}function h6(r,e,t){let{iconName:n=""}=e,i;tn(()=>{(0,_A.setIcon)(i,n)});function a(o){Ir[o?"unshift":"push"](()=>{i=o,t(1,i)})}return r.$$set=o=>{"iconName"in o&&t(0,n=o.iconName)},[n,i,a]}var id=class extends Ve{constructor(e){super(),qe(this,e,h6,d6,Ue,{iconName:0})}},ur=id;function AA(r,e,t){let n=r.slice();return n[12]=e[t],n[13]=e,n[14]=t,n}function g6(r){let e,t;return e=new ur({props:{iconName:"x"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function DA(r){let e,t,n,i,a,o,l,u,s,c;function f(){r[7].call(n,r[13],r[14])}function p(){return r[8](r[12])}return o=new qt({props:{tooltip:"Delete",$$slots:{default:[g6]},$$scope:{ctx:r}}}),o.$on("click",p),{c(){e=j("tr"),t=j("td"),n=j("input"),i=fe(),a=j("td"),Fe(o.$$.fragment),l=fe(),L(n,"type","text"),L(n,"placeholder","path/to/folder"),ns(n,"width","100%"),ns(t,"width","100%")},m(m,h){Y(m,e,h),z(e,t),z(t,n),Xe(n,r[12]),z(e,i),z(e,a),Me(o,a,null),z(e,l),u=!0,s||(c=be(n,"input",f),s=!0)},p(m,h){r=m,h&1&&n.value!==r[12]&&Xe(n,r[12]);let d={};h&32768&&(d.$$scope={dirty:h,ctx:r}),o.$set(d)},i(m){u||(te(o.$$.fragment,m),u=!0)},o(m){ae(o.$$.fragment,m),u=!1},d(m){m&&J(e),Te(o),s=!1,c()}}}function v6(r){let e;return{c(){e=Re("Add Folder")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function EA(r){let e,t,n,i,a;return i=new us({props:{errorCollection:r[1],declaration:void 0}}),{c(){e=j("div"),t=j("h3"),t.textContent="Some Folder Paths are invalid",n=fe(),Fe(i.$$.fragment),L(t,"class","mod-error")},m(o,l){Y(o,e,l),z(e,t),z(e,n),Me(i,e,null),a=!0},p(o,l){let u={};l&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(te(i.$$.fragment,o),a=!0)},o(o){ae(i.$$.fragment,o),a=!1},d(o){o&&J(e),Te(i)}}}function y6(r){let e;return{c(){e=Re("Save")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function x6(r){let e;return{c(){e=Re("Cancel")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function b6(r){let e,t,n,i;return e=new qt({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[y6]},$$scope:{ctx:r}}}),e.$on("click",r[10]),n=new qt({props:{tooltip:"Revert Changes",$$slots:{default:[x6]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){Fe(e.$$.fragment),t=fe(),Fe(n.$$.fragment)},m(a,o){Me(e,a,o),Y(a,t,o),Me(n,a,o),i=!0},p(a,o){let l={};o&32768&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let u={};o&32768&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(te(e.$$.fragment,a),te(n.$$.fragment,a),i=!0)},o(a){ae(e.$$.fragment,a),ae(n.$$.fragment,a),i=!1},d(a){a&&J(t),Te(e,a),Te(n,a)}}}function w6(r){let e,t,n,i,a,o,l,u,s,c,f,p=We(r[0]),m=[];for(let g=0;g<p.length;g+=1)m[g]=DA(AA(r,p,g));let h=g=>ae(m[g],1,1,()=>{m[g]=null});l=new qt({props:{variant:"primary",tooltip:"Add new excluded Folder",$$slots:{default:[v6]},$$scope:{ctx:r}}}),l.$on("click",r[9]);let d=r[1]&&EA(r);return c=new ls({props:{$$slots:{default:[b6]},$$scope:{ctx:r}}}),{c(){e=j("div"),t=j("table"),n=j("thead"),n.innerHTML="<tr><th>Folder Path</th> <th></th></tr>",i=fe(),a=j("tbody");for(let g=0;g<m.length;g+=1)m[g].c();o=fe(),Fe(l.$$.fragment),u=fe(),d&&d.c(),s=fe(),Fe(c.$$.fragment)},m(g,v){Y(g,e,v),z(e,t),z(t,n),z(t,i),z(t,a);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(a,null);z(e,o),Me(l,e,null),z(e,u),d&&d.m(e,null),z(e,s),Me(c,e,null),f=!0},p(g,[v]){if(v&5){p=We(g[0]);let x;for(x=0;x<p.length;x+=1){let _=AA(g,p,x);m[x]?(m[x].p(_,v),te(m[x],1)):(m[x]=DA(_),m[x].c(),te(m[x],1),m[x].m(a,null))}for(gt(),x=p.length;x<m.length;x+=1)h(x);vt()}let w={};v&32768&&(w.$$scope={dirty:v,ctx:g}),l.$set(w),g[1]?d?(d.p(g,v),v&2&&te(d,1)):(d=EA(g),d.c(),te(d,1),d.m(e,s)):d&&(gt(),ae(d,1,1,()=>{d=null}),vt());let y={};v&32768&&(y.$$scope={dirty:v,ctx:g}),c.$set(y)},i(g){if(!f){for(let v=0;v<p.length;v+=1)te(m[v]);te(l.$$.fragment,g),te(d),te(c.$$.fragment,g),f=!0}},o(g){m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)ae(m[v]);ae(l.$$.fragment,g),ae(d),ae(c.$$.fragment,g),f=!1},d(g){g&&J(e),Ct(m,g),Te(l),d&&d.d(),Te(c)}}}function _6(r,e,t){let{excludedFolders:n}=e,{modal:i}=e,a;function o(d){t(0,n=n.filter(g=>g!==d))}function l(){n.push(""),t(0,n)}function u(){t(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}function c(d,g){d[g]=this.value,t(0,n)}let f=d=>o(d),p=()=>l(),m=()=>u(),h=()=>s();return r.$$set=d=>{"excludedFolders"in d&&t(0,n=d.excludedFolders),"modal"in d&&t(6,i=d.modal)},[n,a,o,l,u,s,i,c,f,p,m,h]}var ad=class extends Ve{constructor(e){super(),qe(this,e,_6,w6,Ue,{excludedFolders:0,modal:6})}},CA=ad;var vr=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof Vr?this.errors.push(e):this.otherError=e,console.warn(e)):console.warn("[MB_ERROR_CONTAINER] received invalid error type",e)}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(t=>t.errorLevel==="ERROR"||t.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};var lc=class extends SA.Modal{constructor(e,t){super(e),this.plugin=t}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new CA({target:this.contentEl,props:{excludedFolders:this.plugin.settings.excludedFolders.slice(),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(e){for(let t of e)if(t===""){let n=new vr("Excluded Folders");return n.add(new Error(`Invalid Folder Path '${t}'. Folder path may not be empty.`)),n}this.plugin.settings.excludedFolders=e,this.plugin.saveSettings()}};var BA=require("obsidian");function A6(r){let e,t;return e=new ur({props:{iconName:"x"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function D6(r){let e,t,n,i,a,o,l,u,s,c,f,p;return s=new qt({props:{tooltip:"Delete Template",$$slots:{default:[A6]},$$scope:{ctx:r}}}),s.$on("click",r[4]),{c(){e=j("tr"),t=j("td"),n=j("input"),i=fe(),a=j("td"),o=j("input"),l=fe(),u=j("td"),Fe(s.$$.fragment),L(n,"type","text"),L(n,"placeholder","template-name"),L(o,"type","text"),L(o,"placeholder","INPUT[slider(addLabels)]"),ns(o,"width","100%"),ns(a,"width","100%")},m(m,h){Y(m,e,h),z(e,t),z(t,n),Xe(n,r[0].name),z(e,i),z(e,a),z(a,o),Xe(o,r[0].declaration),z(e,l),z(e,u),Me(s,u,null),c=!0,f||(p=[be(n,"input",r[2]),be(o,"input",r[3])],f=!0)},p(m,[h]){h&1&&n.value!==m[0].name&&Xe(n,m[0].name),h&1&&o.value!==m[0].declaration&&Xe(o,m[0].declaration);let d={};h&64&&(d.$$scope={dirty:h,ctx:m}),s.$set(d)},i(m){c||(te(s.$$.fragment,m),c=!0)},o(m){ae(s.$$.fragment,m),c=!1},d(m){m&&J(e),Te(s),f=!1,at(p)}}}function E6(r,e,t){let{template:n}=e,i=yu();function a(){console.log("dispatch"),i("delete-template",{name:n.name})}function o(){n.name=this.value,t(0,n)}function l(){n.declaration=this.value,t(0,n)}let u=()=>a();return r.$$set=s=>{"template"in s&&t(0,n=s.template)},[n,a,o,l,u]}var od=class extends Ve{constructor(e){super(),qe(this,e,E6,D6,Ue,{template:0})}},NA=od;function MA(r,e,t){let n=r.slice();return n[11]=e[t],n}function TA(r){let e,t;return e=new NA({props:{template:r[11]}}),e.$on("delete-template",r[7]),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.template=n[11]),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function C6(r){let e;return{c(){e=Re("Add Template")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function FA(r){let e,t,n,i,a;return i=new us({props:{errorCollection:r[1],declaration:void 0}}),{c(){e=j("div"),t=j("h3"),t.textContent="Some Templates Failed to Parse",n=fe(),Fe(i.$$.fragment),L(t,"class","mod-error")},m(o,l){Y(o,e,l),z(e,t),z(e,n),Me(i,e,null),a=!0},p(o,l){let u={};l&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(te(i.$$.fragment,o),a=!0)},o(o){ae(i.$$.fragment,o),a=!1},d(o){o&&J(e),Te(i)}}}function S6(r){let e;return{c(){e=Re("Save")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function N6(r){let e;return{c(){e=Re("Cancel")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function M6(r){let e,t,n,i;return e=new qt({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[S6]},$$scope:{ctx:r}}}),e.$on("click",r[9]),n=new qt({props:{tooltip:"Revert Changes",$$slots:{default:[N6]},$$scope:{ctx:r}}}),n.$on("click",r[10]),{c(){Fe(e.$$.fragment),t=fe(),Fe(n.$$.fragment)},m(a,o){Me(e,a,o),Y(a,t,o),Me(n,a,o),i=!0},p(a,o){let l={};o&16384&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let u={};o&16384&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(te(e.$$.fragment,a),te(n.$$.fragment,a),i=!0)},o(a){ae(e.$$.fragment,a),ae(n.$$.fragment,a),i=!1},d(a){a&&J(t),Te(e,a),Te(n,a)}}}function T6(r){let e,t,n,i,a,o,l,u,s,c,f,p=We(r[0]),m=[];for(let g=0;g<p.length;g+=1)m[g]=TA(MA(r,p,g));let h=g=>ae(m[g],1,1,()=>{m[g]=null});l=new qt({props:{variant:"primary",tooltip:"Create New Template",$$slots:{default:[C6]},$$scope:{ctx:r}}}),l.$on("click",r[8]);let d=r[1]&&FA(r);return c=new ls({props:{$$slots:{default:[M6]},$$scope:{ctx:r}}}),{c(){e=j("div"),t=j("table"),n=j("thead"),n.innerHTML="<tr><th>Template Name</th> <th>Template Declaration</th> <th></th></tr>",i=fe(),a=j("tbody");for(let g=0;g<m.length;g+=1)m[g].c();o=fe(),Fe(l.$$.fragment),u=fe(),d&&d.c(),s=fe(),Fe(c.$$.fragment)},m(g,v){Y(g,e,v),z(e,t),z(t,n),z(t,i),z(t,a);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(a,null);z(e,o),Me(l,e,null),z(e,u),d&&d.m(e,null),z(e,s),Me(c,e,null),f=!0},p(g,[v]){if(v&5){p=We(g[0]);let x;for(x=0;x<p.length;x+=1){let _=MA(g,p,x);m[x]?(m[x].p(_,v),te(m[x],1)):(m[x]=TA(_),m[x].c(),te(m[x],1),m[x].m(a,null))}for(gt(),x=p.length;x<m.length;x+=1)h(x);vt()}let w={};v&16384&&(w.$$scope={dirty:v,ctx:g}),l.$set(w),g[1]?d?(d.p(g,v),v&2&&te(d,1)):(d=FA(g),d.c(),te(d,1),d.m(e,s)):d&&(gt(),ae(d,1,1,()=>{d=null}),vt());let y={};v&16384&&(y.$$scope={dirty:v,ctx:g}),c.$set(y)},i(g){if(!f){for(let v=0;v<p.length;v+=1)te(m[v]);te(l.$$.fragment,g),te(d),te(c.$$.fragment,g),f=!0}},o(g){m=m.filter(Boolean);for(let v=0;v<m.length;v+=1)ae(m[v]);ae(l.$$.fragment,g),ae(d),ae(c.$$.fragment,g),f=!1},d(g){g&&J(e),Ct(m,g),Te(l),d&&d.d(),Te(c)}}}function F6(r,e,t){let{inputFieldTemplates:n}=e,{modal:i}=e,a;function o(h){t(0,n=n.filter(d=>d.name!==h))}function l(){n.push({name:"",declaration:""}),t(0,n)}function u(){t(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}let c=h=>o(h.detail.name),f=()=>l(),p=()=>u(),m=()=>s();return r.$$set=h=>{"inputFieldTemplates"in h&&t(0,n=h.inputFieldTemplates),"modal"in h&&t(6,i=h.modal)},[n,a,o,l,u,s,i,c,f,p,m]}var sd=class extends Ve{constructor(e){super(),qe(this,e,F6,T6,Ue,{inputFieldTemplates:0,modal:6})}},IA=sd;var cc=class extends BA.Modal{constructor(e,t){super(e),this.plugin=t}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new IA({target:this.contentEl,props:{inputFieldTemplates:JSON.parse(JSON.stringify(this.plugin.settings.inputFieldTemplates)),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(e){let t=this.plugin.api.inputFieldParser.parseTemplates(e);if(t.hasErrors())return t;this.plugin.settings.inputFieldTemplates=e,this.plugin.saveSettings()}};var wt=class{static linkToInputField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfields/${e.toLowerCase()}/`}static linkToInputFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/inputfieldarguments/${e.toLowerCase()}/`}static linkToViewField(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfields/${e.toLowerCase()}/`}static linkToViewFieldArgument(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/reference/viewfieldarguments/${e.toLowerCase()}/`}static linkToInputFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/inputfields/"}static linkToViewFields(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/viewfields/"}static linkToButtons(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToButtonConfig(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/buttons/#button-configuration"}static linkToSearch(e){return`https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/?s=${encodeURIComponent(e)}`}static linkToHome(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/"}static linkToGithub(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin"}static linkToIssues(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues"}static linkToCanaryBuilds(){return"https://www.moritzjung.dev/obsidian-meta-bind-plugin-docs/guides/installation/#canary-builds"}static open(e){window.open(e,"_blank")}};var zA=require("obsidian");var OA=require("obsidian");var fc=class extends OA.Modal{constructor(e,t,n){super(e),this.errorCollection=t,this.declaration=n}onOpen(){this.modalEl.addClass("mb-error-collection-modal"),this.titleEl.innerText="Meta Bind Field",this.component=new us({target:this.contentEl,props:{errorCollection:this.errorCollection,declaration:this.declaration}})}onClose(){var e;(e=this.component)==null||e.$destroy()}};function PA(r){let e,t,n,i,a;function o(s,c){return c&1&&(t=null),c&1&&(n=null),t==null&&(t=!!s[0].hasErrors()),t?O6:(n==null&&(n=!!s[0].hasWarnings()),n?B6:I6)}let l=o(r,-1),u=l(r);return{c(){e=j("div"),u.c(),L(e,"class","mb-error-collection"),L(e,"role","button"),L(e,"tabindex","0")},m(s,c){Y(s,e,c),u.m(e,null),i||(a=[be(e,"click",r[4]),be(e,"keydown",r[5])],i=!0)},p(s,c){l!==(l=o(s,c))&&(u.d(1),u=l(s),u&&(u.c(),u.m(e,null)))},d(s){s&&J(e),u.d(),i=!1,at(a)}}}function I6(r){let e,t,n,i;return{c(){e=Gn("svg"),t=Gn("circle"),n=Gn("path"),i=Gn("path"),L(t,"cx","12"),L(t,"cy","12"),L(t,"r","10"),L(n,"d","M12 16v-4"),L(i,"d","M12 8h.01"),L(e,"xmlns","http://www.w3.org/2000/svg"),L(e,"width","24"),L(e,"height","24"),L(e,"viewBox","0 0 24 24"),L(e,"fill","none"),L(e,"stroke","currentColor"),L(e,"stroke-width","2"),L(e,"stroke-linecap","round"),L(e,"stroke-linejoin","round"),L(e,"class","lucide lucide-info")},m(a,o){Y(a,e,o),z(e,t),z(e,n),z(e,i)},d(a){a&&J(e)}}}function B6(r){let e,t,n,i;return{c(){e=Gn("svg"),t=Gn("path"),n=Gn("line"),i=Gn("line"),L(t,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"),L(n,"x1","12"),L(n,"x2","12"),L(n,"y1","9"),L(n,"y2","13"),L(i,"x1","12"),L(i,"x2","12.01"),L(i,"y1","17"),L(i,"y2","17"),L(e,"xmlns","http://www.w3.org/2000/svg"),L(e,"width","24"),L(e,"height","24"),L(e,"viewBox","0 0 24 24"),L(e,"fill","none"),L(e,"stroke","currentColor"),L(e,"stroke-width","2"),L(e,"stroke-linecap","round"),L(e,"stroke-linejoin","round"),L(e,"class","lucide lucide-alert-triangle")},m(a,o){Y(a,e,o),z(e,t),z(e,n),z(e,i)},d(a){a&&J(e)}}}function O6(r){let e,t,n,i,a,o;return{c(){e=Gn("svg"),t=Gn("circle"),n=Gn("line"),i=Gn("line"),a=fe(),o=j("span"),o.textContent="[META_BIND_ERROR]",L(t,"cx","12"),L(t,"cy","12"),L(t,"r","10"),L(n,"x1","12"),L(n,"x2","12"),L(n,"y1","8"),L(n,"y2","12"),L(i,"x1","12"),L(i,"x2","12.01"),L(i,"y1","16"),L(i,"y2","16"),L(e,"xmlns","http://www.w3.org/2000/svg"),L(e,"width","24"),L(e,"height","24"),L(e,"viewBox","0 0 24 24"),L(e,"fill","none"),L(e,"stroke","currentColor"),L(e,"stroke-width","2"),L(e,"stroke-linecap","round"),L(e,"stroke-linejoin","round"),L(e,"class","lucide lucide-alert-circle"),L(o,"class","mb-error")},m(l,u){Y(l,e,u),z(e,t),z(e,n),z(e,i),Y(l,a,u),Y(l,o,u)},d(l){l&&(J(e),J(a),J(o))}}}function P6(r){let e=!r[0].isEmpty(),t,n=e&&PA(r);return{c(){n&&n.c(),t=or()},m(i,a){n&&n.m(i,a),Y(i,t,a)},p(i,[a]){a&1&&(e=!i[0].isEmpty()),e?n?n.p(i,a):(n=PA(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:Se,o:Se,d(i){i&&J(t),n&&n.d(i)}}}function R6(r,e,t){let{app:n}=e,{errorCollection:i}=e,{declaration:a}=e;function o(){new fc(n,i,a).open()}let l=()=>o(),u=s=>{s.key===" "&&o()};return r.$$set=s=>{"app"in s&&t(2,n=s.app),"errorCollection"in s&&t(0,i=s.errorCollection),"declaration"in s&&t(3,a=s.declaration)},[i,o,n,a,l,u]}var ud=class extends Ve{constructor(e){super(),qe(this,e,R6,P6,Ue,{app:2,errorCollection:0,declaration:3})}},Jn=ud;var ys=(D=>(D.TOGGLE="toggle",D.SLIDER="slider",D.TEXT="text",D.TEXT_AREA_DEPRECATED="text_area",D.TEXT_AREA="textArea",D.SELECT="select",D.MULTI_SELECT_DEPRECATED="multi_select",D.MULTI_SELECT="multiSelect",D.DATE="date",D.TIME="time",D.DATE_PICKER_DEPRECATED="date_picker",D.DATE_PICKER="datePicker",D.NUMBER="number",D.SUGGESTER="suggester",D.EDITOR="editor",D.IMAGE_SUGGESTER="imageSuggester",D.PROGRESS_BAR="progressBar",D.INLINE_SELECT="inlineSelect",D.LIST="list",D.LIST_SUGGESTER="listSuggester",D.INLINE_LIST_SUGGESTER="inlineListSuggester",D.INLINE_LIST="inlineList",D.INVALID="invalid",D))(ys||{}),Nr=(g=>(g.CLASS="class",g.ADD_LABELS="addLabels",g.MIN_VALUE="minValue",g.MAX_VALUE="maxValue",g.STEP_SIZE="stepSize",g.OPTION="option",g.TITLE="title",g.OPTION_QUERY="optionQuery",g.SHOWCASE="showcase",g.ON_VALUE="onValue",g.OFF_VALUE="offValue",g.DEFAULT_VALUE="defaultValue",g.PLACEHOLDER="placeholder",g.USE_LINKS="useLinks",g.LIMIT="limit",g.INVALID="invalid",g))(Nr||{}),RA={toggle:{type:"toggle",allowInBlock:!0,allowInline:!0},slider:{type:"slider",allowInBlock:!0,allowInline:!0},text:{type:"text",allowInBlock:!0,allowInline:!0},text_area:{type:"text_area",allowInBlock:!0,allowInline:!0},textArea:{type:"textArea",allowInBlock:!0,allowInline:!0},select:{type:"select",allowInBlock:!0,allowInline:!1},multi_select:{type:"multi_select",allowInBlock:!0,allowInline:!1},multiSelect:{type:"multiSelect",allowInBlock:!0,allowInline:!1},date:{type:"date",allowInBlock:!0,allowInline:!0},time:{type:"time",allowInBlock:!0,allowInline:!0},date_picker:{type:"date_picker",allowInBlock:!0,allowInline:!0},datePicker:{type:"datePicker",allowInBlock:!0,allowInline:!0},number:{type:"number",allowInBlock:!0,allowInline:!0},suggester:{type:"suggester",allowInBlock:!0,allowInline:!0},editor:{type:"editor",allowInBlock:!0,allowInline:!1},imageSuggester:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},progressBar:{type:"progressBar",allowInBlock:!0,allowInline:!1},inlineSelect:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},list:{type:"list",allowInBlock:!0,allowInline:!1},listSuggester:{type:"listSuggester",allowInBlock:!0,allowInline:!1},inlineListSuggester:{type:"inlineListSuggester",allowInBlock:!0,allowInline:!0},inlineList:{type:"inlineList",allowInBlock:!0,allowInline:!0},invalid:{type:"invalid",allowInBlock:!1,allowInline:!1}},tr={addLabels:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},defaultValue:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},maxValue:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},minValue:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},stepSize:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},offValue:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},onValue:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},option:{type:"option",allowedFieldTypes:["select","multi_select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester","inlineListSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},optionQuery:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester","inlineListSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},placeholder:{type:"placeholder",allowedFieldTypes:["text","textArea","text_area","number","list","inlineList"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},showcase:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},title:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},useLinks:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},limit:{type:"limit",allowedFieldTypes:["text","textArea","list","inlineList"],values:[[{name:"value",allowed:["number"],description:"a character limit for text fields"}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},Eu=(i=>(i.MATH="math",i.TEXT="text",i.LINK="link",i.INVALID="invalid",i))(Eu||{}),xs=(n=>(n.RENDER_MARKDOWN="renderMarkdown",n.HIDDEN="hidden",n.INVALID="invalid",n))(xs||{}),pc={renderMarkdown:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},hidden:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}};var k6={date:"date",datePicker:"datePicker",editor:"editor",imageSuggester:'imageSuggester(optionQuery(""))',inlineList:"inlineList",inlineListSuggester:"inlineListSuggester(option(apple), option(banana), option(lemon))",inlineSelect:"inlineSelect(option(apple), option(banana), option(lemon))",list:"list",listSuggester:"listSuggester(option(apple), option(banana), option(lemon))",multiSelect:"multiSelect(option(apple), option(banana), option(lemon))",number:"number",progressBar:"progressBar",select:"select(option(apple), option(banana), option(lemon))",slider:"slider(addLabels)",suggester:"suggester(option(apple), option(banana), option(lemon))",text:"text",textArea:"textArea",time:"time",toggle:"toggle",date_picker:"",multi_select:"",text_area:"",invalid:""};function ld(r){let e=[];for(let[t,n]of Object.entries(k6)){if(n==="")continue;let i=r.api.inputField.createInputFieldDeclarationFromString(`INPUT[${n}]`);i=r.api.inputField.addArgument(i,{name:"showcase",value:["true"]}),i=r.api.inputField.addArgument(i,{name:"title",value:[t]}),e.push([t,i])}return e}var kA=require("obsidian");function L6(r){let e;return{c(){e=j("div")},m(t,n){Y(t,e,n),r[4](e)},p:Se,i:Se,o:Se,d(t){t&&J(e),r[4](null)}}}function V6(r,e,t){let{type:n}=e,{declaration:i}=e,{plugin:a}=e,o,l;tn(()=>{o=new kA.Component,a.api.createInputField(i,"block","",l,o),o.load()}),mo(()=>{o.unload()});function u(s){Ir[s?"unshift":"push"](()=>{l=s,t(0,l)})}return r.$$set=s=>{"type"in s&&t(1,n=s.type),"declaration"in s&&t(2,i=s.declaration),"plugin"in s&&t(3,a=s.plugin)},[l,n,i,a,u]}var cd=class extends Ve{constructor(e){super(),qe(this,e,V6,L6,Ue,{type:1,declaration:2,plugin:3})}},LA=cd;function VA(r,e,t){let n=r.slice();return n[7]=e[t],n}function U6(r){let e;return{c(){e=Re("Docs")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function q6(r){let e;return{c(){e=Re("GitHub")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function z6(r){let e;return{c(){e=Re("Report Issue")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function UA(r){let e,t;return e=new LA({props:{type:r[7][0],declaration:r[7][1],plugin:r[1]}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.type=n[7][0]),i&2&&(a.declaration=n[7][1]),i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function $6(r){let e,t,n,i,a,o,l,u,s,c,f,p,m,h,d,g,v,w,y,x,_,b,D,C,A,E,F,I,O,k,R,T,N,V,B,X,ee,W,P,K,ve,ie,oe,ge,ue,ce;l=new qt({props:{variant:"primary",$$slots:{default:[U6]},$$scope:{ctx:r}}}),l.$on("click",r[4]),s=new qt({props:{variant:"default",$$slots:{default:[q6]},$$scope:{ctx:r}}}),s.$on("click",r[5]),f=new qt({props:{variant:"default",$$slots:{default:[z6]},$$scope:{ctx:r}}}),f.$on("click",r[6]),A=new Jn({props:{app:r[0],declaration:H6,errorCollection:r[2]}}),O=new Jn({props:{app:r[0],declaration:G6,errorCollection:r[3]}});let me=We(ld(r[1])),de=[];for(let we=0;we<me.length;we+=1)de[we]=UA(VA(r,me,we));let Be=we=>ae(de[we],1,1,()=>{de[we]=null});return{c(){e=j("div"),t=j("h1"),t.textContent="Meta Bind FAQ",n=fe(),i=j("h2"),i.textContent="Quick Access",a=fe(),o=j("p"),Fe(l.$$.fragment),u=fe(),Fe(s.$$.fragment),c=fe(),Fe(f.$$.fragment),p=fe(),m=j("h2"),m.textContent="Error Messages",h=fe(),d=j("p"),g=Re("When creating "),v=j("a"),v.textContent="Input Fields",y=Re(` or
		`),x=j("a"),x.textContent="View Fields",b=fe(),D=j("strong"),D.textContent="warnings",C=Re(` (
		`),Fe(A.$$.fragment),E=Re(`
		) and `),F=j("strong"),F.textContent="errors",I=Re(` (
		`),Fe(O.$$.fragment),k=Re(`
		) can occur. These are `),R=j("strong"),R.textContent="clickable",T=Re(` and will show a modal with detailed information about the error
		when clicked.`),N=fe(),V=j("h2"),V.textContent="Input Fields",B=fe(),X=j("p"),X.innerHTML=`<a href="${wt.linkToInputFields()}">Input Fields</a> let you change the frontmatter of your notes from inside
		of notes.`,ee=fe();for(let we=0;we<de.length;we+=1)de[we].c();W=fe(),P=j("h2"),P.textContent="View Fields",K=fe(),ve=j("p"),ve.innerHTML=`<a href="${wt.linkToViewFields()}">View Fields</a> let you view and perform calculations using the frontmatter
		of your notes from inside of notes. They will update instantly to reflect changes to the frontmatter made by input
		fields and as fast as obsidian allows it for changes from other sources.`,ie=fe(),oe=j("h2"),oe.textContent="Bind Targets",ge=fe(),ue=j("p"),ue.innerHTML=`<a href="https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/#binding-to-metadata">Bind Targets</a>
		let the plugin know what frontmatter properties to bind
		<a href="${wt.linkToInputFields()}">Input Fields</a>
		and
		<a href="${wt.linkToViewFields()}">View Fields</a> to.`,L(v,"href",w=wt.linkToInputFields()),L(x,"href",_=wt.linkToViewFields()),L(e,"class","mb-faq-view markdown-rendered")},m(we,U){Y(we,e,U),z(e,t),z(e,n),z(e,i),z(e,a),z(e,o),Me(l,o,null),z(o,u),Me(s,o,null),z(o,c),Me(f,o,null),z(e,p),z(e,m),z(e,h),z(e,d),z(d,g),z(d,v),z(d,y),z(d,x),z(d,b),z(d,D),z(d,C),Me(A,d,null),z(d,E),z(d,F),z(d,I),Me(O,d,null),z(d,k),z(d,R),z(d,T),z(e,N),z(e,V),z(e,B),z(e,X),z(e,ee);for(let G=0;G<de.length;G+=1)de[G]&&de[G].m(e,null);z(e,W),z(e,P),z(e,K),z(e,ve),z(e,ie),z(e,oe),z(e,ge),z(e,ue),ce=!0},p(we,[U]){let G={};U&1024&&(G.$$scope={dirty:U,ctx:we}),l.$set(G);let le={};U&1024&&(le.$$scope={dirty:U,ctx:we}),s.$set(le);let $={};U&1024&&($.$$scope={dirty:U,ctx:we}),f.$set($);let Q={};U&1&&(Q.app=we[0]),U&4&&(Q.errorCollection=we[2]),A.$set(Q);let re={};if(U&1&&(re.app=we[0]),U&8&&(re.errorCollection=we[3]),O.$set(re),U&2){me=We(ld(we[1]));let he;for(he=0;he<me.length;he+=1){let ye=VA(we,me,he);de[he]?(de[he].p(ye,U),te(de[he],1)):(de[he]=UA(ye),de[he].c(),te(de[he],1),de[he].m(e,W))}for(gt(),he=me.length;he<de.length;he+=1)Be(he);vt()}},i(we){if(!ce){te(l.$$.fragment,we),te(s.$$.fragment,we),te(f.$$.fragment,we),te(A.$$.fragment,we),te(O.$$.fragment,we);for(let U=0;U<me.length;U+=1)te(de[U]);ce=!0}},o(we){ae(l.$$.fragment,we),ae(s.$$.fragment,we),ae(f.$$.fragment,we),ae(A.$$.fragment,we),ae(O.$$.fragment,we),de=de.filter(Boolean);for(let U=0;U<de.length;U+=1)ae(de[U]);ce=!1},d(we){we&&J(e),Te(l),Te(s),Te(f),Te(A),Te(O),Ct(de,we)}}}var H6="INPUT[someInputFieldDeclaration]",G6="INPUT[someInputFieldDeclaration]";function W6(r,e,t){let{app:n}=e,{plugin:i}=e,a=new vr("exampleWarningErrorCollection"),o=new vr("exampleErrorErrorCollection");tn(()=>{a.add(new bu({errorLevel:"WARNING",effect:"some example warning",cause:"some example reason"})),t(2,a),o.add(new bu({errorLevel:"ERROR",effect:"some example error",cause:"some example reason"})),t(3,o)});let l=()=>{wt.open(wt.linkToHome())},u=()=>{wt.open(wt.linkToGithub())},s=()=>{wt.open(wt.linkToIssues())};return r.$$set=c=>{"app"in c&&t(0,n=c.app),"plugin"in c&&t(1,i=c.plugin)},[n,i,a,o,l,u,s]}var fd=class extends Ve{constructor(e){super(),qe(this,e,W6,$6,Ue,{app:0,plugin:1})}},qA=fd;var Oo="mb-faq-view-type",mc=class extends zA.ItemView{constructor(e,t){super(e),this.plugin=t}getViewType(){return Oo}getDisplayText(){return"Meta Bind FAQ"}async onOpen(){let e=this.containerEl.children[1];e.empty(),this.component=new qA({target:e,props:{app:this.app,plugin:this.plugin}})}async onClose(){var e;(e=this.component)==null||e.$destroy()}};var dc=class extends rn.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){let{containerEl:e}=this;if(e.empty(),this.plugin.build==="dev"||this.plugin.build==="canary"){e.createEl("p",{text:`You are using a ${this.plugin.build} build (${this.plugin.manifest.version}). This build is not intended for production use. Use at your own risk.`,cls:"mb-error"});let t=new rn.ButtonComponent(e);t.setButtonText("Learn About Canary Builds"),t.setCta(),t.onClick(()=>{wt.open(wt.linkToCanaryBuilds())})}new rn.Setting(e).setName("Quick access").addButton(t=>{t.setCta(),t.setButtonText("Docs"),t.onClick(()=>{wt.open(wt.linkToHome())})}).addButton(t=>{t.setButtonText("Open FAQ"),t.onClick(()=>{this.plugin.activateView(Oo)})}).addButton(t=>{t.setButtonText("GitHub"),t.onClick(()=>{wt.open(wt.linkToGithub())})}).addButton(t=>{t.setButtonText("Report Issue"),t.onClick(()=>{wt.open(wt.linkToIssues())})}),e.createEl("h2",{text:"General Settings"}),new rn.Setting(e).setName("Enable Syntax Highlighting").setDesc("Enable syntax highlighting for. RESTART REQUIRED.").addToggle(t=>{t.setValue(this.plugin.settings.enableSyntaxHighlighting),t.onChange(n=>{this.plugin.settings.enableSyntaxHighlighting=n,this.plugin.saveSettings()})}),new rn.Setting(e).setName("Input Field Templates").setDesc("You can specify input field templates here, and access them using `INPUT[template_name][overrides (optional)]` in your notes.").addButton(t=>{t.setButtonText("Edit Templates"),t.onClick(()=>{new cc(this.app,this.plugin).open()})}),new rn.Setting(e).setName("Excluded Folders").setDesc("You can specify excluded folders here. The plugin will not work within excluded folders.").addButton(t=>{t.setButtonText("Edit Excluded Folders"),t.onClick(()=>{new lc(this.app,this.plugin).open()})}),new rn.Setting(e).setName("View Fields display null as empty").setDesc("Display nothing instead of null, if the frontmatter value is empty, in text view fields.").addToggle(t=>{t.setValue(this.plugin.settings.viewFieldDisplayNullAsEmpty),t.onChange(n=>{this.plugin.settings.viewFieldDisplayNullAsEmpty=n,this.plugin.saveSettings()})}),new rn.Setting(e).setName("Enable JS Input Fields").setDesc("Enable the processing of JavaScript input fields. This is potentially DANGEROUS, thus it's disabled by default. RESTART REQUIRED.").addToggle(t=>{t.setValue(this.plugin.settings.enableJs),t.onChange(n=>{this.plugin.settings.enableJs=n,this.plugin.saveSettings()})}),e.createEl("h2",{text:"Date and Time Settings"}),new rn.Setting(e).setName("Date format").setDesc("The date format to be used by this plugin. Changing this setting will break the parsing of existing date inputs. Here is a list of all available date tokes https://momentjs.com/docs/#/displaying/.").addText(t=>{t.setValue(this.plugin.settings.preferredDateFormat),t.onChange(n=>{this.plugin.settings.preferredDateFormat=n,this.plugin.saveSettings()})}),new rn.Setting(e).setName("Use US date input field order").setDesc("When enabled the month input is before the day input.").addToggle(t=>{t.setValue(this.plugin.settings.useUsDateInputOrder),t.onChange(n=>{this.plugin.settings.useUsDateInputOrder=n,this.plugin.saveSettings()})}),new rn.Setting(e).setName("First Weekday").setDesc("Specify the first weekday for the datepicker.").addDropdown(t=>{for(let n of po)t.addOption(n.name,n.name);t.setValue(this.plugin.settings.firstWeekday.name),t.onChange(n=>{this.plugin.settings.firstWeekday=po.find(i=>i.name===n),this.plugin.saveSettings()})}),e.createEl("h2",{text:"Advanced Settings"}),new rn.Setting(e).setName("Dev Mode").setDesc("Enable dev mode. Not recommended unless you want to debug this plugin.").addToggle(t=>{t.setValue(this.plugin.settings.devMode),t.onChange(n=>{this.plugin.settings.devMode=n,this.plugin.saveSettings()})}),new rn.Setting(e).setName("Disable Code Block Restrictions").setDesc("Disable restrictions on which input fields can be created in which code blocks. Not recommended unless you know what you are doing.").addToggle(t=>{t.setValue(this.plugin.settings.ignoreCodeBlockRestrictions),t.onChange(n=>{this.plugin.settings.ignoreCodeBlockRestrictions=n,this.plugin.saveSettings()})}),new rn.Setting(e).setName("Sync interval").setDesc(`The interval in milli-seconds between disk writes. Changing this number is not recommended except if your hard drive is exceptionally slow. Standard: ${Ai.syncInterval}; Minimum: ${Ai.minSyncInterval}; Maximum: ${Ai.maxSyncInterval}`).addText(t=>{t.setValue(this.plugin.settings.syncInterval.toString()),t.onChange(n=>{this.plugin.settings.syncInterval=Number.parseInt(n),Number.isNaN(this.plugin.settings.syncInterval)&&(this.plugin.settings.syncInterval=Ai.syncInterval),this.plugin.settings.syncInterval<Ai.minSyncInterval&&(this.plugin.settings.syncInterval=Ai.minSyncInterval),this.plugin.settings.syncInterval>Ai.maxSyncInterval&&(this.plugin.settings.syncInterval=Ai.maxSyncInterval),this.plugin.saveSettings()})})}};var md=require("obsidian"),Ur=class r{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,md.moment)(e,r.dateFormat)}static getDefaultDate(){return(0,md.moment)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};function Cu(r,e,t){return Math.min(Math.max(r,e),t)}function hc(r,e,t){return r!==void 0?Math.min(Math.max(r,e),t):void 0}function dd(r,e,t,n,i){return(r-e)/(t-e)*(i-n)+n}function hd(r,e){return(r%e+e)%e}function $A(r,e){if(r==null&&e==null)return!0;if(r==null||e==null||r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function gd(r,e){for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function vd(r){return!!r}function Su(r){let e=Reflect.ownKeys(r);for(let t of e){let n=r[t];(n&&typeof n=="object"||typeof n=="function")&&Su(n)}return Object.freeze(r)}function jt(){return window.crypto.randomUUID()}function Nu(r){try{return new URL(r),!0}catch(e){return!1}}var gc=class{constructor(e,t,n,i,a){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.onDelete=a,this.deleted=!1}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.updateCache(e,this)}notify(e){this.callbackSignal.set(e)}getDependencies(){return[]}delete(){this.deleted=!0,this.onDelete()}};var vc=class{constructor(e,t,n,i,a,o,l){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o,this.onDelete=l,this.deleted=!1}init(){for(let e of this.dependencies){let t=this.uuid+"/"+jt();this.dependencySubscriptions.push(this.metadataManager.subscribe(t,e.callbackSignal,e.bindTarget,()=>this.delete())),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}async computeValue(){let e=this.dependencySubscriptions.map(n=>n.callbackSignal.get()),t=await this.computeFunction(e);this.callbackSignal.set(t),this.metadataManager.updateCache(t,this)}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}delete(){this.deleted=!0;for(let e of this.dependencySubscriptions)e.deleted||e.delete();this.onDelete(),this.unsubscribe()}};var ca=class{static get(e,t){return t.get(e).child}static tryGet(e,t){var n;return(n=t.tryGet(e))==null?void 0:n.child}static fullGet(e,t){return t.get(e)}static set(e,t,n){t.set(e,n)}static setAndCreate(e,t,n){t.setAndCreate(e,n)}};var Mu=(i=>(i.FRONTMATTER="frontmatter",i.MEMORY="memory",i.GLOBAL_MEMORY="globalMemory",i.SCOPE="scope",i))(Mu||{});var HA=5,j6=5*60;function yd(r,e){return r===void 0||e===void 0||r.storageType!==e.storageType||r.storagePath!==e.storagePath?!1:GA(r.storageProp.toStringArray(),e.storageProp.toStringArray(),e.listenToChildren)}function GA(r,e,t){return $A(r,e)||gd(e,r)?!0:t&&gd(r,e)}function Z6(r){return r===void 0?"undefined":`${r.storagePath}#${r.storageProp.toString()}`}var yc=class{constructor(e){this.cache=new Map,this.globalCache={metadata:Su({}),memory:{},subscriptions:[]},this.metadataAdapter=e,this.metadataAdapter.setManagerInstance(this),this.metadataAdapter.load()}unload(){this.metadataAdapter.unload()}subscribeSubscription(e){var n,i;if(e.bindTarget===void 0)return;if(((n=e.bindTarget)==null?void 0:n.storageType)==="scope")throw new fn({errorLevel:"CRITICAL",effect:"can not subscribe subscription",cause:"local scope should be resolved by the time the subscription is created"});if(((i=e.bindTarget)==null?void 0:i.storageType)==="globalMemory"){console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to global memory cache -> ${e.bindTarget.storageProp.toString()}`),this.globalCache.subscriptions.push(e),e.notify(this.getPropertyFromCache(this.globalCache,e.bindTarget.storageType,e.bindTarget.storageProp));return}let t=this.getCacheForFile(e.bindTarget.storagePath);if(t)console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to existing file cache ${e.bindTarget.storagePath} -> ${e.bindTarget.storageProp.toString()}`),t.inactive=!1,t.cyclesSinceInactive=0,t.subscriptions.push(e),e.notify(this.getPropertyFromCache(t,e.bindTarget.storageType,e.bindTarget.storageProp));else{console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to newly created file cache ${e.bindTarget.storagePath} -> ${e.bindTarget.storageProp.toString()}`);let{metadata:a,extraCache:o}=this.metadataAdapter.getMetadataAndExtraCache(e),l={extraCache:o,metadata:a,memory:{},subscriptions:[e],cyclesSinceLastChange:HA+1,cyclesSinceInactive:0,inactive:!1,changed:!1};console.log(`meta-bind | MetadataManager >> loaded metadata for file ${e.bindTarget.storagePath}`,l.metadata),e.notify(this.getPropertyFromCache(l,e.bindTarget.storageType,e.bindTarget.storageProp)),this.createCacheForFile(e.bindTarget.storagePath,l)}}subscribe(e,t,n,i){let a=new gc(e,t,this,n,i);return this.subscribeSubscription(a),a}subscribeComputed(e,t,n,i,a,o){let l=new vc(e,t,this,n,i,a,o);return this.checkForLoops(l),l.init(),this.subscribeSubscription(l),l}checkForLoops(e){for(let t of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,t])}recCheckForLoops(e){let t=e.first(),n=e.last();if(!(n===void 0||t===void 0)){if(yd(t.bindTarget,n.bindTarget))throw new xo({errorLevel:"ERROR",effect:"bind target dependency loop detected",cause:`the loop is as follows: ${e.map(i=>`"${Z6(i.bindTarget)}"`).join(" -> ")}`,docs:["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/#circular-dependencies"]});for(let i of this.getAllSubscriptionsToDependencies(n))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(t=>this.getAllSubscriptionsToBindTarget(t.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let t=this.getCacheForFile(e.storagePath);if(!t)return[];let n=[];for(let i of t.subscriptions)yd(i.bindTarget,e)&&n.push(i);return t.subscriptions.filter(i=>yd(i.bindTarget,e))}unsubscribe(e){if(e.bindTarget===void 0)return;let t=e.bindTarget.storagePath,n=this.getCacheForFile(t);n&&(console.debug(`meta-bind | MetadataManager >> unregistered ${e.uuid} to from file cache ${t}`),n.subscriptions=n.subscriptions.filter(i=>i.uuid!==e.uuid),n.subscriptions.length===0&&(console.debug(`meta-bind | MetadataManager >> marked unused file cache as inactive ${t}`),n.inactive=!0))}getCacheForFile(e){return this.cache.get(e)}createCacheForFile(e,t){if(this.cache.has(e))throw new fn({errorLevel:"CRITICAL",effect:"can not create metadata file cache",cause:"cache for file already exists"});this.cache.set(e,t)}cycle(){let e=[];for(let[t,n]of this.cache)n.changed&&this.updateExternal(t,n),n.cyclesSinceLastChange+=1,n.inactive&&(n.cyclesSinceInactive+=1),n.cyclesSinceInactive>j6&&e.push(t);for(let t of e)this.cache.delete(t)}async updateExternal(e,t){try{await this.metadataAdapter.updateMetadata(e,t)}catch(n){t.changed=!1,console.warn("failed to update frontmatter",n)}}updateCache(e,t){if(t.bindTarget===void 0)return;let n=t.bindTarget.storageProp,i=t.bindTarget.storagePath,a=t.bindTarget.storageType;if(console.debug(`meta-bind | MetadataManager >> updating "${JSON.stringify(n)}" in "${i}" metadata cache to`,e),a==="frontmatter"){let o=this.getCacheForFile(i);if(!o)return;ca.setAndCreate(o.metadata,n,e),o.cyclesSinceLastChange=0,o.changed=!0,this.notifyFileCacheListeners(o,"frontmatter",n,t.uuid)}else if(a==="memory"){let o=this.getCacheForFile(i);if(!o)return;ca.setAndCreate(o.memory,n,e),this.notifyFileCacheListeners(o,"memory",n,t.uuid)}else a==="globalMemory"&&(ca.setAndCreate(this.globalCache.memory,n,e),this.notifyFileCacheListeners(this.globalCache,"globalMemory",n,t.uuid))}updateCacheOnExternalFrontmatterUpdate(e,t){let n=this.getCacheForFile(e);if(!n||n.cyclesSinceLastChange<HA)return;let i=structuredClone(t);delete i.position,console.debug(`meta-bind | MetadataManager >> updating "${e}" on frontmatter update`,i),n.metadata=i,this.notifyFileCacheListeners(n,"frontmatter")}notifyFileCacheListeners(e,t,n,i){for(let a of e.subscriptions)if(!(i&&i===a.uuid)&&a.bindTarget!==void 0&&a.bindTarget.storageType===t)if(n){if(GA(n.toStringArray(),a.bindTarget.storageProp.toStringArray(),a.bindTarget.listenToChildren)){let o=this.getPropertyFromCache(e,a.bindTarget.storageType,a.bindTarget.storageProp);console.debug(`meta-bind | MetadataManager >> notifying input field ${a.uuid} of updated metadata value`,o),a.notify(o)}}else{let o=this.getPropertyFromCache(e,a.bindTarget.storageType,a.bindTarget.storageProp);console.debug(`meta-bind | MetadataManager >> notifying input field ${a.uuid} of updated metadata`,a.bindTarget.storageProp,e.metadata,o),a.notify(o)}}deleteCacheInstantly(e){let t=this.getCacheForFile(e);if(t!==void 0){for(let n of t.subscriptions)n.delete();this.cache.delete(e)}}getPropertyFromCache(e,t,n){if(t==="frontmatter")return ca.tryGet(e.metadata,n);if(t==="memory")return ca.tryGet(e.memory,n);if(t==="globalMemory"){if(this.globalCache!==e)throw new fn({errorLevel:"CRITICAL",effect:"can not get property from cache",cause:"cache is not the global cache"});return ca.tryGet(e.memory,n)}throw new fn({errorLevel:"CRITICAL",effect:"can not get property from cache",cause:`bind target storage type "${t}" is not supported`})}};var WA=require("obsidian");var mn=class extends WA.MarkdownRenderChild{constructor(e,t,n,i,a){super(e),this.renderChildType=t,this.plugin=n,this.filePath=i,this.uuid=a,this.errorCollection=new vr(this.uuid)}};var Po=class extends mn{constructor(e,t,n,i,a,o){super(e,t,i,a,o),this.errorCollection.merge(n.errorCollection),this.fullDeclaration=n.fullDeclaration,this.inputFieldDeclaration=n}getArguments(e){if(this.inputFieldDeclaration.errorCollection.hasErrors())throw new fn({errorLevel:"CRITICAL",effect:"can not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.inputFieldDeclaration.argumentContainer.getAll(e)}getArgument(e){return this.getArguments(e).at(0)}getBindTarget(){return this.inputFieldDeclaration.bindTarget}getUuid(){return this.uuid}getFilePath(){return this.filePath}shouldAddCardContainer(){let e=this.inputFieldDeclaration.inputFieldType==="select"||this.inputFieldDeclaration.inputFieldType==="multi_select"||this.inputFieldDeclaration.inputFieldType==="multiSelect"||this.inputFieldDeclaration.inputFieldType==="list",t=vd(this.getArgument("showcase"))||vd(this.getArgument("title"));return this.renderChildType==="block"&&(e||t)}createErrorIndicator(e){new Jn({target:e,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}})}createWrapper(){let e=this.getArgument("title");if(this.shouldAddCardContainer()){let t=this.containerEl.createDiv({cls:"mb-card"});return e&&t.createEl("h3",{text:e.value}),t}else return this.containerEl}addShowcaseArgument(e){let t=this.getArgument("showcase");this.shouldAddCardContainer()&&t&&e.createEl("code",{cls:"mb-none"}).createEl("a",{text:this.fullDeclaration,href:wt.linkToInputField(this.inputFieldDeclaration.inputFieldType),cls:"mb-no-link"})}createInputField(){if(!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this.inputFieldDeclaration.inputFieldType,this.renderChildType,this)}catch(e){this.errorCollection.add(e)}!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new fn({errorLevel:"CRITICAL",effect:"can't render input field",cause:"input field is undefined"}))}onload(){var i;if(console.log("meta-bind | InputFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-input"),this.containerEl.empty(),this.plugin.mdrcManager.registerMDRC(this),this.createInputField(),this.errorCollection.hasErrors()){this.createErrorIndicator(this.containerEl);return}let e=this.createWrapper();this.createErrorIndicator(e);let t=e.createDiv();t.addClass("mb-input-wrapper"),(i=this.inputField)==null||i.mount(t);let n=this.getArguments("class");n&&t.addClasses(n.map(a=>a.value).flat()),this.renderChildType==="block"?this.containerEl.addClass("mb-input-block"):this.containerEl.addClass("mb-input-inline"),this.addShowcaseArgument(e)}onunload(){var e;console.log("meta-bind | InputFieldMarkdownRenderChild >> unload",this),(e=this.inputField)==null||e.destroy(),this.plugin.mdrcManager.unregisterMDRC(this),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind input field",cls:"mb-error"}),super.onunload()}};var zr=gr(ui()),Xn=gr(si());var dn=gr(ui()),eD=gr(si());var qr=gr(ui()),Pa=gr(si()),En=qr.P.sequence(Pa.P_UTILS.unicodeLetter(),qr.P.or(Pa.P_UTILS.unicodeAlphanumeric(),qr.P.oneOf("-_")).many()).map(r=>r[0]+r[1].join("")).describe("identifier"),YA=qr.P.sequenceMap((r,e)=>r+e.map(t=>t[0]+t[1]).join(""),En,qr.P.sequence(Pa.P_UTILS.optionalWhitespace(),En).many()).describe("identifier with spaces"),tV=qr.P.string("\\").then(Pa.P_UTILS.any()).map(r=>r==="'"?"'":r==="\\"?"\\":"\\"+r);function XA(r){return qr.P.or(tV,qr.P.noneOf(r+"\\")).many().map(e=>e.join("")).trim(qr.P.string(r))}var Sd=XA("'"),QA=XA('"');function On(r,e){return{value:r,position:e}}var Nd=qr.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),rV=qr.P.or(Sd,Nd).node(On),nV=qr.P.separateBy(rV,qr.P.string(",").describe('argument value separator ","').trim(Pa.P_UTILS.optionalWhitespace())),iV=qr.P.sequenceMap((r,e)=>({name:r,value:e}),En.node(On),nV.trim(Pa.P_UTILS.optionalWhitespace()).wrap(qr.P.string("(").describe('argument value paren "("'),qr.P.string(")").describe('argument value paren ")"')).optional([])),Tu=qr.P.separateBy(iV,qr.P.string(",").describe('argument separator ","').trim(Pa.P_UTILS.optionalWhitespace()));var Nc=class{constructor(e,t,n){this.parent=e,this.access=t,this.child=n}};function aV(r,e){return r[e]}function KA(r,e,t){r[e]=t}var Ro=class{constructor(e,t){if(this.type=e,this.prop=e==="object"?t:"",this.index=e==="array"?Number(t):0,Number.isNaN(this.index))throw new Error("can not access array with non number index")}get(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");return new Nc(e,this,aV(e,this.prop))}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");return new Nc(e,this,e[this.index])}}set(e,t){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");KA(e,this.prop,t)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=t}}create(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");KA(e,this.prop,void 0)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=void 0}}};var Fu=dn.P.manyNotOf("{}[]#^|:?").box("file path"),tD=En.node((r,e)=>({type:"object",prop:On(r,e)})),Md=dn.P.or(eD.P_UTILS.digits().wrap(dn.P.string("["),dn.P.string("]")).node((r,e)=>({type:"array",prop:On(r,e)})),QA.wrap(dn.P.string("["),dn.P.string("]")).node((r,e)=>({type:"object",prop:On(r,e)}))),oV=dn.P.or(dn.P.sequenceMap(r=>({storagePath:void 0,listenToChildren:!1,storageProp:r}),Md.atLeast(1)),dn.P.sequenceMap((r,e)=>({storagePath:void 0,listenToChildren:!1,storageProp:[r,...e]}),tD,Md.many())),sV=dn.P.sequenceMap((r,e)=>[r,...e],tD,Md.many()),Fd=dn.P.sequenceMap((r,e)=>(r.storageProp=r.storageProp.concat(e.flat()),r),oV,dn.P.string(".").then(sV).many()),Vi=dn.P.sequenceMap((r,e,t)=>(t.storageType=r,t.storagePath=e,t),En.describe("storage type").node(On).skip(dn.P.string("^").describe('storage type separator "^"')).optional(),Fu.describe("storage path").node(On).skip(dn.P.string("#").describe('storage/file path separator "#"')).optional(),Fd.describe("property path")).box("bind target");var uV=zr.P.string("\\").then(Xn.P_UTILS.any()).map(r=>r==="["?"[":r==="]"?"]":r==="{"?"{":r==="}"?"}":r==="\\"?"\\":"\\"+r),Mc=zr.P.sequenceMap((r,e)=>r+e.flat().join(""),zr.P.manyNotOf("{}[]\\"),zr.P.sequence(uV,zr.P.manyNotOf("{}[]\\")).many()).box("View Field Content"),lV=zr.P.sequenceMap((r,e)=>[r,...e.flat()],Mc,zr.P.sequence(Vi.wrapString("{","}"),Mc).many()),cV=zr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{viewFieldType:r,writeToBindTarget:n,arguments:e,templateDeclaration:void 0}},En.node(On).trim(Xn.P_UTILS.optionalWhitespace()).optional().describe("input field type"),Tu.trim(Xn.P_UTILS.optionalWhitespace()).wrapString("(",")").trim(Xn.P_UTILS.optionalWhitespace()).optional([]),zr.P.sequence(zr.P.string(":").trim(Xn.P_UTILS.optionalWhitespace()),Vi).trim(Xn.P_UTILS.optionalWhitespace()).optional()),Id=zr.P.sequenceMap((r,e,t,n)=>n===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(n.templateDeclaration=e,n),zr.P.string("VIEW"),lV.wrapString("[","]"),Xn.P_UTILS.optionalWhitespace(),cV.wrapString("[","]").optional(),Xn.P_UTILS.eof()),fV=zr.P.sequenceMap((r,e,t,n)=>(e!==void 0&&(r.listenToChildren=!0),{bindTarget:r,name:n}),Vi.wrapString("{","}"),zr.P.string(" and children").optional(),zr.P.string(" as "),En),rD=zr.P.sequenceMap((r,e,t)=>({bindTargetMappings:r,writeToBindTarget:e,code:t}),fV.separateBy(Xn.P_UTILS.whitespace()).skip(Xn.P_UTILS.whitespace()),zr.P.string("save to ").then(Vi.wrapString("{","}")).skip(Xn.P_UTILS.whitespace()).optional(),zr.P.string("---").then(Xn.P_UTILS.remaining()));function Yr(r,e){let t=r.tryParse(e);if(t.success)return t.value;throw new Iu("ERROR","parsiNOM parser",e,t)}var Iu=class extends Vr{constructor(e,t,n,i){super({errorLevel:e,effect:"failed to parse",cause:`expected ${i.expected.sort().join(" or ")}`}),this.str=n,this.parseFailure=i,this.source=t,this.updateMessage2()}getErrorType(){return"MB_PARSINOM"}updateMessage2(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`;let t=this.str.split(`
`)[this.parseFailure.furthest.line-1],n=`${this.parseFailure.furthest.line} |   `;this.positionContext=`${n}${t}`,this.positionContext+=`
${this.getUnderline(n.length)}
`,this.message+=`
`+this.positionContext}getUnderline(e){let t=" ".repeat(this.parseFailure.furthest.column+e-1),n=`^ (${this.cause})`;return t+n}},Or=class extends Vr{constructor(e,t,n,i,a,o){super({errorLevel:e,effect:"failed to validate parser result",cause:n,docs:o}),this.str=i,this.position=a,this.source=t,this.updateMessage2()}getErrorType(){return"MB_VALIDATION"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`,this.str&&this.position){let t=this.str.split(`
`)[this.position.from.line-1],n=`${this.position.from.line} |   `;this.positionContext=`${n}${t}`,this.positionContext+=`
${this.getUnderline(n.length,t.length)}
`,this.message+=`
`+this.positionContext}}getUnderline(e,t){if(this.position===void 0)return"";let n=" ".repeat(this.position.from.column+e-1),i=this.position.to.line===this.position.from.line?this.position.to.column:t,a="^".repeat(i-this.position.from.column);return n+a}};var _s=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let t of Object.values(Nr))e[t]=0;for(let t of this.arguments){let n=t.getConfig();if(e[n.type]+=1,e[n.type]>1&&!n.allowMultiple)throw new sr({errorLevel:"ERROR",effect:"failed to validate argument container",cause:`argument '${n.type}' does not allow duplicates`,docs:[wt.linkToSearch(n.type)]})}}mergeByOverride(e){for(let t of e.arguments){let n=t.getConfig();n.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==n.type)),this.arguments.push(t)}return this.validate(),this}mergeByThrow(e){for(let t of e.arguments){let n=t.getConfig();if(!n.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===n.type).length>0)throw new sr({errorLevel:"ERROR",effect:"failed to merge argument container",cause:"can not merge FieldArgumentContainers, since arguments overlap"});this.arguments.push(t)}return this.validate(),this}getAll(e){return this.arguments.filter(t=>t.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var As=class extends _s{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Ds=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,t){if(t.find(n=>n.length===e.length)===void 0)throw new sr({errorLevel:"WARNING",effect:`Failed to parse argument value for argument '${this.getConfig().type}'.`,cause:`Expected argument values to follow the form ${t.map(n=>n.length===0?"none":n.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`,docs:[wt.linkToSearch(this.getConfig().type)]})}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var Es=class extends Ds{};var Tc=class extends Es{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return pc.renderMarkdown}};var Fc=class extends Es{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return pc.hidden}};var nD={renderMarkdown:Tc,hidden:Fc},Ic=class{static createViewFieldArgument(e){if(e in nD){let t=nD[e];if(t)return new t}throw new na({errorLevel:"WARNING",effect:"can not crate view field argument",cause:`unknown argument '${e}'`})}};var Bc=class{constructor(e,t,n){this.unvalidatedDeclaration=e,this.plugin=n,this.filePath=t,this.errorCollection=new vr("view field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a=this.validateTemplateDeclaration(e),o={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,viewFieldType:t,writeToBindTarget:n,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let t of Object.entries(Eu))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new Or("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.writeToBindTarget,this.filePath,e)}validateArguments(e){let t=new As;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=Ic.createViewFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new Or("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(xs))if(t[1]===e.value)return t[1];return this.errorCollection.add(new Or("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}validateTemplateDeclaration(e){var t,n;try{return(n=(t=this.unvalidatedDeclaration.templateDeclaration)==null?void 0:t.map(i=>typeof i=="string"?i:this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,i,this.filePath,e)))!=null?n:[]}catch(i){return this.errorCollection.add(i),[]}}};var Oc=class{constructor(e){this.plugin=e}parseString(e,t,n){let i=new vr("ViewFieldDeclaration");try{let a=Yr(Id,e);return a.fullDeclaration=e,a.errorCollection=i,a.arguments=[...a.arguments],this.validateDeclaration(a,t,n)}catch(a){i.add(a)}return{fullDeclaration:e,errorCollection:i,templateDeclaration:[],viewFieldType:"invalid",argumentContainer:new As,writeToBindTarget:void 0}}parseStringWithoutValidation(e){let t=new vr("ViewFieldDeclaration");try{let n=Yr(Id,e);return n.fullDeclaration=e,n.errorCollection=t,n.arguments=[...n.arguments],n}catch(n){t.add(n)}return{fullDeclaration:e,errorCollection:t,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}validateDeclaration(e,t,n){return new Bc(e,t,this.plugin).validate(n)}parseJsString(e,t){let n={};n.errorCollection=new vr("JsViewFieldDeclaration"),n.fullDeclaration=e;try{let i=Yr(rD,e);n.bindTargetMappings=i.bindTargetMappings.map(a=>({bindTarget:this.plugin.api.bindTargetParser.validateBindTarget(e,a.bindTarget,t),name:a.name})),i.writeToBindTarget!==void 0&&(n.writeToBindTarget=this.plugin.api.bindTargetParser.validateBindTarget(e,i.writeToBindTarget,t)),n.code=i.code}catch(i){n.errorCollection.add(i)}return n}};var Cs=class r{constructor(e){this.path=e}get(e){if(this.path.length===0)throw new Error("can not use empty path to access object");let t=this.path[0].get(e);for(let n of this.path.slice(1))t=n.get(t.child);return t}tryGet(e){try{return this.get(e)}catch(t){return}}set(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);for(let i of this.path.slice(1))n=i.get(n.child);n.access.set(n.parent,t)}setAndCreate(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(0,t)),n=n.access.get(n.parent));for(let i=1;i<this.path.length;i++)n=this.path[i].get(n.child),n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(i,t)),n=n.access.get(n.parent));n.access.set(n.parent,t)}getNextPathElement(e){return this.path[e+1]}getNextPathElementValue(e,t){let n=this.getNextPathElement(e);return n===void 0?t:n.type==="object"?{}:[]}toStringArray(){return this.path.map(e=>e.prop)}toString(){return this.toStringArray().join(".")}concat(e){return new r(this.path.concat(e.path))}};var Pc=class{constructor(e){this.plugin=e}parseAndValidateBindTarget(e,t,n){return this.validateBindTarget(e,this.parseBindTarget(e),t,n)}parseBindTarget(e){return Yr(Vi,e)}validateBindTarget(e,t,n,i){let a={};if(a.storageProp=new Cs(t.storageProp.map(o=>new Ro(o.type,o.prop.value))),t.storageType===void 0?a.storageType="frontmatter":a.storageType=this.validateStorageType(t.storageType,e),a.storageType==="frontmatter")t.storagePath===void 0?a.storagePath=this.validateStoragePathAsFilePath({value:n},e):a.storagePath=this.validateStoragePathAsFilePath(t.storagePath,e);else if(a.storageType==="memory")t.storagePath===void 0?a.storagePath=this.validateStoragePathAsFilePath({value:n},e):a.storagePath=this.validateStoragePathAsFilePath(t.storagePath,e);else if(a.storageType==="globalMemory"){if(t.storagePath!==void 0)throw new Or("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage type GLOBAL_MEMORY does not support a storage path.",e,t.storagePath.position);a.storagePath=""}else if(a.storageType==="scope"){if(t.storagePath!==void 0)throw new Or("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage type SCOPE does not support a storage path.",e,t.storagePath.position);a.storagePath="",this.resolveScope(a,i)}return a.listenToChildren=t.listenToChildren,a}resolveScope(e,t){if(t===void 0)throw new Or("ERROR","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return console.log("resolve scope",e,t.scope),e.storageType=t.scope.storageType,e.storagePath=t.scope.storagePath,e.storageProp=t.scope.storageProp.concat(e.storageProp),e}validateStorageType(e,t){for(let n of Object.entries(Mu))if(n[1]===(e==null?void 0:e.value))return n[1];throw new Or("ERROR","Bind Target Validator",`Encountered invalid identifier. Expected token to be a storage type but received '${e==null?void 0:e.value}'.`,t,e==null?void 0:e.position)}validateStoragePathAsFilePath(e,t){let n=e==null?void 0:e.value;if(n===void 0)throw new Or("ERROR","Bind Target Validator","Failed to parse bind target. Bind target storage path is undefined.",t,e==null?void 0:e.position);let i=this.plugin.internal.getFilePathByName(n);if(i===void 0)throw new Or("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${n}' not found.`,t,e==null?void 0:e.position);return i}};var Ss=class{constructor(){this.listeners=[]}registerListener(e){let t=e;return t.uuid=jt(),this.listeners.push(t),t}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(t=>t.uuid!==e)}notifyListeners(e){for(let t of this.listeners)t.callback(e)}},Pr=class extends Ss{constructor(e){super(),this.value=e}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}},Rc=class extends Ss{constructor(e,t){super(),this.dependency=e,this.value=t(e.get()),this.dependencyListener=e.registerListener({callback:n=>this.set(t(n))})}get(){return this.value}set(e){this.value=e,this.notifyListeners(e)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var Ns=class extends mn{};var Ms=class extends Ns{constructor(e,t,n,i,a,o){var l,u;if(super(e,t,i,a,o),this.errorCollection.merge(n.errorCollection),this.fullDeclaration=n.fullDeclaration,this.viewFieldDeclaration=n,this.variables=[],this.inputSignal=new Pr(void 0),this.errorCollection.isEmpty())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(n.viewFieldType,this),this.variables=(u=(l=this.viewField)==null?void 0:l.buildVariables(this.viewFieldDeclaration))!=null?u:[]}catch(s){this.errorCollection.add(s)}}registerSelfToMetadataManager(){try{this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,this.inputSignal,this.viewFieldDeclaration.writeToBindTarget,this.variables.map(e=>({bindTarget:e.bindTargetDeclaration,callbackSignal:e.inputSignal})),async()=>{var e;return await((e=this.viewField)==null?void 0:e.computeValue(this.variables))},()=>this.unload()),this.inputSignal.registerListener({callback:e=>{var t;return void((t=this.viewField)==null?void 0:t.update(e))}})}catch(e){this.errorCollection.add(e)}}unregisterSelfFromMetadataManager(){var e;(e=this.metadataSubscription)==null||e.unsubscribe()}getArguments(e){if(this.viewFieldDeclaration.errorCollection.hasErrors())throw new fn({errorLevel:"ERROR",effect:"an not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.viewFieldDeclaration.argumentContainer.getAll(e)}getArgument(e){return this.getArguments(e).at(0)}onload(){var t;if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),this.plugin.mdrcManager.registerMDRC(this),this.errorCollection.hasErrors()||this.registerSelfToMetadataManager(),new Jn({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;let e=createDiv();e.addClass("mb-view-wrapper"),(t=this.viewField)==null||t.render(e),this.containerEl.appendChild(e)}onunload(){var e;console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),(e=this.viewField)==null||e.destroy(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}};function Bd(r){var e;return(e=r.plugins.getPlugin("js-engine"))==null?void 0:e.api}var kc=class extends Ns{constructor(e,t,n,i,a,o){var l;if(super(e,t,i,a,o),this.errorCollection.merge(n.errorCollection),this.fullDeclaration=n.fullDeclaration,this.viewFieldDeclaration=n,this.variables=[],this.file=this.plugin.app.vault.getAbstractFileByPath(this.filePath),this.errorCollection.isEmpty())try{for(let u of(l=this.viewFieldDeclaration.bindTargetMappings)!=null?l:[])this.variables.push({bindTargetDeclaration:u.bindTarget,inputSignal:new Pr(void 0),uuid:jt(),contextName:u.name})}catch(u){this.errorCollection.add(u)}}buildContext(){var t,n;let e={};for(let i of(t=this.variables)!=null?t:[])!i.contextName||!i.inputSignal||(e[i.contextName]=(n=i.inputSignal.get())!=null?n:"");return e}async evaluateExpression(){if(!this.plugin.settings.enableJs)throw new bo({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"JS expressions are disabled in the plugin settings."});let e=Bd(this.plugin.app);if(e===void 0)throw new bo({errorLevel:"ERROR",effect:"can not evaluate js view field",cause:"js view fields need the JS Engine plugin to be installed"});return await e.internal.execute({code:this.viewFieldDeclaration.code,context:{file:this.file,line:0,metadata:this.plugin.app.metadataCache.getFileCache(this.file)},container:this.renderContainer,component:this,contextOverrides:{bound:this.buildContext()}})}registerSelfToMetadataManager(){let e=new Pr(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,e,this.viewFieldDeclaration.writeToBindTarget,this.variables.map(t=>({bindTarget:t.bindTargetDeclaration,callbackSignal:t.inputSignal})),async()=>await this.update(),()=>this.unload())}unregisterSelfFromMetadataManager(){var e;(e=this.metadataSubscription)==null||e.unsubscribe()}async onload(){if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),this.plugin.mdrcManager.registerMDRC(this),Bd(this.plugin.app)===void 0&&this.errorCollection.add(new bo({errorLevel:"ERROR",effect:"can not create js view field",cause:"js view fields need the JS Engine plugin to be installed"})),new Jn({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;this.registerSelfToMetadataManager();let e=createDiv();e.addClass("mb-view-wrapper"),this.renderContainer=e,await this.update(),this.containerEl.appendChild(e)}onunload(){console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}async update(){if(this.renderContainer)try{let e=Bd(this.plugin.app);if(e===void 0)throw new bo({errorLevel:"ERROR",effect:"can not evaluate js view field",cause:"js view fields need the JS Engine plugin to be installed"});let t=await this.evaluateExpression(),n=e.internal.createRenderer(this.renderContainer,this.filePath,this);return await n.render(t.result),n.convertToSimpleObject(t.result)}catch(e){e instanceof Error&&(this.renderContainer.innerText=e.message,this.renderContainer.addClass("mb-error"));return}}};var Ts=class extends _s{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Zt=class extends Ds{};var Lc=class extends Zt{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return tr.class}};var Vc=class extends Zt{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return tr.addLabels}};var Uc=class extends Zt{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'minValue' must be of type number",docs:[wt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return tr.minValue}};var qc=class extends Zt{constructor(){super(...arguments);this.value=100}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'maxValue' must be of type number",docs:[wt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return tr.maxValue}};var Ra=gr(ui()),Bu=gr(si());var Cn=gr(ui());var iD=gr(si());var pV=Cn.P.sequence(Fu,Cn.P.string("#").then(Cn.P.manyNotOf("[]#|^:")).optional(),Cn.P.string("|").then(Cn.P.manyNotOf("[]")).optional()),Od=Cn.P.or(Cn.P.sequenceMap((r,e)=>({isEmbed:r!==void 0,target:e[0],block:e[1],alias:e[2],internal:!0}),Cn.P.string("!").optional(),pV.wrapString("[[","]]")),Cn.P.sequenceMap((r,e,t)=>{let n=!Nu(t);return{isEmbed:r!==void 0,target:t,block:void 0,alias:e,internal:n}},Cn.P.string("!").optional(),Cn.P.manyNotOf("[]").wrapString("[","]"),Cn.P.manyNotOf("()").wrapString("(",")"))),mV=Cn.P.separateBy(Od,Cn.P.string(",").trim(iD.P_UTILS.optionalWhitespace())),nn=class r{static parseLink(e){return Yr(Od.thenEof(),e)}static parseLinkList(e){return Yr(mV.thenEof(),e)}static isLink(e){return Od.thenEof().tryParse(e).success}static urlToLink(e){return{isEmbed:!1,target:e.href,block:void 0,alias:e.hostname,internal:!1}}static parseLinkOrUrl(e){return Nu(e)?r.urlToLink(new URL(e)):r.parseLink(e)}};var oD=Ra.P.sequenceMap((r,e)=>r===void 0?e:-e,Ra.P.string("-").optional(),Ra.P.or(Ra.P.sequenceMap((r,e,t)=>Number(r+e+t),Bu.P_UTILS.digits(),Ra.P.string("."),Bu.P_UTILS.digits()),Bu.P_UTILS.digits().map(r=>Number(r)))).thenEof(),sD=Ra.P.sequenceMap((r,e)=>r===void 0?e:-e,Ra.P.string("-").optional(),Bu.P_UTILS.digits().map(r=>Number(r))).thenEof();function fa(r){if(r.toLowerCase()==="null")return null;if(r==="true")return!0;if(r==="false")return!1;{let e=oD.tryParse(r);return e.success?e.value:r}}function Ou(r){return r===void 0||r===null?"":typeof r=="string"?r:typeof r=="boolean"?r?"true":"false":r.toString()}function ka(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"}function Ui(r){if(r!==void 0){if(ka(r))return[r];if(typeof r=="object"&&Array.isArray(r))return r.filter(e=>ka(e))}}function Fs(r){if(typeof r=="number")return r;if(typeof r=="string"){let e=oD.tryParse(r);if(e.success)return e.value}}function Is(r){return ka(r)?Ou(r):void 0}function La(r){return ka(r)?r:void 0}function zc(r,e){return Array.isArray(r)?r.map(t=>Pd(t,e)).filter(t=>t!=="").join(", "):Pd(r,e)}function Pd(r,e){return r==null?e?"":"null":typeof r=="function"?"<function>":typeof r=="object"||Array.isArray(r)?JSON.stringify(r):r.toString()}function uD(r,e){return Array.isArray(r)?r.map(t=>aD(t,e)).filter(t=>t!==""):aD(r,e)}function aD(r,e){return typeof r=="string"?nn.isLink(r)?nn.parseLink(r):Nu(r)?nn.urlToLink(new URL(r)):r:Pd(r,e)}var $c=class extends Zt{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(t){t.length===1?(this.value=fa(t[0].value),this.name=t[0].value):t.length===2&&(this.value=fa(t[0].value),this.name=t[1].value)}getConfig(){return tr.option}};var Hc=class extends Zt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return tr.title}};var Gc=class extends Zt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return tr.optionQuery}};var Wc=class extends Zt{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return tr.showcase}};var jc=class extends Zt{constructor(){super(...arguments);this.value=!1}_parseValue(t){this.value=fa(t[0].value)}getConfig(){return tr.offValue}};var Zc=class extends Zt{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=fa(t[0].value)}getConfig(){return tr.onValue}};var Jc=class extends Zt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=fa(t[0].value)}getConfig(){return tr.defaultValue}};var Yc=class extends Zt{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return tr.placeholder}};var Xc=class extends Zt{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return tr.useLinks}};var Qc=class extends Zt{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be of type number",docs:[wt.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be a positive number",docs:[wt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return tr.stepSize}};var Kc=class extends Zt{constructor(){super(...arguments);this.value=void 0}_parseValue(t){if(this.value=Number.parseInt(t[0].value),Number.isNaN(this.value))throw new sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be of type number",docs:[wt.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new sr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be a positive number",docs:[wt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return tr.limit}};var lD={class:Lc,addLabels:Vc,minValue:Uc,maxValue:qc,stepSize:Qc,option:$c,title:Hc,optionQuery:Gc,showcase:Wc,offValue:jc,onValue:Zc,defaultValue:Jc,placeholder:Yc,useLinks:Xc,limit:Kc},ef=class{static createInputFieldArgument(e){if(e in lD){let t=lD[e];if(t)return new t}throw new na({errorLevel:"WARNING",effect:"can not crate input field argument",cause:`unknown argument '${e}'`})}};var Pu=class{constructor(e,t,n){this.plugin=e,this.unvalidatedDeclaration=t,this.filePath=n,this.errorCollection=new vr("input field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,inputFieldType:t,bindTarget:n,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let t of Object.entries(ys))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new Or("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e==null?void 0:e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e==null?void 0:e.position)),"invalid"}checkForDeprecation(e){var t;(e.inputFieldType==="date_picker"||e.inputFieldType==="text_area"||e.inputFieldType==="multi_select")&&this.errorCollection.add(new Or("WARNING","Declaration Validator",`'${e.inputFieldType}' is deprecated, as it has been renamed to be in camel case ('input_field_type' => 'inputFieldType').`,this.unvalidatedDeclaration.fullDeclaration,(t=this.unvalidatedDeclaration.inputFieldType)==null?void 0:t.position))}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.bindTarget,this.filePath,e)}validateArguments(e){let t=new Ts;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=ef.createInputFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new Or("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(Nr))if(t[1]===e.value)return t[1];return this.errorCollection.add(new Or("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}};var pr=gr(ui());var hn=gr(si());var dV=pr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},En.node(On).trim(hn.P_UTILS.optionalWhitespace()).describe("input field type"),Tu.trim(hn.P_UTILS.optionalWhitespace()).wrap(pr.P.string("(").describe('arguments paren "("'),pr.P.string(")").describe('arguments paren ")"')).trim(hn.P_UTILS.optionalWhitespace()).optional([]),pr.P.sequence(pr.P.string(":").trim(hn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),Vi).trim(hn.P_UTILS.optionalWhitespace()).optional()),cD=pr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},En.node(On).trim(hn.P_UTILS.optionalWhitespace()).optional().describe("input field type"),Tu.trim(hn.P_UTILS.optionalWhitespace()).wrap(pr.P.string("(").describe('arguments paren "("'),pr.P.string(")").describe('arguments paren ")"')).trim(hn.P_UTILS.optionalWhitespace()).optional([]),pr.P.sequence(pr.P.string(":").trim(hn.P_UTILS.optionalWhitespace()).describe('bind target separator ":"'),Vi).trim(hn.P_UTILS.optionalWhitespace()).optional()),Rd=pr.P.or(pr.P.sequenceMap((r,e,t)=>(t.templateName=e,t),pr.P.string("INPUT"),pr.P.sequenceMap((r,e,t)=>e,pr.P.string("["),YA.node(On).trim(hn.P_UTILS.optionalWhitespace()).describe("template name"),pr.P.string("]").skip(hn.P_UTILS.optionalWhitespace())),cD.wrap(pr.P.string("["),pr.P.string("]")),hn.P_UTILS.eof()),pr.P.sequenceMap((r,e)=>e,pr.P.string("INPUT"),dV.wrap(pr.P.string("["),pr.P.string("]")),hn.P_UTILS.eof())),fD=pr.P.sequenceMap((r,e)=>e,pr.P.string("INPUT"),cD.wrap(pr.P.string("["),pr.P.string("]")),hn.P_UTILS.eof());var tf=class{constructor(e){this.plugin=e,this.templates=[]}parseString(e,t,n){let i=new vr("InputFieldParser");try{let a=Yr(Rd,e);return a.fullDeclaration=e,a.errorCollection=i,a.arguments=[...a.arguments],a=this.applyTemplate(a),new Pu(this.plugin,a,t).validate(n)}catch(a){i.add(a)}return{fullDeclaration:e,inputFieldType:"invalid",bindTarget:void 0,argumentContainer:new Ts,errorCollection:i}}parseStringWithoutValidation(e){let t=new vr("InputFieldParser");try{let n=Yr(Rd,e);return n.fullDeclaration=e,n.errorCollection=t,n.arguments=[...n.arguments],n}catch(n){t.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}validateDeclaration(e,t,n){return new Pu(this.plugin,e,t).validate(n)}parseTemplateString(e){let t=new vr("InputFieldParser");try{let n=Yr(fD,e);return n.fullDeclaration=e,n.errorCollection=t,n.arguments=[...n.arguments],n}catch(n){t.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}parseTemplates(e){this.templates=[];let t=new vr("input field template parser");for(let n of e){let i=this.parseTemplateString(n.declaration);t.merge(i.errorCollection);let a={name:n.name,template:i};this.templates.push(Su(a))}return t}getTemplate(e){var t;return(t=this.templates.find(n=>n.name===e))==null?void 0:t.template}applyTemplate(e){if(e.templateName===void 0)return e;let t=this.getTemplate(e.templateName.value);return t===void 0?(e.errorCollection.add(new Or("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`,e.fullDeclaration,e.templateName.position,["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/templates/"])),e):this.plugin.api.inputField.merge(t,e)}};var rf=class{constructor(e){this.api=e}createInputFieldDeclaration(e,t){let n=new vr("input field declaration"),i=(t!=null?t:[]).map(a=>({name:{value:a.name},value:a.value.map(o=>({value:o}))}));return{fullDeclaration:"",inputFieldType:e?{value:e}:void 0,bindTarget:void 0,arguments:i,errorCollection:n}}createInputFieldDeclarationFromString(e){return this.api.inputFieldParser.parseStringWithoutValidation(e)}setType(e,t){return e.inputFieldType={value:t},e}setArguments(e,t){return e.arguments=t.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))})),e}addArgument(e,t){return Array.isArray(t)?e.arguments=e.arguments.concat(t.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))}))):e.arguments.push({name:{value:t.name},value:t.value.map(n=>({value:n}))}),e}setBindTargetFile(e,t){return e.bindTarget?e.bindTarget.storagePath={value:t}:e.bindTarget={storagePath:{value:t},storageProp:[],listenToChildren:!1},e}setBindTargetMetadataField(e,t){return typeof t=="string"&&(t=[t]),e.bindTarget?e.bindTarget.storageProp=t.map(n=>({type:"object",prop:{value:n}})):e.bindTarget={storagePath:void 0,storageProp:t.map(n=>({type:"object",prop:{value:n}})),listenToChildren:!1},e}setTemplateName(e,t){return e.templateName={value:t},e}applyTemplate(e){return this.api.inputFieldParser.applyTemplate(e)}getTemplate(e){return this.api.inputFieldParser.getTemplate(e)}merge(e,t){var i,a,o;let n={};return e.bindTarget===void 0?n=t.bindTarget:(n=e.bindTarget,((i=t.bindTarget)==null?void 0:i.storagePath)!==void 0&&(n.storagePath=t.bindTarget.storagePath),((a=t.bindTarget)==null?void 0:a.storageProp)!==void 0&&(n.storageProp=t.bindTarget.storageProp)),{fullDeclaration:t.fullDeclaration,inputFieldType:(o=t.inputFieldType)!=null?o:e.inputFieldType,bindTarget:n,arguments:t.arguments.concat(e.arguments).reduce((l,u)=>(l.find(s=>s.name===u.name)===void 0&&l.push(u),l),[]),errorCollection:new vr("input field declaration").merge(e.errorCollection).merge(t.errorCollection)}}};var nf=class extends mn{onload(){console.log("meta-bind | ExcludedMDRC >> load",this),this.plugin.mdrcManager.registerMDRC(this),this.containerEl.empty(),this.containerEl.createEl("span",{text:"[META_BIND] This folder has been excluded in the settings",cls:"mb-error"})}onunload(){console.log("meta-bind | ExcludedMDRC >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this)}};var af=class{constructor(e){this.scope=e}};var pD=require("obsidian");function hV(r){let e,t;return{c(){e=j("td"),t=j("div")},m(n,i){Y(n,e,i),z(e,t),r[3](t)},p:Se,i:Se,o:Se,d(n){n&&J(e),r[3](null)}}}function gV(r,e,t){let{table:n}=e,{cell:i}=e,a,o;tn(()=>{o=new pD.Component,o.load(),n.createCell(i,a,o)}),mo(()=>{o.unload()});function l(u){Ir[u?"unshift":"push"](()=>{a=u,t(0,a)})}return r.$$set=u=>{"table"in u&&t(1,n=u.table),"cell"in u&&t(2,i=u.cell)},[a,n,i,l]}var kd=class extends Ve{constructor(e){super(),qe(this,e,gV,hV,Ue,{table:1,cell:2})}},mD=kd;function dD(r,e,t){let n=r.slice();return n[7]=e[t],n}function hD(r,e,t){let n=r.slice();return n[10]=e[t],n[11]=e,n[12]=t,n}function gD(r,e,t){let n=r.slice();return n[13]=e[t],n}function vD(r){let e,t=r[13]+"",n;return{c(){e=j("th"),n=Re(t)},m(i,a){Y(i,e,a),z(e,n)},p(i,a){a&2&&t!==(t=i[13]+"")&&rt(n,t)},d(i){i&&J(e)}}}function vV(r){let e,t,n;return{c(){e=j("td"),t=Re("invalid data"),L(e,"class","meta-bind-error"),L(e,"colspan",n=r[1].length)},m(i,a){Y(i,e,a),z(e,t)},p(i,a){a&2&&n!==(n=i[1].length)&&L(e,"colspan",n)},i:Se,o:Se,d(i){i&&J(e)}}}function yV(r){let e,t,n=We(r[7].cells),i=[];for(let o=0;o<n.length;o+=1)i[o]=yD(hD(r,n,o));let a=o=>ae(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=or()},m(o,l){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,l);Y(o,e,l),t=!0},p(o,l){if(l&5){n=We(o[7].cells);let u;for(u=0;u<n.length;u+=1){let s=hD(o,n,u);i[u]?(i[u].p(s,l),te(i[u],1)):(i[u]=yD(s),i[u].c(),te(i[u],1),i[u].m(e.parentNode,e))}for(gt(),u=n.length;u<i.length;u+=1)a(u);vt()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)te(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)ae(i[l]);t=!1},d(o){o&&J(e),Ct(i,o)}}}function yD(r){let e,t,n;function i(o){r[4](o,r[10],r[11],r[12])}let a={table:r[0]};return r[10]!==void 0&&(a.cell=r[10]),e=new mD({props:a}),Ir.push(()=>yo(e,"cell",i)),{c(){Fe(e.$$.fragment)},m(o,l){Me(e,o,l),n=!0},p(o,l){r=o;let u={};l&1&&(u.table=r[0]),!t&&l&4&&(t=!0,u.cell=r[10],go(()=>t=!1)),e.$set(u)},i(o){n||(te(e.$$.fragment,o),n=!0)},o(o){ae(e.$$.fragment,o),n=!1},d(o){Te(e,o)}}}function xV(r){let e,t;return e=new ur({props:{iconName:"x"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function xD(r,e){let t,n,i,a,o,l,u,s,c=[yV,vV],f=[];function p(h,d){return h[7].isValid?0:1}n=p(e,-1),i=f[n]=c[n](e);function m(){return e[5](e[7])}return l=new qt({props:{$$slots:{default:[xV]},$$scope:{ctx:e}}}),l.$on("click",m),{key:r,first:null,c(){t=j("tr"),i.c(),a=fe(),o=j("td"),Fe(l.$$.fragment),u=fe(),this.first=t},m(h,d){Y(h,t,d),f[n].m(t,null),z(t,a),z(t,o),Me(l,o,null),z(t,u),s=!0},p(h,d){e=h;let g=n;n=p(e,d),n===g?f[n].p(e,d):(gt(),ae(f[g],1,1,()=>{f[g]=null}),vt(),i=f[n],i?i.p(e,d):(i=f[n]=c[n](e),i.c()),te(i,1),i.m(t,a));let v={};d&65536&&(v.$$scope={dirty:d,ctx:e}),l.$set(v)},i(h){s||(te(i),te(l.$$.fragment,h),s=!0)},o(h){ae(i),ae(l.$$.fragment,h),s=!1},d(h){h&&J(t),f[n].d(),Te(l)}}}function bV(r){let e;return{c(){e=Re("Add Column")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function wV(r){let e,t,n,i,a,o,l,u,s=[],c=new Map,f,p,m,h=We(r[1]),d=[];for(let w=0;w<h.length;w+=1)d[w]=vD(gD(r,h,w));let g=We(r[2]),v=w=>w[7].index;for(let w=0;w<g.length;w+=1){let y=dD(r,g,w),x=v(y);c.set(x,s[w]=xD(x,y))}return p=new qt({props:{$$slots:{default:[bV]},$$scope:{ctx:r}}}),p.$on("click",r[6]),{c(){e=j("div"),t=j("table"),n=j("thead"),i=j("tr");for(let w=0;w<d.length;w+=1)d[w].c();a=fe(),o=j("th"),l=fe(),u=j("tbody");for(let w=0;w<s.length;w+=1)s[w].c();f=fe(),Fe(p.$$.fragment),L(t,"class","mb-html-table"),L(e,"class","mb-table-wrapper")},m(w,y){Y(w,e,y),z(e,t),z(t,n),z(n,i);for(let x=0;x<d.length;x+=1)d[x]&&d[x].m(i,null);z(i,a),z(i,o),z(t,l),z(t,u);for(let x=0;x<s.length;x+=1)s[x]&&s[x].m(u,null);Y(w,f,y),Me(p,w,y),m=!0},p(w,[y]){if(y&2){h=We(w[1]);let _;for(_=0;_<h.length;_+=1){let b=gD(w,h,_);d[_]?d[_].p(b,y):(d[_]=vD(b),d[_].c(),d[_].m(i,a))}for(;_<d.length;_+=1)d[_].d(1);d.length=h.length}y&7&&(g=We(w[2]),gt(),s=os(s,y,v,1,w,g,c,u,Kl,xD,null,dD),vt());let x={};y&65536&&(x.$$scope={dirty:y,ctx:w}),p.$set(x)},i(w){if(!m){for(let y=0;y<g.length;y+=1)te(s[y]);te(p.$$.fragment,w),m=!0}},o(w){for(let y=0;y<s.length;y+=1)ae(s[y]);ae(p.$$.fragment,w),m=!1},d(w){w&&(J(e),J(f)),Ct(d,w);for(let y=0;y<s.length;y+=1)s[y].d();Te(p,w)}}}function _V(r,e,t){let{table:n}=e,{tableHead:i=[]}=e,a=[];function o(c){t(2,a=c)}function l(c,f,p,m){p[m]=c,t(2,a)}let u=c=>n.removeColumn(c.index),s=()=>n.addColumn();return r.$$set=c=>{"table"in c&&t(0,n=c.table),"tableHead"in c&&t(1,i=c.tableHead)},[n,i,a,o,l,u,s]}var Ld=class extends Ve{constructor(e){super(),qe(this,e,_V,wV,Ue,{table:0,tableHead:1,updateTable:3})}get updateTable(){return this.$$.ctx[3]}},bD=Ld;function of(r){return new Cs(r.map(e=>sD.tryParse(e).success?new Ro("array",e):new Ro("object",e)))}var sf=class extends mn{constructor(e,t,n,i,a,o,l,u){super(e,t,n,i,a),this.bindTarget=o,this.tableHead=l,this.columns=u,this.inputSignal=new Pr(void 0),this.outputSignal=new Pr(void 0),this.value=void 0}registerSelfToMetadataManager(){this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:this.updateMetadataManager.bind(this)}),this.metadataSubscription=this.plugin.metadataManager.subscribe(this.uuid,this.inputSignal,this.bindTarget,()=>this.unload())}unregisterSelfFromMetadataManager(){var e;this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(e=this.metadataSubscription)==null||e.unsubscribe()}updateMetadataManager(e){var t;(t=this.metadataSubscription)==null||t.update(e)}updateDisplayValue(e){var n;e=e!=null?e:[];let t=[];for(let i=0;i<e.length;i++)if(typeof e[i]=="object"){let a=new af({storageType:this.bindTarget.storageType,storageProp:this.bindTarget.storageProp.concat(of([i.toString()])),storagePath:this.bindTarget.storagePath,listenToChildren:!1}),o=this.columns.map(l=>"inputFieldType"in l?(console.log("validate",l,this.filePath,a),this.plugin.api.inputFieldParser.validateDeclaration(l,this.filePath,a)):this.plugin.api.viewFieldParser.validateDeclaration(l,this.filePath,a));t.push({cells:o,index:i,value:e[i],isValid:!0})}else t.push({cells:[],index:i,value:e[i],isValid:!1});(n=this.tableComponent)==null||n.updateTable(t)}createCell(e,t,n){let i=jt();if("inputFieldType"in e){let a=new Po(t,"inline",e,this.plugin,this.filePath,`${this.uuid}/${i}`);n.addChild(a)}else{let a=new Ms(t,"inline",e,this.plugin,this.filePath,`${this.uuid}/${i}`);n.addChild(a)}}removeColumn(e){var t;this.value=(t=this.value)!=null?t:[],this.value.splice(e,1),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}addColumn(){var e;this.value=(e=this.value)!=null?e:[],this.value.push({}),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}onload(){this.plugin.mdrcManager.registerMDRC(this),this.tableComponent=new bD({target:this.containerEl,props:{table:this,tableHead:this.tableHead}}),this.inputSignal.registerListener({callback:e=>{this.value=e,this.updateDisplayValue(e)}}),this.registerSelfToMetadataManager()}onunload(){var e;this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),(e=this.tableComponent)==null||e.$destroy()}};var uf=class extends Ss{constructor(e){super(),this.mounted=!1,this.svelteComponent=e}setValue(e){var t;(t=this.svelteComponentInstance)==null||t.setValue(e)}mount(e,t,n={}){let i=Object.assign({value:t,onValueChange:a=>{this.notifyListeners(a)}},n);this.svelteComponentInstance=new this.svelteComponent({target:e,props:i}),this.mounted=!0}unmount(){var e;this.listeners=[],(e=this.svelteComponentInstance)==null||e.$destroy(),this.mounted=!1}isMounted(){return this.mounted}};var Ot=class{constructor(e){this.base=e,this.inputSignal=new Pr(void 0),this.inputFieldComponent=new uf(this.getSvelteComponent()),this.computedSignal=new Rc(this.inputSignal,t=>{let n=this.filterValue(t);return n!==void 0?n:this.getDefaultValue()})}destroy(){this.inputFieldComponent.isMounted()&&this.unmount()}reverseMapValue(e){let t=this.rawReverseMapValue(e);if(t!==void 0)return t;let n=this.rawReverseMapValue(this.getDefaultValue());return n!==void 0?n:this.getFallbackDefaultValue()}mapValue(e){return this.rawMapValue(e)}getValue(){return this.computedSignal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(e){this.computedSignal.set(e),this.notifySubscription(e)}setInternalValue(e){this.setValue(this.mapValue(e))}notifySubscription(e){var t;(t=this.metadataSubscription)==null||t.update(e)}getDefaultValue(){let e=this.base.getArgument("defaultValue");if(e===void 0)return this.mapValue(this.getFallbackDefaultValue());let t=this.filterValue(e.value);return t!==void 0?t:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}mount(e){this.computedSignal.registerListener({callback:n=>this.inputFieldComponent.setValue(this.reverseMapValue(n))});let t=this.base.getBindTarget();t&&(this.inputFieldComponent.registerListener({callback:n=>{this.notifySubscription(this.mapValue(n))}}),this.metadataSubscription=this.base.plugin.metadataManager.subscribe(this.base.getUuid(),this.inputSignal,t,()=>this.base.unload())),this.inputFieldComponent.mount(e,this.reverseMapValue(this.getValue()),this.getMountArgs())}unmount(){var e;this.computedSignal.listeners=[],(e=this.metadataSubscription)==null||e.unsubscribe(),this.inputFieldComponent.unmount()}onmount(){}onunmount(){}};function AV(r){let e,t,n,i;return{c(){e=j("div"),t=j("input"),L(t,"type","checkbox"),L(t,"tabindex","-1"),t.checked=r[0],L(e,"class","checkbox-container"),L(e,"role","switch"),L(e,"tabindex","0"),L(e,"aria-checked",r[0]),_t(e,"is-enabled",r[0])},m(a,o){Y(a,e,o),z(e,t),n||(i=[be(e,"click",r[5]),be(e,"keypress",r[6])],n=!0)},p(a,[o]){o&1&&(t.checked=a[0]),o&1&&L(e,"aria-checked",a[0]),o&1&&_t(e,"is-enabled",a[0])},i:Se,o:Se,d(a){a&&J(e),n=!1,at(i)}}}function DV(r,e,t){let{value:n}=e,{onValueChange:i}=e;function a(c){t(0,n=c)}function o(){t(0,n=!n),console.log("toggle"),i(n)}function l(c){c.key===" "&&o()}let u=()=>o(),s=c=>l(c);return r.$$set=c=>{"value"in c&&t(0,n=c.value),"onValueChange"in c&&t(3,i=c.onValueChange)},[n,o,l,i,a,u,s]}var Vd=class extends Ve{constructor(e){super(),qe(this,e,DV,AV,Ue,{value:0,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},wD=Vd;var lf=class extends Ot{constructor(e){var t,n,i,a;super(e),this.onValue=(n=(t=this.base.getArgument("onValue"))==null?void 0:t.value)!=null?n:!0,this.offValue=(a=(i=this.base.getArgument("offValue"))==null?void 0:i.value)!=null?a:!1}filterValue(e){return e===this.onValue||e===this.offValue?La(e):void 0}getFallbackDefaultValue(){return!1}getSvelteComponent(){return wD}rawReverseMapValue(e){return e===this.onValue?!0:(e===this.offValue,!1)}rawMapValue(e){return e?this.onValue:this.offValue}};function _D(r){let e,t=AD(r[0].length,r[2])+"",n,i;return{c(){e=j("span"),n=Re(t),L(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){Y(a,e,o),z(e,n)},p(a,o){o&5&&t!==(t=AD(a[0].length,a[2])+"")&&rt(n,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&L(e,"class",i)},d(a){a&&J(e)}}}function EV(r){let e,t,n,i,a,o=r[2]!==void 0&&_D(r);return{c(){e=j("input"),t=fe(),o&&o.c(),n=or(),L(e,"type","text"),L(e,"tabindex","0"),L(e,"placeholder",r[1]),L(e,"maxlength",r[2])},m(l,u){Y(l,e,u),Xe(e,r[0]),Y(l,t,u),o&&o.m(l,u),Y(l,n,u),i||(a=[be(e,"input",r[5]),be(e,"input",r[6])],i=!0)},p(l,[u]){u&2&&L(e,"placeholder",l[1]),u&4&&L(e,"maxlength",l[2]),u&1&&e.value!==l[0]&&Xe(e,l[0]),l[2]!==void 0?o?o.p(l,u):(o=_D(l),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:Se,o:Se,d(l){l&&(J(e),J(t),J(n)),o&&o.d(l),i=!1,at(a)}}}function AD(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function CV(r,e,t){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function l(c){t(0,n=c)}function u(){n=this.value,t(0,n)}let s=()=>o(n);return r.$$set=c=>{"value"in c&&t(0,n=c.value),"placeholder"in c&&t(1,i=c.placeholder),"limit"in c&&t(2,a=c.limit),"onValueChange"in c&&t(3,o=c.onValueChange)},[n,i,a,o,l,u,s]}var Ud=class extends Ve{constructor(e){super(),qe(this,e,CV,EV,Ue,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},DD=Ud;var cf=class extends Ot{constructor(e){super(e)}filterValue(e){return Is(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return DD}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function SV(r){let e,t,n;return{c(){e=j("input"),L(e,"class","mb-slider-input"),L(e,"type","range"),L(e,"tabindex","0"),L(e,"min",r[1]),L(e,"max",r[2]),L(e,"step",r[3])},m(i,a){Y(i,e,a),Xe(e,r[0]),t||(n=[be(e,"change",r[9]),be(e,"input",r[9]),be(e,"input",r[10])],t=!0)},p(i,a){a&2&&L(e,"min",i[1]),a&4&&L(e,"max",i[2]),a&8&&L(e,"step",i[3]),a&1&&Xe(e,i[0])},d(i){i&&J(e),t=!1,at(n)}}}function NV(r){let e,t,n,i,a,o,l,u,s;return{c(){e=j("span"),t=Re(r[1]),n=fe(),i=j("input"),a=fe(),o=j("span"),l=Re(r[2]),L(e,"class","mb-slider-input-label"),L(i,"class","mb-slider-input"),L(i,"type","range"),L(i,"tabindex","0"),L(i,"min",r[1]),L(i,"max",r[2]),L(i,"step",r[3]),L(o,"class","mb-slider-input-label")},m(c,f){Y(c,e,f),z(e,t),Y(c,n,f),Y(c,i,f),Xe(i,r[0]),Y(c,a,f),Y(c,o,f),z(o,l),u||(s=[be(i,"change",r[7]),be(i,"input",r[7]),be(i,"input",r[8])],u=!0)},p(c,f){f&2&&rt(t,c[1]),f&2&&L(i,"min",c[1]),f&4&&L(i,"max",c[2]),f&8&&L(i,"step",c[3]),f&1&&Xe(i,c[0]),f&4&&rt(l,c[2])},d(c){c&&(J(e),J(n),J(i),J(a),J(o)),u=!1,at(s)}}}function MV(r){let e;function t(a,o){return a[4]?NV:SV}let n=t(r,-1),i=n(r);return{c(){i.c(),e=or()},m(a,o){i.m(a,o),Y(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Se,o:Se,d(a){a&&J(e),i.d(a)}}}function TV(r,e,t){let{value:n}=e,{minValue:i}=e,{maxValue:a}=e,{stepSize:o}=e,{addLabels:l}=e,{onValueChange:u}=e;function s(h){t(0,n=h)}function c(){n=ai(this.value),t(0,n)}let f=()=>u(n);function p(){n=ai(this.value),t(0,n)}let m=()=>u(n);return r.$$set=h=>{"value"in h&&t(0,n=h.value),"minValue"in h&&t(1,i=h.minValue),"maxValue"in h&&t(2,a=h.maxValue),"stepSize"in h&&t(3,o=h.stepSize),"addLabels"in h&&t(4,l=h.addLabels),"onValueChange"in h&&t(5,u=h.onValueChange)},[n,i,a,o,l,u,s,c,f,p,m]}var qd=class extends Ve{constructor(e){super(),qe(this,e,TV,MV,Ue,{value:0,minValue:1,maxValue:2,stepSize:3,addLabels:4,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},ED=qd;var ff=class extends Ot{constructor(e){var t,n,i,a,o,l;if(super(e),this.minValue=(n=(t=this.base.getArgument("minValue"))==null?void 0:t.value)!=null?n:0,this.maxValue=(a=(i=this.base.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(l=(o=this.base.getArgument("stepSize"))==null?void 0:o.value)!=null?l:1,this.minValue>=this.maxValue)throw new sr({errorLevel:"ERROR",effect:"can not create slider input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return hc(Fs(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return ED}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:((e=this.base.getArgument("addLabels"))==null?void 0:e.value)===!0}}};function FV(r){let e,t,n;return{c(){e=j("textarea"),L(e,"tabindex","0"),L(e,"placeholder",r[1]),L(e,"maxlength",r[2])},m(i,a){Y(i,e,a),Xe(e,r[0]),t||(n=[be(e,"input",r[5]),be(e,"input",r[6])],t=!0)},p(i,[a]){a&2&&L(e,"placeholder",i[1]),a&4&&L(e,"maxlength",i[2]),a&1&&Xe(e,i[0])},i:Se,o:Se,d(i){i&&J(e),t=!1,at(n)}}}function IV(r,e,t){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function l(c){t(0,n=c)}function u(){n=this.value,t(0,n)}let s=()=>o(n);return r.$$set=c=>{"value"in c&&t(0,n=c.value),"placeholder"in c&&t(1,i=c.placeholder),"limit"in c&&t(2,a=c.limit),"onValueChange"in c&&t(3,o=c.onValueChange)},[n,i,a,o,l,u,s]}var zd=class extends Ve{constructor(e){super(),qe(this,e,IV,FV,Ue,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},CD=zd;var Ru=class extends Ot{constructor(e){super(e)}filterValue(e){return Is(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return CD}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function BV(r){let e,t;return{c(){e=j("a"),t=Re(r[2]),L(e,"data-href",r[2]),L(e,"href",r[2]),L(e,"class",r[1]),L(e,"target","_blank"),L(e,"rel","noopener")},m(n,i){Y(n,e,i),z(e,t)},p(n,i){i&4&&rt(t,n[2]),i&4&&L(e,"data-href",n[2]),i&4&&L(e,"href",n[2]),i&2&&L(e,"class",n[1])},d(n){n&&J(e)}}}function OV(r){let e,t=r[0].alias+"",n;return{c(){e=j("a"),n=Re(t),L(e,"data-href",r[2]),L(e,"href",r[2]),L(e,"class",r[1]),L(e,"target","_blank"),L(e,"rel","noopener"),L(e,"aria-label",r[2])},m(i,a){Y(i,e,a),z(e,n)},p(i,a){a&1&&t!==(t=i[0].alias+"")&&rt(n,t),a&4&&L(e,"data-href",i[2]),a&4&&L(e,"href",i[2]),a&2&&L(e,"class",i[1]),a&4&&L(e,"aria-label",i[2])},d(i){i&&J(e)}}}function PV(r){let e;function t(a,o){return a[0].alias?OV:BV}let n=t(r,-1),i=n(r);return{c(){i.c(),e=or()},m(a,o){i.m(a,o),Y(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:Se,o:Se,d(a){a&&J(e),i.d(a)}}}function RV(r,e,t){let n,i,{mdLink:a}=e;return r.$$set=o=>{"mdLink"in o&&t(0,a=o.mdLink)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=a.block?`${a.target}#${a.block}`:a.target),r.$$.dirty&1&&t(1,i=a.internal?"internal-link":"external-link")},[a,i,n]}var $d=class extends Ve{constructor(e){super(),qe(this,e,RV,PV,Ue,{mdLink:0})}},Va=$d;var kV=r=>({element:r&1}),SD=r=>({element:r[0][r[0].length-1]});function ND(r,e,t){let n=r.slice();return n[3]=e[t],n}var LV=r=>({element:r&1}),MD=r=>({element:r[3]});function TD(r){let e,t,n,i,a,o=r[2].default,l=Qi(o,r,r[1],MD);return{c(){l&&l.c(),e=fe(),t=j("span"),t.textContent=",",n=fe(),i=j("span")},m(u,s){l&&l.m(u,s),Y(u,e,s),Y(u,t,s),Y(u,n,s),Y(u,i,s),a=!0},p(u,s){l&&l.p&&(!a||s&3)&&ea(l,o,u,u[1],a?Ki(o,u[1],s,LV):ta(u[1]),MD)},i(u){a||(te(l,u),a=!0)},o(u){ae(l,u),a=!1},d(u){u&&(J(e),J(t),J(n),J(i)),l&&l.d(u)}}}function VV(r){let e,t,n=We(r[0].slice(0,r[0].length-1)),i=[];for(let u=0;u<n.length;u+=1)i[u]=TD(ND(r,n,u));let a=u=>ae(i[u],1,1,()=>{i[u]=null}),o=r[2].default,l=Qi(o,r,r[1],SD);return{c(){for(let u=0;u<i.length;u+=1)i[u].c();e=fe(),l&&l.c()},m(u,s){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,s);Y(u,e,s),l&&l.m(u,s),t=!0},p(u,[s]){if(s&3){n=We(u[0].slice(0,u[0].length-1));let c;for(c=0;c<n.length;c+=1){let f=ND(u,n,c);i[c]?(i[c].p(f,s),te(i[c],1)):(i[c]=TD(f),i[c].c(),te(i[c],1),i[c].m(e.parentNode,e))}for(gt(),c=n.length;c<i.length;c+=1)a(c);vt()}l&&l.p&&(!t||s&3)&&ea(l,o,u,u[1],t?Ki(o,u[1],s,kV):ta(u[1]),SD)},i(u){if(!t){for(let s=0;s<n.length;s+=1)te(i[s]);te(l,u),t=!0}},o(u){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)ae(i[s]);ae(l,u),t=!1},d(u){u&&J(e),Ct(i,u),l&&l.d(u)}}}function UV(r,e,t){let{$$slots:n={},$$scope:i}=e,{elements:a=[]}=e;return r.$$set=o=>{"elements"in o&&t(0,a=o.elements),"$$scope"in o&&t(1,i=o.$$scope)},[a,i,n]}var Hd=class extends Ve{constructor(e){super(),qe(this,e,UV,VV,Ue,{elements:0})}},pf=Hd;function qV(r){let e,t,n;return t=new Va({props:{mdLink:r[0]}}),{c(){e=j("span"),Fe(t.$$.fragment)},m(i,a){Y(i,e,a),Me(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=i[0]),t.$set(o)},i(i){n||(te(t.$$.fragment,i),n=!0)},o(i){ae(t.$$.fragment,i),n=!1},d(i){i&&J(e),Te(t)}}}function zV(r){let e,t,n;return t=new pf({props:{elements:r[0],$$slots:{default:[WV,({element:i})=>({2:i}),({element:i})=>i?4:0]},$$scope:{ctx:r}}}),{c(){e=j("span"),Fe(t.$$.fragment)},m(i,a){Y(i,e,a),Me(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.elements=i[0]),a&12&&(o.$$scope={dirty:a,ctx:i}),t.$set(o)},i(i){n||(te(t.$$.fragment,i),n=!0)},o(i){ae(t.$$.fragment,i),n=!1},d(i){i&&J(e),Te(t)}}}function $V(r){let e,t;return{c(){e=j("span"),t=Re(r[0])},m(n,i){Y(n,e,i),z(e,t)},p(n,i){i&1&&rt(t,n[0])},i:Se,o:Se,d(n){n&&J(e)}}}function HV(r){let e,t;return e=new Va({props:{mdLink:r[2]}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i&4&&(a.mdLink=n[2]),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function GV(r){let e,t=r[2]+"",n;return{c(){e=j("span"),n=Re(t)},m(i,a){Y(i,e,a),z(e,n)},p(i,a){a&4&&t!==(t=i[2]+"")&&rt(n,t)},i:Se,o:Se,d(i){i&&J(e)}}}function WV(r){let e,t,n,i,a=[GV,HV],o=[];function l(u,s){return typeof u[2]=="string"?0:1}return e=l(r,-1),t=o[e]=a[e](r),{c(){t.c(),n=or()},m(u,s){o[e].m(u,s),Y(u,n,s),i=!0},p(u,s){let c=e;e=l(u,s),e===c?o[e].p(u,s):(gt(),ae(o[c],1,1,()=>{o[c]=null}),vt(),t=o[e],t?t.p(u,s):(t=o[e]=a[e](u),t.c()),te(t,1),t.m(n.parentNode,n))},i(u){i||(te(t),i=!0)},o(u){ae(t),i=!1},d(u){u&&J(n),o[e].d(u)}}}function jV(r){let e,t,n,i,a,o=[$V,zV,qV],l=[];function u(s,c){return c&1&&(e=null),typeof s[0]=="string"?0:(e==null&&(e=!!Array.isArray(s[0])),e?1:2)}return t=u(r,-1),n=l[t]=o[t](r),{c(){n.c(),i=or()},m(s,c){l[t].m(s,c),Y(s,i,c),a=!0},p(s,[c]){let f=t;t=u(s,c),t===f?l[t].p(s,c):(gt(),ae(l[f],1,1,()=>{l[f]=null}),vt(),n=l[t],n?n.p(s,c):(n=l[t]=o[t](s),n.c()),te(n,1),n.m(i.parentNode,i))},i(s){a||(te(n),a=!0)},o(s){ae(n),a=!1},d(s){s&&J(i),l[t].d(s)}}}function ZV(r,e,t){let n,{value:i=void 0}=e;return r.$$set=a=>{"value"in a&&t(1,i=a.value)},r.$$.update=()=>{r.$$.dirty&2&&t(0,n=uD(i))},[n,i]}var Gd=class extends Ve{constructor(e){super(),qe(this,e,ZV,jV,Ue,{value:1})}},ci=Gd;function FD(r,e,t){let n=r.slice();return n[8]=e[t],n}function ID(r){let e,t,n,i,a,o;t=new ci({props:{value:r[8].name}});function l(){return r[6](r[8])}function u(...s){return r[7](r[8],...s)}return{c(){e=j("div"),Fe(t.$$.fragment),n=fe(),L(e,"class","mb-select-input-element"),L(e,"role","button"),L(e,"tabindex","0"),_t(e,"is-selected",r[8].value===r[0])},m(s,c){Y(s,e,c),Me(t,e,null),z(e,n),i=!0,a||(o=[be(e,"click",l),be(e,"keypress",u)],a=!0)},p(s,c){r=s;let f={};c&2&&(f.value=r[8].name),t.$set(f),(!i||c&3)&&_t(e,"is-selected",r[8].value===r[0])},i(s){i||(te(t.$$.fragment,s),i=!0)},o(s){ae(t.$$.fragment,s),i=!1},d(s){s&&J(e),Te(t),a=!1,at(o)}}}function JV(r){let e,t,n=We(r[1]),i=[];for(let o=0;o<n.length;o+=1)i[o]=ID(FD(r,n,o));let a=o=>ae(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=or()},m(o,l){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,l);Y(o,e,l),t=!0},p(o,[l]){if(l&15){n=We(o[1]);let u;for(u=0;u<n.length;u+=1){let s=FD(o,n,u);i[u]?(i[u].p(s,l),te(i[u],1)):(i[u]=ID(s),i[u].c(),te(i[u],1),i[u].m(e.parentNode,e))}for(gt(),u=n.length;u<i.length;u+=1)a(u);vt()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)te(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)ae(i[l]);t=!1},d(o){o&&J(e),Ct(i,o)}}}function YV(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){t(0,n=f)}function l(f){n===f?t(0,n=null):t(0,n=f),a(n)}function u(f,p){f.key===" "&&l(p)}let s=f=>l(f.value),c=(f,p)=>u(p,f.value);return r.$$set=f=>{"value"in f&&t(0,n=f.value),"options"in f&&t(1,i=f.options),"onValueChange"in f&&t(4,a=f.onValueChange)},[n,i,l,u,a,o,s,c]}var Wd=class extends Ve{constructor(e){super(),qe(this,e,YV,JV,Ue,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},BD=Wd;var mf=class extends Ot{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return La(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return BD}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function OD(r,e,t){let n=r.slice();return n[8]=e[t],n}function PD(r){let e,t,n,i,a,o;t=new ci({props:{value:r[8].name}});function l(){return r[6](r[8])}function u(...s){return r[7](r[8],...s)}return{c(){e=j("div"),Fe(t.$$.fragment),n=fe(),L(e,"class","mb-select-input-element"),L(e,"role","button"),L(e,"tabindex","0"),_t(e,"is-selected",r[0].includes(r[8].value))},m(s,c){Y(s,e,c),Me(t,e,null),z(e,n),i=!0,a||(o=[be(e,"click",l),be(e,"keypress",u)],a=!0)},p(s,c){r=s;let f={};c&2&&(f.value=r[8].name),t.$set(f),(!i||c&3)&&_t(e,"is-selected",r[0].includes(r[8].value))},i(s){i||(te(t.$$.fragment,s),i=!0)},o(s){ae(t.$$.fragment,s),i=!1},d(s){s&&J(e),Te(t),a=!1,at(o)}}}function XV(r){let e,t,n=We(r[1]),i=[];for(let o=0;o<n.length;o+=1)i[o]=PD(OD(r,n,o));let a=o=>ae(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=or()},m(o,l){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,l);Y(o,e,l),t=!0},p(o,[l]){if(l&15){n=We(o[1]);let u;for(u=0;u<n.length;u+=1){let s=OD(o,n,u);i[u]?(i[u].p(s,l),te(i[u],1)):(i[u]=PD(s),i[u].c(),te(i[u],1),i[u].m(e.parentNode,e))}for(gt(),u=n.length;u<i.length;u+=1)a(u);vt()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)te(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)ae(i[l]);t=!1},d(o){o&&J(e),Ct(i,o)}}}function QV(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){t(0,n=f)}function l(f){n.includes(f)?t(0,n=n.filter(p=>p!==f)):(n.push(f),t(0,n)),a(n)}function u(f,p){f.key===" "&&l(p)}let s=f=>l(f.value),c=(f,p)=>u(p,f.value);return r.$$set=f=>{"value"in f&&t(0,n=f.value),"options"in f&&t(1,i=f.options),"onValueChange"in f&&t(4,a=f.onValueChange)},[n,i,l,u,a,o,s,c]}var jd=class extends Ve{constructor(e){super(),qe(this,e,QV,XV,Ue,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},RD=jd;var ku=class extends Ot{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return Ui(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return RD}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function KV(r){Zr(r,"svelte-f2wb67",".date-picker-input.svelte-f2wb67{background:var(--background-modifier-form-field);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:5px 5px 5px 7px;cursor:pointer;position:relative;color:var(--text-normal);display:inline-flex;align-items:center;gap:5px;font-size:var(--font-ui-small)}.date-picker-text.svelte-f2wb67{display:inline-block}")}function e9(r){let e,t,n=(r[0]?r[0].format(r[1]):"none")+"",i,a,o,l,u,s;return o=new ur({props:{iconName:"calendar"}}),{c(){e=j("div"),t=j("span"),i=Re(n),a=fe(),Fe(o.$$.fragment),L(t,"class","date-picker-text svelte-f2wb67"),L(e,"class","date-picker-input svelte-f2wb67"),L(e,"role","button"),L(e,"tabindex","0")},m(c,f){Y(c,e,f),z(e,t),z(t,i),z(e,a),Me(o,e,null),l=!0,u||(s=[be(e,"click",r[2]),be(e,"keydown",r[3])],u=!0)},p(c,[f]){(!l||f&3)&&n!==(n=(c[0]?c[0].format(c[1]):"none")+"")&&rt(i,n)},i(c){l||(te(o.$$.fragment,c),l=!0)},o(c){ae(o.$$.fragment,c),l=!1},d(c){c&&J(e),Te(o),u=!1,at(s)}}}function t9(r,e,t){let{value:n}=e,{dateFormat:i}=e,{showDatePicker:a}=e,{onValueChange:o}=e;function l(c){t(0,n=c)}function u(c){a()}function s(c){c.key===" "&&a()}return r.$$set=c=>{"value"in c&&t(0,n=c.value),"dateFormat"in c&&t(1,i=c.dateFormat),"showDatePicker"in c&&t(4,a=c.showDatePicker),"onValueChange"in c&&t(5,o=c.onValueChange)},[n,i,u,s,a,o,l]}var Zd=class extends Ve{constructor(e){super(),qe(this,e,t9,e9,Ue,{value:0,dateFormat:1,showDatePicker:4,onValueChange:5,setValue:6},KV)}get setValue(){return this.$$.ctx[6]}},kD=Zd;var Lu=class extends Ot{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){if(e===null)return null;if(e===void 0||typeof e!="string")return;let t=Ur.parse(e);if(t.isValid())return Ur.stringify(t)}getFallbackDefaultValue(){return Ur.getDefaultDate()}getSvelteComponent(){return kD}rawMapValue(e){return e===null?null:Ur.stringify(e)}rawReverseMapValue(e){if(e===null)return null;let t=Ur.parse(e);if(t.isValid())return t}getMountArgs(){return{dateFormat:this.base.plugin.settings.preferredDateFormat,showDatePicker:()=>{this.base.plugin.internal.openDatePickerModal(this)}}}};function r9(r){let e,t,n;return{c(){e=j("input"),L(e,"type","number"),L(e,"tabindex","0"),L(e,"placeholder",r[1])},m(i,a){Y(i,e,a),Xe(e,r[0]),t||(n=[be(e,"input",r[4]),be(e,"input",r[5])],t=!0)},p(i,[a]){a&2&&L(e,"placeholder",i[1]),a&1&&ai(e.value)!==i[0]&&Xe(e,i[0])},i:Se,o:Se,d(i){i&&J(e),t=!1,at(n)}}}function n9(r,e,t){let{value:n}=e,{placeholder:i}=e,{onValueChange:a}=e;function o(s){t(0,n=s)}function l(){n=ai(this.value),t(0,n)}let u=()=>a(n);return r.$$set=s=>{"value"in s&&t(0,n=s.value),"placeholder"in s&&t(1,i=s.placeholder),"onValueChange"in s&&t(2,a=s.onValueChange)},[n,i,a,o,l,u]}var Jd=class extends Ve{constructor(e){super(),qe(this,e,n9,r9,Ue,{value:0,placeholder:1,onValueChange:2,setValue:3})}get setValue(){return this.$$.ctx[3]}},LD=Jd;var df=class extends Ot{constructor(e){super(e)}filterValue(e){return Fs(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return LD}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{placeholder:(e=this.base.getArgument("placeholder"))!=null?e:"Number"}}};function i9(r){let e,t;return{c(){e=j("span"),t=Re(r[1])},m(n,i){Y(n,e,i),z(e,t)},p(n,i){i&2&&rt(t,n[1])},i:Se,o:Se,d(n){n&&J(e)}}}function a9(r){let e,t,n;function i(o){r[9](o)}let a={};return r[0]!==void 0&&(a.mdLink=r[0]),e=new Va({props:a}),Ir.push(()=>yo(e,"mdLink",i)),{c(){Fe(e.$$.fragment)},m(o,l){Me(e,o,l),n=!0},p(o,l){let u={};!t&&l&1&&(t=!0,u.mdLink=o[0],go(()=>t=!1)),e.$set(u)},i(o){n||(te(e.$$.fragment,o),n=!0)},o(o){ae(e.$$.fragment,o),n=!1},d(o){Te(e,o)}}}function o9(r){let e,t,n,i,a,o,l,u,s,c=[a9,i9],f=[];function p(m,h){return m[2]?0:1}return n=p(r,-1),i=f[n]=c[n](r),o=new ur({props:{iconName:"list"}}),{c(){e=j("div"),t=j("div"),i.c(),a=fe(),Fe(o.$$.fragment),L(t,"class","mb-suggest-text"),L(e,"class","mb-suggest-input"),L(e,"role","button"),L(e,"tabindex","0")},m(m,h){Y(m,e,h),z(e,t),f[n].m(t,null),z(e,a),Me(o,e,null),l=!0,u||(s=[be(e,"click",r[3]),be(e,"keydown",r[4])],u=!0)},p(m,[h]){let d=n;n=p(m,h),n===d?f[n].p(m,h):(gt(),ae(f[d],1,1,()=>{f[d]=null}),vt(),i=f[n],i?i.p(m,h):(i=f[n]=c[n](m),i.c()),te(i,1),i.m(t,null))},i(m){l||(te(i),te(o.$$.fragment,m),l=!0)},o(m){ae(i),ae(o.$$.fragment,m),l=!1},d(m){m&&J(e),f[n].d(),Te(o),u=!1,at(s)}}}function s9(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e,o,l,u=!1;tn(()=>{s(n)});function s(m){var h;let d=(h=m==null?void 0:m.toString())!==null&&h!==void 0?h:"null";if(t(2,u=nn.isLink(d)),u)try{t(0,o=nn.parseLink(d))}catch(g){console.warn(g)}else t(1,l=d)}function c(m){m.target instanceof HTMLAnchorElement||i()}function f(m){m.key===" "&&i()}function p(m){o=m,t(0,o)}return r.$$set=m=>{"value"in m&&t(5,n=m.value),"showSuggester"in m&&t(6,i=m.showSuggester),"onValueChange"in m&&t(7,a=m.onValueChange)},[o,l,u,c,f,n,i,a,s,p]}var Yd=class extends Ve{constructor(e){super(),qe(this,e,s9,o9,Ue,{value:5,showSuggester:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},VD=Yd;var hf=class extends Ot{constructor(e){super(e)}filterValue(e){return La(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return VD}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>this.setInternalValue(e.value))}};function u9(r){Zr(r,"svelte-1aj1f3m",".editor-input.svelte-1aj1f3m.svelte-1aj1f3m{background:var(--background-secondary);width:100%;height:500px;padding:0;position:relative;margin-left:0}.editor-input.svelte-1aj1f3m>textarea.svelte-1aj1f3m{background:var(--background-secondary);border:none;padding:var(--size-4-4) var(--size-4-8);margin:0;position:absolute;inset:0;resize:none}.editor-input.svelte-1aj1f3m>div.svelte-1aj1f3m{padding:var(--size-4-4) var(--size-4-8);position:absolute;inset:0}")}function l9(r){let e,t,n,i,a,o;return{c(){e=j("div"),t=j("textarea"),n=fe(),i=j("div"),L(t,"class","svelte-1aj1f3m"),L(i,"class","svelte-1aj1f3m"),L(e,"class","editor-input card svelte-1aj1f3m"),L(e,"role","button"),L(e,"tabindex","0")},m(l,u){Y(l,e,u),z(e,t),r[9](t),Xe(t,r[0]),z(e,n),z(e,i),r[13](i),a||(o=[be(t,"input",r[10]),be(t,"focusout",r[11]),be(t,"input",r[12]),be(e,"click",r[14]),be(e,"keypress",r[15])],a=!0)},p(l,[u]){u&1&&Xe(t,l[0])},i:Se,o:Se,d(l){l&&J(e),r[9](null),r[13](null),a=!1,at(o)}}}function c9(r,e,t){let{value:n}=e,{onValueChange:i}=e,{render:a}=e,o,l;tn(()=>{o.toggleVisibility(!0),l.toggleVisibility(!1),a(o,n)});function u(y){t(0,n=y),a(o,y)}function s(){o.toggleVisibility(!0),l.toggleVisibility(!1),a(o,n)}function c(){console.log("focus in"),o.toggleVisibility(!1),l.toggleVisibility(!0),l.focus()}function f(y){y.key===" "&&c()}function p(y){Ir[y?"unshift":"push"](()=>{l=y,t(3,l)})}function m(){n=this.value,t(0,n)}let h=()=>s(),d=()=>i(n);function g(y){Ir[y?"unshift":"push"](()=>{o=y,t(2,o)})}let v=()=>c(),w=y=>f(y);return r.$$set=y=>{"value"in y&&t(0,n=y.value),"onValueChange"in y&&t(1,i=y.onValueChange),"render"in y&&t(7,a=y.render)},[n,i,o,l,s,c,f,a,u,p,m,h,d,g,v,w]}var Xd=class extends Ve{constructor(e){super(),qe(this,e,c9,l9,Ue,{value:0,onValueChange:1,render:7,setValue:8},u9)}get setValue(){return this.$$.ctx[8]}},UD=Xd;var gf=class extends Ot{constructor(e){super(e)}filterValue(e){return ka(e)?e==null?void 0:e.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return UD}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{render:(e,t)=>void this.renderInElement(e,t)}}async renderInElement(e,t){var n;(n=this.mdUnloadCallback)==null||n.call(this),e.innerHTML="",this.mdUnloadCallback=await this.base.plugin.internal.renderMarkdown(t,e,this.base.getFilePath())}onunmount(){var e;super.onunmount(),(e=this.mdUnloadCallback)==null||e.call(this)}};var{window:Vu}=vu;function f9(r){let e,t,n,i,a,o,l,u,s,c,f,p,m,h;return{c(){e=j("div"),t=j("div"),i=fe(),a=j("span"),o=Re(r[0]),l=fe(),u=j("span"),s=Re(r[1]),c=fe(),f=j("span"),p=Re(r[2]),L(t,"class","mb-progress-bar-progress"),L(t,"style",n=`width: ${r[5](r[0])}%`),L(t,"role","slider"),L(t,"aria-valuemin",r[1]),L(t,"aria-valuemax",r[2]),L(t,"aria-valuenow",r[0]),L(t,"tabindex","0"),L(a,"class","mb-progress-bar-value"),L(u,"class","mb-progress-bar-label-left"),L(f,"class","mb-progress-bar-label-right"),L(e,"class","mb-progress-bar-input"),L(e,"tabindex","0"),L(e,"role","button")},m(d,g){Y(d,e,g),z(e,t),z(e,i),z(e,a),z(a,o),z(e,l),z(e,u),z(u,s),z(e,c),z(e,f),z(f,p),r[14](e),m||(h=[be(Vu,"touchmove",r[8],{passive:!1}),be(Vu,"touchcancel",r[6]),be(Vu,"touchend",r[6]),be(Vu,"mousemove",r[8]),be(Vu,"mouseup",r[6]),be(t,"dragstart",r[13]),be(e,"keydown",r[9]),be(e,"mousedown",r[7]),be(e,"touchstart",r[7])],m=!0)},p(d,[g]){g&1&&n!==(n=`width: ${d[5](d[0])}%`)&&L(t,"style",n),g&2&&L(t,"aria-valuemin",d[1]),g&4&&L(t,"aria-valuemax",d[2]),g&1&&L(t,"aria-valuenow",d[0]),g&1&&rt(o,d[0]),g&2&&rt(s,d[1]),g&4&&rt(p,d[2])},i:Se,o:Se,d(d){d&&J(e),r[14](null),m=!1,at(h)}}}function p9(r,e){return Number.parseFloat((Math.round(r/e)*e).toFixed(15))}function m9(r,e,t){let{onValueChange:n}=e,{value:i}=e,{minValue:a}=e,{maxValue:o}=e,{stepSize:l}=e,u=!1,s,c=0,f;function p(D){t(0,i=D)}function m(D){t(0,i=D),n(D)}function h(D){return D=Cu(D,a,o),dd(D,a,o,0,100)}function d(){t(3,u=!0)}function g(){t(3,u=!1)}function v(D){d(),w(D)}function w(D){if(!u)return;D.stopPropagation&&D.stopPropagation(),D.preventDefault&&D.preventDefault();let C=D instanceof TouchEvent?D.touches[0].clientX:D.clientX;y(C)}function y(D){let C=s.getBoundingClientRect();D=Cu(D,C.left,C.right);let A=dd(D,C.left,C.right,a,o);A=p9(A,l),m(A)}function x(D){c<50&&(c+=1);let C=Math.ceil(c/5);if(D.key==="ArrowUp"||D.key==="ArrowRight"){let A=Cu(i+C,a,o);m(A)}if(D.key==="ArrowDown"||D.key==="ArrowLeft"){let A=Cu(i-C,a,o);m(A)}window.clearTimeout(f),f=window.setTimeout(()=>c=1,100)}let _=()=>t(3,u=!0);function b(D){Ir[D?"unshift":"push"](()=>{s=D,t(4,s)})}return r.$$set=D=>{"onValueChange"in D&&t(10,n=D.onValueChange),"value"in D&&t(0,i=D.value),"minValue"in D&&t(1,a=D.minValue),"maxValue"in D&&t(2,o=D.maxValue),"stepSize"in D&&t(11,l=D.stepSize)},[i,a,o,u,s,h,g,v,w,x,n,l,p,_,b]}var Qd=class extends Ve{constructor(e){super(),qe(this,e,m9,f9,Ue,{onValueChange:10,value:0,minValue:1,maxValue:2,stepSize:11,setValue:12})}get setValue(){return this.$$.ctx[12]}},qD=Qd;var vf=class extends Ot{constructor(e){var t,n,i,a,o,l;if(super(e),this.minValue=(n=(t=this.base.getArgument("minValue"))==null?void 0:t.value)!=null?n:0,this.maxValue=(a=(i=this.base.getArgument("maxValue"))==null?void 0:i.value)!=null?a:100,this.stepSize=(l=(o=this.base.getArgument("stepSize"))==null?void 0:o.value)!=null?l:1,this.minValue>=this.maxValue)throw new sr({errorLevel:"ERROR",effect:"can not create progress bar input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(e){return hc(Fs(e),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return qD}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};function zD(r,e,t){let n=r.slice();return n[7]=e[t],n}function $D(r){let e,t=r[7].name+"",n,i;return{c(){e=j("option"),n=Re(t),e.__value=i=r[7].value,Xe(e,e.__value)},m(a,o){Y(a,e,o),z(e,n)},p(a,o){o&2&&t!==(t=a[7].name+"")&&rt(n,t),o&2&&i!==(i=a[7].value)&&(e.__value=i,Xe(e,e.__value))},d(a){a&&J(e)}}}function d9(r){let e,t,n,i=We(r[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=$D(zD(r,i,o));return{c(){e=j("select");for(let o=0;o<a.length;o+=1)a[o].c();L(e,"class","dropdown"),r[0]===void 0&&Jr(()=>r[5].call(e))},m(o,l){Y(o,e,l);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);Sr(e,r[0],!0),t||(n=[be(e,"change",r[5]),be(e,"change",r[6])],t=!0)},p(o,[l]){if(l&2){i=We(o[1]);let u;for(u=0;u<i.length;u+=1){let s=zD(o,i,u);a[u]?a[u].p(s,l):(a[u]=$D(s),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}l&3&&Sr(e,o[0])},i:Se,o:Se,d(o){o&&J(e),Ct(a,o),t=!1,at(n)}}}function h9(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(c){t(0,n=c)}function l(){a(n)}function u(){n=Wn(this),t(0,n),t(1,i)}let s=()=>l();return r.$$set=c=>{"value"in c&&t(0,n=c.value),"options"in c&&t(1,i=c.options),"onValueChange"in c&&t(3,a=c.onValueChange)},[n,i,l,a,o,u,s]}var Kd=class extends Ve{constructor(e){super(),qe(this,e,h9,d9,Ue,{value:0,options:1,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},HD=Kd;var yf=class extends Ot{constructor(e){super(e),this.options=this.base.getArguments("option")}filterValue(e){return La(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return HD}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{options:this.options}}};function Bs(r){return app.vault.adapter.getResourcePath(r)}function GD(r){var e;return(e=r.plugins.getPlugin("dataview"))==null?void 0:e.api}function g9(r){Zr(r,"svelte-hrm3dz",".mb-image-suggest-input.svelte-hrm3dz{background:var(--background-secondary);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:var(--size-4-2);width:100%}.mb-image-suggest-image.svelte-hrm3dz{width:100%;height:fit-content;max-height:500px;object-fit:contain}.mb-image-suggest-footer.svelte-hrm3dz{display:flex;flex-direction:row;color:var(--text-normal);align-items:baseline}.mb-image-suggest-footer-text.svelte-hrm3dz{flex:1;margin-left:var(--size-4-2)}")}function WD(r){let e,t;return{c(){e=j("img"),L(e,"class","mb-image-suggest-image svelte-hrm3dz"),rs(e.src,t=Bs(r[0]))||L(e,"src",t),L(e,"alt",r[0])},m(n,i){Y(n,e,i)},p(n,i){i&1&&!rs(e.src,t=Bs(n[0]))&&L(e,"src",t),i&1&&L(e,"alt",n[0])},d(n){n&&J(e)}}}function v9(r){let e,t,n,i,a=(r[0]||"no image selected")+"",o,l,u,s,c,f=r[0]&&WD(r);return{c(){e=j("div"),f&&f.c(),t=fe(),n=j("div"),i=j("span"),o=Re(a),l=fe(),u=j("button"),u.textContent="Change Image",L(i,"class","mb-image-suggest-footer-text svelte-hrm3dz"),L(u,"class","btn btn-active"),L(n,"class","mb-image-suggest-footer svelte-hrm3dz"),L(e,"class","mb-image-suggest-input svelte-hrm3dz")},m(p,m){Y(p,e,m),f&&f.m(e,null),z(e,t),z(e,n),z(n,i),z(i,o),z(n,l),z(n,u),s||(c=[be(u,"click",r[1]),be(u,"keydown",r[2])],s=!0)},p(p,[m]){p[0]?f?f.p(p,m):(f=WD(p),f.c(),f.m(e,t)):f&&(f.d(1),f=null),m&1&&a!==(a=(p[0]||"no image selected")+"")&&rt(o,a)},i:Se,o:Se,d(p){p&&J(e),f&&f.d(),s=!1,at(c)}}}function y9(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(s){t(0,n=s)}function l(s){i()}function u(s){s.key===" "&&i()}return r.$$set=s=>{"value"in s&&t(0,n=s.value),"showSuggester"in s&&t(3,i=s.showSuggester),"onValueChange"in s&&t(4,a=s.onValueChange)},[n,l,u,i,a,o]}var eh=class extends Ve{constructor(e){super(),qe(this,e,y9,v9,Ue,{value:0,showSuggester:3,onValueChange:4,setValue:5},g9)}get setValue(){return this.$$.ctx[5]}},jD=eh;var xf=class extends Ot{constructor(e){super(e)}filterValue(e){return ka(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return jD}rawMapValue(e){return e}rawReverseMapValue(e){return Ou(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openImageSuggesterModal(this,e=>this.setInternalValue(e))}};function ZD(r,e,t){let n=r.slice();return n[11]=e[t],n[13]=t,n}function JD(r){let e;return{c(){e=j("span"),e.textContent="Empty",L(e,"class","mb-list-empty")},m(t,n){Y(t,e,n)},p:Se,d(t){t&&J(e)}}}function x9(r){let e,t;return e=new ur({props:{iconName:"x"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function YD(r){let e,t,n,i,a,o;t=new ci({props:{value:r[11]}});function l(){return r[8](r[13])}return i=new qt({props:{$$slots:{default:[x9]},$$scope:{ctx:r}}}),i.$on("click",l),{c(){e=j("div"),Fe(t.$$.fragment),n=fe(),Fe(i.$$.fragment),a=fe(),L(e,"class","mb-list-item")},m(u,s){Y(u,e,s),Me(t,e,null),z(e,n),Me(i,e,null),z(e,a),o=!0},p(u,s){r=u;let c={};s&1&&(c.value=r[11]),t.$set(c);let f={};s&16384&&(f.$$scope={dirty:s,ctx:r}),i.$set(f)},i(u){o||(te(t.$$.fragment,u),te(i.$$.fragment,u),o=!0)},o(u){ae(t.$$.fragment,u),ae(i.$$.fragment,u),o=!1},d(u){u&&J(e),Te(t),Te(i)}}}function XD(r){let e,t=QD(r[0].length,r[1])+"",n,i;return{c(){e=j("span"),n=Re(t),L(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[1]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){Y(a,e,o),z(e,n)},p(a,o){o&3&&t!==(t=QD(a[0].length,a[1])+"")&&rt(n,t),o&3&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[1]?"mb-content-limit-indicator-overflow":""}`)&&L(e,"class",i)},d(a){a&&J(e)}}}function b9(r){let e,t;return e=new ur({props:{iconName:"plus"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function w9(r){let e,t,n,i,a,o,l,u,s,c,f=We(r[0]),p=[];for(let g=0;g<f.length;g+=1)p[g]=YD(ZD(r,f,g));let m=g=>ae(p[g],1,1,()=>{p[g]=null}),h=null;f.length||(h=JD(r));let d=r[1]!==void 0&&XD(r);return l=new qt({props:{disabled:!r[3],$$slots:{default:[b9]},$$scope:{ctx:r}}}),l.$on("click",r[10]),{c(){e=j("div");for(let g=0;g<p.length;g+=1)p[g].c();h&&h.c(),t=fe(),n=j("div"),i=j("input"),a=fe(),d&&d.c(),o=fe(),Fe(l.$$.fragment),L(e,"class","mb-list-items"),L(i,"type","text"),L(i,"tabindex","0"),L(i,"placeholder",r[2]),L(i,"maxlength",r[1]),L(n,"class","mb-list-input")},m(g,v){Y(g,e,v);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(e,null);h&&h.m(e,null),Y(g,t,v),Y(g,n,v),z(n,i),Xe(i,r[3]),z(n,a),d&&d.m(n,null),z(n,o),Me(l,n,null),u=!0,s||(c=be(i,"input",r[9]),s=!0)},p(g,[v]){if(v&33){f=We(g[0]);let y;for(y=0;y<f.length;y+=1){let x=ZD(g,f,y);p[y]?(p[y].p(x,v),te(p[y],1)):(p[y]=YD(x),p[y].c(),te(p[y],1),p[y].m(e,null))}for(gt(),y=f.length;y<p.length;y+=1)m(y);vt(),!f.length&&h?h.p(g,v):f.length?h&&(h.d(1),h=null):(h=JD(g),h.c(),h.m(e,null))}(!u||v&4)&&L(i,"placeholder",g[2]),(!u||v&2)&&L(i,"maxlength",g[1]),v&8&&i.value!==g[3]&&Xe(i,g[3]),g[1]!==void 0?d?d.p(g,v):(d=XD(g),d.c(),d.m(n,o)):d&&(d.d(1),d=null);let w={};v&8&&(w.disabled=!g[3]),v&16384&&(w.$$scope={dirty:v,ctx:g}),l.$set(w)},i(g){if(!u){for(let v=0;v<f.length;v+=1)te(p[v]);te(l.$$.fragment,g),u=!0}},o(g){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)ae(p[v]);ae(l.$$.fragment,g),u=!1},d(g){g&&(J(e),J(t),J(n)),Ct(p,g),h&&h.d(),d&&d.d(),Te(l),s=!1,c()}}}function QD(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function _9(r,e,t){let{value:n}=e,{limit:i}=e,{placeholder:a}=e,{onValueChange:o}=e,l="";function u(h){t(0,n=h)}function s(){n.push(l),o(n),t(3,l=""),t(0,n)}function c(h){n.splice(h,1),o(n),t(0,n)}let f=h=>c(h);function p(){l=this.value,t(3,l)}let m=()=>s();return r.$$set=h=>{"value"in h&&t(0,n=h.value),"limit"in h&&t(1,i=h.limit),"placeholder"in h&&t(2,a=h.placeholder),"onValueChange"in h&&t(6,o=h.onValueChange)},[n,i,a,l,s,c,o,u,f,p,m]}var th=class extends Ve{constructor(e){super(),qe(this,e,_9,w9,Ue,{value:0,limit:1,placeholder:2,onValueChange:6,setValue:7})}get setValue(){return this.$$.ctx[7]}},KD=th;var bf=class extends Ot{constructor(e){super(e)}filterValue(e){return Ui(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return KD}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"New Entry...",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function eE(r,e,t){let n=r.slice();return n[9]=e[t],n[11]=t,n}function tE(r){let e;return{c(){e=j("span"),e.textContent="Empty",L(e,"class","mb-list-empty")},m(t,n){Y(t,e,n)},p:Se,d(t){t&&J(e)}}}function A9(r){let e,t;return e=new ur({props:{iconName:"x"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function rE(r){let e,t,n,i,a,o;t=new ci({props:{value:r[9]}});function l(){return r[8](r[11])}return i=new qt({props:{$$slots:{default:[A9]},$$scope:{ctx:r}}}),i.$on("click",l),{c(){e=j("div"),Fe(t.$$.fragment),n=fe(),Fe(i.$$.fragment),a=fe(),L(e,"class","mb-list-item")},m(u,s){Y(u,e,s),Me(t,e,null),z(e,n),Me(i,e,null),z(e,a),o=!0},p(u,s){r=u;let c={};s&1&&(c.value=r[9]),t.$set(c);let f={};s&4096&&(f.$$scope={dirty:s,ctx:r}),i.$set(f)},i(u){o||(te(t.$$.fragment,u),te(i.$$.fragment,u),o=!0)},o(u){ae(t.$$.fragment,u),ae(i.$$.fragment,u),o=!1},d(u){u&&J(e),Te(t),Te(i)}}}function D9(r){let e,t,n,i,a,o,l,u,s,c,f=We(r[0]),p=[];for(let d=0;d<f.length;d+=1)p[d]=rE(eE(r,f,d));let m=d=>ae(p[d],1,1,()=>{p[d]=null}),h=null;return f.length||(h=tE(r)),l=new ur({props:{iconName:"list"}}),{c(){e=j("div");for(let d=0;d<p.length;d+=1)p[d].c();h&&h.c(),t=fe(),n=j("div"),i=j("div"),a=j("div"),a.innerHTML="<span>Add Element...</span>",o=fe(),Fe(l.$$.fragment),L(e,"class","mb-list-items"),L(a,"class","mb-suggest-text"),L(i,"class","mb-suggest-input"),L(i,"role","button"),L(i,"tabindex","0"),L(n,"class","mb-list-input")},m(d,g){Y(d,e,g);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(e,null);h&&h.m(e,null),Y(d,t,g),Y(d,n,g),z(n,i),z(i,a),z(i,o),Me(l,i,null),u=!0,s||(c=[be(i,"click",r[2]),be(i,"keydown",r[3])],s=!0)},p(d,[g]){if(g&3){f=We(d[0]);let v;for(v=0;v<f.length;v+=1){let w=eE(d,f,v);p[v]?(p[v].p(w,g),te(p[v],1)):(p[v]=rE(w),p[v].c(),te(p[v],1),p[v].m(e,null))}for(gt(),v=f.length;v<p.length;v+=1)m(v);vt(),!f.length&&h?h.p(d,g):f.length?h&&(h.d(1),h=null):(h=tE(d),h.c(),h.m(e,null))}},i(d){if(!u){for(let g=0;g<f.length;g+=1)te(p[g]);te(l.$$.fragment,d),u=!0}},o(d){p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)ae(p[g]);ae(l.$$.fragment,d),u=!1},d(d){d&&(J(e),J(t),J(n)),Ct(p,d),h&&h.d(),Te(l),s=!1,at(c)}}}function E9(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(p){t(0,n=p)}function l(p){n.push(p),t(0,n)}function u(p){n.splice(p,1),a(n),t(0,n)}function s(p){p.target instanceof HTMLAnchorElement||i()}function c(p){p.key===" "&&i()}let f=p=>u(p);return r.$$set=p=>{"value"in p&&t(0,n=p.value),"showSuggester"in p&&t(4,i=p.showSuggester),"onValueChange"in p&&t(5,a=p.onValueChange)},[n,u,s,c,i,a,o,l,f]}var rh=class extends Ve{constructor(e){super(),qe(this,e,E9,D9,Ue,{value:0,showSuggester:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},nE=rh;var wf=class extends Ot{constructor(e){super(e)}filterValue(e){return Ui(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return nE}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}};function iE(r,e,t){let n=r.slice();return n[26]=e[t][0],n[27]=e[t][1],n}function aE(r,e,t){let n=r.slice();return n[23]=e[t],n}function oE(r,e,t){let n=r.slice();return n[23]=e[t],n}function sE(r,e,t){let n=r.slice();return n[26]=e[t][0],n[27]=e[t][1],n}function C9(r){let e,t,n,i,a,o=We(Object.values(r[2])),l=[];for(let c=0;c<o.length;c+=1)l[c]=uE(aE(r,o,c));let u=We(Object.entries(r[1])),s=[];for(let c=0;c<u.length;c+=1)s[c]=lE(iE(r,u,c));return{c(){e=j("select");for(let c=0;c<l.length;c+=1)l[c].c();t=fe(),n=j("select");for(let c=0;c<s.length;c+=1)s[c].c();L(e,"class","dropdown mb-input-element-group-element"),r[5]===void 0&&Jr(()=>r[16].call(e)),L(n,"class","dropdown mb-input-element-group-element"),r[4]===void 0&&Jr(()=>r[18].call(n))},m(c,f){Y(c,e,f);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(e,null);Sr(e,r[5],!0),Y(c,t,f),Y(c,n,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);Sr(n,r[4],!0),i||(a=[be(e,"change",r[16]),be(e,"change",r[17]),be(n,"change",r[18]),be(n,"change",r[19])],i=!0)},p(c,f){if(f[0]&4){o=We(Object.values(c[2]));let p;for(p=0;p<o.length;p+=1){let m=aE(c,o,p);l[p]?l[p].p(m,f):(l[p]=uE(m),l[p].c(),l[p].m(e,null))}for(;p<l.length;p+=1)l[p].d(1);l.length=o.length}if(f[0]&36&&Sr(e,c[5]),f[0]&2){u=We(Object.entries(c[1]));let p;for(p=0;p<u.length;p+=1){let m=iE(c,u,p);s[p]?s[p].p(m,f):(s[p]=lE(m),s[p].c(),s[p].m(n,null))}for(;p<s.length;p+=1)s[p].d(1);s.length=u.length}f[0]&18&&Sr(n,c[4])},d(c){c&&(J(e),J(t),J(n)),Ct(l,c),Ct(s,c),i=!1,at(a)}}}function S9(r){let e,t,n,i,a,o=We(Object.entries(r[1])),l=[];for(let c=0;c<o.length;c+=1)l[c]=cE(sE(r,o,c));let u=We(Object.values(r[2])),s=[];for(let c=0;c<u.length;c+=1)s[c]=fE(oE(r,u,c));return{c(){e=j("select");for(let c=0;c<l.length;c+=1)l[c].c();t=fe(),n=j("select");for(let c=0;c<s.length;c+=1)s[c].c();L(e,"class","dropdown mb-input-element-group-element"),r[4]===void 0&&Jr(()=>r[12].call(e)),L(n,"class","dropdown mb-input-element-group-element"),r[5]===void 0&&Jr(()=>r[14].call(n))},m(c,f){Y(c,e,f);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(e,null);Sr(e,r[4],!0),Y(c,t,f),Y(c,n,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);Sr(n,r[5],!0),i||(a=[be(e,"change",r[12]),be(e,"change",r[13]),be(n,"change",r[14]),be(n,"change",r[15])],i=!0)},p(c,f){if(f[0]&2){o=We(Object.entries(c[1]));let p;for(p=0;p<o.length;p+=1){let m=sE(c,o,p);l[p]?l[p].p(m,f):(l[p]=cE(m),l[p].c(),l[p].m(e,null))}for(;p<l.length;p+=1)l[p].d(1);l.length=o.length}if(f[0]&18&&Sr(e,c[4]),f[0]&4){u=We(Object.values(c[2]));let p;for(p=0;p<u.length;p+=1){let m=oE(c,u,p);s[p]?s[p].p(m,f):(s[p]=fE(m),s[p].c(),s[p].m(n,null))}for(;p<s.length;p+=1)s[p].d(1);s.length=u.length}f[0]&36&&Sr(n,c[5])},d(c){c&&(J(e),J(t),J(n)),Ct(l,c),Ct(s,c),i=!1,at(a)}}}function uE(r){let e,t=r[23]+"",n,i;return{c(){e=j("option"),n=Re(t),e.__value=i=r[23],Xe(e,e.__value)},m(a,o){Y(a,e,o),z(e,n)},p(a,o){o[0]&4&&t!==(t=a[23]+"")&&rt(n,t),o[0]&4&&i!==(i=a[23])&&(e.__value=i,Xe(e,e.__value))},d(a){a&&J(e)}}}function lE(r){let e,t=r[27]+"",n,i;return{c(){e=j("option"),n=Re(t),e.__value=i=r[26],Xe(e,e.__value)},m(a,o){Y(a,e,o),z(e,n)},p(a,o){o[0]&2&&t!==(t=a[27]+"")&&rt(n,t),o[0]&2&&i!==(i=a[26])&&(e.__value=i,Xe(e,e.__value))},d(a){a&&J(e)}}}function cE(r){let e,t=r[27]+"",n,i;return{c(){e=j("option"),n=Re(t),e.__value=i=r[26],Xe(e,e.__value)},m(a,o){Y(a,e,o),z(e,n)},p(a,o){o[0]&2&&t!==(t=a[27]+"")&&rt(n,t),o[0]&2&&i!==(i=a[26])&&(e.__value=i,Xe(e,e.__value))},d(a){a&&J(e)}}}function fE(r){let e,t=r[23]+"",n,i;return{c(){e=j("option"),n=Re(t),e.__value=i=r[23],Xe(e,e.__value)},m(a,o){Y(a,e,o),z(e,n)},p(a,o){o[0]&4&&t!==(t=a[23]+"")&&rt(n,t),o[0]&4&&i!==(i=a[23])&&(e.__value=i,Xe(e,e.__value))},d(a){a&&J(e)}}}function N9(r){let e,t,n,i,a;function o(s,c){return s[0]?S9:C9}let l=o(r,[-1,-1]),u=l(r);return{c(){e=j("div"),u.c(),t=fe(),n=j("input"),L(n,"class","mb-date-input-year-input mb-input-element-group-element"),L(n,"type","number"),L(n,"tabindex","0"),L(n,"max","9999"),L(n,"min","0"),L(e,"class","mb-input-element-group")},m(s,c){Y(s,e,c),u.m(e,null),z(e,t),z(e,n),Xe(n,r[3]),i||(a=[be(n,"input",r[20]),be(n,"input",r[21])],i=!0)},p(s,c){l===(l=o(s,c))&&u?u.p(s,c):(u.d(1),u=l(s),u&&(u.c(),u.m(e,t))),c[0]&8&&ai(n.value)!==s[3]&&Xe(n,s[3])},i:Se,o:Se,d(s){s&&J(e),u.d(),i=!1,at(a)}}}function M9(r,e,t){let{value:n}=e,{useUsInputOrder:i}=e,{onValueChange:a}=e,o={},l={},u,s,c;tn(()=>{t(1,o={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"});for(let E=1;E<=31;E++)t(2,l[E.toString()]=E.toString(),l);t(3,u=n.year().toString()),t(4,s=n.month().toString()),t(5,c=n.date().toString())});function f(E){t(9,n=E),t(3,u=n.year().toString()),t(4,s=n.month().toString()),t(5,c=n.date().toString())}function p(){let E=Number.parseInt(u),F=Number.isNaN(E)?Ur.getDefaultYear():E;n.year(F),a(n)}function m(){n.month(s);let E=d(n.date());n.date(E),t(5,c=E.toString()),a(n)}function h(){let E=Number.parseInt(c),F=d(E);n.date(F),t(5,c=F.toString()),a(n)}function d(E){return Number.isNaN(E)?Ur.getDefaultDay():E<1?1:E>n.daysInMonth()?n.daysInMonth():E}function g(){s=Wn(this),t(4,s),t(1,o)}let v=()=>m();function w(){c=Wn(this),t(5,c),t(2,l)}let y=()=>h();function x(){c=Wn(this),t(5,c),t(2,l)}let _=()=>h();function b(){s=Wn(this),t(4,s),t(1,o)}let D=()=>m();function C(){u=ai(this.value),t(3,u)}let A=()=>p();return r.$$set=E=>{"value"in E&&t(9,n=E.value),"useUsInputOrder"in E&&t(0,i=E.useUsInputOrder),"onValueChange"in E&&t(10,a=E.onValueChange)},[i,o,l,u,s,c,p,m,h,n,a,f,g,v,w,y,x,_,b,D,C,A]}var nh=class extends Ve{constructor(e){super(),qe(this,e,M9,N9,Ue,{value:9,useUsInputOrder:0,onValueChange:10,setValue:11},null,[-1,-1])}get setValue(){return this.$$.ctx[11]}},pE=nh;var _f=class extends Ot{constructor(e){super(e)}filterValue(e){if(e==null||typeof e!="string")return;let t=Ur.parse(e);if(t.isValid())return Ur.stringify(t)}getFallbackDefaultValue(){return Ur.getDefaultDate()}getSvelteComponent(){return pE}rawMapValue(e){return Ur.stringify(e)}rawReverseMapValue(e){return Ur.parse(e)}getMountArgs(){return{useUsInputOrder:this.base.plugin.settings.useUsDateInputOrder}}};var ih=gr(ui()),Uu=gr(si()),ah=class{constructor(){this._hour=Qn.getDefaultHour(),this._minute=Qn.getDefaultHour()}getHour(){return this._hour}setHour(e){if(e<0||e>24){this._hour=Qn.getDefaultHour();return}this._hour=e}getMinute(){return this._minute}setMinute(e){if(e<0||e>59){this._minute=Qn.getDefaultMinute();return}this._minute=e}getUniformHour(){return this.getHour().toString().padStart(2,"0")}getUniformMinute(){return this.getMinute().toString().padStart(2,"0")}setHourFromString(e){let t=Number.parseInt(e);this.setHour(Number.isNaN(t)?Qn.getDefaultHour():t)}setMinuteFromString(e){let t=Number.parseInt(e);this.setMinute(Number.isNaN(t)?Qn.getDefaultMinute():t)}},T9=ih.P.sequenceMap((r,e,t,n,i)=>({hour:Number.parseInt(r+e),minute:Number.parseInt(n+i)}),Uu.P_UTILS.digit(),Uu.P_UTILS.digit(),ih.P.string(":"),Uu.P_UTILS.digit(),Uu.P_UTILS.digit()),Qn=class r{static parse(e){if(!e)return;let t=r.getDefaultTime(),n=T9.tryParse(e);if(n.success&&!(Number.isNaN(n.value.hour)||Number.isNaN(n.value.minute))&&!(n.value.hour<0||n.value.hour>=24)&&!(n.value.minute<0||n.value.minute>=60))return t.setHour(n.value.hour),t.setMinute(n.value.minute),t}static stringify(e){return`${e.getUniformHour()}:${e.getUniformMinute()}`}static getDefaultTime(){return new ah}static getDefaultHour(){return 0}static getDefaultMinute(){return 0}};function mE(r,e,t){let n=r.slice();return n[13]=e[t][0],n[14]=e[t][1],n}function dE(r,e,t){let n=r.slice();return n[17]=e[t][0],n[18]=e[t][1],n}function hE(r){let e,t=r[18]+"",n,i;return{c(){e=j("option"),n=Re(t),e.__value=i=r[17],Xe(e,e.__value)},m(a,o){Y(a,e,o),z(e,n)},p(a,o){o&1&&t!==(t=a[18]+"")&&rt(n,t),o&1&&i!==(i=a[17])&&(e.__value=i,Xe(e,e.__value))},d(a){a&&J(e)}}}function gE(r){let e,t=r[14]+"",n,i;return{c(){e=j("option"),n=Re(t),e.__value=i=r[13],Xe(e,e.__value)},m(a,o){Y(a,e,o),z(e,n)},p(a,o){o&2&&t!==(t=a[14]+"")&&rt(n,t),o&2&&i!==(i=a[13])&&(e.__value=i,Xe(e,e.__value))},d(a){a&&J(e)}}}function F9(r){let e,t,n,i,a,o,l=We(Object.entries(r[0])),u=[];for(let f=0;f<l.length;f+=1)u[f]=hE(dE(r,l,f));let s=We(Object.entries(r[1])),c=[];for(let f=0;f<s.length;f+=1)c[f]=gE(mE(r,s,f));return{c(){e=j("div"),t=j("select");for(let f=0;f<u.length;f+=1)u[f].c();n=fe(),i=j("select");for(let f=0;f<c.length;f+=1)c[f].c();L(t,"class","dropdown mb-input-element-group-element"),r[2]===void 0&&Jr(()=>r[9].call(t)),L(i,"class","dropdown mb-input-element-group-element"),r[3]===void 0&&Jr(()=>r[11].call(i)),L(e,"class","mb-input-element-group")},m(f,p){Y(f,e,p),z(e,t);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(t,null);Sr(t,r[2],!0),z(e,n),z(e,i);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null);Sr(i,r[3],!0),a||(o=[be(t,"change",r[9]),be(t,"change",r[10]),be(i,"change",r[11]),be(i,"change",r[12])],a=!0)},p(f,[p]){if(p&1){l=We(Object.entries(f[0]));let m;for(m=0;m<l.length;m+=1){let h=dE(f,l,m);u[m]?u[m].p(h,p):(u[m]=hE(h),u[m].c(),u[m].m(t,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=l.length}if(p&5&&Sr(t,f[2]),p&2){s=We(Object.entries(f[1]));let m;for(m=0;m<s.length;m+=1){let h=mE(f,s,m);c[m]?c[m].p(h,p):(c[m]=gE(h),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=s.length}p&10&&Sr(i,f[3])},i:Se,o:Se,d(f){f&&J(e),Ct(u,f),Ct(c,f),a=!1,at(o)}}}function I9(r,e,t){let{value:n}=e,{onValueChange:i}=e,a={},o={},l,u;tn(()=>{for(let g=0;g<=24;g++)t(0,a[g.toString()]=g.toString().padStart(2,"0"),a);for(let g=0;g<=59;g++)t(1,o[g.toString()]=g.toString().padStart(2,"0"),o);t(3,u=n.getMinute().toString()),t(2,l=n.getHour().toString())});function s(g){t(6,n=g),t(3,u=n.getMinute().toString()),t(2,l=n.getHour().toString())}function c(){n.setMinuteFromString(u),i(n)}function f(){n.setHourFromString(l),i(n)}function p(){l=Wn(this),t(2,l),t(0,a)}let m=()=>f();function h(){u=Wn(this),t(3,u),t(1,o)}let d=()=>c();return r.$$set=g=>{"value"in g&&t(6,n=g.value),"onValueChange"in g&&t(7,i=g.onValueChange)},[a,o,l,u,c,f,n,i,s,p,m,h,d]}var oh=class extends Ve{constructor(e){super(),qe(this,e,I9,F9,Ue,{value:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},vE=oh;var Af=class extends Ot{constructor(e){super(e)}filterValue(e){let t=Is(e);return Qn.parse(t)?t:void 0}getFallbackDefaultValue(){return Qn.getDefaultTime()}getSvelteComponent(){return vE}rawMapValue(e){return Qn.stringify(e)}rawReverseMapValue(e){return Qn.parse(e)}};function yE(r,e,t){let n=r.slice();return n[9]=e[t],n[11]=t,n}function xE(r){let e,t,n,i,a,o,l,u;t=new ci({props:{value:r[9]}}),a=new ur({props:{iconName:"x"}});function s(){return r[8](r[11])}return{c(){e=j("div"),Fe(t.$$.fragment),n=fe(),i=j("button"),Fe(a.$$.fragment),L(i,"class","mb-inline-list-item-button"),L(e,"class","mb-inline-list-item")},m(c,f){Y(c,e,f),Me(t,e,null),z(e,n),z(e,i),Me(a,i,null),o=!0,l||(u=be(i,"click",s),l=!0)},p(c,f){r=c;let p={};f&1&&(p.value=r[9]),t.$set(p)},i(c){o||(te(t.$$.fragment,c),te(a.$$.fragment,c),o=!0)},o(c){ae(t.$$.fragment,c),ae(a.$$.fragment,c),o=!1},d(c){c&&J(e),Te(t),Te(a),l=!1,u()}}}function B9(r){let e,t,n,i,a,o,l,u,s,c=We(r[0]),f=[];for(let m=0;m<c.length;m+=1)f[m]=xE(yE(r,c,m));let p=m=>ae(f[m],1,1,()=>{f[m]=null});return o=new ur({props:{iconName:"plus"}}),{c(){e=j("div");for(let m=0;m<f.length;m+=1)f[m].c();t=fe(),n=j("div"),i=j("span"),i.textContent="\u200B",a=fe(),Fe(o.$$.fragment),L(n,"class","mb-inline-list-add"),L(n,"role","button"),L(n,"tabindex","0"),L(e,"class","mb-inline-list")},m(m,h){Y(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);z(e,t),z(e,n),z(n,i),z(n,a),Me(o,n,null),l=!0,u||(s=[be(n,"click",r[2]),be(n,"keydown",r[3])],u=!0)},p(m,[h]){if(h&3){c=We(m[0]);let d;for(d=0;d<c.length;d+=1){let g=yE(m,c,d);f[d]?(f[d].p(g,h),te(f[d],1)):(f[d]=xE(g),f[d].c(),te(f[d],1),f[d].m(e,t))}for(gt(),d=c.length;d<f.length;d+=1)p(d);vt()}},i(m){if(!l){for(let h=0;h<c.length;h+=1)te(f[h]);te(o.$$.fragment,m),l=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)ae(f[h]);ae(o.$$.fragment,m),l=!1},d(m){m&&J(e),Ct(f,m),Te(o),u=!1,at(s)}}}function O9(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(p){t(0,n=p)}function l(p){n.push(p),t(0,n)}function u(p){n.splice(p,1),a(n),t(0,n)}function s(p){p.target instanceof HTMLAnchorElement||i()}function c(p){p.key===" "&&i()}let f=p=>u(p);return r.$$set=p=>{"value"in p&&t(0,n=p.value),"showSuggester"in p&&t(4,i=p.showSuggester),"onValueChange"in p&&t(5,a=p.onValueChange)},[n,u,s,c,i,a,o,l,f]}var sh=class extends Ve{constructor(e){super(),qe(this,e,O9,B9,Ue,{value:0,showSuggester:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},bE=sh;var Df=class extends Ot{constructor(e){super(e)}filterValue(e){return Ui(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return bE}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}};function wE(r,e,t){let n=r.slice();return n[9]=e[t],n[11]=t,n}function _E(r){let e,t,n,i,a,o,l,u;t=new ci({props:{value:r[9]}}),a=new ur({props:{iconName:"x"}});function s(){return r[8](r[11])}return{c(){e=j("div"),Fe(t.$$.fragment),n=fe(),i=j("button"),Fe(a.$$.fragment),L(i,"class","mb-inline-list-item-button"),L(e,"class","mb-inline-list-item")},m(c,f){Y(c,e,f),Me(t,e,null),z(e,n),z(e,i),Me(a,i,null),o=!0,l||(u=be(i,"click",s),l=!0)},p(c,f){r=c;let p={};f&1&&(p.value=r[9]),t.$set(p)},i(c){o||(te(t.$$.fragment,c),te(a.$$.fragment,c),o=!0)},o(c){ae(t.$$.fragment,c),ae(a.$$.fragment,c),o=!1},d(c){c&&J(e),Te(t),Te(a),l=!1,u()}}}function P9(r){let e,t,n,i,a,o,l,u,s,c=We(r[0]),f=[];for(let m=0;m<c.length;m+=1)f[m]=_E(wE(r,c,m));let p=m=>ae(f[m],1,1,()=>{f[m]=null});return o=new ur({props:{iconName:"plus"}}),{c(){e=j("div");for(let m=0;m<f.length;m+=1)f[m].c();t=fe(),n=j("div"),i=j("span"),i.textContent="\u200B",a=fe(),Fe(o.$$.fragment),L(n,"class","mb-inline-list-add"),L(n,"role","button"),L(n,"tabindex","0"),L(e,"class","mb-inline-list")},m(m,h){Y(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);z(e,t),z(e,n),z(n,i),z(n,a),Me(o,n,null),l=!0,u||(s=[be(n,"click",r[2]),be(n,"keydown",r[3])],u=!0)},p(m,[h]){if(h&3){c=We(m[0]);let d;for(d=0;d<c.length;d+=1){let g=wE(m,c,d);f[d]?(f[d].p(g,h),te(f[d],1)):(f[d]=_E(g),f[d].c(),te(f[d],1),f[d].m(e,t))}for(gt(),d=c.length;d<f.length;d+=1)p(d);vt()}},i(m){if(!l){for(let h=0;h<c.length;h+=1)te(f[h]);te(o.$$.fragment,m),l=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)ae(f[h]);ae(o.$$.fragment,m),l=!1},d(m){m&&J(e),Ct(f,m),Te(o),u=!1,at(s)}}}function R9(r,e,t){let{value:n}=e,{showInput:i}=e,{onValueChange:a}=e;function o(p){t(0,n=p)}function l(p){n.push(p),t(0,n)}function u(p){n.splice(p,1),a(n),t(0,n)}function s(p){p.target instanceof HTMLAnchorElement||i()}function c(p){p.key===" "&&i()}let f=p=>u(p);return r.$$set=p=>{"value"in p&&t(0,n=p.value),"showInput"in p&&t(4,i=p.showInput),"onValueChange"in p&&t(5,a=p.onValueChange)},[n,u,s,c,i,a,o,l,f]}var uh=class extends Ve{constructor(e){super(),qe(this,e,R9,P9,Ue,{value:0,showInput:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},AE=uh;var Ef=class extends Ot{constructor(e){super(e)}filterValue(e){return Ui(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return AE}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showInput:()=>this.openModal()}}openModal(){this.base.plugin.internal.openTextPromptModal("","Meta Bind List","New List Element","",e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},()=>{})}};var Cf=class{constructor(e){this.plugin=e}createInputField(e,t,n){if(e!=="invalid"&&this.checkRenderChildTypeAllowed(e,t),e==="toggle")return new lf(n);if(e==="slider")return new ff(n);if(e==="text")return new cf(n);if(e==="textArea")return new Ru(n);if(e==="text_area")return new Ru(n);if(e==="select")return new mf(n);if(e==="multiSelect")return new ku(n);if(e==="multi_select")return new ku(n);if(e==="datePicker")return new Lu(n);if(e==="date_picker")return new Lu(n);if(e==="number")return new df(n);if(e==="suggester")return new hf(n);if(e==="editor")return new gf(n);if(e==="progressBar")return new vf(n);if(e==="inlineSelect")return new yf(n);if(e==="imageSuggester")return new xf(n);if(e==="list")return new bf(n);if(e==="listSuggester")return new wf(n);if(e==="date")return new _f(n);if(e==="time")return new Af(n);if(e==="inlineListSuggester")return new Df(n);if(e==="inlineList")return new Ef(n)}checkRenderChildTypeAllowed(e,t){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let n=RA[e];if(t==="block"&&!n.allowInBlock)throw new na({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of code blocks`,docs:[wt.linkToInputField(e)]});if(t==="inline"&&!n.allowInline)throw new na({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of inline code blocks`,docs:[wt.linkToInputField(e)]})}};var Ua=class{constructor(e){this.renderChild=e,this.hidden=!1}async render(e){var t,n;this.container=e,this.container.addClass("mb-view-text"),this.hidden=(n=(t=this.renderChild.getArgument("hidden"))==null?void 0:t.value)!=null?n:!1,this.hidden&&this.container.addClass("mb-view-hidden"),await this._render(e),await this.update(this.getDefaultDisplayValue())}async update(e){var t;if(this.container&&!this.hidden){let n=(t=zc(e,this.renderChild.plugin.settings.viewFieldDisplayNullAsEmpty))!=null?t:"";this.container.empty(),await this._update(this.container,n)}}};function mr(){return mr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},mr.apply(this,arguments)}var lh={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function nt(r){return typeof r=="number"}function tt(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Sn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function pa(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function an(r){return r&&r.constructor.prototype.isUnit===!0||!1}function xr(r){return typeof r=="string"}var Tt=Array.isArray;function He(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function Ar(r){return Array.isArray(r)||He(r)}function ko(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Ci(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Os(r){return r&&r.constructor.prototype.isRange===!0||!1}function qa(r){return r&&r.constructor.prototype.isIndex===!0||!1}function DE(r){return typeof r=="boolean"}function EE(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function Sf(r){return r&&r.constructor.prototype.isHelp===!0||!1}function CE(r){return typeof r=="function"}function SE(r){return r instanceof Date}function NE(r){return r instanceof RegExp}function Lo(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Sn(r)&&!pa(r))}function ME(r){return r===null}function TE(r){return r===void 0}function Kn(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function on(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function FE(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function IE(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function BE(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function bt(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function qu(r){return bt(r)||cr(r)&&r.args.length===1&&bt(r.args[0])&&"-+~".includes(r.op)}function qi(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Nn(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function fi(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function At(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function za(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function cr(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function sn(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function OE(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function PE(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Qt(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function Nf(r){return r&&r.constructor.prototype.isChain===!0||!1}function St(r){var e=typeof r;return e==="object"?r===null?"null":tt(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function Ye(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return Ye(t)});if(r instanceof Date)return new Date(r.valueOf());if(tt(r))return r;if(Lo(r))return k9(r,Ye);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function k9(r,e){var t={};for(var n in r)je(r,n)&&(t[n]=e(r[n]));return t}function Mf(r,e){for(var t in e)je(e,t)&&(r[t]=e[t]);return r}function Si(r,e){var t,n,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,i=r.length;n<i;n++)if(!Si(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!Si(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function RE(r,e,t){var n=!0,i;Object.defineProperty(r,e,{get:function(){return n&&(i=t(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function je(r,e){return r&&Object.hasOwnProperty.call(r,e)}function kE(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],a=r[i];a!==void 0&&(t[i]=a)}return t}var LE=["Matrix","Array"],VE=["number","BigNumber","Fraction"];var xe=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(lh)};mr(xe,lh,{MATRIX_OPTIONS:LE,NUMBER_OPTIONS:VE});var Dh=gr(ph(),1);function ze(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var pi=Math.sign||function(r){return r>0?1:r<0?-1:0},UE=Math.log2||function(e){return Math.log(e)/Math.LN2},qE=Math.log10||function(e){return Math.log(e)/Math.LN10},Tf=Math.log1p||function(r){return Math.log(r+1)},zE=Math.cbrt||function(e){if(e===0)return e;var t=e<0,n;return t&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,t?-n:n},$E=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function mh(r,e,t){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!ze(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!ze(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),a="i".concat(t)}var o="";return r<0&&(r=-r,o="-"),"".concat(o).concat(i).concat(r.toString(e)).concat(a)}function Ni(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var t="auto",n,i;if(e&&(e.notation&&(t=e.notation),nt(e)?n=e:nt(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return dh(r,n);case"exponential":return HE(r,n);case"engineering":return L9(r,n);case"bin":return mh(r,2,i);case"oct":return mh(r,8,i);case"hex":return mh(r,16,i);case"auto":return V9(r,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ff(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(l){return i-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return o.length===0&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function L9(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Ff(r),n=If(t,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(nt(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var l=Math.abs(i-o)-(a.length-1),u=0;u<l;u++)a.push(0);for(var s=Math.abs(i-o),c=1;s>0;)c++,s--;var f=a.slice(c).join(""),p=nt(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=a.slice(0,c).join("")+p+"e"+(i>=0?"+":"")+o.toString();return n.sign+m}function dh(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Ff(r),n=typeof e=="number"?If(t,t.exponent+1+e):t,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(Ps(o-i.length))),a<0&&(i=Ps(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function HE(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Ff(r),n=e?If(t,e):t,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(Ps(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function V9(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=t&&t.lowerExp!==void 0?t.lowerExp:-3,i=t&&t.upperExp!==void 0?t.upperExp:5,a=Ff(r),o=e?If(a,e):a;if(o.exponent<n||o.exponent>=i)return HE(r,e);var l=o.coefficients,u=o.exponent;l.length<e&&(l=l.concat(Ps(e-l.length))),l=l.concat(Ps(u-l.length+1+(l.length<e?e-l.length:0))),l=Ps(-u).concat(l);var s=u>0?u:0;return s<l.length-1&&l.splice(s+1,0,"."),o.sign+l.join("")}function If(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),t.exponent++,a++),a--,n[a]++}}return t}function Ps(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function GE(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var U9=Number.EPSILON||2220446049250313e-31;function Mr(r,e,t){if(t==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var n=Math.abs(r-e);return n<=U9?!0:n<=Math.max(Math.abs(r),Math.abs(e))*t}return!1}var WE=Math.acosh||function(r){return Math.log(Math.sqrt(r*r-1)+r)},jE=Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},ZE=Math.atanh||function(r){return Math.log((1+r)/(1-r))/2},Bf=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2},JE=Math.sinh||function(r){return(Math.exp(r)-Math.exp(-r))/2},Of=Math.tanh||function(r){var e=Math.exp(2*r);return(e-1)/(e+1)};function YE(r,e){var t=r>0?!0:r<0?!1:1/r===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return t^n?-r:r}function hh(r,e,t){var n=r.constructor,i=new n(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!ze(t))throw new Error("size must be an integer");if(r.greaterThan(i.pow(t-1).sub(1))||r.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function QE(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var t="auto",n,i;if(e!==void 0&&(e.notation&&(t=e.notation),typeof e=="number"?n=e:e.precision!==void 0&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return z9(r,n);case"exponential":return XE(r,n);case"engineering":return q9(r,n);case"bin":return hh(r,2,i);case"oct":return hh(r,8,i);case"hex":return hh(r,16,i);case"auto":{var a=e&&e.lowerExp!==void 0?e.lowerExp:-3,o=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var l,u=r.toSignificantDigits(n),s=u.e;return s>=a&&s<o?l=u.toFixed():l=XE(r,n),l.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function q9(r,e){var t=r.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=r.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=r.constructor;a=new o(a).toFixed()}return a+"e"+(t>=0?"+":"")+n.toString()}function XE(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function z9(r,e){return r.toFixed(e)}function eC(r,e){var t=r.length-e.length,n=r.length;return r.substring(t,n)===e}function it(r,e){var t=$9(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function $9(r,e){if(typeof r=="number")return Ni(r,e);if(tt(r))return QE(r,e);if(H9(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return tC(r,e);if(xr(r))return Vo(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>Vo(n)+": "+it(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function Vo(r){for(var e=String(r),t="",n=0;n<e.length;){var i=e.charAt(n);t+=i in KE?KE[i]:i,n++}return'"'+t+'"'}var KE={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function $r(r){var e=String(r);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function tC(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=tC(r[i],e);return t+="]",t}else return it(r,e)}function H9(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function Pf(r,e){if(!xr(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+St(r)+", index: 0)");if(!xr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+St(e)+", index: 1)");return r===e?0:r>e?1:-1}function ot(r,e,t){if(!(this instanceof ot))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}ot.prototype=new RangeError;ot.prototype.constructor=RangeError;ot.prototype.name="DimensionError";ot.prototype.isDimensionError=!0;function un(r,e,t){if(!(this instanceof un))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}un.prototype=new RangeError;un.prototype.constructor=RangeError;un.prototype.name="IndexError";un.prototype.isIndexError=!0;function et(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function rC(r,e,t){var n,i=r.length;if(i!==e[t])throw new ot(i,e[t]);if(t<e.length-1){var a=t+1;for(n=0;n<i;n++){var o=r[n];if(!Array.isArray(o))throw new ot(e.length-1,e.length,"<");rC(r[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new ot(e.length+1,e.length,">")}function vh(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new ot(r.length,0)}else rC(r,e,0)}function zu(r,e){var t=r.isMatrix?r._size:et(r),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==t[a])throw new ot(i,t[a])})}function $t(r,e){if(r!==void 0){if(!nt(r)||!ze(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new un(r,e)}}function Uo(r){for(var e=0;e<r._dimensions.length;++e){var t=r._dimensions[e];if(t._data&&Tt(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(xr(t)&&t.length===0)return!0}return!1}function Mi(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!nt(i)||!ze(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+it(e)+")")}),(nt(r)||tt(r))&&(r=[r]);var n=t!==void 0?t:0;return gh(r,e,0,n),r}function gh(r,e,t,n){var i,a,o=r.length,l=e[t],u=Math.min(o,l);if(r.length=l,t<e.length-1){var s=t+1;for(i=0;i<u;i++)a=r[i],Array.isArray(a)||(a=[a],r[i]=a),gh(a,e,s,n);for(i=u;i<l;i++)a=[],r[i]=a,gh(a,e,s,n)}else{for(i=0;i<u;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=u;i<l;i++)r[i]=n}}function $u(r,e){var t=pt(r),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new ot(0,n,"!=");e=Hu(e,n);var i=nC(e);if(n!==i)throw new ot(i,n,"!=");try{return G9(t,e)}catch(a){throw a instanceof ot?new ot(i,n,"!="):a}}function Hu(r,e){var t=nC(r),n=r.slice(),i=-1,a=r.indexOf(i),o=r.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var l=a>=0,u=e%t===0;if(l)if(u)n[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function nC(r){return r.reduce((e,t)=>e*t,1)}function G9(r,e){for(var t=r,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=t.length/a,l=0;l<o;l++)n.push(t.slice(l*a,(l+1)*a));t=n}return t}function Rs(r,e){for(var t=e||et(r);Array.isArray(r)&&r.length===1;)r=r[0],t.shift();for(var n=t.length;t[n-1]===1;)n--;return n<t.length&&(r=iC(r,n,0),t.length=n),r}function iC(r,e,t){var n,i;if(t<e){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=iC(r[n],e,a)}else for(;Array.isArray(r);)r=r[0];return r}function Rf(r,e,t,n){var i=n||et(r);if(t)for(var a=0;a<t;a++)r=[r],i.unshift(1);for(r=aC(r,e,0);i.length<e;)i.push(1);return r}function aC(r,e,t){var n,i;if(Array.isArray(r)){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=aC(r[n],e,a)}else for(var o=t;o<e;o++)r=[r];return r}function pt(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}function Pn(r,e){return Array.prototype.map.call(r,e)}function $a(r,e){Array.prototype.forEach.call(r,e)}function kf(r,e){if(et(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,e)}function ks(r,e){if(et(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,t=>e.test(t))}function yh(r,e){return Array.prototype.join.call(r,e)}function ma(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],t=0;e[0]={value:r[0],identifier:0};for(var n=1;n<r.length;n++)r[n]===r[n-1]?t++:t=0,e.push({value:r[n],identifier:t});return e}function Ls(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],t=0;t<r.length;t++)e.push(r[t].value);return e}function Ha(r,e){for(var t,n=0,i=0;i<r.length;i++){var a=r[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var l=o?Ha(a,e):e(a);if(t===void 0)t=l;else if(t!==l)return"mixed"}return t}function oC(r,e,t,n){if(n<t){if(r.length!==e.length)throw new ot(r.length,e.length);for(var i=[],a=0;a<r.length;a++)i[a]=oC(r[a],e[a],t,n+1);return i}else return r.concat(e)}function xh(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,n){return oC(t,n,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function W9(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var n=e.map(p=>p.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var l=e[o],u=n[o],s=0;s<u;s++){var c=i-u+s;l[s]>a[c]&&(a[c]=l[s])}for(var f=0;f<e.length;f++)Gu(e[f],a);return a}function Gu(r,e){for(var t=e.length,n=r.length,i=0;i<n;i++){var a=t-n+i;if(r[i]<e[a]&&r[i]>1||r[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[i]," to size ").concat(e[a]))}}function bh(r,e){var t=et(r);if(Si(t,e))return r;Gu(t,e);var n=W9(t,e),i=n.length,a=[...Array(i-t.length).fill(1),...t],o=Z9(r);t.length<i&&(o=$u(o,a),t=et(o));for(var l=0;l<i;l++)t[l]<n[l]&&(o=j9(o,n[l],l),t=et(o));return o}function j9(r,e,t){return xh(...Array(e).fill(r),t)}function Z9(r){return mr([],r)}function S(r,e,t,n){function i(a){var o=kE(a,e.map(X9));return J9(r,e,a),t(o)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function J9(r,e,t){var n=e.filter(a=>!Y9(a)).every(a=>t[a]!==void 0);if(!n){var i=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function Y9(r){return r&&r[0]==="?"}function X9(r){return r&&r[0]==="?"?r.slice(1):r}function dr(r,e){if(cC(r)&&uC(r,e))return r[e];throw typeof r[e]=="function"&&Lf(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function zi(r,e,t){if(cC(r)&&uC(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function sC(r,e){return e in r}function uC(r,e){return!r||typeof r!="object"?!1:je(Q9,e)?!0:!(e in Object.prototype||e in Function.prototype)}function lC(r,e){if(!Lf(r,e))throw new Error('No access to method "'+e+'"');return r[e]}function Lf(r,e){return r==null||typeof r[e]!="function"||je(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:je(K9,e)?!0:!(e in Object.prototype||e in Function.prototype)}function cC(r){return typeof r=="object"&&r&&r.constructor===Object}var Q9={length:!0,name:!0},K9={toString:!0,valueOf:!0,toLocaleString:!0};var Wu=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return dr(this.wrappedObject,e)}set(e,t){return zi(this.wrappedObject,e,t),this}has(e){return sC(this.wrappedObject,e)}};function $i(){return new Map}function da(r){if(!r)return $i();if(Vf(r))return r;if(Lo(r))return new Wu(r);throw new Error("createMap can create maps from objects or Maps")}function fC(r){if(r instanceof Wu)return r.wrappedObject;var e={};for(var t of r.keys()){var n=r.get(t);zi(e,t,n)}return e}function Vf(r){return r?r instanceof Map||r instanceof Wu||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function wh(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];for(var i of t)if(i){if(Vf(i))for(var a of i.keys())r.set(a,i.get(a));else if(Lo(i))for(var o of Object.keys(i))r.set(o,i[o])}return r}var pC=function(){return pC=Dh.default.create,Dh.default},eU=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Eh=S("typed",eU,function(e){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:a}=e,o=pC();return o.clear(),o.addTypes([{name:"number",test:nt},{name:"Complex",test:Sn},{name:"BigNumber",test:tt},{name:"Fraction",test:pa},{name:"Unit",test:an},{name:"identifier",test:l=>xr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(l)},{name:"string",test:xr},{name:"Chain",test:Nf},{name:"Array",test:Tt},{name:"Matrix",test:He},{name:"DenseMatrix",test:ko},{name:"SparseMatrix",test:Ci},{name:"Range",test:Os},{name:"Index",test:qa},{name:"boolean",test:DE},{name:"ResultSet",test:EE},{name:"Help",test:Sf},{name:"function",test:CE},{name:"Date",test:SE},{name:"RegExp",test:NE},{name:"null",test:ME},{name:"undefined",test:TE},{name:"AccessorNode",test:Kn},{name:"ArrayNode",test:on},{name:"AssignmentNode",test:FE},{name:"BlockNode",test:IE},{name:"ConditionalNode",test:BE},{name:"ConstantNode",test:bt},{name:"FunctionNode",test:Nn},{name:"FunctionAssignmentNode",test:qi},{name:"IndexNode",test:fi},{name:"Node",test:At},{name:"ObjectNode",test:za},{name:"OperatorNode",test:cr},{name:"ParenthesisNode",test:sn},{name:"RangeNode",test:OE},{name:"RelationalNode",test:PE},{name:"SymbolNode",test:Qt},{name:"Map",test:Vf},{name:"Object",test:Lo}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(t||_h(u),GE(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new t(u)}},{from:"number",to:"Complex",convert:function(u){return n||Uf(u),new n(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return n||Uf(u),new n(u.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return n||Uf(u),new n(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){a||Ah(u);var s=new a(u);if(s.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return s}},{from:"string",to:"number",convert:function(u){var s=Number(u);if(isNaN(s))throw new Error('Cannot convert "'+u+'" to a number');return s}},{from:"string",to:"BigNumber",convert:function(u){t||_h(u);try{return new t(u)}catch(s){throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(u){a||Ah(u);try{return new a(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){n||Uf(u);try{return new n(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return t||_h(u),new t(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return a||Ah(u),new a(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||tU(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),o.onMismatch=(l,u,s)=>{var c=o.createError(l,u,s);if(["wrongType","mismatch"].includes(c.data.category)&&u.length===1&&Ar(u[0])&&s.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=c.data,f}throw c},o.onMismatch=(l,u,s)=>{var c=o.createError(l,u,s);if(["wrongType","mismatch"].includes(c.data.category)&&u.length===1&&Ar(u[0])&&s.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=c.data,f}throw c},o});function _h(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Uf(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function tU(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ah(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var rU="ResultSet",nU=[],Ch=S(rU,nU,()=>{function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return r.prototype.type="ResultSet",r.prototype.isResultSet=!0,r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},r.fromJSON=function(e){return new r(e.entries)},r},{isClass:!0});var Vs=9e15,Za=1e9,Sh="0123456789abcdef",zf="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",$f="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Nh={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Vs,maxE:Vs,crypto:!1},gC,ha,Dt=!0,Gf="[DecimalError] ",ja=Gf+"Invalid argument: ",vC=Gf+"Precision limit exceeded",yC=Gf+"crypto unavailable",xC="[object Decimal]",gn=Math.floor,Hr=Math.pow,iU=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,aU=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,oU=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,bC=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fi=1e7,mt=7,sU=9007199254740991,uU=zf.length-1,Mh=$f.length-1,Ie={toStringTag:xC};Ie.absoluteValue=Ie.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),ut(r)};Ie.ceil=function(){return ut(new this.constructor(this),this.e+1,2)};Ie.clampedTo=Ie.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(ja+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};Ie.comparedTo=Ie.cmp=function(r){var e,t,n,i,a=this,o=a.d,l=(r=new a.constructor(r)).d,u=a.s,s=r.s;if(!o||!l)return!u||!s?NaN:u!==s?u:o===l?0:!o^u<0?1:-1;if(!o[0]||!l[0])return o[0]?u:l[0]?-s:0;if(u!==s)return u;if(a.e!==r.e)return a.e>r.e^u<0?1:-1;for(n=o.length,i=l.length,e=0,t=n<i?n:i;e<t;++e)if(o[e]!==l[e])return o[e]>l[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1};Ie.cosine=Ie.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+mt,n.rounding=1,t=lU(n,EC(n,t)),n.precision=r,n.rounding=e,ut(ha==2||ha==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};Ie.cubeRoot=Ie.cbrt=function(){var r,e,t,n,i,a,o,l,u,s,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(Dt=!1,a=c.s*Hr(c.s*c,1/3),!a||Math.abs(a)==1/0?(t=ln(c.d),r=c.e,(a=(r-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=Hr(t,1/3),r=gn((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?t="5e"+r:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new f(t),n.s=c.s):n=new f(a.toString()),o=(r=f.precision)+3;;)if(l=n,u=l.times(l).times(l),s=u.plus(c),n=hr(s.plus(c).times(l),s.plus(u),o+2,1),ln(l.d).slice(0,o)===(t=ln(n.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!i&&t=="4999"){if(!i&&(ut(l,r+1,0),l.times(l).times(l).eq(c))){n=l;break}o+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ut(n,r+1,1),e=!n.times(n).times(n).eq(c));break}return Dt=!0,ut(n,r,f.rounding,e)};Ie.decimalPlaces=Ie.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-gn(this.e/mt))*mt,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};Ie.dividedBy=Ie.div=function(r){return hr(this,new this.constructor(r))};Ie.dividedToIntegerBy=Ie.divToInt=function(r){var e=this,t=e.constructor;return ut(hr(e,new t(r),0,1,1),t.precision,t.rounding)};Ie.equals=Ie.eq=function(r){return this.cmp(r)===0};Ie.floor=function(){return ut(new this.constructor(this),this.e+1,3)};Ie.greaterThan=Ie.gt=function(r){return this.cmp(r)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(r){var e=this.cmp(r);return e==1||e===0};Ie.hyperbolicCosine=Ie.cosh=function(){var r,e,t,n,i,a=this,o=a.constructor,l=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return l;t=o.precision,n=o.rounding,o.precision=t+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(r=Math.ceil(i/3),e=(1/jf(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=Us(o,1,a.times(e),new o(1),!0);for(var u,s=r,c=new o(8);s--;)u=a.times(a),a=l.minus(u.times(c.minus(u.times(c))));return ut(a,o.precision=t,o.rounding=n,!0)};Ie.hyperbolicSine=Ie.sinh=function(){var r,e,t,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Us(a,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/jf(5,r)),i=Us(a,2,i,i,!0);for(var o,l=new a(5),u=new a(16),s=new a(20);r--;)o=i.times(i),i=i.times(l.plus(o.times(u.times(o).plus(s))))}return a.precision=e,a.rounding=t,ut(i,e,t,!0)};Ie.hyperbolicTangent=Ie.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,hr(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};Ie.inverseCosine=Ie.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,a=t.rounding;return n!==-1?n===0?e.isNeg()?Ti(t,i,a):new t(0):new t(NaN):e.isZero()?Ti(t,i+4,a).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),r=Ti(t,i+4,a).times(.5),t.precision=i,t.rounding=a,r.minus(e))};Ie.inverseHyperbolicCosine=Ie.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,Dt=!1,t=t.times(t).minus(1).sqrt().plus(t),Dt=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};Ie.inverseHyperbolicSine=Ie.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,Dt=!1,t=t.times(t).plus(1).sqrt().plus(t),Dt=!0,n.precision=r,n.rounding=e,t.ln())};Ie.inverseHyperbolicTangent=Ie.atanh=function(){var r,e,t,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=a.precision,e=a.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?ut(new a(i),r,e,!0):(a.precision=t=n-i.e,i=hr(i.plus(1),new a(1).minus(i),t+r,1),a.precision=r+4,a.rounding=1,i=i.ln(),a.precision=r,a.rounding=e,i.times(.5))):new a(NaN)};Ie.inverseSine=Ie.asin=function(){var r,e,t,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),t=a.precision,n=a.rounding,e!==-1?e===0?(r=Ti(a,t+4,n).times(.5),r.s=i.s,r):new a(NaN):(a.precision=t+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=n,i.times(2)))};Ie.inverseTangent=Ie.atan=function(){var r,e,t,n,i,a,o,l,u,s=this,c=s.constructor,f=c.precision,p=c.rounding;if(s.isFinite()){if(s.isZero())return new c(s);if(s.abs().eq(1)&&f+4<=Mh)return o=Ti(c,f+4,p).times(.25),o.s=s.s,o}else{if(!s.s)return new c(NaN);if(f+4<=Mh)return o=Ti(c,f+4,p).times(.5),o.s=s.s,o}for(c.precision=l=f+10,c.rounding=1,t=Math.min(28,l/mt+2|0),r=t;r;--r)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(Dt=!1,e=Math.ceil(l/mt),n=1,u=s.times(s),o=new c(s),i=s;r!==-1;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(r=e;o.d[r]===a.d[r]&&r--;);return t&&(o=o.times(2<<t-1)),Dt=!0,ut(o,c.precision=f,c.rounding=p,!0)};Ie.isFinite=function(){return!!this.d};Ie.isInteger=Ie.isInt=function(){return!!this.d&&gn(this.e/mt)>this.d.length-2};Ie.isNaN=function(){return!this.s};Ie.isNegative=Ie.isNeg=function(){return this.s<0};Ie.isPositive=Ie.isPos=function(){return this.s>0};Ie.isZero=function(){return!!this.d&&this.d[0]===0};Ie.lessThan=Ie.lt=function(r){return this.cmp(r)<0};Ie.lessThanOrEqualTo=Ie.lte=function(r){return this.cmp(r)<1};Ie.logarithm=Ie.log=function(r){var e,t,n,i,a,o,l,u,s=this,c=s.constructor,f=c.precision,p=c.rounding,m=5;if(r==null)r=new c(10),e=!0;else{if(r=new c(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new c(NaN);e=r.eq(10)}if(t=s.d,s.s<0||!t||!t[0]||s.eq(1))return new c(t&&!t[0]?-1/0:s.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(i=t[0];i%10===0;)i/=10;a=i!==1}if(Dt=!1,l=f+m,o=Wa(s,l),n=e?Hf(c,l+10):Wa(r,l),u=hr(o,n,l,1),ju(u.d,i=f,p))do if(l+=10,o=Wa(s,l),n=e?Hf(c,l+10):Wa(r,l),u=hr(o,n,l,1),!a){+ln(u.d).slice(i+1,i+15)+1==1e14&&(u=ut(u,f+1,0));break}while(ju(u.d,i+=10,p));return Dt=!0,ut(u,f,p)};Ie.minus=Ie.sub=function(r){var e,t,n,i,a,o,l,u,s,c,f,p,m=this,h=m.constructor;if(r=new h(r),!m.d||!r.d)return!m.s||!r.s?r=new h(NaN):m.d?r.s=-r.s:r=new h(r.d||m.s!==r.s?m:NaN),r;if(m.s!=r.s)return r.s=-r.s,m.plus(r);if(s=m.d,p=r.d,l=h.precision,u=h.rounding,!s[0]||!p[0]){if(p[0])r.s=-r.s;else if(s[0])r=new h(m);else return new h(u===3?-0:0);return Dt?ut(r,l,u):r}if(t=gn(r.e/mt),c=gn(m.e/mt),s=s.slice(),a=c-t,a){for(f=a<0,f?(e=s,a=-a,o=p.length):(e=p,t=c,o=s.length),n=Math.max(Math.ceil(l/mt),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=s.length,o=p.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(s[n]!=p[n]){f=s[n]<p[n];break}a=0}for(f&&(e=s,s=p,p=e,r.s=-r.s),o=s.length,n=p.length-o;n>0;--n)s[o++]=0;for(n=p.length;n>a;){if(s[--n]<p[n]){for(i=n;i&&s[--i]===0;)s[i]=Fi-1;--s[i],s[n]+=Fi}s[n]-=p[n]}for(;s[--o]===0;)s.pop();for(;s[0]===0;s.shift())--t;return s[0]?(r.d=s,r.e=Wf(s,t),Dt?ut(r,l,u):r):new h(u===3?-0:0)};Ie.modulo=Ie.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?ut(new n(t),n.precision,n.rounding):(Dt=!1,n.modulo==9?(e=hr(t,r.abs(),0,3,1),e.s*=r.s):e=hr(t,r,0,n.modulo,1),e=e.times(r),Dt=!0,t.minus(e))};Ie.naturalExponential=Ie.exp=function(){return Th(this)};Ie.naturalLogarithm=Ie.ln=function(){return Wa(this)};Ie.negated=Ie.neg=function(){var r=new this.constructor(this);return r.s=-r.s,ut(r)};Ie.plus=Ie.add=function(r){var e,t,n,i,a,o,l,u,s,c,f=this,p=f.constructor;if(r=new p(r),!f.d||!r.d)return!f.s||!r.s?r=new p(NaN):f.d||(r=new p(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(s=f.d,c=r.d,l=p.precision,u=p.rounding,!s[0]||!c[0])return c[0]||(r=new p(f)),Dt?ut(r,l,u):r;if(a=gn(f.e/mt),n=gn(r.e/mt),s=s.slice(),i=a-n,i){for(i<0?(t=s,i=-i,o=c.length):(t=c,n=a,o=s.length),a=Math.ceil(l/mt),o=a>o?a+1:o+1,i>o&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(o=s.length,i=c.length,o-i<0&&(i=o,t=c,c=s,s=t),e=0;i;)e=(s[--i]=s[i]+c[i]+e)/Fi|0,s[i]%=Fi;for(e&&(s.unshift(e),++n),o=s.length;s[--o]==0;)s.pop();return r.d=s,r.e=Wf(s,n),Dt?ut(r,l,u):r};Ie.precision=Ie.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(ja+r);return t.d?(e=wC(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};Ie.round=function(){var r=this,e=r.constructor;return ut(new e(r),r.e+1,e.rounding)};Ie.sine=Ie.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+mt,n.rounding=1,t=fU(n,EC(n,t)),n.precision=r,n.rounding=e,ut(ha>2?t.neg():t,r,e,!0)):new n(NaN)};Ie.squareRoot=Ie.sqrt=function(){var r,e,t,n,i,a,o=this,l=o.d,u=o.e,s=o.s,c=o.constructor;if(s!==1||!l||!l[0])return new c(!s||s<0&&(!l||l[0])?NaN:l?o:1/0);for(Dt=!1,s=Math.sqrt(+o),s==0||s==1/0?(e=ln(l),(e.length+u)%2==0&&(e+="0"),s=Math.sqrt(e),u=gn((u+1)/2)-(u<0||u%2),s==1/0?e="5e"+u:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+u),n=new c(e)):n=new c(s.toString()),t=(u=c.precision)+3;;)if(a=n,n=a.plus(hr(o,a,t+2,1)).times(.5),ln(a.d).slice(0,t)===(e=ln(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(ut(a,u+1,0),a.times(a).eq(o))){n=a;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(ut(n,u+1,1),r=!n.times(n).eq(o));break}return Dt=!0,ut(n,u,c.rounding,r)};Ie.tangent=Ie.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=hr(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,ut(ha==2||ha==4?t.neg():t,r,e,!0)):new n(NaN)};Ie.times=Ie.mul=function(r){var e,t,n,i,a,o,l,u,s,c=this,f=c.constructor,p=c.d,m=(r=new f(r)).d;if(r.s*=c.s,!p||!p[0]||!m||!m[0])return new f(!r.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?r.s/0:r.s*0);for(t=gn(c.e/mt)+gn(r.e/mt),u=p.length,s=m.length,u<s&&(a=p,p=m,m=a,o=u,u=s,s=o),a=[],o=u+s,n=o;n--;)a.push(0);for(n=s;--n>=0;){for(e=0,i=u+n;i>n;)l=a[i]+m[n]*p[i-n-1]+e,a[i--]=l%Fi|0,e=l/Fi|0;a[i]=(a[i]+e)%Fi|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),r.d=a,r.e=Wf(a,t),Dt?ut(r,f.precision,f.rounding):r};Ie.toBinary=function(r,e){return Ih(this,2,r,e)};Ie.toDecimalPlaces=Ie.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(Rn(r,0,Za),e===void 0?e=n.rounding:Rn(e,0,8),ut(t,r+t.e+1,e))};Ie.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Hi(n,!0):(Rn(r,0,Za),e===void 0?e=i.rounding:Rn(e,0,8),n=ut(new i(n),r+1,e),t=Hi(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};Ie.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?t=Hi(i):(Rn(r,0,Za),e===void 0?e=a.rounding:Rn(e,0,8),n=ut(new a(i),r+i.e+1,e),t=Hi(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};Ie.toFraction=function(r){var e,t,n,i,a,o,l,u,s,c,f,p,m=this,h=m.d,d=m.constructor;if(!h)return new d(m);if(s=t=new d(1),n=u=new d(0),e=new d(n),a=e.e=wC(h)-m.e-1,o=a%mt,e.d[0]=Hr(10,o<0?mt+o:o),r==null)r=a>0?e:s;else{if(l=new d(r),!l.isInt()||l.lt(s))throw Error(ja+l);r=l.gt(e)?a>0?e:s:l}for(Dt=!1,l=new d(ln(h)),c=d.precision,d.precision=a=h.length*mt*2;f=hr(l,e,0,1,1),i=t.plus(f.times(n)),i.cmp(r)!=1;)t=n,n=i,i=s,s=u.plus(f.times(i)),u=i,i=e,e=l.minus(f.times(i)),l=i;return i=hr(r.minus(t),n,0,1,1),u=u.plus(i.times(s)),t=t.plus(i.times(n)),u.s=s.s=m.s,p=hr(s,n,a,1).minus(m).abs().cmp(hr(u,t,a,1).minus(m).abs())<1?[s,n]:[u,t],d.precision=c,Dt=!0,p};Ie.toHexadecimal=Ie.toHex=function(r,e){return Ih(this,16,r,e)};Ie.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:Rn(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(Dt=!1,t=hr(t,r,0,e,1).times(r),Dt=!0,ut(t)):(r.s=t.s,t=r),t};Ie.toNumber=function(){return+this};Ie.toOctal=function(r,e){return Ih(this,8,r,e)};Ie.toPower=Ie.pow=function(r){var e,t,n,i,a,o,l=this,u=l.constructor,s=+(r=new u(r));if(!l.d||!r.d||!l.d[0]||!r.d[0])return new u(Hr(+l,s));if(l=new u(l),l.eq(1))return l;if(n=u.precision,a=u.rounding,r.eq(1))return ut(l,n,a);if(e=gn(r.e/mt),e>=r.d.length-1&&(t=s<0?-s:s)<=sU)return i=_C(u,l,t,n),r.s<0?new u(1).div(i):ut(i,n,a);if(o=l.s,o<0){if(e<r.d.length-1)return new u(NaN);if(r.d[e]&1||(o=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=o,l}return t=Hr(+l,s),e=t==0||!isFinite(t)?gn(s*(Math.log("0."+ln(l.d))/Math.LN10+l.e+1)):new u(t+"").e,e>u.maxE+1||e<u.minE-1?new u(e>0?o/0:0):(Dt=!1,u.rounding=l.s=1,t=Math.min(12,(e+"").length),i=Th(r.times(Wa(l,n+t)),n),i.d&&(i=ut(i,n+5,1),ju(i.d,n,a)&&(e=n+10,i=ut(Th(r.times(Wa(l,e+t)),e),e+5,1),+ln(i.d).slice(n+1,n+15)+1==1e14&&(i=ut(i,n+1,0)))),i.s=o,Dt=!0,u.rounding=a,ut(i,n,a))};Ie.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Hi(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Rn(r,1,Za),e===void 0?e=i.rounding:Rn(e,0,8),n=ut(new i(n),r,e),t=Hi(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};Ie.toSignificantDigits=Ie.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(Rn(r,1,Za),e===void 0?e=n.rounding:Rn(e,0,8)),ut(new n(t),r,e)};Ie.toString=function(){var r=this,e=r.constructor,t=Hi(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};Ie.truncated=Ie.trunc=function(){return ut(new this.constructor(this),this.e+1,1)};Ie.valueOf=Ie.toJSON=function(){var r=this,e=r.constructor,t=Hi(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function ln(r){var e,t,n,i=r.length-1,a="",o=r[0];if(i>0){for(a+=o,e=1;e<i;e++)n=r[e]+"",t=mt-n.length,t&&(a+=Ga(t)),a+=n;o=r[e],n=o+"",t=mt-n.length,t&&(a+=Ga(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function Rn(r,e,t){if(r!==~~r||r<e||r>t)throw Error(ja+r)}function ju(r,e,t,n){var i,a,o,l;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=mt,i=0):(i=Math.ceil((e+1)/mt),e%=mt),a=Hr(10,mt-e),l=r[i]%a|0,n==null?e<3?(e==0?l=l/100|0:e==1&&(l=l/10|0),o=t<4&&l==99999||t>3&&l==49999||l==5e4||l==0):o=(t<4&&l+1==a||t>3&&l+1==a/2)&&(r[i+1]/a/100|0)==Hr(10,e-2)-1||(l==a/2||l==0)&&(r[i+1]/a/100|0)==0:e<4?(e==0?l=l/1e3|0:e==1?l=l/100|0:e==2&&(l=l/10|0),o=(n||t<4)&&l==9999||!n&&t>3&&l==4999):o=((n||t<4)&&l+1==a||!n&&t>3&&l+1==a/2)&&(r[i+1]/a/1e3|0)==Hr(10,e-3)-1,o}function qf(r,e,t){for(var n,i=[0],a,o=0,l=r.length;o<l;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Sh.indexOf(r.charAt(o++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function lU(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/jf(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=Us(r,1,e.times(i),new r(1));for(var a=t;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return r.precision-=t,e}var hr=function(){function r(n,i,a){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%a|0,l=o/a|0;return l&&n.unshift(l),n}function e(n,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function t(n,i,a,o){for(var l=0;a--;)n[a]-=l,l=n[a]<i[a]?1:0,n[a]=l*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,l,u){var s,c,f,p,m,h,d,g,v,w,y,x,_,b,D,C,A,E,F,I,O=n.constructor,k=n.s==i.s?1:-1,R=n.d,T=i.d;if(!R||!R[0]||!T||!T[0])return new O(!n.s||!i.s||(R?T&&R[0]==T[0]:!T)?NaN:R&&R[0]==0||!T?k*0:k/0);for(u?(m=1,c=n.e-i.e):(u=Fi,m=mt,c=gn(n.e/m)-gn(i.e/m)),F=T.length,A=R.length,v=new O(k),w=v.d=[],f=0;T[f]==(R[f]||0);f++);if(T[f]>(R[f]||0)&&c--,a==null?(b=a=O.precision,o=O.rounding):l?b=a+(n.e-i.e)+1:b=a,b<0)w.push(1),h=!0;else{if(b=b/m+2|0,f=0,F==1){for(p=0,T=T[0],b++;(f<A||p)&&b--;f++)D=p*u+(R[f]||0),w[f]=D/T|0,p=D%T|0;h=p||f<A}else{for(p=u/(T[0]+1)|0,p>1&&(T=r(T,p,u),R=r(R,p,u),F=T.length,A=R.length),C=F,y=R.slice(0,F),x=y.length;x<F;)y[x++]=0;I=T.slice(),I.unshift(0),E=T[0],T[1]>=u/2&&++E;do p=0,s=e(T,y,F,x),s<0?(_=y[0],F!=x&&(_=_*u+(y[1]||0)),p=_/E|0,p>1?(p>=u&&(p=u-1),d=r(T,p,u),g=d.length,x=y.length,s=e(d,y,g,x),s==1&&(p--,t(d,F<g?I:T,g,u))):(p==0&&(s=p=1),d=T.slice()),g=d.length,g<x&&d.unshift(0),t(y,d,x,u),s==-1&&(x=y.length,s=e(T,y,F,x),s<1&&(p++,t(y,F<x?I:T,x,u))),x=y.length):s===0&&(p++,y=[0]),w[f++]=p,s&&y[0]?y[x++]=R[C]||0:(y=[R[C]],x=1);while((C++<A||y[0]!==void 0)&&b--);h=y[0]!==void 0}w[0]||w.shift()}if(m==1)v.e=c,gC=h;else{for(f=1,p=w[0];p>=10;p/=10)f++;v.e=f+c*m-1,ut(v,l?a+v.e+1:a,o,h)}return v}}();function ut(r,e,t,n){var i,a,o,l,u,s,c,f,p,m=r.constructor;e:if(e!=null){if(f=r.d,!f)return r;for(i=1,l=f[0];l>=10;l/=10)i++;if(a=e-i,a<0)a+=mt,o=e,c=f[p=0],u=c/Hr(10,i-o-1)%10|0;else if(p=Math.ceil((a+1)/mt),l=f.length,p>=l)if(n){for(;l++<=p;)f.push(0);c=u=0,i=1,a%=mt,o=a-mt+1}else break e;else{for(c=l=f[p],i=1;l>=10;l/=10)i++;a%=mt,o=a-mt+i,u=o<0?0:c/Hr(10,i-o-1)%10|0}if(n=n||e<0||f[p+1]!==void 0||(o<0?c:c%Hr(10,i-o-1)),s=t<4?(u||n)&&(t==0||t==(r.s<0?3:2)):u>5||u==5&&(t==4||n||t==6&&(a>0?o>0?c/Hr(10,i-o):0:f[p-1])%10&1||t==(r.s<0?8:7)),e<1||!f[0])return f.length=0,s?(e-=r.e+1,f[0]=Hr(10,(mt-e%mt)%mt),r.e=-e||0):f[0]=r.e=0,r;if(a==0?(f.length=p,l=1,p--):(f.length=p+1,l=Hr(10,mt-a),f[p]=o>0?(c/Hr(10,i-o)%Hr(10,o)|0)*l:0),s)for(;;)if(p==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=l,l=1;o>=10;o/=10)l++;a!=l&&(r.e++,f[0]==Fi&&(f[0]=1));break}else{if(f[p]+=l,f[p]!=Fi)break;f[p--]=0,l=1}for(a=f.length;f[--a]===0;)f.pop()}return Dt&&(r.e>m.maxE?(r.d=null,r.e=NaN):r.e<m.minE&&(r.e=0,r.d=[0])),r}function Hi(r,e,t){if(!r.isFinite())return DC(r);var n,i=r.e,a=ln(r.d),o=a.length;return e?(t&&(n=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ga(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):i<0?(a="0."+Ga(-i-1)+a,t&&(n=t-o)>0&&(a+=Ga(n))):i>=o?(a+=Ga(i+1-o),t&&(n=t-i-1)>0&&(a=a+"."+Ga(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-o)>0&&(i+1===o&&(a+="."),a+=Ga(n))),a}function Wf(r,e){var t=r[0];for(e*=mt;t>=10;t/=10)e++;return e}function Hf(r,e,t){if(e>uU)throw Dt=!0,t&&(r.precision=t),Error(vC);return ut(new r(zf),e,1,!0)}function Ti(r,e,t){if(e>Mh)throw Error(vC);return ut(new r($f),e,t,!0)}function wC(r){var e=r.length-1,t=e*mt+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function Ga(r){for(var e="";r--;)e+="0";return e}function _C(r,e,t,n){var i,a=new r(1),o=Math.ceil(n/mt+4);for(Dt=!1;;){if(t%2&&(a=a.times(e),dC(a.d,o)&&(i=!0)),t=gn(t/2),t===0){t=a.d.length-1,i&&a.d[t]===0&&++a.d[t];break}e=e.times(e),dC(e.d,o)}return Dt=!0,a}function mC(r){return r.d[r.d.length-1]&1}function AC(r,e,t){for(var n,i=new r(e[0]),a=0;++a<e.length;)if(n=new r(e[a]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function Th(r,e){var t,n,i,a,o,l,u,s=0,c=0,f=0,p=r.constructor,m=p.rounding,h=p.precision;if(!r.d||!r.d[0]||r.e>17)return new p(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(Dt=!1,u=h):u=e,l=new p(.03125);r.e>-2;)r=r.times(l),f+=5;for(n=Math.log(Hr(2,f))/Math.LN10*2+5|0,u+=n,t=a=o=new p(1),p.precision=u;;){if(a=ut(a.times(r),u,1),t=t.times(++c),l=o.plus(hr(a,t,u,1)),ln(l.d).slice(0,u)===ln(o.d).slice(0,u)){for(i=f;i--;)o=ut(o.times(o),u,1);if(e==null)if(s<3&&ju(o.d,u-n,m,s))p.precision=u+=10,t=a=l=new p(1),c=0,s++;else return ut(o,p.precision=h,m,Dt=!0);else return p.precision=h,o}o=l}}function Wa(r,e){var t,n,i,a,o,l,u,s,c,f,p,m=1,h=10,d=r,g=d.d,v=d.constructor,w=v.rounding,y=v.precision;if(d.s<0||!g||!g[0]||!d.e&&g[0]==1&&g.length==1)return new v(g&&!g[0]?-1/0:d.s!=1?NaN:g?0:d);if(e==null?(Dt=!1,c=y):c=e,v.precision=c+=h,t=ln(g),n=t.charAt(0),Math.abs(a=d.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)d=d.times(r),t=ln(d.d),n=t.charAt(0),m++;a=d.e,n>1?(d=new v("0."+t),a++):d=new v(n+"."+t.slice(1))}else return s=Hf(v,c+2,y).times(a+""),d=Wa(new v(n+"."+t.slice(1)),c-h).plus(s),v.precision=y,e==null?ut(d,y,w,Dt=!0):d;for(f=d,u=o=d=hr(d.minus(1),d.plus(1),c,1),p=ut(d.times(d),c,1),i=3;;){if(o=ut(o.times(p),c,1),s=u.plus(hr(o,new v(i),c,1)),ln(s.d).slice(0,c)===ln(u.d).slice(0,c))if(u=u.times(2),a!==0&&(u=u.plus(Hf(v,c+2,y).times(a+""))),u=hr(u,new v(m),c,1),e==null)if(ju(u.d,c-h,w,l))v.precision=c+=h,s=o=d=hr(f.minus(1),f.plus(1),c,1),p=ut(d.times(d),c,1),i=l=1;else return ut(u,v.precision=y,w,Dt=!0);else return v.precision=y,u;u=s,i+=2}}function DC(r){return String(r.s*r.s/0)}function Fh(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%mt,t<0&&(n+=mt),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=mt;n<i;)r.d.push(+e.slice(n,n+=mt));e=e.slice(n),n=mt-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),Dt&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function cU(r,e){var t,n,i,a,o,l,u,s,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),bC.test(e))return Fh(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(aU.test(e))t=16,e=e.toLowerCase();else if(iU.test(e))t=2;else if(oU.test(e))t=8;else throw Error(ja+e);for(a=e.search(/p/i),a>0?(u=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=r.constructor,o&&(e=e.replace(".",""),l=e.length,a=l-a,i=_C(n,new n(t),a,a*2)),s=qf(e,t,Fi),c=s.length-1,a=c;s[a]===0;--a)s.pop();return a<0?new n(r.s*0):(r.e=Wf(s,c),r.d=s,Dt=!1,o&&(r=hr(r,i,l*4)),u&&(r=r.times(Math.abs(u)<54?Hr(2,u):Zu.pow(2,u))),Dt=!0,r)}function fU(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:Us(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/jf(5,t)),e=Us(r,2,e,e);for(var i,a=new r(5),o=new r(16),l=new r(20);t--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(l))));return e}function Us(r,e,t,n,i){var a,o,l,u,s=1,c=r.precision,f=Math.ceil(c/mt);for(Dt=!1,u=t.times(t),l=new r(n);;){if(o=hr(l.times(u),new r(e++*e++),c,1),l=i?n.plus(o):n.minus(o),n=hr(o.times(u),new r(e++*e++),c,1),o=l.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===l.d[a]&&a--;);if(a==-1)break}a=l,l=n,n=o,o=a,s++}return Dt=!0,o.d.length=f+1,o}function jf(r,e){for(var t=r;--e;)t*=r;return t}function EC(r,e){var t,n=e.s<0,i=Ti(r,r.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return ha=n?4:1,e;if(t=e.divToInt(i),t.isZero())ha=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(a))return ha=mC(t)?n?2:3:n?4:1,e;ha=mC(t)?n?1:4:n?3:2}return e.minus(i).abs()}function Ih(r,e,t,n){var i,a,o,l,u,s,c,f,p,m=r.constructor,h=t!==void 0;if(h?(Rn(t,1,Za),n===void 0?n=m.rounding:Rn(n,0,8)):(t=m.precision,n=m.rounding),!r.isFinite())c=DC(r);else{for(c=Hi(r),o=c.indexOf("."),h?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,o>=0&&(c=c.replace(".",""),p=new m(1),p.e=c.length-o,p.d=qf(Hi(p),10,i),p.e=p.d.length),f=qf(c,10,i),a=u=f.length;f[--u]==0;)f.pop();if(!f[0])c=h?"0p+0":"0";else{if(o<0?a--:(r=new m(r),r.d=f,r.e=a,r=hr(r,p,t,n,0,i),f=r.d,a=r.e,s=gC),o=f[t],l=i/2,s=s||f[t+1]!==void 0,s=n<4?(o!==void 0||s)&&(n===0||n===(r.s<0?3:2)):o>l||o===l&&(n===4||s||n===6&&f[t-1]&1||n===(r.s<0?8:7)),f.length=t,s)for(;++f[--t]>i-1;)f[t]=0,t||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,c="";o<u;o++)c+=Sh.charAt(f[o]);if(h){if(u>1)if(e==16||e==8){for(o=e==16?4:3,--u;u%o;u++)c+="0";for(f=qf(c,i,e),u=f.length;!f[u-1];--u);for(o=1,c="1.";o<u;o++)c+=Sh.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return r.s<0?"-"+c:c}function dC(r,e){if(r.length>e)return r.length=e,!0}function pU(r){return new this(r).abs()}function mU(r){return new this(r).acos()}function dU(r){return new this(r).acosh()}function hU(r,e){return new this(r).plus(e)}function gU(r){return new this(r).asin()}function vU(r){return new this(r).asinh()}function yU(r){return new this(r).atan()}function xU(r){return new this(r).atanh()}function bU(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,a=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=Ti(this,a,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?Ti(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=Ti(this,a,1).times(.5),t.s=r.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(hr(r,e,a,1)),e=Ti(this,a,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(hr(r,e,a,1)),t}function wU(r){return new this(r).cbrt()}function _U(r){return ut(r=new this(r),r.e+1,2)}function AU(r,e,t){return new this(r).clamp(e,t)}function DU(r){if(!r||typeof r!="object")throw Error(Gf+"Object expected");var e,t,n,i=r.defaults===!0,a=["precision",1,Za,"rounding",0,8,"toExpNeg",-Vs,0,"toExpPos",0,Vs,"maxE",0,Vs,"minE",-Vs,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],i&&(this[t]=Nh[t]),(n=r[t])!==void 0)if(gn(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(ja+t+": "+n);if(t="crypto",i&&(this[t]=Nh[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(yC);else this[t]=!1;else throw Error(ja+t+": "+n);return this}function EU(r){return new this(r).cos()}function CU(r){return new this(r).cosh()}function CC(r){var e,t,n;function i(a){var o,l,u,s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,hC(a)){s.s=a.s,Dt?!a.d||a.e>i.maxE?(s.e=NaN,s.d=null):a.e<i.minE?(s.e=0,s.d=[0]):(s.e=a.e,s.d=a.d.slice()):(s.e=a.e,s.d=a.d?a.d.slice():a.d);return}if(u=typeof a,u==="number"){if(a===0){s.s=1/a<0?-1:1,s.e=0,s.d=[0];return}if(a<0?(a=-a,s.s=-1):s.s=1,a===~~a&&a<1e7){for(o=0,l=a;l>=10;l/=10)o++;Dt?o>i.maxE?(s.e=NaN,s.d=null):o<i.minE?(s.e=0,s.d=[0]):(s.e=o,s.d=[a]):(s.e=o,s.d=[a]);return}else if(a*0!==0){a||(s.s=NaN),s.e=NaN,s.d=null;return}return Fh(s,a.toString())}else if(u!=="string")throw Error(ja+a);return(l=a.charCodeAt(0))===45?(a=a.slice(1),s.s=-1):(l===43&&(a=a.slice(1)),s.s=1),bC.test(a)?Fh(s,a):cU(s,a)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=DU,i.clone=CC,i.isDecimal=hC,i.abs=pU,i.acos=mU,i.acosh=dU,i.add=hU,i.asin=gU,i.asinh=vU,i.atan=yU,i.atanh=xU,i.atan2=bU,i.cbrt=wU,i.ceil=_U,i.clamp=AU,i.cos=EU,i.cosh=CU,i.div=SU,i.exp=NU,i.floor=MU,i.hypot=TU,i.ln=FU,i.log=IU,i.log10=OU,i.log2=BU,i.max=PU,i.min=RU,i.mod=kU,i.mul=LU,i.pow=VU,i.random=UU,i.round=qU,i.sign=zU,i.sin=$U,i.sinh=HU,i.sqrt=GU,i.sub=WU,i.sum=jU,i.tan=ZU,i.tanh=JU,i.trunc=YU,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function SU(r,e){return new this(r).div(e)}function NU(r){return new this(r).exp()}function MU(r){return ut(r=new this(r),r.e+1,3)}function TU(){var r,e,t=new this(0);for(Dt=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Dt=!0,new this(1/0);t=e}return Dt=!0,t.sqrt()}function hC(r){return r instanceof Zu||r&&r.toStringTag===xC||!1}function FU(r){return new this(r).ln()}function IU(r,e){return new this(r).log(e)}function BU(r){return new this(r).log(2)}function OU(r){return new this(r).log(10)}function PU(){return AC(this,arguments,"lt")}function RU(){return AC(this,arguments,"gt")}function kU(r,e){return new this(r).mod(e)}function LU(r,e){return new this(r).mul(e)}function VU(r,e){return new this(r).pow(e)}function UU(r){var e,t,n,i,a=0,o=new this(1),l=[];if(r===void 0?r=this.precision:Rn(r,1,Za),n=Math.ceil(r/mt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:l[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(l.push(i%1e7),a+=4);a=n/4}else throw Error(yC);else for(;a<n;)l[a++]=Math.random()*1e7|0;for(n=l[--a],r%=mt,n&&r&&(i=Hr(10,mt-r),l[a]=(n/i|0)*i);l[a]===0;a--)l.pop();if(a<0)t=0,l=[0];else{for(t=-1;l[0]===0;t-=mt)l.shift();for(n=1,i=l[0];i>=10;i/=10)n++;n<mt&&(t-=mt-n)}return o.e=t,o.d=l,o}function qU(r){return ut(r=new this(r),r.e+1,this.rounding)}function zU(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function $U(r){return new this(r).sin()}function HU(r){return new this(r).sinh()}function GU(r){return new this(r).sqrt()}function WU(r,e){return new this(r).sub(e)}function jU(){var r=0,e=arguments,t=new this(e[r]);for(Dt=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return Dt=!0,ut(t,this.precision,this.rounding)}function ZU(r){return new this(r).tan()}function JU(r){return new this(r).tanh()}function YU(r){return ut(r=new this(r),r.e+1,1)}Ie[Symbol.for("nodejs.util.inspect.custom")]=Ie.toString;Ie[Symbol.toStringTag]="Decimal";var Zu=Ie.constructor=CC(Nh);zf=new Zu(zf);$f=new Zu($f);var qo=Zu;var XU="BigNumber",QU=["?on","config"],Bh=S(XU,QU,r=>{var{on:e,config:t}=r,n=qo.clone({precision:t.precision,modulo:qo.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var Xr=gr(NC(),1);var KU="Complex",e7=[],Ph=S(KU,e7,()=>(Object.defineProperty(Xr.default,"name",{value:"Complex"}),Xr.default.prototype.constructor=Xr.default,Xr.default.prototype.type="Complex",Xr.default.prototype.isComplex=!0,Xr.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Xr.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Xr.default.prototype.format=function(r){var e="",t=this.im,n=this.re,i=Ni(this.re,r),a=Ni(this.im,r),o=nt(r)?r:r?r.precision:null;if(o!==null){var l=Math.pow(10,-o);Math.abs(n/t)<l&&(n=0),Math.abs(t/n)<l&&(t=0)}return t===0?e=i:n===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+a+"i",e},Xr.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Xr.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(nt(t)){if(an(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),nt(n))return new Xr.default({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Xr.default.prototype.valueOf=Xr.default.prototype.toString,Xr.default.fromJSON=function(r){return new Xr.default(r)},Xr.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Xr.default),{isClass:!0});var Gi=gr(TC(),1);var t7="Fraction",r7=[],kh=S(t7,r7,()=>(Object.defineProperty(Gi.default,"name",{value:"Fraction"}),Gi.default.prototype.constructor=Gi.default,Gi.default.prototype.type="Fraction",Gi.default.prototype.isFraction=!0,Gi.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Gi.default.fromJSON=function(r){return new Gi.default(r)},Gi.default),{isClass:!0});var n7="Range",i7=[],Lh=S(n7,i7,()=>{function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=t!=null,o=n!=null;if(i){if(tt(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(tt(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(o){if(tt(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=o?parseFloat(n):1}return r.prototype.type="Range",r.prototype.isRange=!0,r.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),n=t.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[2],n[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.prototype.size=function(){var e=0,t=this.start,n=this.step,i=this.end,a=i-t;return pi(n)===pi(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},r.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},r.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},r.prototype.forEach=function(e){var t=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;t<i;)e(t,[a],this),t+=n,a++;else if(n<0)for(;t>i;)e(t,[a],this),t+=n,a++},r.prototype.map=function(e){var t=[];return this.forEach(function(n,i,a){t[i[0]]=e(n,i,a)}),t},r.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(e){var t=Ni(this.start,e);return this.step!==1&&(t+=":"+Ni(this.step,e)),t+=":"+Ni(this.end,e),t},r.prototype.toString=function(){return this.format()},r.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(e){return new r(e.start,e.end,e.step)},r},{isClass:!0});var a7="Matrix",o7=[],Vh=S(a7,o7,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function FC(r){var e=0,t=1,n=Object.create(null),i=Object.create(null),a=0,o=function(u){var s=i[u];if(s&&(delete n[s],delete i[u],--e,t===s)){if(!e){a=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++t););}};return r=Math.abs(r),{hit:function(u){var s=i[u],c=++a;if(n[c]=u,i[u]=c,!s)return++e,e<=r?void 0:(u=n[t],o(u),u);if(delete n[s],t===s)for(;!Object.prototype.hasOwnProperty.call(n,++t););},delete:o,clear:function(){e=a=0,t=1,n=Object.create(null),i=Object.create(null)}}}function zo(r){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t==null?Number.POSITIVE_INFINITY:t,e=e==null?JSON.stringify:e,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:FC(t||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var l=r.apply(r,i);return n.cache.values.set(o,l),n.cache.values.delete(n.cache.lru.hit(o)),l}}function Zf(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var s7="DenseMatrix",u7=["Matrix"],Uh=S(s7,u7,r=>{var{Matrix:e}=r;function t(c,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!xr(f))throw new Error("Invalid datatype: "+f);if(He(c))c.type==="DenseMatrix"?(this._data=Ye(c._data),this._size=Ye(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&Tt(c.data)&&Tt(c.size))this._data=c.data,this._size=c.size,vh(this._data,this._size),this._datatype=f||c.datatype;else if(Tt(c))this._data=s(c),this._size=et(this._data),vh(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+St(c)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(c,f){return new t(c,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Ha(this._data,St)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,f){return new t(c,f)},t.prototype.subset=function(c,f,p){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return a(this,c,f,p);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){if(!Tt(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new ot(c.length,this._size.length);for(var f=0;f<c.length;f++)$t(c[f],this._size[f]);for(var p=this._data,m=0,h=c.length;m<h;m++){var d=c[m];$t(d,p.length),p=p[d]}return p},t.prototype.set=function(c,f,p){if(!Tt(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new ot(c.length,this._size.length,"<");var m,h,d,g=c.map(function(w){return w+1});u(this,g,p);var v=this._data;for(m=0,h=c.length-1;m<h;m++)d=c[m],$t(d,v.length),v=v[d];return d=c[c.length-1],$t(d,v.length),v[d]=f,this};function n(c,f){if(!qa(f))throw new TypeError("Invalid index");var p=f.isScalar();if(p)return c.get(f.min());var m=f.size();if(m.length!==c._size.length)throw new ot(m.length,c._size.length);for(var h=f.min(),d=f.max(),g=0,v=c._size.length;g<v;g++)$t(h[g],c._size[g]),$t(d[g],c._size[g]);return new t(i(c._data,f,m.length,0),c._datatype)}function i(c,f,p,m){var h=m===p-1,d=f.dimension(m);return h?d.map(function(g){return $t(g,c.length),c[g]}).valueOf():d.map(function(g){$t(g,c.length);var v=c[g];return i(v,f,p,m+1)}).valueOf()}function a(c,f,p,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var h=f.size(),d=f.isScalar(),g;if(He(p)?(g=p.size(),p=p.valueOf()):g=et(p),d){if(g.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),p,m)}else{if(!Si(g,h))try{g.length===0?p=bh([p],h):p=bh(p,h),g=et(p)}catch(b){}if(h.length<c._size.length)throw new ot(h.length,c._size.length,"<");if(g.length<h.length){for(var v=0,w=0;h[v]===1&&g[v]===1;)v++;for(;h[v]===1;)w++,v++;p=Rf(p,h.length,w,g)}if(!Si(h,g))throw new ot(h,g,">");var y=f.max().map(function(b){return b+1});u(c,y,m);var x=h.length,_=0;o(c._data,f,p,x,_)}return c}function o(c,f,p,m,h){var d=h===m-1,g=f.dimension(h);d?g.forEach(function(v,w){$t(v),c[v]=p[w[0]]}):g.forEach(function(v,w){$t(v),o(c[v],f,p[w[0]],m,h+1)})}t.prototype.resize=function(c,f,p){if(!Ar(c))throw new TypeError("Array or Matrix expected");var m=c.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),h=p?this.clone():this;return l(h,m,f)};function l(c,f,p){if(f.length===0){for(var m=c._data;Tt(m);)m=m[0];return m}return c._size=f.slice(0),c._data=Mi(c._data,c._size,p),c}t.prototype.reshape=function(c,f){var p=f?this.clone():this;p._data=$u(p._data,c);var m=p._size.reduce((h,d)=>h*d);return p._size=Hu(c,m),p};function u(c,f,p){for(var m=c._size.slice(0),h=!1;m.length<f.length;)m.push(0),h=!0;for(var d=0,g=f.length;d<g;d++)f[d]>m[d]&&(m[d]=f[d],h=!0);h&&l(c,m,p)}t.prototype.clone=function(){var c=new t({data:Ye(this._data),size:Ye(this._size),datatype:this._datatype});return c},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(c){var f=this,p=Zf(c),m=function g(v,w){return Tt(v)?v.map(function(y,x){return g(y,w.concat(x))}):p===1?c(v):p===2?c(v,w):c(v,w,f)},h=m(this._data,[]),d=this._datatype!==void 0?Ha(h,St):void 0;return new t(h,d)},t.prototype.forEach=function(c){var f=this,p=function m(h,d){Tt(h)?h.forEach(function(g,v){m(g,d.concat(v))}):c(h,d,f)};p(this._data,[])},t.prototype[Symbol.iterator]=function*(){var c=function*f(p,m){if(Tt(p))for(var h=0;h<p.length;h++)yield*f(p[h],m.concat(h));else yield{value:p,index:m}};yield*c(this._data,[])},t.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)c.push(new t([m],this._datatype));return c},t.prototype.columns=function(){var c=this,f=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,h=function(v){var w=m.map(y=>[y[v]]);f.push(new t(w,c._datatype))},d=0;d<p[1];d++)h(d);return f},t.prototype.toArray=function(){return Ye(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return it(this._data,c)},t.prototype.toString=function(){return it(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if(tt(c)&&(c=c.toNumber()),!nt(c)||!ze(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,p=c<0?-c:0,m=this._size[0],h=this._size[1],d=Math.min(m-p,h-f),g=[],v=0;v<d;v++)g[v]=this._data[v+p][v+f];return new t({data:g,size:[d],datatype:this._datatype})},t.diagonal=function(c,f,p,m){if(!Tt(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(D){if(tt(D)&&(D=D.toNumber()),!nt(D)||!ze(D)||D<1)throw new Error("Size values must be positive integers");return D}),p){if(tt(p)&&(p=p.toNumber()),!nt(p)||!ze(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var h=p>0?p:0,d=p<0?-p:0,g=c[0],v=c[1],w=Math.min(g-d,v-h),y;if(Tt(f)){if(f.length!==w)throw new Error("Invalid value array length");y=function(C){return f[C]}}else if(He(f)){var x=f.size();if(x.length!==1||x[0]!==w)throw new Error("Invalid matrix length");y=function(C){return f.get([C])}}else y=function(){return f};m||(m=tt(y(0))?y(0).mul(0):0);var _=[];if(c.length>0){_=Mi(_,c,m);for(var b=0;b<w;b++)_[b+d][b+h]=y(b)}return new t({data:_,size:[g,v]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,f){if(!nt(c)||!ze(c)||!nt(f)||!ze(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return $t(c,this._size[0]),$t(f,this._size[0]),t._swapRows(c,f,this._data),this},t._swapRows=function(c,f,p){var m=p[c];p[c]=p[f],p[f]=m};function s(c){return He(c)?s(c.valueOf()):Tt(c)?c.map(s):c}return t},{isClass:!0});var IC="clone",l7=["typed"],qh=S(IC,l7,r=>{var{typed:e}=r;return e(IC,{any:Ye})});function Jf(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}function mi(r){for(var e=0;e<r.length;e++)if(Ar(r[e]))return!0;return!1}function vn(r,e){He(r)&&(r=r.valueOf());for(var t=0,n=r.length;t<n;t++){var i=r[t];Array.isArray(i)?vn(i,e):e(i)}}function Ze(r,e,t){return r&&typeof r.map=="function"?r.map(function(n){return Ze(n,e,t)}):e(r)}function Ja(r,e,t){var n=Array.isArray(r)?et(r):r.size();if(e<0||e>=n.length)throw new un(e,n.length);return He(r)?r.create(Yf(r.valueOf(),e,t)):Yf(r,e,t)}function Yf(r,e,t){var n,i,a,o;if(e<=0)if(Array.isArray(r[0])){for(o=Jf(r),i=[],n=0;n<o.length;n++)i[n]=Yf(o[n],e-1,t);return i}else{for(a=r[0],n=1;n<r.length;n++)a=t(a,r[n]);return a}else{for(i=[],n=0;n<r.length;n++)i[n]=Yf(r[n],e-1,t);return i}}function zh(r,e,t,n,i,a,o,l,u,s,c){var f=r._values,p=r._index,m=r._ptr,h,d,g,v;if(n)for(d=m[e],g=m[e+1],h=d;h<g;h++)v=p[h],t[v]!==a?(t[v]=a,o.push(v),s?(n[v]=u?l(f[h],c):l(c,f[h]),i[v]=a):n[v]=f[h]):(n[v]=u?l(f[h],n[v]):l(n[v],f[h]),i[v]=a);else for(d=m[e],g=m[e+1],h=d;h<g;h++)v=p[h],t[v]!==a?(t[v]=a,o.push(v)):i[v]=a}var BC="isInteger",c7=["typed"],$h=S(BC,c7,r=>{var{typed:e}=r;return e(BC,{number:ze,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var kn="number",ga="number, number";function Hh(r){return Math.abs(r)}Hh.signature=kn;function Gh(r,e){return r+e}Gh.signature=ga;function Wh(r,e){return r-e}Wh.signature=ga;function jh(r,e){return r*e}jh.signature=ga;function f7(r,e){return r/e}f7.signature=ga;function Zh(r){return-r}Zh.signature=kn;function Jh(r){return r}Jh.signature=kn;function qs(r){return zE(r)}qs.signature=kn;function Yh(r){return r*r*r}Yh.signature=kn;function Xh(r){return Math.exp(r)}Xh.signature=kn;function Qh(r){return $E(r)}Qh.signature=kn;function p7(r,e){if(!ze(r)||!ze(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}p7.signature=ga;function Kh(r,e){if(!ze(r)||!ze(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,n=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(n/r)}Kh.signature=ga;function OC(r,e){return e?Math.log(r)/Math.log(e):Math.log(r)}function eg(r){return qE(r)}eg.signature=kn;function tg(r){return UE(r)}tg.signature=kn;function m7(r){return Tf(r)}m7.signature=kn;function d7(r,e){return e===0?r:r-e*Math.floor(r/e)}d7.signature=ga;function rg(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(r<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(r===0)return t?1/0:0;if(!isFinite(r))return t?0:r;var n=Math.pow(Math.abs(r),1/e);return n=r<0?-n:n,t?1/n:n}function Xf(r){return pi(r)}Xf.signature=kn;function h7(r){return Math.sqrt(r)}h7.signature=kn;function ng(r){return r*r}ng.signature=kn;function ig(r,e){var t,n,i,a=0,o=1,l=1,u=0;if(!ze(r)||!ze(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(r/e),i=r-n*e,t=a,a=o-n*a,o=t,t=l,l=u-n*l,u=t,r=e,e=i;var s;return r<0?s=[-r,-o,-u]:s=[r,r?o:0,u],s}ig.signature=ga;function ag(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}ag.signature=ga;function og(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!ze(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(dh(r,e))}function g7(r){return Math.abs(r)}g7.signature=kn;var v7="number",zs="number, number";function sg(r,e){if(!ze(r)||!ze(e))throw new Error("Integers expected in function bitAnd");return r&e}sg.signature=zs;function ug(r){if(!ze(r))throw new Error("Integer expected in function bitNot");return~r}ug.signature=v7;function lg(r,e){if(!ze(r)||!ze(e))throw new Error("Integers expected in function bitOr");return r|e}lg.signature=zs;function cg(r,e){if(!ze(r)||!ze(e))throw new Error("Integers expected in function bitXor");return r^e}cg.signature=zs;function fg(r,e){if(!ze(r)||!ze(e))throw new Error("Integers expected in function leftShift");return r<<e}fg.signature=zs;function pg(r,e){if(!ze(r)||!ze(e))throw new Error("Integers expected in function rightArithShift");return r>>e}pg.signature=zs;function mg(r,e){if(!ze(r)||!ze(e))throw new Error("Integers expected in function rightLogShift");return r>>>e}mg.signature=zs;function ei(r,e){if(e<r)return 1;if(e===r)return e;var t=e+r>>1;return ei(r,t)*ei(t+1,e)}function dg(r,e){if(!ze(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!ze(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var t=r-e,n=1,i=e<t?t+1:e+1,a=2,o=e<t?e:t,l=i;l<=r;++l)for(n*=l;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=ei(a,o)),n}dg.signature="number, number";var PC=Math.PI,RC=2*Math.PI,kC=Math.E,LC=1.618033988749895;var y7="number",hg="number, number";function gg(r){return!r}gg.signature=y7;function vg(r,e){return!!(r||e)}vg.signature=hg;function yg(r,e){return!!r!=!!e}yg.signature=hg;function xg(r,e){return!!(r&&e)}xg.signature=hg;function Ju(r){var e;if(ze(r))return r<=0?isFinite(r)?1/0:NaN:r>171?1/0:ei(1,r-1);if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*Ju(1-r));if(r>=171.35)return 1/0;if(r>85){var t=r*r,n=t*r,i=n*r,a=i*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*t)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*r))}--r,e=$o[0];for(var o=1;o<$o.length;++o)e+=$o[o]/(r+o);var l=r+bg+.5;return Math.sqrt(2*Math.PI)*Math.pow(l,r+.5)*Math.exp(-l)*e}Ju.signature="number";var bg=4.7421875,$o=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],wg=.9189385332046728,x7=5,b7=7,VC=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Yu(r){if(r<0)return NaN;if(r===0)return 1/0;if(!isFinite(r))return r;if(r<.5)return Math.log(Math.PI/Math.sin(Math.PI*r))-Yu(1-r);r=r-1;for(var e=r+x7+.5,t=VC[0],n=b7-1;n>=1;n--)t+=VC[n]/(r+n);return wg+(r+.5)*Math.log(e)-e+Math.log(t)}Yu.signature="number";var br="number",w7="number, number";function _7(r){return Math.acos(r)}_7.signature=br;function _g(r){return WE(r)}_g.signature=br;function Ag(r){return Math.atan(1/r)}Ag.signature=br;function Dg(r){return isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0}Dg.signature=br;function Eg(r){return Math.asin(1/r)}Eg.signature=br;function Cg(r){var e=1/r;return Math.log(e+Math.sqrt(e*e+1))}Cg.signature=br;function Sg(r){return Math.acos(1/r)}Sg.signature=br;function Ng(r){var e=1/r,t=Math.sqrt(e*e-1);return Math.log(t+e)}Ng.signature=br;function A7(r){return Math.asin(r)}A7.signature=br;function Mg(r){return jE(r)}Mg.signature=br;function D7(r){return Math.atan(r)}D7.signature=br;function E7(r,e){return Math.atan2(r,e)}E7.signature=w7;function Tg(r){return ZE(r)}Tg.signature=br;function C7(r){return Math.cos(r)}C7.signature=br;function S7(r){return Bf(r)}S7.signature=br;function Fg(r){return 1/Math.tan(r)}Fg.signature=br;function Ig(r){var e=Math.exp(2*r);return(e+1)/(e-1)}Ig.signature=br;function Bg(r){return 1/Math.sin(r)}Bg.signature=br;function Og(r){return r===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*pi(r)}Og.signature=br;function Pg(r){return 1/Math.cos(r)}Pg.signature=br;function Rg(r){return 2/(Math.exp(r)+Math.exp(-r))}Rg.signature=br;function N7(r){return Math.sin(r)}N7.signature=br;function kg(r){return JE(r)}kg.signature=br;function M7(r){return Math.tan(r)}M7.signature=br;function T7(r){return Of(r)}T7.signature=br;var Xu="number";function F7(r){return ze(r)}F7.signature=Xu;function Lg(r){return r<0}Lg.signature=Xu;function Vg(r){return r>0}Vg.signature=Xu;function Ug(r){return r===0}Ug.signature=Xu;function qg(r){return Number.isNaN(r)}qg.signature=Xu;var UC="isNegative",I7=["typed"],zg=S(UC,I7,r=>{var{typed:e}=r;return e(UC,{number:Lg,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var qC="isNumeric",B7=["typed"],$g=S(qC,B7,r=>{var{typed:e}=r;return e(qC,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var zC="hasNumericValue",O7=["typed","isNumeric"],Hg=S(zC,O7,r=>{var{typed:e,isNumeric:t}=r;return e(zC,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})});var $C="isPositive",P7=["typed"],Gg=S($C,P7,r=>{var{typed:e}=r;return e($C,{number:Vg,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var HC="isZero",R7=["typed"],Wg=S(HC,R7,r=>{var{typed:e}=r;return e(HC,{number:Ug,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var GC="isNaN",k7=["typed"],jg=S(GC,k7,r=>{var{typed:e}=r;return e(GC,{number:qg,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return Ze(n,Number.isNaN)}})});var WC="typeOf",L7=["typed"],Zg=S(WC,L7,r=>{var{typed:e}=r;return e(WC,{any:St})});function Qr(r,e,t){if(t==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var n=r.minus(e).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),e.abs());return n.lte(i.times(t))}return!1}function jC(r,e,t){return Mr(r.re,e.re,t)&&Mr(r.im,e.im,t)}var di=S("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}});var Qf="equalScalar",V7=["typed","config"],Jg=S(Qf,V7,r=>{var{typed:e,config:t}=r,n=di({typed:e});return e(Qf,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Mr(a,o,t.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||Qr(a,o,t.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return jC(a,o,t.epsilon)}},n)}),gce=S(Qf,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Qf,{"number, number":function(i,a){return Mr(i,a,t.epsilon)}})});var U7="SparseMatrix",q7=["typed","equalScalar","Matrix"],Yg=S(U7,q7,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function i(d,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!xr(g))throw new Error("Invalid datatype: "+g);if(He(d))a(this,d,g);else if(d&&Tt(d.index)&&Tt(d.ptr)&&Tt(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=g||d.datatype;else if(Tt(d))o(this,d,g);else{if(d)throw new TypeError("Unsupported type of data ("+St(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(d,g,v){g.type==="SparseMatrix"?(d._values=g._values?Ye(g._values):void 0,d._index=Ye(g._index),d._ptr=Ye(g._ptr),d._size=Ye(g._size),d._datatype=v||g._datatype):o(d,g.valueOf(),v||g._datatype)}function o(d,g,v){d._values=[],d._index=[],d._ptr=[],d._datatype=v;var w=g.length,y=0,x=t,_=0;if(xr(v)&&(x=e.find(t,[v,v])||t,_=e.convert(0,v)),w>0){var b=0;do{d._ptr.push(d._index.length);for(var D=0;D<w;D++){var C=g[D];if(Tt(C)){if(b===0&&y<C.length&&(y=C.length),b<C.length){var A=C[b];x(A,_)||(d._values.push(A),d._index.push(D))}}else b===0&&y<1&&(y=1),x(C,_)||(d._values.push(C),d._index.push(D))}b++}while(b<y)}d._ptr.push(d._index.length),d._size=[w,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(d,g){return new i(d,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return Ha(this._values,St)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,g){return new i(d,g)},i.prototype.density=function(){var d=this._size[0],g=this._size[1];return d!==0&&g!==0?this._index.length/(d*g):0},i.prototype.subset=function(d,g,v){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,d);case 2:case 3:return u(this,d,g,v);default:throw new SyntaxError("Wrong number of arguments")}};function l(d,g){if(!qa(g))throw new TypeError("Invalid index");var v=g.isScalar();if(v)return d.get(g.min());var w=g.size();if(w.length!==d._size.length)throw new ot(w.length,d._size.length);var y,x,_,b,D=g.min(),C=g.max();for(y=0,x=d._size.length;y<x;y++)$t(D[y],d._size[y]),$t(C[y],d._size[y]);var A=d._values,E=d._index,F=d._ptr,I=g.dimension(0),O=g.dimension(1),k=[],R=[];I.forEach(function(B,X){R[B]=X[0],k[B]=!0});var T=A?[]:void 0,N=[],V=[];return O.forEach(function(B){for(V.push(N.length),_=F[B],b=F[B+1];_<b;_++)y=E[_],k[y]===!0&&(N.push(R[y]),T&&T.push(A[_]))}),V.push(N.length),new i({values:T,index:N,ptr:V,size:w,datatype:d._datatype})}function u(d,g,v,w){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var y=g.size(),x=g.isScalar(),_;if(He(v)?(_=v.size(),v=v.toArray()):_=et(v),x){if(_.length!==0)throw new TypeError("Scalar expected");d.set(g.min(),v,w)}else{if(y.length!==1&&y.length!==2)throw new ot(y.length,d._size.length,"<");if(_.length<y.length){for(var b=0,D=0;y[b]===1&&_[b]===1;)b++;for(;y[b]===1;)D++,b++;v=Rf(v,y.length,D,_)}if(!Si(y,_))throw new ot(y,_,">");if(y.length===1){var C=g.dimension(0);C.forEach(function(F,I){$t(F),d.set([F,0],v[I[0]],w)})}else{var A=g.dimension(0),E=g.dimension(1);A.forEach(function(F,I){$t(F),E.forEach(function(O,k){$t(O),d.set([F,O],v[I[0]][k[0]],w)})})}}return d}i.prototype.get=function(d){if(!Tt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ot(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=d[0],v=d[1];$t(g,this._size[0]),$t(v,this._size[1]);var w=s(g,this._ptr[v],this._ptr[v+1],this._index);return w<this._ptr[v+1]&&this._index[w]===g?this._values[w]:0},i.prototype.set=function(d,g,v){if(!Tt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ot(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=d[0],y=d[1],x=this._size[0],_=this._size[1],b=t,D=0;xr(this._datatype)&&(b=e.find(t,[this._datatype,this._datatype])||t,D=e.convert(0,this._datatype)),(w>x-1||y>_-1)&&(p(this,Math.max(w+1,x),Math.max(y+1,_),v),x=this._size[0],_=this._size[1]),$t(w,x),$t(y,_);var C=s(w,this._ptr[y],this._ptr[y+1],this._index);return C<this._ptr[y+1]&&this._index[C]===w?b(g,D)?c(C,y,this._values,this._index,this._ptr):this._values[C]=g:b(g,D)||f(C,w,y,g,this._values,this._index,this._ptr),this};function s(d,g,v,w){if(v-g===0)return v;for(var y=g;y<v;y++)if(w[y]===d)return y;return g}function c(d,g,v,w,y){v.splice(d,1),w.splice(d,1);for(var x=g+1;x<y.length;x++)y[x]--}function f(d,g,v,w,y,x,_){y.splice(d,0,w),x.splice(d,0,g);for(var b=v+1;b<_.length;b++)_[b]++}i.prototype.resize=function(d,g,v){if(!Ar(d))throw new TypeError("Array or Matrix expected");var w=d.valueOf().map(x=>Array.isArray(x)&&x.length===1?x[0]:x);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(x){if(!nt(x)||!ze(x)||x<0)throw new TypeError("Invalid size, must contain positive integers (size: "+it(w)+")")});var y=v?this.clone():this;return p(y,w[0],w[1],g)};function p(d,g,v,w){var y=w||0,x=t,_=0;xr(d._datatype)&&(x=e.find(t,[d._datatype,d._datatype])||t,_=e.convert(0,d._datatype),y=e.convert(y,d._datatype));var b=!x(y,_),D=d._size[0],C=d._size[1],A,E,F;if(v>C){for(E=C;E<v;E++)if(d._ptr[E]=d._values.length,b)for(A=0;A<D;A++)d._values.push(y),d._index.push(A);d._ptr[v]=d._values.length}else v<C&&(d._ptr.splice(v+1,C-v),d._values.splice(d._ptr[v],d._values.length),d._index.splice(d._ptr[v],d._index.length));if(C=v,g>D){if(b){var I=0;for(E=0;E<C;E++){d._ptr[E]=d._ptr[E]+I,F=d._ptr[E+1]+I;var O=0;for(A=D;A<g;A++,O++)d._values.splice(F+O,0,y),d._index.splice(F+O,0,A),I++}d._ptr[C]=d._values.length}}else if(g<D){var k=0;for(E=0;E<C;E++){d._ptr[E]=d._ptr[E]-k;var R=d._ptr[E],T=d._ptr[E+1]-k;for(F=R;F<T;F++)A=d._index[F],A>g-1&&(d._values.splice(F,1),d._index.splice(F,1),k++)}d._ptr[E]=d._values.length}return d._size[0]=g,d._size[1]=v,d}i.prototype.reshape=function(d,g){if(!Tt(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(B){if(!nt(B)||!ze(B)||B<=-2||B===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+it(d)+")")});var v=this._size[0]*this._size[1];d=Hu(d,v);var w=d[0]*d[1];if(v!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=g?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return y;for(var x=[],_=0;_<y._ptr.length;_++)for(var b=0;b<y._ptr[_+1]-y._ptr[_];b++)x.push(_);for(var D=y._values.slice(),C=y._index.slice(),A=0;A<y._index.length;A++){var E=C[A],F=x[A],I=E*y._size[1]+F;x[A]=I%d[1],C[A]=Math.floor(I/d[1])}y._values.length=0,y._index.length=0,y._ptr.length=d[1]+1,y._size=d.slice();for(var O=0;O<y._ptr.length;O++)y._ptr[O]=0;for(var k=0;k<D.length;k++){var R=C[k],T=x[k],N=D[k],V=s(R,y._ptr[T],y._ptr[T+1],y._index);f(V,R,T,N,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var d=new i({values:this._values?Ye(this._values):void 0,index:Ye(this._index),ptr:Ye(this._ptr),size:Ye(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var v=this,w=this._size[0],y=this._size[1],x=Zf(d),_=function(D,C,A){return x===1?d(D):x===2?d(D,[C,A]):d(D,[C,A],v)};return m(this,0,w-1,0,y-1,_,g)};function m(d,g,v,w,y,x,_){var b=[],D=[],C=[],A=t,E=0;xr(d._datatype)&&(A=e.find(t,[d._datatype,d._datatype])||t,E=e.convert(0,d._datatype));for(var F=function(P,K,ve){P=x(P,K,ve),A(P,E)||(b.push(P),D.push(K))},I=w;I<=y;I++){C.push(b.length);var O=d._ptr[I],k=d._ptr[I+1];if(_)for(var R=O;R<k;R++){var T=d._index[R];T>=g&&T<=v&&F(d._values[R],T-g,I-w)}else{for(var N={},V=O;V<k;V++){var B=d._index[V];N[B]=d._values[V]}for(var X=g;X<=v;X++){var ee=X in N?N[X]:0;F(ee,X-g,I-w)}}}return C.push(b.length),new i({values:b,index:D,ptr:C,size:[v-g+1,y-w+1]})}i.prototype.forEach=function(d,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var v=this,w=this._size[0],y=this._size[1],x=0;x<y;x++){var _=this._ptr[x],b=this._ptr[x+1];if(g)for(var D=_;D<b;D++){var C=this._index[D];d(this._values[D],[C,x],v)}else{for(var A={},E=_;E<b;E++){var F=this._index[E];A[F]=this._values[E]}for(var I=0;I<w;I++){var O=I in A?A[I]:0;d(O,[I,x],v)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],g=0;g<d;g++)for(var v=this._ptr[g],w=this._ptr[g+1],y=v;y<w;y++){var x=this._index[y];yield{value:this._values[y],index:[x,g]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(d,g,v,w,y){var x=w[0],_=w[1],b=[],D,C;for(D=0;D<x;D++)for(b[D]=[],C=0;C<_;C++)b[D][C]=0;for(C=0;C<_;C++)for(var A=v[C],E=v[C+1],F=A;F<E;F++)D=g[F],b[D][C]=d?y?Ye(d[F]):d[F]:1;return b}return i.prototype.format=function(d){for(var g=this._size[0],v=this._size[1],w=this.density(),y="Sparse Matrix ["+it(g,d)+" x "+it(v,d)+"] density: "+it(w,d)+`
`,x=0;x<v;x++)for(var _=this._ptr[x],b=this._ptr[x+1],D=_;D<b;D++){var C=this._index[D];y+=`
    (`+it(C,d)+", "+it(x,d)+") ==> "+(this._values?it(this._values[D],d):"X")}return y},i.prototype.toString=function(){return it(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(tt(d)&&(d=d.toNumber()),!nt(d)||!ze(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var g=d>0?d:0,v=d<0?-d:0,w=this._size[0],y=this._size[1],x=Math.min(w-v,y-g),_=[],b=[],D=[];D[0]=0;for(var C=g;C<y&&_.length<x;C++)for(var A=this._ptr[C],E=this._ptr[C+1],F=A;F<E;F++){var I=this._index[F];if(I===C-g+v){_.push(this._values[F]),b[_.length-1]=I-v;break}}return D.push(_.length),new i({values:_,index:b,ptr:D,size:[x,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,g,v,w,y){if(!Tt(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(B){if(tt(B)&&(B=B.toNumber()),!nt(B)||!ze(B)||B<1)throw new Error("Size values must be positive integers");return B}),v){if(tt(v)&&(v=v.toNumber()),!nt(v)||!ze(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var x=t,_=0;xr(y)&&(x=e.find(t,[y,y])||t,_=e.convert(0,y));var b=v>0?v:0,D=v<0?-v:0,C=d[0],A=d[1],E=Math.min(C-D,A-b),F;if(Tt(g)){if(g.length!==E)throw new Error("Invalid value array length");F=function(X){return g[X]}}else if(He(g)){var I=g.size();if(I.length!==1||I[0]!==E)throw new Error("Invalid matrix length");F=function(X){return g.get([X])}}else F=function(){return g};for(var O=[],k=[],R=[],T=0;T<A;T++){R.push(O.length);var N=T-b;if(N>=0&&N<E){var V=F(N);x(V,_)||(k.push(N+D),O.push(V))}}return R.push(O.length),new i({values:O,index:k,ptr:R,size:[C,A]})},i.prototype.swapRows=function(d,g){if(!nt(d)||!ze(d)||!nt(g)||!ze(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return $t(d,this._size[0]),$t(g,this._size[0]),i._swapRows(d,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,g,v,w,y){for(var x=w[d],_=w[d+1],b=x;b<_;b++)y(v[b],g[b])},i._swapRows=function(d,g,v,w,y,x){for(var _=0;_<v;_++){var b=x[_],D=x[_+1],C=s(d,b,D,y),A=s(g,b,D,y);if(C<D&&A<D&&y[C]===d&&y[A]===g){if(w){var E=w[C];w[C]=w[A],w[A]=E}continue}if(C<D&&y[C]===d&&(A>=D||y[A]!==g)){var F=w?w[C]:void 0;y.splice(A,0,g),w&&w.splice(A,0,F),y.splice(A<=C?C+1:C,1),w&&w.splice(A<=C?C+1:C,1);continue}if(A<D&&y[A]===g&&(C>=D||y[C]!==d)){var I=w?w[A]:void 0;y.splice(C,0,d),w&&w.splice(C,0,I),y.splice(C<=A?A+1:A,1),w&&w.splice(C<=A?A+1:A,1)}}},i},{isClass:!0});var z7="number",$7=["typed"];function H7(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:i}}else return null}function G7(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);t+=i/Math.pow(r.radix,n+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is not a valid number');return a}var Xg=S(z7,$7,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=H7(i);if(a)return G7(a);var o=0,l=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(o=Number(l[2]),i=l[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is not a valid number');if(l){if(u>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(o-1)&&(u=u-2**o)}return u},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t});var ZC="string",W7=["typed"],Qg=S(ZC,W7,r=>{var{typed:e}=r;return e(ZC,{"":function(){return""},number:Ni,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t)),any:function(n){return String(n)}})});var JC="boolean",j7=["typed"],Kg=S(JC,j7,r=>{var{typed:e}=r;return e(JC,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var Z7="bignumber",J7=["typed","BigNumber"],ev=S(Z7,J7,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],l=t(a[1]),u=new t(2).pow(Number(o));if(l.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var s=new t(2).pow(Number(o)-1);return l.gte(s)?l.sub(u):l}return new t(i)},BigNumber:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var Y7="complex",X7=["typed","Complex"],tv=S(Y7,X7,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,a){return new t(i,a)},"BigNumber, BigNumber":function(i,a){return new t(i.toNumber(),a.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var Q7="fraction",K7=["typed","Fraction"],rv=S(Q7,K7,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,a){return new t(i,a)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var YC="matrix",eq=["typed","Matrix","DenseMatrix","SparseMatrix"],nv=S(YC,eq,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(YC,{"":function(){return a([])},string:function(l){return a([],l)},"string, string":function(l,u){return a([],l,u)},Array:function(l){return a(l)},Matrix:function(l){return a(l,l.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,l,u){if(l==="dense"||l==="default"||l===void 0)return new n(o,u);if(l==="sparse")return new i(o,u);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}});var XC="matrixFromFunction",tq=["typed","matrix","isZero"],iv=S(XC,tq,r=>{var{typed:e,matrix:t,isZero:n}=r;return e(XC,{"Array | Matrix, function, string, string":function(o,l,u,s){return i(o,l,u,s)},"Array | Matrix, function, string":function(o,l,u){return i(o,l,u)},"Matrix, function":function(o,l){return i(o,l,"dense")},"Array, function":function(o,l){return i(o,l,"dense").toArray()},"Array | Matrix, string, function":function(o,l,u){return i(o,u,l)},"Array | Matrix, string, string, function":function(o,l,u,s){return i(o,s,l,u)}});function i(a,o,l,u){var s;return u!==void 0?s=t(l,u):s=t(l),s.resize(a),s.forEach(function(c,f){var p=o(f);n(p)||s.set(f,p)}),s}});var QC="matrixFromRows",rq=["typed","matrix","flatten","size"],av=S(QC,rq,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(QC,{"...Array":function(u){return a(u)},"...Matrix":function(u){return t(a(u.map(s=>s.toArray())))}});function a(l){if(l.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var u=o(l[0]),s=[];for(var c of l){var f=o(c);if(f!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(f|0));s.push(n(c))}return s}function o(l){var u=i(l);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var KC="matrixFromColumns",nq=["typed","matrix","flatten","size"],ov=S(KC,nq,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(KC,{"...Array":function(u){return a(u)},"...Matrix":function(u){return t(a(u.map(s=>s.toArray())))}});function a(l){if(l.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var u=o(l[0]),s=[],c=0;c<u;c++)s[c]=[];for(var f of l){var p=o(f);if(p!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(p|0));for(var m=n(f),h=0;h<u;h++)s[h].push(m[h])}return s}function o(l){var u=i(l);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var eS="splitUnit",iq=["typed"],sv=S(eS,iq,r=>{var{typed:e}=r;return e(eS,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var tS="unaryMinus",aq=["typed"],uv=S(tS,aq,r=>{var{typed:e}=r;return e(tS,{number:Zh,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>n=>{var i=n.clone();return i.value=e.find(t,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t,!0))})});var rS="unaryPlus",oq=["typed","config","BigNumber"],lv=S(rS,oq,r=>{var{typed:e,config:t,BigNumber:n}=r;return e(rS,{number:Jh,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>Ze(a,i,!0)),"boolean | string":function(a){return t.number==="BigNumber"?new n(+a):+a}})});var nS="abs",sq=["typed"],cv=S(nS,sq,r=>{var{typed:e}=r;return e(nS,{number:Hh,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t,!0))})});var iS="apply",uq=["typed","isInteger"],Ho=S(iS,uq,r=>{var{typed:e,isInteger:t}=r;return e(iS,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!t(a))throw new TypeError("Integer number expected for dimension");var l=Array.isArray(i)?et(i):i.size();if(a<0||a>=l.length)throw new un(a,l.length);return He(i)?i.create(Kf(i.valueOf(),a,o)):Kf(i,a,o)}})});function Kf(r,e,t){var n,i,a;if(e<=0)if(Array.isArray(r[0])){for(a=lq(r),i=[],n=0;n<a.length;n++)i[n]=Kf(a[n],e-1,t);return i}else return t(r);else{for(i=[],n=0;n<r.length;n++)i[n]=Kf(r[n],e-1,t);return i}}function lq(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}var aS="addScalar",cq=["typed"],fv=S(aS,cq,r=>{var{typed:e}=r;return e(aS,{"number, number":Gh,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var oS="subtractScalar",fq=["typed"],pv=S(oS,fq,r=>{var{typed:e}=r;return e(oS,{"number, number":Wh,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var sS="cbrt",pq=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],mv=S(sS,pq,r=>{var{config:e,typed:t,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:l,Fraction:u}=r;return t(sS,{number:qs,Complex:s,"Complex, boolean":s,BigNumber:function(p){return p.cbrt()},Unit:c});function s(f,p){var m=f.arg()/3,h=f.abs(),d=new o(qs(h),0).mul(new o(0,m).exp());if(p){var g=[d,new o(qs(h),0).mul(new o(0,m+Math.PI*2/3).exp()),new o(qs(h),0).mul(new o(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?g:a(g)}else return d}function c(f){if(f.value&&Sn(f.value)){var p=f.clone();return p.value=1,p=p.pow(1/3),p.value=s(f.value),p}else{var m=n(f.value);m&&(f.value=i(f.value));var h;tt(f.value)?h=new l(1).div(3):pa(f.value)?h=new u(1,3):h=1/3;var d=f.pow(h);return m&&(d.value=i(d.value)),d}}});var mq="matAlgo11xS0s",dq=["typed","equalScalar"],Ht=S(mq,dq,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,g=t,v=0,w=o;typeof p=="string"&&(d=p,g=e.find(t,[d,d]),v=e.convert(0,d),a=e.convert(a,d),w=e.find(o,[d,d]));for(var y=[],x=[],_=[],b=0;b<h;b++){_[b]=x.length;for(var D=c[b],C=c[b+1],A=D;A<C;A++){var E=s[A],F=l?w(a,u[A]):w(u[A],a);g(F,v)||(x.push(E),y.push(F))}}return _[h]=x.length,i.createSparseMatrix({values:y,index:x,ptr:_,size:[m,h],datatype:d})}});var hq="matAlgo12xSfs",gq=["typed","DenseMatrix"],Rt=S(hq,gq,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,g=o;typeof p=="string"&&(d=p,a=e.convert(a,d),g=e.find(o,[d,d]));for(var v=[],w=[],y=[],x=0;x<h;x++){for(var _=x+1,b=c[x],D=c[x+1],C=b;C<D;C++){var A=s[C];w[A]=u[C],y[A]=_}for(var E=0;E<m;E++)x===0&&(v[E]=[]),y[E]===_?v[E][x]=l?g(a,w[E]):g(w[E],a):v[E][x]=l?g(a,0):g(0,a)}return new t({data:v,size:[m,h],datatype:d})}});var vq="matAlgo14xDs",yq=["typed"],Tr=S(vq,yq,r=>{var{typed:e}=r;return function(i,a,o,l){var u=i._data,s=i._size,c=i._datatype,f,p=o;typeof c=="string"&&(f=c,a=e.convert(a,f),p=e.find(o,[f,f]));var m=s.length>0?t(p,0,s,s[0],u,a,l):[];return i.createDenseMatrix({data:m,size:Ye(s),datatype:f})};function t(n,i,a,o,l,u,s){var c=[];if(i===a.length-1)for(var f=0;f<o;f++)c[f]=s?n(u,l[f]):n(l[f],u);else for(var p=0;p<o;p++)c[p]=t(n,i+1,a,a[i+1],l[p],u,s);return c}});var dv="ceil",xq=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],bq=S(dv,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(dv,{number:function(a){return Mr(a,n(a),t.epsilon)?n(a):Math.ceil(a)},"number, number":function(a,o){if(Mr(a,n(a,o),t.epsilon))return n(a,o);var[l,u]="".concat(a,"e").split("e"),s=Math.ceil(Number("".concat(l,"e").concat(Number(u)+o)));return[l,u]="".concat(s,"e").split("e"),Number("".concat(l,"e").concat(Number(u)-o))}})}),hv=S(dv,xq,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}=r,u=Ht({typed:e,equalScalar:a}),s=Rt({typed:e,DenseMatrix:l}),c=Tr({typed:e}),f=bq({typed:e,config:t,round:n});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.ceil()},"Complex, number":function(m,h){return m.ceil(h)},"Complex, BigNumber":function(m,h){return m.ceil(h.toNumber())},BigNumber:function(m){return Qr(m,n(m),t.epsilon)?n(m):m.ceil()},"BigNumber, BigNumber":function(m,h){return Qr(m,n(m,h),t.epsilon)?n(m,h):m.toDecimalPlaces(h.toNumber(),qo.ROUND_CEIL)},Fraction:function(m){return m.ceil()},"Fraction, number":function(m,h){return m.ceil(h)},"Fraction, BigNumber":function(m,h){return m.ceil(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>Ze(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>Ze(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>u(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):s(h,m,p,!0))})});var uS="cube",wq=["typed"],gv=S(uS,wq,r=>{var{typed:e}=r;return e(uS,{number:Yh,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var lS="exp",_q=["typed"],vv=S(lS,_q,r=>{var{typed:e}=r;return e(lS,{number:Xh,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var cS="expm1",Aq=["typed","Complex"],yv=S(cS,Aq,r=>{var{typed:e,Complex:t}=r;return e(cS,{number:Qh,Complex:function(i){var a=Math.exp(i.re);return new t(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var xv="fix",Dq=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Eq=S(xv,["typed","ceil","floor"],r=>{var{typed:e,ceil:t,floor:n}=r;return e(xv,{number:function(a){return a>0?n(a):t(a)},"number, number":function(a,o){return a>0?n(a,o):t(a,o)}})}),bv=S(xv,Dq,r=>{var{typed:e,Complex:t,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:l,DenseMatrix:u}=r,s=Rt({typed:e,DenseMatrix:u}),c=Tr({typed:e}),f=Eq({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(m){return new t(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,h){return new t(m.re>0?a(m.re,h):i(m.re,h),m.im>0?a(m.im,h):i(m.im,h))},"Complex, BigNumber":function(m,h){var d=h.toNumber();return new t(m.re>0?a(m.re,d):i(m.re,d),m.im>0?a(m.im,d):i(m.im,d))},BigNumber:function(m){return m.isNegative()?i(m):a(m)},"BigNumber, number | BigNumber":function(m,h){return m.isNegative()?i(m,h):a(m,h)},Fraction:function(m){return m.s<0?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,h){return m.s<0?i(m,h):a(m,h)},"Array | Matrix":e.referToSelf(p=>m=>Ze(m,p,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(p=>(m,h)=>Ze(m,d=>p(d,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(n(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>o(m,0)?l(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):s(h,m,p,!0))})});var wv="floor",Cq=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Sq=S(wv,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(wv,{number:function(a){return Mr(a,n(a),t.epsilon)?n(a):Math.floor(a)},"number, number":function(a,o){if(Mr(a,n(a,o),t.epsilon))return n(a,o);var[l,u]="".concat(a,"e").split("e"),s=Math.floor(Number("".concat(l,"e").concat(Number(u)+o)));return[l,u]="".concat(s,"e").split("e"),Number("".concat(l,"e").concat(Number(u)-o))}})}),Qu=S(wv,Cq,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}=r,u=Ht({typed:e,equalScalar:a}),s=Rt({typed:e,DenseMatrix:l}),c=Tr({typed:e}),f=Sq({typed:e,config:t,round:n});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.floor()},"Complex, number":function(m,h){return m.floor(h)},"Complex, BigNumber":function(m,h){return m.floor(h.toNumber())},BigNumber:function(m){return Qr(m,n(m),t.epsilon)?n(m):m.floor()},"BigNumber, BigNumber":function(m,h){return Qr(m,n(m,h),t.epsilon)?n(m,h):m.toDecimalPlaces(h.toNumber(),qo.ROUND_FLOOR)},Fraction:function(m){return m.floor()},"Fraction, number":function(m,h){return m.floor(h)},"Fraction, BigNumber":function(m,h){return m.floor(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>Ze(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>Ze(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>u(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):s(h,m,p,!0))})});var Nq="matAlgo02xDS0",Mq=["typed","equalScalar"],Fr=S(Nq,Mq,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,l){var u=i._data,s=i._size,c=i._datatype,f=a._values,p=a._index,m=a._ptr,h=a._size,d=a._datatype;if(s.length!==h.length)throw new ot(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=s[0],v=s[1],w,y=t,x=0,_=o;typeof c=="string"&&c===d&&(w=c,y=e.find(t,[w,w]),x=e.convert(0,w),_=e.find(o,[w,w]));for(var b=[],D=[],C=[],A=0;A<v;A++){C[A]=D.length;for(var E=m[A],F=m[A+1],I=E;I<F;I++){var O=p[I],k=l?_(f[I],u[O][A]):_(u[O][A],f[I]);y(k,x)||(D.push(O),b.push(k))}}return C[v]=D.length,a.createSparseMatrix({values:b,index:D,ptr:C,size:[g,v],datatype:w})}});var Tq="matAlgo03xDSf",Fq=["typed"],rr=S(Tq,Fq,r=>{var{typed:e}=r;return function(n,i,a,o){var l=n._data,u=n._size,s=n._datatype,c=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype;if(u.length!==m.length)throw new ot(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],v,w=0,y=a;typeof s=="string"&&s===h&&(v=s,w=e.convert(0,v),y=e.find(a,[v,v]));for(var x=[],_=0;_<d;_++)x[_]=[];for(var b=[],D=[],C=0;C<g;C++){for(var A=C+1,E=p[C],F=p[C+1],I=E;I<F;I++){var O=f[I];b[O]=o?y(c[I],l[O][C]):y(l[O][C],c[I]),D[O]=A}for(var k=0;k<d;k++)D[k]===A?x[k][C]=b[k]:x[k][C]=o?y(w,l[k][C]):y(l[k][C],w)}return n.createDenseMatrix({data:x,size:[d,g],datatype:v})}});var Iq="matAlgo05xSfSf",Bq=["typed","equalScalar"],Ya=S(Iq,Bq,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var v=c[0],w=c[1],y,x=t,_=0,b=o;typeof f=="string"&&f===g&&(y=f,x=e.find(t,[y,y]),_=e.convert(0,y),b=e.find(o,[y,y]));var D=l&&p?[]:void 0,C=[],A=[],E=D?[]:void 0,F=D?[]:void 0,I=[],O=[],k,R,T,N;for(R=0;R<w;R++){A[R]=C.length;var V=R+1;for(T=s[R],N=s[R+1];T<N;T++)k=u[T],C.push(k),I[k]=V,E&&(E[k]=l[T]);for(T=h[R],N=h[R+1];T<N;T++)k=m[T],I[k]!==V&&C.push(k),O[k]=V,F&&(F[k]=p[T]);if(D)for(T=A[R];T<C.length;){k=C[T];var B=I[k],X=O[k];if(B===V||X===V){var ee=B===V?E[k]:_,W=X===V?F[k]:_,P=b(ee,W);x(P,_)?C.splice(T,1):(D.push(P),T++)}}}return A[w]=C.length,i.createSparseMatrix({values:D,index:C,ptr:A,size:[v,w],datatype:y})}});var Oq="matAlgo13xDD",Pq=["typed"],fS=S(Oq,Pq,r=>{var{typed:e}=r;return function(i,a,o){var l=i._data,u=i._size,s=i._datatype,c=a._data,f=a._size,p=a._datatype,m=[];if(u.length!==f.length)throw new ot(u.length,f.length);for(var h=0;h<u.length;h++){if(u[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");m[h]=u[h]}var d,g=o;typeof s=="string"&&s===p&&(d=s,g=e.find(o,[d,d]));var v=m.length>0?t(g,0,m,m[0],l,c):[];return i.createDenseMatrix({data:v,size:m,datatype:d})};function t(n,i,a,o,l,u){var s=[];if(i===a.length-1)for(var c=0;c<o;c++)s[c]=n(l[c],u[c]);else for(var f=0;f<o;f++)s[f]=t(n,i+1,a,a[i+1],l[f],u[f]);return s}});var Rq="broadcast",kq=["concat"],pS=S(Rq,kq,r=>{var{concat:e}=r;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((h,d)=>h===a._size[d]))return[i,a];for(var l=t(i._size,o,0),u=t(a._size,o,0),s=[],c=0;c<o;c++)s[c]=Math.max(l[c],u[c]);Gu(l,s),Gu(u,s);var f=i.clone(),p=a.clone();f._size.length<o?f.reshape(t(f._size,o,1)):p._size.length<o&&p.reshape(t(p._size,o,1));for(var m=0;m<o;m++)f._size[m]<s[m]&&(f=n(f,s[m],m)),p._size[m]<s[m]&&(p=n(p,s[m],m));return[f,p]};function t(i,a,o){return[...Array(a-i.length).fill(o),...i]}function n(i,a,o){return e(...Array(a).fill(i),o)}});var Lq="matrixAlgorithmSuite",Vq=["typed","matrix","concat"],lt=S(Lq,Vq,r=>{var{typed:e,matrix:t,concat:n}=r,i=fS({typed:e}),a=Tr({typed:e}),o=pS({concat:n});return function(u){var s=u.elop,c=u.SD||u.DS,f;s?(f={"DenseMatrix, DenseMatrix":(d,g)=>i(...o(d,g),s),"Array, Array":(d,g)=>i(...o(t(d),t(g)),s).valueOf(),"Array, DenseMatrix":(d,g)=>i(...o(t(d),g),s),"DenseMatrix, Array":(d,g)=>i(...o(d,t(g)),s)},u.SS&&(f["SparseMatrix, SparseMatrix"]=(d,g)=>u.SS(...o(d,g),s,!1)),u.DS&&(f["DenseMatrix, SparseMatrix"]=(d,g)=>u.DS(...o(d,g),s,!1),f["Array, SparseMatrix"]=(d,g)=>u.DS(...o(t(d),g),s,!1)),c&&(f["SparseMatrix, DenseMatrix"]=(d,g)=>c(...o(g,d),s,!0),f["SparseMatrix, Array"]=(d,g)=>c(...o(t(g),d),s,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(g,v)=>i(...o(g,v),d)),"Array, Array":e.referToSelf(d=>(g,v)=>i(...o(t(g),t(v)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(g,v)=>i(...o(t(g),v),d)),"DenseMatrix, Array":e.referToSelf(d=>(g,v)=>i(...o(g,t(v)),d))},u.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.SS(...o(g,v),d,!1))),u.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.DS(...o(g,v),d,!1)),f["Array, SparseMatrix"]=e.referToSelf(d=>(g,v)=>u.DS(...o(t(g),v),d,!1))),c&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(g,v)=>c(...o(v,g),d,!0)),f["SparseMatrix, Array"]=e.referToSelf(d=>(g,v)=>c(...o(t(v),g),d,!0))));var p=u.scalar||"any",m=u.Ds||u.Ss;m&&(s?(f["DenseMatrix,"+p]=(d,g)=>a(d,g,s,!1),f[p+", DenseMatrix"]=(d,g)=>a(g,d,s,!0),f["Array,"+p]=(d,g)=>a(t(d),g,s,!1).valueOf(),f[p+", Array"]=(d,g)=>a(t(g),d,s,!0).valueOf()):(f["DenseMatrix,"+p]=e.referToSelf(d=>(g,v)=>a(g,v,d,!1)),f[p+", DenseMatrix"]=e.referToSelf(d=>(g,v)=>a(v,g,d,!0)),f["Array,"+p]=e.referToSelf(d=>(g,v)=>a(t(g),v,d,!1).valueOf()),f[p+", Array"]=e.referToSelf(d=>(g,v)=>a(t(v),g,d,!0).valueOf())));var h=u.sS!==void 0?u.sS:u.Ss;return s?(u.Ss&&(f["SparseMatrix,"+p]=(d,g)=>u.Ss(d,g,s,!1)),h&&(f[p+", SparseMatrix"]=(d,g)=>h(g,d,s,!0))):(u.Ss&&(f["SparseMatrix,"+p]=e.referToSelf(d=>(g,v)=>u.Ss(g,v,d,!1))),h&&(f[p+", SparseMatrix"]=e.referToSelf(d=>(g,v)=>h(v,g,d,!0)))),s&&s.signatures&&Mf(f,s.signatures),f}});var mS="mod",Uq=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],Ku=S(mS,Uq,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l,concat:u}=r,s=Qu({typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}),c=Fr({typed:e,equalScalar:a}),f=rr({typed:e}),p=Ya({typed:e,equalScalar:a}),m=Ht({typed:e,equalScalar:a}),h=Rt({typed:e,DenseMatrix:l}),d=lt({typed:e,matrix:i,concat:u});return e(mS,{"number, number":g,"BigNumber, BigNumber":function(w,y){return y.isZero()?w:w.sub(y.mul(s(w.div(y))))},"Fraction, Fraction":function(w,y){return y.equals(0)?w:w.sub(y.mul(s(w.div(y))))}},d({SS:p,DS:f,SD:c,Ss:m,sS:h}));function g(v,w){return w===0?v:v-w*s(v/w)}});var qq="matAlgo01xDSid",zq=["typed"],yn=S(qq,zq,r=>{var{typed:e}=r;return function(n,i,a,o){var l=n._data,u=n._size,s=n._datatype,c=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype;if(u.length!==m.length)throw new ot(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],v=typeof s=="string"&&s===h?s:void 0,w=v?e.find(a,[v,v]):a,y,x,_=[];for(y=0;y<d;y++)_[y]=[];var b=[],D=[];for(x=0;x<g;x++){for(var C=x+1,A=p[x],E=p[x+1],F=A;F<E;F++)y=f[F],b[y]=o?w(c[F],l[y][x]):w(l[y][x],c[F]),D[y]=C;for(y=0;y<d;y++)D[y]===C?_[y][x]=b[y]:_[y][x]=l[y][x]}return n.createDenseMatrix({data:_,size:[d,g],datatype:v})}});var $q="matAlgo04xSidSid",Hq=["typed","equalScalar"],$s=S($q,Hq,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var v=c[0],w=c[1],y,x=t,_=0,b=o;typeof f=="string"&&f===g&&(y=f,x=e.find(t,[y,y]),_=e.convert(0,y),b=e.find(o,[y,y]));var D=l&&p?[]:void 0,C=[],A=[],E=l&&p?[]:void 0,F=l&&p?[]:void 0,I=[],O=[],k,R,T,N,V;for(R=0;R<w;R++){A[R]=C.length;var B=R+1;for(N=s[R],V=s[R+1],T=N;T<V;T++)k=u[T],C.push(k),I[k]=B,E&&(E[k]=l[T]);for(N=h[R],V=h[R+1],T=N;T<V;T++)if(k=m[T],I[k]===B){if(E){var X=b(E[k],p[T]);x(X,_)?I[k]=null:E[k]=X}}else C.push(k),O[k]=B,F&&(F[k]=p[T]);if(E&&F)for(T=A[R];T<C.length;)k=C[T],I[k]===B?(D[T]=E[k],T++):O[k]===B?(D[T]=F[k],T++):C.splice(T,1)}return A[w]=C.length,i.createSparseMatrix({values:D,index:C,ptr:A,size:[v,w],datatype:y})}});var Gq="matAlgo10xSids",Wq=["typed","DenseMatrix"],Ln=S(Gq,Wq,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,g=o;typeof p=="string"&&(d=p,a=e.convert(a,d),g=e.find(o,[d,d]));for(var v=[],w=[],y=[],x=0;x<h;x++){for(var _=x+1,b=c[x],D=c[x+1],C=b;C<D;C++){var A=s[C];w[A]=u[C],y[A]=_}for(var E=0;E<m;E++)x===0&&(v[E]=[]),y[E]===_?v[E][x]=l?g(a,w[E]):g(w[E],a):v[E][x]=a}return new t({data:v,size:[m,h],datatype:d})}});function va(r,e,t,n){if(!(this instanceof va))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=e,this.min=t,this.max=n,this.message="Wrong number of arguments in function "+r+" ("+e+" provided, "+t+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}va.prototype=new Error;va.prototype.constructor=Error;va.prototype.name="ArgumentsError";va.prototype.isArgumentsError=!0;var dS="gcd",jq=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],_v="number | BigNumber | Fraction | Matrix | Array",Zq="".concat(_v,", ").concat(_v,", ...").concat(_v);function hS(r){return!r.some(e=>Array.isArray(e))}var Av=S(dS,jq,r=>{var{typed:e,matrix:t,config:n,round:i,equalScalar:a,zeros:o,BigNumber:l,DenseMatrix:u,concat:s}=r,c=Ku({typed:e,config:n,round:i,matrix:t,equalScalar:a,zeros:o,DenseMatrix:u,concat:s}),f=yn({typed:e}),p=$s({typed:e,equalScalar:a}),m=Ln({typed:e,DenseMatrix:u}),h=lt({typed:e,matrix:t,concat:s});return e(dS,{"number, number":d,"BigNumber, BigNumber":g,"Fraction, Fraction":(v,w)=>v.gcd(w)},h({SS:p,DS:f,Ss:m}),{[Zq]:e.referToSelf(v=>(w,y,x)=>{for(var _=v(w,y),b=0;b<x.length;b++)_=v(_,x[b]);return _}),Array:e.referToSelf(v=>w=>{if(w.length===1&&Array.isArray(w[0])&&hS(w[0]))return v(...w[0]);if(hS(w))return v(...w);throw new va("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(v=>w=>v(w.toArray()))});function d(v,w){if(!ze(v)||!ze(w))throw new Error("Parameters in function gcd must be integer numbers");for(var y;w!==0;)y=c(v,w),v=w,w=y;return v<0?-v:v}function g(v,w){if(!v.isInt()||!w.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var y=new l(0);!w.isZero();){var x=c(v,w);v=w,w=x}return v.lt(y)?v.neg():v}});var Jq="matAlgo06xS0S0",Yq=["typed","equalScalar"],Xa=S(Jq,Yq,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._size,s=i._datatype,c=a._values,f=a._size,p=a._datatype;if(u.length!==f.length)throw new ot(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m=u[0],h=u[1],d,g=t,v=0,w=o;typeof s=="string"&&s===p&&(d=s,g=e.find(t,[d,d]),v=e.convert(0,d),w=e.find(o,[d,d]));for(var y=l&&c?[]:void 0,x=[],_=[],b=y?[]:void 0,D=[],C=[],A=0;A<h;A++){_[A]=x.length;var E=A+1;if(zh(i,A,D,b,C,E,x,w),zh(a,A,D,b,C,E,x,w),b)for(var F=_[A];F<x.length;){var I=x[F];if(C[I]===E){var O=b[I];g(O,v)?x.splice(F,1):(y.push(O),F++)}else x.splice(F,1)}else for(var k=_[A];k<x.length;){var R=x[k];C[R]!==E?x.splice(k,1):k++}}return _[h]=x.length,i.createSparseMatrix({values:y,index:x,ptr:_,size:[m,h],datatype:d})}});var gS="lcm",Xq=["typed","matrix","equalScalar","concat"],Dv=S(gS,Xq,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=Fr({typed:e,equalScalar:n}),o=Xa({typed:e,equalScalar:n}),l=Ht({typed:e,equalScalar:n}),u=lt({typed:e,matrix:t,concat:i}),s="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(s,", ").concat(s,", ...").concat(s)]=e.referToSelf(p=>(m,h,d)=>{for(var g=p(m,h),v=0;v<d.length;v++)g=p(g,d[v]);return g}),e(gS,{"number, number":Kh,"BigNumber, BigNumber":f,"Fraction, Fraction":(p,m)=>p.lcm(m)},u({SS:o,DS:a,Ss:l}),c);function f(p,m){if(!p.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(m.isZero())return m;for(var h=p.times(m);!m.isZero();){var d=m;m=p.mod(d),p=d}return h.div(p).abs()}});var vS="log10",Qq=["typed","config","Complex"],Ev=S(vS,Qq,r=>{var{typed:e,config:t,Complex:n}=r;return e(vS,{number:function(a){return a>=0||t.predictable?eg(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||t.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>Ze(a,i))})});var yS="log2",Kq=["typed","config","Complex"],Cv=S(yS,Kq,r=>{var{typed:e,config:t,Complex:n}=r;return e(yS,{number:function(o){return o>=0||t.predictable?tg(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var ez="multiplyScalar",tz=["typed"],Sv=S(ez,tz,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":jh,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})});var xS="multiply",rz=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Nv=S(xS,rz,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=r,l=Ht({typed:e,equalScalar:a}),u=Tr({typed:e});function s(_,b){switch(_.length){case 1:switch(b.length){case 1:if(_[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(_[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+_[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(_[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+_[1]+") must match Vector length ("+b[0]+")");break;case 2:if(_[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+_[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+_.length+" dimensions)")}}function c(_,b,D){if(D===0)throw new Error("Cannot multiply two empty vectors");return o(_,b)}function f(_,b){if(b.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(_,b)}function p(_,b){var D=_._data,C=_._size,A=_._datatype,E=b._data,F=b._size,I=b._datatype,O=C[0],k=F[1],R,T=n,N=i;A&&I&&A===I&&typeof A=="string"&&(R=A,T=e.find(n,[R,R]),N=e.find(i,[R,R]));for(var V=[],B=0;B<k;B++){for(var X=N(D[0],E[0][B]),ee=1;ee<O;ee++)X=T(X,N(D[ee],E[ee][B]));V[B]=X}return _.createDenseMatrix({data:V,size:[k],datatype:R})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":w}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":v,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":x});function d(_,b){var D=_._data,C=_._size,A=_._datatype,E=b._data,F=b._datatype,I=C[0],O=C[1],k,R=n,T=i;A&&F&&A===F&&typeof A=="string"&&(k=A,R=e.find(n,[k,k]),T=e.find(i,[k,k]));for(var N=[],V=0;V<I;V++){for(var B=D[V],X=T(B[0],E[0]),ee=1;ee<O;ee++)X=R(X,T(B[ee],E[ee]));N[V]=X}return _.createDenseMatrix({data:N,size:[I],datatype:k})}function g(_,b){var D=_._data,C=_._size,A=_._datatype,E=b._data,F=b._size,I=b._datatype,O=C[0],k=C[1],R=F[1],T,N=n,V=i;A&&I&&A===I&&typeof A=="string"&&(T=A,N=e.find(n,[T,T]),V=e.find(i,[T,T]));for(var B=[],X=0;X<O;X++){var ee=D[X];B[X]=[];for(var W=0;W<R;W++){for(var P=V(ee[0],E[0][W]),K=1;K<k;K++)P=N(P,V(ee[K],E[K][W]));B[X][W]=P}}return _.createDenseMatrix({data:B,size:[O,R],datatype:T})}function v(_,b){var D=_._data,C=_._size,A=_._datatype,E=b._values,F=b._index,I=b._ptr,O=b._size,k=b._datatype;if(!E)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var R=C[0],T=O[1],N,V=n,B=i,X=a,ee=0;A&&k&&A===k&&typeof A=="string"&&(N=A,V=e.find(n,[N,N]),B=e.find(i,[N,N]),X=e.find(a,[N,N]),ee=e.convert(0,N));for(var W=[],P=[],K=[],ve=b.createSparseMatrix({values:W,index:P,ptr:K,size:[R,T],datatype:N}),ie=0;ie<T;ie++){K[ie]=P.length;var oe=I[ie],ge=I[ie+1];if(ge>oe)for(var ue=0,ce=0;ce<R;ce++){for(var me=ce+1,de=void 0,Be=oe;Be<ge;Be++){var we=F[Be];ue!==me?(de=B(D[ce][we],E[Be]),ue=me):de=V(de,B(D[ce][we],E[Be]))}ue===me&&!X(de,ee)&&(P.push(ce),W.push(de))}}return K[T]=P.length,ve}function w(_,b){var D=_._values,C=_._index,A=_._ptr,E=_._datatype;if(!D)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var F=b._data,I=b._datatype,O=_._size[0],k=b._size[0],R=[],T=[],N=[],V,B=n,X=i,ee=a,W=0;E&&I&&E===I&&typeof E=="string"&&(V=E,B=e.find(n,[V,V]),X=e.find(i,[V,V]),ee=e.find(a,[V,V]),W=e.convert(0,V));var P=[],K=[];N[0]=0;for(var ve=0;ve<k;ve++){var ie=F[ve];if(!ee(ie,W))for(var oe=A[ve],ge=A[ve+1],ue=oe;ue<ge;ue++){var ce=C[ue];K[ce]?P[ce]=B(P[ce],X(ie,D[ue])):(K[ce]=!0,T.push(ce),P[ce]=X(ie,D[ue]))}}for(var me=T.length,de=0;de<me;de++){var Be=T[de];R[de]=P[Be]}return N[1]=T.length,_.createSparseMatrix({values:R,index:T,ptr:N,size:[O,1],datatype:V})}function y(_,b){var D=_._values,C=_._index,A=_._ptr,E=_._datatype;if(!D)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var F=b._data,I=b._datatype,O=_._size[0],k=b._size[0],R=b._size[1],T,N=n,V=i,B=a,X=0;E&&I&&E===I&&typeof E=="string"&&(T=E,N=e.find(n,[T,T]),V=e.find(i,[T,T]),B=e.find(a,[T,T]),X=e.convert(0,T));for(var ee=[],W=[],P=[],K=_.createSparseMatrix({values:ee,index:W,ptr:P,size:[O,R],datatype:T}),ve=[],ie=[],oe=0;oe<R;oe++){P[oe]=W.length;for(var ge=oe+1,ue=0;ue<k;ue++){var ce=F[ue][oe];if(!B(ce,X))for(var me=A[ue],de=A[ue+1],Be=me;Be<de;Be++){var we=C[Be];ie[we]!==ge?(ie[we]=ge,W.push(we),ve[we]=V(ce,D[Be])):ve[we]=N(ve[we],V(ce,D[Be]))}}for(var U=P[oe],G=W.length,le=U;le<G;le++){var $=W[le];ee[le]=ve[$]}}return P[R]=W.length,K}function x(_,b){var D=_._values,C=_._index,A=_._ptr,E=_._datatype,F=b._values,I=b._index,O=b._ptr,k=b._datatype,R=_._size[0],T=b._size[1],N=D&&F,V,B=n,X=i;E&&k&&E===k&&typeof E=="string"&&(V=E,B=e.find(n,[V,V]),X=e.find(i,[V,V]));for(var ee=N?[]:void 0,W=[],P=[],K=_.createSparseMatrix({values:ee,index:W,ptr:P,size:[R,T],datatype:V}),ve=N?[]:void 0,ie=[],oe,ge,ue,ce,me,de,Be,we,U=0;U<T;U++){P[U]=W.length;var G=U+1;for(me=O[U],de=O[U+1],ce=me;ce<de;ce++)if(we=I[ce],N)for(ge=A[we],ue=A[we+1],oe=ge;oe<ue;oe++)Be=C[oe],ie[Be]!==G?(ie[Be]=G,W.push(Be),ve[Be]=X(F[ce],D[oe])):ve[Be]=B(ve[Be],X(F[ce],D[oe]));else for(ge=A[we],ue=A[we+1],oe=ge;oe<ue;oe++)Be=C[oe],ie[Be]!==G&&(ie[Be]=G,W.push(Be));if(N)for(var le=P[U],$=W.length,Q=le;Q<$;Q++){var re=W[Q];ee[Q]=ve[re]}}return P[T]=W.length,K}return e(xS,i,{"Array, Array":e.referTo("Matrix, Matrix",_=>(b,D)=>{s(et(b),et(D));var C=_(t(b),t(D));return He(C)?C.valueOf():C}),"Matrix, Matrix":function(b,D){var C=b.size(),A=D.size();return s(C,A),C.length===1?A.length===1?c(b,D,C[0]):f(b,D):A.length===1?m(b,D):h(b,D)},"Matrix, Array":e.referTo("Matrix,Matrix",_=>(b,D)=>_(b,t(D))),"Array, Matrix":e.referToSelf(_=>(b,D)=>_(t(b,D.storage()),D)),"SparseMatrix, any":function(b,D){return l(b,D,i,!1)},"DenseMatrix, any":function(b,D){return u(b,D,i,!1)},"any, SparseMatrix":function(b,D){return l(D,b,i,!0)},"any, DenseMatrix":function(b,D){return u(D,b,i,!0)},"Array, any":function(b,D){return u(t(b),D,i,!1).valueOf()},"any, Array":function(b,D){return u(t(D),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(_=>(b,D,C)=>{for(var A=_(b,D),E=0;E<C.length;E++)A=_(A,C[E]);return A})})});var bS="nthRoot",nz=["typed","matrix","equalScalar","BigNumber","concat"],Mv=S(bS,nz,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,concat:a}=r,o=yn({typed:e}),l=Fr({typed:e,equalScalar:n}),u=Xa({typed:e,equalScalar:n}),s=Ht({typed:e,equalScalar:n}),c=lt({typed:e,matrix:t,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(bS,{number:rg,"number, number":rg,BigNumber:m=>p(m,new i(2)),"BigNumber, BigNumber":p,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",m=>h=>m(t(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>h=>m(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>h=>m(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return u(h,d,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return o(h,d,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(h,d)=>m(t(h),d)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return s(d,h,m,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:l,Ss:s,sS:!1}));function p(m,h){var d=i.precision,g=i.clone({precision:d+2}),v=new i(0),w=new g(1),y=h.isNegative();if(y&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return y?new g(1/0):0;if(!m.isFinite())return y?v:m;var x=m.abs().pow(w.div(h));return x=m.isNeg()?x.neg():x,new i((y?w.div(x):x).toPrecision(d))}});var wS="sign",iz=["typed","BigNumber","Fraction","complex"],Tv=S(wS,iz,r=>{var{typed:e,BigNumber:t,complex:n,Fraction:i}=r;return e(wS,{number:Xf,Complex:function(o){return o.im===0?n(Xf(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var az="sqrt",oz=["config","typed","Complex"],Fv=S(az,oz,r=>{var{config:e,typed:t,Complex:n}=r;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}});var _S="square",sz=["typed"],Iv=S(_S,sz,r=>{var{typed:e}=r;return e(_S,{number:ng,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var AS="subtract",uz=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Bv=S(AS,uz,r=>{var{typed:e,matrix:t,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:l}=r,u=yn({typed:e}),s=rr({typed:e}),c=Ya({typed:e,equalScalar:n}),f=Ln({typed:e,DenseMatrix:o}),p=Rt({typed:e,DenseMatrix:o}),m=lt({typed:e,matrix:t,concat:l});return e(AS,{"any, any":i},m({elop:i,SS:c,DS:u,SD:s,Ss:p,sS:f}))});var DS="xgcd",lz=["typed","config","matrix","BigNumber"],Ov=S(DS,lz,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(DS,{"number, number":function(l,u){var s=ig(l,u);return t.matrix==="Array"?s:n(s)},"BigNumber, BigNumber":a});function a(o,l){var u,s,c,f=new i(0),p=new i(1),m=f,h=p,d=p,g=f;if(!o.isInt()||!l.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!l.isZero();)s=o.div(l).floor(),c=o.mod(l),u=m,m=h.minus(s.times(m)),h=u,u=d,d=g.minus(s.times(d)),g=u,o=l,l=c;var v;return o.lt(f)?v=[o.neg(),h.neg(),g.neg()]:v=[o,o.isZero()?0:h,g],t.matrix==="Array"?v:n(v)}});var ES="invmod",cz=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],Pv=S(ES,cz,r=>{var{typed:e,config:t,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:l,add:u,isInteger:s}=r;return e(ES,{"number, number":c,"BigNumber, BigNumber":c});function c(f,p){if(!s(f)||!s(p))throw new Error("Parameters in function invmod must be integer numbers");if(f=l(f,p),a(p,0))throw new Error("Divisor must be non zero");var m=i(f,p);m=m.valueOf();var[h,d]=m;return a(h,n(1))?(d=l(d,p),o(d,n(0))&&(d=u(d,p)),d):NaN}});var fz="matAlgo09xS0Sf",pz=["typed","equalScalar"],ep=S(fz,pz,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var v=c[0],w=c[1],y,x=t,_=0,b=o;typeof f=="string"&&f===g&&(y=f,x=e.find(t,[y,y]),_=e.convert(0,y),b=e.find(o,[y,y]));var D=l&&p?[]:void 0,C=[],A=[],E=D?[]:void 0,F=[],I,O,k,R,T;for(O=0;O<w;O++){A[O]=C.length;var N=O+1;if(E)for(R=h[O],T=h[O+1],k=R;k<T;k++)I=m[k],F[I]=N,E[I]=p[k];for(R=s[O],T=s[O+1],k=R;k<T;k++)if(I=u[k],E){var V=F[I]===N?E[I]:_,B=b(l[k],V);x(B,_)||(C.push(I),D.push(B))}else C.push(I)}return A[w]=C.length,i.createSparseMatrix({values:D,index:C,ptr:A,size:[v,w],datatype:y})}});var CS="dotMultiply",mz=["typed","matrix","equalScalar","multiplyScalar","concat"],Rv=S(CS,mz,r=>{var{typed:e,matrix:t,equalScalar:n,multiplyScalar:i,concat:a}=r,o=Fr({typed:e,equalScalar:n}),l=ep({typed:e,equalScalar:n}),u=Ht({typed:e,equalScalar:n}),s=lt({typed:e,matrix:t,concat:a});return e(CS,s({elop:i,SS:l,DS:o,Ss:u}))});function SS(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero()||e.eq(-1)||r.eq(e))return r;if(e.isZero()||r.eq(-1))return e;if(!r.isFinite()||!e.isFinite()){if(!r.isFinite()&&!e.isFinite())return r.isNegative()===e.isNegative()?r:new t(0);if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e;if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r}return kv(r,e,function(n,i){return n&i})}function Hs(r){if(r.isFinite()&&!r.isInteger())throw new Error("Integer expected in function bitNot");var e=r.constructor,t=e.precision;e.config({precision:1e9});var n=r.plus(new e(1));return n.s=-n.s||null,e.config({precision:t}),n}function NS(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);var n=new t(-1);return r.isZero()||e.eq(n)||r.eq(e)?e:e.isZero()||r.eq(n)?r:!r.isFinite()||!e.isFinite()?!r.isFinite()&&!r.isNegative()&&e.isNegative()||r.isNegative()&&!e.isNegative()&&!e.isFinite()?n:r.isNegative()&&e.isNegative()?r.isFinite()?r:e:r.isFinite()?e:r:kv(r,e,function(i,a){return i|a})}function kv(r,e,t){var n=r.constructor,i,a,o=+(r.s<0),l=+(e.s<0);if(o){i=tp(Hs(r));for(var u=0;u<i.length;++u)i[u]^=1}else i=tp(r);if(l){a=tp(Hs(e));for(var s=0;s<a.length;++s)a[s]^=1}else a=tp(e);var c,f,p;i.length<=a.length?(c=i,f=a,p=o):(c=a,f=i,p=l);var m=c.length,h=f.length,d=t(o,l)^1,g=new n(d^1),v=new n(1),w=new n(2),y=n.precision;for(n.config({precision:1e9});m>0;)t(c[--m],f[--h])===d&&(g=g.plus(v)),v=v.times(w);for(;h>0;)t(p,f[--h])===d&&(g=g.plus(v)),v=v.times(w);return n.config({precision:y}),d===0&&(g.s=-g.s),g}function tp(r){for(var e=r.d,t=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;t+=i}for(var o=t.length;t.charAt(o)==="0";)o--;var l=r.e,u=t.slice(0,o+1||1),s=u.length;if(l>0)if(++l>s)for(l-=s;l--;)u+="0";else l<s&&(u=u.slice(0,l)+"."+u.slice(l));for(var c=[0],f=0;f<u.length;){for(var p=c.length;p--;)c[p]*=10;c[0]+=parseInt(u.charAt(f++));for(var m=0;m<c.length;++m)c[m]>1&&((c[m+1]===null||c[m+1]===void 0)&&(c[m+1]=0),c[m+1]+=c[m]>>1,c[m]&=1)}return c.reverse()}function MS(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero())return e;if(e.isZero())return r;if(r.eq(e))return new t(0);var n=new t(-1);return r.eq(n)?Hs(e):e.eq(n)?Hs(r):!r.isFinite()||!e.isFinite()?!r.isFinite()&&!e.isFinite()?n:new t(r.isNegative()===e.isNegative()?1/0:-1/0):kv(r,e,function(i,a){return i^a})}function TS(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:!r.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?r.times(Math.pow(2,e.toNumber())+""):r.times(new t(2).pow(e))}function FS(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:e.isFinite()?e.lt(55)?r.div(Math.pow(2,e.toNumber())+"").floor():r.div(new t(2).pow(e)).floor():r.isNegative()?new t(-1):r.isFinite()?new t(0):new t(NaN)}var IS="bitAnd",dz=["typed","matrix","equalScalar","concat"],el=S(IS,dz,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=Fr({typed:e,equalScalar:n}),o=Xa({typed:e,equalScalar:n}),l=Ht({typed:e,equalScalar:n}),u=lt({typed:e,matrix:t,concat:i});return e(IS,{"number, number":sg,"BigNumber, BigNumber":SS},u({SS:o,DS:a,Ss:l}))});var BS="bitNot",hz=["typed"],Lv=S(BS,hz,r=>{var{typed:e}=r;return e(BS,{number:ug,BigNumber:Hs,"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var OS="bitOr",gz=["typed","matrix","equalScalar","DenseMatrix","concat"],tl=S(OS,gz,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=yn({typed:e}),l=$s({typed:e,equalScalar:n}),u=Ln({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:t,concat:a});return e(OS,{"number, number":lg,"BigNumber, BigNumber":NS},s({SS:l,DS:o,Ss:u}))});var vz="matAlgo07xSSf",yz=["typed","DenseMatrix"],Rr=S(vz,yz,r=>{var{typed:e,DenseMatrix:t}=r;return function(a,o,l){var u=a._size,s=a._datatype,c=o._size,f=o._datatype;if(u.length!==c.length)throw new ot(u.length,c.length);if(u[0]!==c[0]||u[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+c+")");var p=u[0],m=u[1],h,d=0,g=l;typeof s=="string"&&s===f&&(h=s,d=e.convert(0,h),g=e.find(l,[h,h]));var v,w,y=[];for(v=0;v<p;v++)y[v]=[];var x=[],_=[],b=[],D=[];for(w=0;w<m;w++){var C=w+1;for(n(a,w,b,x,C),n(o,w,D,_,C),v=0;v<p;v++){var A=b[v]===C?x[v]:d,E=D[v]===C?_[v]:d;y[v][w]=g(A,E)}}return new t({data:y,size:[p,m],datatype:h})};function n(i,a,o,l,u){for(var s=i._values,c=i._index,f=i._ptr,p=f[a],m=f[a+1];p<m;p++){var h=c[p];o[h]=u,l[h]=s[p]}}});var PS="bitXor",xz=["typed","matrix","DenseMatrix","concat"],Vv=S(PS,xz,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=rr({typed:e}),o=Rr({typed:e,DenseMatrix:n}),l=Rt({typed:e,DenseMatrix:n}),u=lt({typed:e,matrix:t,concat:i});return e(PS,{"number, number":cg,"BigNumber, BigNumber":MS},u({SS:o,DS:a,Ss:l}))});var RS="arg",bz=["typed"],Uv=S(RS,bz,r=>{var{typed:e}=r;return e(RS,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var kS="conj",wz=["typed"],qv=S(kS,wz,r=>{var{typed:e}=r;return e(kS,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var LS="im",_z=["typed"],zv=S(LS,_z,r=>{var{typed:e}=r;return e(LS,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var VS="re",Az=["typed"],$v=S(VS,Az,r=>{var{typed:e}=r;return e(VS,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var US="not",Dz=["typed"],Hv=S(US,Dz,r=>{var{typed:e}=r;return e(US,{"null | undefined":()=>!0,number:gg,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var qS="or",Ez=["typed","matrix","equalScalar","DenseMatrix","concat"],rl=S(qS,Ez,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=rr({typed:e}),l=Ya({typed:e,equalScalar:n}),u=Rt({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:t,concat:a});return e(qS,{"number, number":vg,"Complex, Complex":function(f,p){return f.re!==0||f.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(f,p){return!f.isZero()&&!f.isNaN()||!p.isZero()&&!p.isNaN()},"Unit, Unit":e.referToSelf(c=>(f,p)=>c(f.value||0,p.value||0))},s({SS:l,DS:o,Ss:u}))});var zS="xor",Cz=["typed","matrix","DenseMatrix","concat"],Gv=S(zS,Cz,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=rr({typed:e}),o=Rr({typed:e,DenseMatrix:n}),l=Rt({typed:e,DenseMatrix:n}),u=lt({typed:e,matrix:t,concat:i});return e(zS,{"number, number":yg,"Complex, Complex":function(c,f){return(c.re!==0||c.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(c,f){return(!c.isZero()&&!c.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(s=>(c,f)=>s(c.value||0,f.value||0))},u({SS:o,DS:a,Ss:l}))});var $S="concat",Sz=["typed","matrix","isInteger"],nl=S($S,Sz,r=>{var{typed:e,matrix:t,isInteger:n}=r;return e($S,{"...Array | Matrix | number | BigNumber":function(a){var o,l=a.length,u=-1,s,c=!1,f=[];for(o=0;o<l;o++){var p=a[o];if(He(p)&&(c=!0),nt(p)||tt(p)){if(o!==l-1)throw new Error("Dimension must be specified as last argument");if(s=u,u=p.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||o>0&&u>s)throw new un(u,s+1)}else{var m=Ye(p).valueOf(),h=et(m);if(f[o]=m,s=u,u=h.length-1,o>0&&u!==s)throw new ot(s+1,u+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var d=f.shift();f.length;)d=xh(d,f.shift(),u);return c?t(d):d},"...string":function(a){return a.join("")}})});var HS="column",Nz=["typed","Index","matrix","range"],il=S(HS,Nz,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(HS,{"Matrix, number":a,"Array, number":function(l,u){return a(n(Ye(l)),u).valueOf()}});function a(o,l){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");$t(l,o.size()[1]);var u=i(0,o.size()[0]),s=new t(u,l),c=o.subset(s);return He(c)?c:n([[c]])}});var GS="count",Mz=["typed","size","prod"],Wv=S(GS,Mz,r=>{var{typed:e,size:t,prod:n}=r;return e(GS,{string:function(a){return a.length},"Matrix | Array":function(a){return n(t(a))}})});var WS="cross",Tz=["typed","matrix","subtract","multiply"],jv=S(WS,Tz,r=>{var{typed:e,matrix:t,subtract:n,multiply:i}=r;return e(WS,{"Matrix, Matrix":function(l,u){return t(a(l.toArray(),u.toArray()))},"Matrix, Array":function(l,u){return t(a(l.toArray(),u))},"Array, Matrix":function(l,u){return t(a(l,u.toArray()))},"Array, Array":a});function a(o,l){var u=Math.max(et(o).length,et(l).length);o=Rs(o),l=Rs(l);var s=et(o),c=et(l);if(s.length!==1||c.length!==1||s[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+s.join(", ")+"], B = ["+c.join(", ")+"])");var f=[n(i(o[1],l[2]),i(o[2],l[1])),n(i(o[2],l[0]),i(o[0],l[2])),n(i(o[0],l[1]),i(o[1],l[0]))];return u>1?[f]:f}});var jS="diag",Fz=["typed","matrix","DenseMatrix","SparseMatrix"],Zv=S(jS,Fz,r=>{var{typed:e,matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(jS,{Array:function(s){return a(s,0,et(s),null)},"Array, number":function(s,c){return a(s,c,et(s),null)},"Array, BigNumber":function(s,c){return a(s,c.toNumber(),et(s),null)},"Array, string":function(s,c){return a(s,0,et(s),c)},"Array, number, string":function(s,c,f){return a(s,c,et(s),f)},"Array, BigNumber, string":function(s,c,f){return a(s,c.toNumber(),et(s),f)},Matrix:function(s){return a(s,0,s.size(),s.storage())},"Matrix, number":function(s,c){return a(s,c,s.size(),s.storage())},"Matrix, BigNumber":function(s,c){return a(s,c.toNumber(),s.size(),s.storage())},"Matrix, string":function(s,c){return a(s,0,s.size(),c)},"Matrix, number, string":function(s,c,f){return a(s,c,s.size(),f)},"Matrix, BigNumber, string":function(s,c,f){return a(s,c.toNumber(),s.size(),f)}});function a(u,s,c,f){if(!ze(s))throw new TypeError("Second parameter in function diag must be an integer");var p=s>0?s:0,m=s<0?-s:0;switch(c.length){case 1:return o(u,s,f,c[0],m,p);case 2:return l(u,s,f,c,m,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(u,s,c,f,p,m){var h=[f+p,f+m];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var d=c==="sparse"?i.diagonal(h,u,s):n.diagonal(h,u,s);return c!==null?d:d.valueOf()}function l(u,s,c,f,p,m){if(He(u)){var h=u.diagonal(s);return c!==null?c!==h.storage()?t(h,c):h:h.valueOf()}for(var d=Math.min(f[0]-p,f[1]-m),g=[],v=0;v<d;v++)g[v]=u[v+p][v+m];return c!==null?t(g):g}});var al=gr(ph(),1);function hi(r,e,t,n,i){if(al.default.isTypedFunction(r)){var a=[e,t,n],o=al.default.resolve(r,a);if(o)return f(o.implementation,a);var l=[e,t],u=al.default.resolve(r,l);if(u)return f(u.implementation,l);var s=[e],c=al.default.resolve(r,s);return c?f(c.implementation,s):f(r,a)}else return r(e,t,n);function f(p,m){try{return p.apply(p,m)}catch(g){var h;if(g instanceof TypeError&&((h=g.data)===null||h===void 0?void 0:h.category)==="wrongType"){var d=[];throw d.push("value: ".concat(St(e))),m.length>=2&&d.push("index: ".concat(St(t))),m.length>=3&&d.push("array: ".concat(St(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(r.name,"(").concat(d.join(", "),") at index ").concat(JSON.stringify(t)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(r.name,": ").concat(g.message))}}}var Iz="filter",Bz=["typed"],Jv=S(Iz,Bz,r=>{var{typed:e}=r;return e("filter",{"Array, function":ZS,"Matrix, function":function(n,i){return n.create(ZS(n.toArray(),i))},"Array, RegExp":ks,"Matrix, RegExp":function(n,i){return n.create(ks(n.toArray(),i))}})});function ZS(r,e){return kf(r,function(t,n,i){return hi(e,t,[n],i,"filter")})}var JS="flatten",Oz=["typed","matrix"],Yv=S(JS,Oz,r=>{var{typed:e,matrix:t}=r;return e(JS,{Array:function(i){return pt(i)},Matrix:function(i){var a=pt(i.toArray());return t(a)}})});var YS="forEach",Pz=["typed"],Xv=S(YS,Pz,r=>{var{typed:e}=r;return e(YS,{"Array, function":Rz,"Matrix, function":function(n,i){n.forEach(i)}})});function Rz(r,e){var t=function n(i,a){if(Array.isArray(i))$a(i,function(o,l){n(o,a.concat(l))});else return hi(e,i,a,r,"forEach")};t(r,[])}var XS="getMatrixDataType",kz=["typed"],Qv=S(XS,kz,r=>{var{typed:e}=r;return e(XS,{Array:function(n){return Ha(n,St)},Matrix:function(n){return n.getDataType()}})});var QS="identity",Lz=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Kv=S(QS,Lz,r=>{var{typed:e,config:t,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=r;return e(QS,{"":function(){return t.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return u(c,c,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return u(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return u(c,f,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,p){return u(c,f,p)},Array:function(c){return l(c)},"Array, string":function(c,f){return l(c,f)},Matrix:function(c){return l(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return l(c.valueOf(),f)}});function l(s,c){switch(s.length){case 0:return c?n(c):[];case 1:return u(s[0],s[0],c);case 2:return u(s[0],s[1],c);default:throw new Error("Vector containing two values expected")}}function u(s,c,f){var p=tt(s)||tt(c)?i:null;if(tt(s)&&(s=s.toNumber()),tt(c)&&(c=c.toNumber()),!ze(s)||s<1)throw new Error("Parameters in function identity must be positive integers");if(!ze(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var m=p?new i(1):1,h=p?new p(0):0,d=[s,c];if(f){if(f==="sparse")return o.diagonal(d,m,0,h);if(f==="dense")return a.diagonal(d,m,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var g=Mi([],d,h),v=s<c?s:c,w=0;w<v;w++)g[w][w]=m;return g}});var KS="kron",Vz=["typed","matrix","multiplyScalar"],ey=S(KS,Vz,r=>{var{typed:e,matrix:t,multiplyScalar:n}=r;return e(KS,{"Matrix, Matrix":function(o,l){return t(i(o.toArray(),l.toArray()))},"Matrix, Array":function(o,l){return t(i(o.toArray(),l))},"Array, Matrix":function(o,l){return t(i(o,l.toArray()))},"Array, Array":i});function i(a,o){if(et(a).length===1&&(a=[a]),et(o).length===1&&(o=[o]),et(a).length>2||et(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var l=[],u=[];return a.map(function(s){return o.map(function(c){return u=[],l.push(u),s.map(function(f){return c.map(function(p){return u.push(n(f,p))})})})})&&l}});var eN="map",Uz=["typed"],ty=S(eN,Uz,r=>{var{typed:e}=r;return e(eN,{"Array, function":qz,"Matrix, function":function(n,i){return n.map(i)}})});function qz(r,e){var t=function n(i,a){return Array.isArray(i)?i.map(function(o,l){return n(o,a.concat(l))}):hi(e,i,a,r,"map")};return t(r,[])}var tN="diff",zz=["typed","matrix","subtract","number"],ol=S(tN,zz,r=>{var{typed:e,matrix:t,subtract:n,number:i}=r;return e(tN,{"Array | Matrix":function(c){return He(c)?t(o(c.toArray())):o(c)},"Array | Matrix, number":function(c,f){if(!ze(f))throw new RangeError("Dimension must be a whole number");return He(c)?t(a(c.toArray(),f)):a(c,f)},"Array, BigNumber":e.referTo("Array,number",s=>(c,f)=>s(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",s=>(c,f)=>s(c,i(f)))});function a(s,c){if(He(s)&&(s=s.toArray()),!Array.isArray(s))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return s.forEach(p=>{f.push(a(p,c-1))}),f}else{if(c===0)return o(s);throw RangeError("Cannot have negative dimension")}}function o(s){for(var c=[],f=s.length,p=1;p<f;p++)c.push(l(s[p-1],s[p]));return c}function l(s,c){He(s)&&(s=s.toArray()),He(c)&&(c=c.toArray());var f=Array.isArray(s),p=Array.isArray(c);if(f&&p)return u(s,c);if(!f&&!p)return n(c,s);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function u(s,c){if(s.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],p=s.length,m=0;m<p;m++)f.push(l(s[m],c[m]));return f}});var $z="ones",Hz=["typed","config","matrix","BigNumber"],ry=S($z,Hz,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e("ones",{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var c=s[s.length-1];if(typeof c=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var c=s.storage();return a(s.valueOf(),c)},"Array | Matrix, string":function(s,c){return a(s.valueOf(),c)}});function a(u,s){var c=o(u),f=c?new i(1):1;if(l(u),s){var p=n(s);return u.length>0?p.resize(u,f):p}else{var m=[];return u.length>0?Mi(m,u,f):m}}function o(u){var s=!1;return u.forEach(function(c,f,p){tt(c)&&(s=!0,p[f]=c.toNumber())}),s}function l(u){u.forEach(function(s){if(typeof s!="number"||!ze(s)||s<0)throw new Error("Parameters in function ones must be positive integers")})}});function Gs(){throw new Error('No "bignumber" implementation available')}function rp(){throw new Error('No "fraction" implementation available')}function np(){throw new Error('No "matrix" implementation available')}var rN="range",Gz=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],sl=S(rN,Gz,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c}=r;return e(rN,{string:p,"string, boolean":p,"number, number":function(g,v){return f(m(g,v,1,!1))},"number, number, number":function(g,v,w){return f(m(g,v,w,!1))},"number, number, boolean":function(g,v,w){return f(m(g,v,1,w))},"number, number, number, boolean":function(g,v,w,y){return f(m(g,v,w,y))},"BigNumber, BigNumber":function(g,v){var w=g.constructor;return f(m(g,v,new w(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,v,w){return f(m(g,v,w,!1))},"BigNumber, BigNumber, boolean":function(g,v,w){var y=g.constructor;return f(m(g,v,new y(1),w))},"BigNumber, BigNumber, BigNumber, boolean":function(g,v,w,y){return f(m(g,v,w,y))},"Unit, Unit, Unit":function(g,v,w){return f(m(g,v,w,!1))},"Unit, Unit, Unit, boolean":function(g,v,w,y){return f(m(g,v,w,y))}});function f(d){return t.matrix==="Matrix"?n?n(d):np():d}function p(d,g){var v=h(d);if(!v)throw new SyntaxError('String "'+d+'" is no valid range');return t.number==="BigNumber"?(i===void 0&&Gs(),f(m(i(v.start),i(v.end),i(v.step)),g)):f(m(v.start,v.end,v.step,g))}function m(d,g,v,w){for(var y=[],x=c(v)?w?o:a:w?u:l,_=d;x(_,g);)y.push(_),_=s(_,v);return y}function h(d){var g=d.split(":"),v=g.map(function(y){return Number(y)}),w=v.some(function(y){return isNaN(y)});if(w)return null;switch(v.length){case 2:return{start:v[0],end:v[1],step:1};case 3:return{start:v[0],end:v[2],step:v[1]};default:return null}}});var nN="reshape",Wz=["typed","isInteger","matrix"],ny=S(nN,Wz,r=>{var{typed:e,isInteger:t}=r;return e(nN,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),$u(i,a)}})});var jz="resize",Zz=["config","matrix"],iy=S(jz,Zz,r=>{var{config:e,matrix:t}=r;return function(a,o,l){if(arguments.length!==2&&arguments.length!==3)throw new va("resize",arguments.length,2,3);if(He(o)&&(o=o.valueOf()),tt(o[0])&&(o=o.map(function(c){return tt(c)?c.toNumber():c})),He(a))return a.resize(o,l,!0);if(typeof a=="string")return n(a,o,l);var u=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return Ye(a)}else{Array.isArray(a)||(a=[a]),a=Ye(a);var s=Mi(a,o,l);return u?t(s):s}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new ot(a.length,1);var l=a[0];if(typeof l!="number"||!ze(l))throw new TypeError("Invalid size, must contain positive integers (size: "+it(a)+")");if(i.length>l)return i.substring(0,l);if(i.length<l){for(var u=i,s=0,c=l-i.length;s<c;s++)u+=o;return u}else return i}});var iN="rotate",Jz=["typed","multiply","rotationMatrix"],ay=S(iN,Jz,r=>{var{typed:e,multiply:t,rotationMatrix:n}=r;return e(iN,{"Array , number | BigNumber | Complex | Unit":function(o,l){i(o,2);var u=t(n(l),o);return u.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,l){return i(o,2),t(n(l),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,l,u){i(o,3);var s=t(n(l,u),o);return s},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,l,u){return i(o,3),t(n(l,u),o)}});function i(a,o){var l=Array.isArray(a)?et(a):a.size();if(l.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(l.length===2&&l[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(l[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var aN="rotationMatrix",Yz=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],oy=S(aN,Yz,r=>{var{typed:e,config:t,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:l,matrix:u,DenseMatrix:s,SparseMatrix:c,cos:f,sin:p}=r;return e(aN,{"":function(){return t.matrix==="Matrix"?u([]):[]},string:function(y){return u(y)},"number | BigNumber | Complex | Unit":function(y){return m(y,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(y,x){return m(y,x)},"number | BigNumber | Complex | Unit, Array":function(y,x){var _=u(x);return h(_),v(y,_,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(y,x){h(x);var _=x.storage()||(t.matrix==="Matrix"?"dense":void 0);return v(y,x,_)},"number | BigNumber | Complex | Unit, Array, string":function(y,x,_){var b=u(x);return h(b),v(y,b,_)},"number | BigNumber | Complex | Unit, Matrix, string":function(y,x,_){return h(x),v(y,x,_)}});function m(w,y){var x=tt(w),_=x?new l(-1):-1,b=f(w),D=p(w),C=[[b,n(_,D)],[D,b]];return g(C,y)}function h(w){var y=w.size();if(y.length<1||y[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function d(w){return w.reduce((y,x)=>n(y,x))}function g(w,y){if(y){if(y==="sparse")return new c(w);if(y==="dense")return new s(w);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}return w}function v(w,y,x){var _=o(y);if(_===0)throw new RangeError("Rotation around zero vector");var b=tt(w)?l:null,D=b?new b(1):1,C=b?new b(-1):-1,A=b?new b(y.get([0])/_):y.get([0])/_,E=b?new b(y.get([1])/_):y.get([1])/_,F=b?new b(y.get([2])/_):y.get([2])/_,I=f(w),O=i(D,a(I)),k=p(w),R=i(I,d([A,A,O])),T=i(d([A,E,O]),d([C,F,k])),N=i(d([A,F,O]),d([E,k])),V=i(d([A,E,O]),d([F,k])),B=i(I,d([E,E,O])),X=i(d([E,F,O]),d([C,A,k])),ee=i(d([A,F,O]),d([C,E,k])),W=i(d([E,F,O]),d([A,k])),P=i(I,d([F,F,O])),K=[[R,T,N],[V,B,X],[ee,W,P]];return g(K,x)}});var oN="row",Xz=["typed","Index","matrix","range"],ul=S(oN,Xz,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(oN,{"Matrix, number":a,"Array, number":function(l,u){return a(n(Ye(l)),u).valueOf()}});function a(o,l){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");$t(l,o.size()[0]);var u=i(0,o.size()[1]),s=new t(l,u),c=o.subset(s);return He(c)?c:n([[c]])}});var sN="size",Qz=["typed","config","?matrix"],sy=S(sN,Qz,r=>{var{typed:e,config:t,matrix:n}=r;return e(sN,{Matrix:function(a){return a.create(a.size())},Array:et,string:function(a){return t.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:n?n([]):np()}})});var uN="squeeze",Kz=["typed","matrix"],uy=S(uN,Kz,r=>{var{typed:e,matrix:t}=r;return e(uN,{Array:function(i){return Rs(Ye(i))},Matrix:function(i){var a=Rs(i.toArray());return Array.isArray(a)?t(a):a},any:function(i){return Ye(i)}})});var lN="subset",e$=["typed","matrix","zeros","add"],ll=S(lN,e$,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r;return e(lN,{"Matrix, Index":function(l,u){return Uo(u)?t():(zu(l,u),l.subset(u))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(l,u){var s=o(t(l),u);return u.isScalar()?s:s.valueOf()}}),"Object, Index":r$,"string, Index":t$,"Matrix, Index, any, any":function(l,u,s,c){return Uo(u)?l:(zu(l,u),l.clone().subset(u,a(s,u),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s,c){var f=o(t(l),u,s,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s){return o(t(l),u,s,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s){return o(l,u,s,void 0)}}),"string, Index, string":cN,"string, Index, string, string":cN,"Object, Index, any":n$});function a(o,l){if(typeof o=="string")throw new Error("can't boradcast a string");if(l._isScalar)return o;var u=l.size();if(u.every(s=>s>0))try{return i(o,n(u))}catch(s){return o}else return o}});function t$(r,e){if(!qa(e))throw new TypeError("Index expected");if(Uo(e))return"";if(zu(Array.from(r),e),e.size().length!==1)throw new ot(e.size().length,1);var t=r.length;$t(e.min()[0],t),$t(e.max()[0],t);var n=e.dimension(0),i="";return n.forEach(function(a){i+=r.charAt(a)}),i}function cN(r,e,t,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Uo(e))return r;if(zu(Array.from(r),e),e.size().length!==1)throw new ot(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==t.length)throw new ot(i.size()[0],t.length);var o=r.length;$t(e.min()[0]),$t(e.max()[0]);for(var l=[],u=0;u<o;u++)l[u]=r.charAt(u);if(i.forEach(function(f,p){l[f]=t.charAt(p[0])}),l.length>o)for(var s=o-1,c=l.length;s<c;s++)l[s]||(l[s]=n);return l.join("")}function r$(r,e){if(!Uo(e)){if(e.size().length!==1)throw new ot(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return dr(r,t)}}function n$(r,e,t){if(Uo(e))return r;if(e.size().length!==1)throw new ot(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=Ye(r);return zi(i,n,t),i}var fN="transpose",i$=["typed","matrix"],ly=S(fN,i$,r=>{var{typed:e,matrix:t}=r;return e(fN,{Array:o=>n(t(o)).valueOf(),Matrix:n,any:Ye});function n(o){var l=o.size(),u;switch(l.length){case 1:u=o.clone();break;case 2:{var s=l[0],c=l[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+it(l)+")");switch(o.storage()){case"dense":u=i(o,s,c);break;case"sparse":u=a(o,s,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+it(l)+")")}return u}function i(o,l,u){for(var s=o._data,c=[],f,p=0;p<u;p++){f=c[p]=[];for(var m=0;m<l;m++)f[m]=Ye(s[m][p])}return o.createDenseMatrix({data:c,size:[u,l],datatype:o._datatype})}function a(o,l,u){for(var s=o._values,c=o._index,f=o._ptr,p=s?[]:void 0,m=[],h=[],d=[],g=0;g<l;g++)d[g]=0;var v,w,y;for(v=0,w=c.length;v<w;v++)d[c[v]]++;for(var x=0,_=0;_<l;_++)h.push(x),x+=d[_],d[_]=h[_];for(h.push(x),y=0;y<u;y++)for(var b=f[y],D=f[y+1],C=b;C<D;C++){var A=d[c[C]]++;m[A]=y,s&&(p[A]=Ye(s[C]))}return o.createSparseMatrix({values:p,index:m,ptr:h,size:[u,l],datatype:o._datatype})}});var pN="ctranspose",a$=["typed","transpose","conj"],cy=S(pN,a$,r=>{var{typed:e,transpose:t,conj:n}=r;return e(pN,{any:function(a){return n(t(a))}})});var mN="zeros",o$=["typed","config","matrix","BigNumber"],fy=S(mN,o$,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(mN,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var c=s[s.length-1];if(typeof c=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var c=s.storage();return a(s.valueOf(),c)},"Array | Matrix, string":function(s,c){return a(s.valueOf(),c)}});function a(u,s){var c=o(u),f=c?new i(0):0;if(l(u),s){var p=n(s);return u.length>0?p.resize(u,f):p}else{var m=[];return u.length>0?Mi(m,u,f):m}}function o(u){var s=!1;return u.forEach(function(c,f,p){tt(c)&&(s=!0,p[f]=c.toNumber())}),s}function l(u){u.forEach(function(s){if(typeof s!="number"||!ze(s)||s<0)throw new Error("Parameters in function zeros must be positive integers")})}});var dN="fft",s$=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],py=S(dN,s$,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:l,i:u,dotDivide:s,conj:c,pow:f,ceil:p,log2:m}=r;return e(dN,{Array:h,Matrix:function(y){return y.create(h(y.toArray()))}});function h(w){var y=et(w);return y.length===1?v(w,y[0]):d(w.map(x=>h(x,y.slice(1))),0)}function d(w,y){var x=et(w);if(y!==0)return new Array(x[0]).fill(0).map((b,D)=>d(w[D],y-1));if(x.length===1)return v(w);function _(b){var D=et(b);return new Array(D[1]).fill(0).map((C,A)=>new Array(D[0]).fill(0).map((E,F)=>b[F][A]))}return _(d(_(w),1))}function g(w){for(var y=w.length,x=o(a(i(-1,i(u,l)),y)),_=[],b=1-y;b<y;b++)_.push(f(x,a(f(b,2),2)));for(var D=f(2,p(m(y+y-1))),C=[...new Array(y).fill(0).map((T,N)=>i(w[N],_[y-1+N])),...new Array(D-y).fill(0)],A=[...new Array(y+y-1).fill(0).map((T,N)=>a(1,_[N])),...new Array(D-(y+y-1)).fill(0)],E=v(C),F=v(A),I=new Array(D).fill(0).map((T,N)=>i(E[N],F[N])),O=s(c(h(c(I))),D),k=[],R=y-1;R<y+y-1;R++)k.push(i(O[R],_[R]));return k}function v(w){var y=w.length;if(y===1)return[w[0]];if(y%2===0){for(var x=[...v(w.filter((C,A)=>A%2===0),y/2),...v(w.filter((C,A)=>A%2===1),y/2)],_=0;_<y/2;_++){var b=x[_],D=i(x[_+y/2],o(i(i(l,u),a(-_,y))));x[_]=n(b,D),x[_+y/2]=n(b,i(-1,D))}return x}else return g(w)}});var hN="ifft",u$=["typed","fft","dotDivide","conj"],my=S(hN,u$,r=>{var{typed:e,fft:t,dotDivide:n,conj:i}=r;return e(hN,{"Array | Matrix":function(o){var l=He(o)?o.size():et(o);return n(i(t(i(o))),l.reduce((u,s)=>u*s,1))}})});function Qa(r){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(r)}function dy(r,e){if(Qa(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(Qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function hy(r){var e=dy(r,"string");return Qa(e)=="symbol"?e:String(e)}function kt(r,e,t){return e=hy(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gN(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function l$(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(t),!0).forEach(function(n){kt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gN(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var c$="solveODE",f$=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],gy=S(c$,f$,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,max:o,map:l,abs:u,isPositive:s,isNegative:c,larger:f,smaller:p,matrix:m,bignumber:h,unaryMinus:d}=r;function g(C){return function(A,E,F,I){var O=!(E.length===2&&(E.every(b)||E.every(an)));if(O)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var k=E[0],R=E[1],T=f(R,k),N=I.firstStep;if(N!==void 0&&!s(N))throw new Error('"firstStep" must be positive');var V=I.maxStep;if(V!==void 0&&!s(V))throw new Error('"maxStep" must be positive');var B=I.minStep;if(B&&c(B))throw new Error('"minStep" must be positive or zero');var X=[k,R,N,B,V].filter(Le=>Le!==void 0);if(!(X.every(b)||X.every(an)))throw new Error('Inconsistent type of "t" dependant variables');for(var ee=1,W=I.tol?I.tol:1e-4,P=I.minDelta?I.minDelta:.2,K=I.maxDelta?I.maxDelta:5,ve=I.maxIter?I.maxIter:1e4,ie=[k,R,...F,V,B].some(tt),[oe,ge,ue,ce]=ie?[h(C.a),h(C.c),h(C.b),h(C.bp)]:[C.a,C.c,C.b,C.bp],me=N?T?N:d(N):a(n(R,k),ee),de=[k],Be=[F],we=n(ue,ce),U=0,G=0,le=x(T),$=_(T);le(de[U],R);){var Q=[];me=$(de[U],R,me),Q.push(A(de[U],Be[U]));for(var re=1;re<ge.length;++re)Q.push(A(t(de[U],i(ge[re],me)),t(Be[U],i(me,oe[re],Q))));var he=o(u(l(i(we,Q),Le=>an(Le)?Le.value:Le)));he<W&&W/he>1/4&&(de.push(t(de[U],me)),Be.push(t(Be[U],i(me,ue,Q))),U++);var ye=.84*(W/he)**(1/5);if(p(ye,P)?ye=P:f(ye,K)&&(ye=K),ye=ie?h(ye):ye,me=i(me,ye),V&&f(u(me),V)?me=T?V:d(V):B&&p(u(me),B)&&(me=T?B:d(B)),G++,G>ve)throw new Error("Maximum number of iterations reached, try changing options")}return{t:de,y:Be}}}function v(C,A,E,F){var I=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],O=[null,1/2,3/4,1],k=[2/9,1/3,4/9,0],R=[7/24,1/4,1/3,1/8],T={a:I,c:O,b:k,bp:R};return g(T)(C,A,E,F)}function w(C,A,E,F){var I=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],O=[null,1/5,3/10,4/5,8/9,1,1],k=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],R=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],T={a:I,c:O,b:k,bp:R};return g(T)(C,A,E,F)}function y(C,A,E,F){var I=F.method?F.method:"RK45",O={RK23:v,RK45:w};if(I.toUpperCase()in O){var k=l$({},F);return delete k.method,O[I.toUpperCase()](C,A,E,k)}else{var R=Object.keys(O).map(N=>'"'.concat(N,'"')),T="".concat(R.slice(0,-1).join(", ")," and ").concat(R.slice(-1));throw new Error('Unavailable method "'.concat(I,'". Available methods are ').concat(T))}}function x(C){return C?p:f}function _(C){var A=C?f:p;return function(E,F,I){var O=t(E,I);return A(O,F)?n(F,E):I}}function b(C){return tt(C)||nt(C)}function D(C,A,E,F){var I=y(C,A.toArray(),E.toArray(),F);return{t:m(I.t),y:m(I.y)}}return e("solveODE",{"function, Array, Array, Object":y,"function, Matrix, Matrix, Object":D,"function, Array, Array":(C,A,E)=>y(C,A,E,{}),"function, Matrix, Matrix":(C,A,E)=>D(C,A,E,{}),"function, Array, number | BigNumber | Unit":(C,A,E)=>{var F=y(C,A,[E],{});return{t:F.t,y:F.y.map(I=>I[0])}},"function, Matrix, number | BigNumber | Unit":(C,A,E)=>{var F=y(C,A.toArray(),[E],{});return{t:m(F.t),y:m(F.y.map(I=>I[0]))}},"function, Array, number | BigNumber | Unit, Object":(C,A,E,F)=>{var I=y(C,A,[E],F);return{t:I.t,y:I.y.map(O=>O[0])}},"function, Matrix, number | BigNumber | Unit, Object":(C,A,E,F)=>{var I=y(C,A.toArray(),[E],F);return{t:m(I.t),y:m(I.y.map(O=>O[0]))}}})});var p$="erf",m$=["typed"],vy=S(p$,m$,r=>{var{typed:e}=r;return e("name",{number:function(o){var l=Math.abs(o);return l>=g$?pi(o):l<=d$?pi(o)*t(l):l<=4?pi(o)*(1-n(l)):pi(o)*(1-i(l))},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a))});function t(a){var o=a*a,l=ya[0][4]*o,u=o,s;for(s=0;s<3;s+=1)l=(l+ya[0][s])*o,u=(u+Ws[0][s])*o;return a*(l+ya[0][3])/(u+Ws[0][3])}function n(a){var o=ya[1][8]*a,l=a,u;for(u=0;u<7;u+=1)o=(o+ya[1][u])*a,l=(l+Ws[1][u])*a;var s=(o+ya[1][7])/(l+Ws[1][7]),c=parseInt(a*16)/16,f=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-f)*s}function i(a){var o=1/(a*a),l=ya[2][5]*o,u=o,s;for(s=0;s<4;s+=1)l=(l+ya[2][s])*o,u=(u+Ws[2][s])*o;var c=o*(l+ya[2][4])/(u+Ws[2][4]);c=(h$-c)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*c}}),d$=.46875,h$=.5641895835477563,ya=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],Ws=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],g$=Math.pow(2,53);var vN="zeta",v$=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],yy=S(vN,v$,r=>{var{typed:e,config:t,multiply:n,pow:i,divide:a,factorial:o,equal:l,smallerEq:u,isNegative:s,gamma:c,sin:f,subtract:p,add:m,Complex:h,BigNumber:d,pi:g}=r;return e(vN,{number:b=>v(b,D=>D,()=>20),BigNumber:b=>v(b,D=>new d(D),()=>Math.abs(Math.log10(t.epsilon))),Complex:w});function v(b,D,C){return l(b,0)?D(-.5):l(b,1)?D(NaN):isFinite(b)?y(b,D,C,A=>A):s(b)?D(NaN):D(1)}function w(b){return b.re===0&&b.im===0?new h(-.5):b.re===1?new h(NaN,NaN):b.re===1/0&&b.im===0?new h(1):b.im===1/0||b.re===-1/0?new h(NaN,NaN):y(b,D=>D,D=>Math.round(1.3*15+.9*Math.abs(D.im)),D=>D.re)}function y(b,D,C,A){var E=C(b);if(A(b)>-(E-1)/2)return _(b,D(E),D);var F=n(i(2,b),i(D(g),p(b,1)));return F=n(F,f(n(a(D(g),2),b))),F=n(F,c(p(1,b))),n(F,y(p(1,b),D,C,A))}function x(b,D){for(var C=b,A=b;u(A,D);A=m(A,1)){var E=a(n(o(m(D,p(A,1))),i(4,A)),n(o(p(D,A)),o(n(2,A))));C=m(C,E)}return n(D,C)}function _(b,D,C){for(var A=a(1,n(x(C(0),D),p(1,i(2,p(1,b))))),E=C(0),F=C(1);u(F,D);F=m(F,1))E=m(E,a(n((-1)**(F-1),x(F,D)),i(F,b)));return n(A,E)}});var yN="mode",y$=["typed","isNaN","isNumeric"],xy=S(yN,y$,r=>{var{typed:e,isNaN:t,isNumeric:n}=r;return e(yN,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=pt(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var l={},u=[],s=0,c=0;c<a.length;c++){var f=a[c];if(n(f)&&t(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in l||(l[f]=0),l[f]++,l[f]===s?u.push(f):l[f]>s&&(s=l[f],u=[f])}return u}});function wr(r,e,t){var n;return String(r).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+St(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+St(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var xN="prod",x$=["typed","config","multiplyScalar","numeric"],by=S(xN,x$,r=>{var{typed:e,config:t,multiplyScalar:n,numeric:i}=r;return e(xN,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(l,u){throw new Error("prod(A, dim) is not yet supported")},"...":function(l){return a(l)}});function a(o){var l;if(vn(o,function(u){try{l=l===void 0?u:n(l,u)}catch(s){throw wr(s,"prod",u)}}),typeof l=="string"&&(l=i(l,t.number)),l===void 0)throw new Error("Cannot calculate prod of an empty array");return l}});var bN="format",b$=["typed"],wy=S(bN,b$,r=>{var{typed:e}=r;return e(bN,{any:it,"any, Object | function | number":it})});var wN="bin",w$=["typed","format"],_y=S(wN,w$,r=>{var{typed:e,format:t}=r;return e(wN,{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"bin",wordSize:a})}})});var _N="oct",_$=["typed","format"],Ay=S(_N,_$,r=>{var{typed:e,format:t}=r;return e(_N,{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"oct",wordSize:a})}})});var AN="hex",A$=["typed","format"],Dy=S(AN,A$,r=>{var{typed:e,format:t}=r;return e(AN,{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"hex",wordSize:a})}})});var ip=/\$([\w.]+)/g;var DN="print",D$=["typed"],cl=S(DN,D$,r=>{var{typed:e}=r;return e(DN,{"string, Object | Array":EN,"string, Object | Array, number | Object":EN})});function EN(r,e,t){return r.replace(ip,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var l=a.shift();o=l?o[l]:o+"."}return o!==void 0?xr(o)?o:it(o,t):n})}var CN="to",E$=["typed","matrix","concat"],Ey=S(CN,E$,r=>{var{typed:e,matrix:t,concat:n}=r,i=lt({typed:e,matrix:t,concat:n});return e(CN,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var SN="isPrime",C$=["typed"],Cy=S(SN,C$,r=>{var{typed:e}=r;return e(SN,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(w,y,x){for(var _=1;!y.eq(0);)y.mod(2).eq(0)?(y=y.div(2),w=w.mul(w).mod(x)):(y=y.sub(1),_=w.mul(_).mod(x));return _}var l=n.constructor.clone({precision:n.toFixed(0).length*2});n=new l(n);for(var u=0,s=n.sub(1);s.mod(2).eq(0);)s=s.div(2),u+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(w=>w<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var p=2;p<=f;p+=1)c.push(f)}for(var m=0;m<c.length;m+=1){var h=c[m],d=o(n.sub(n).add(h),s,n);if(!d.eq(1)){for(var g=0,v=d;!v.eq(n.sub(1));g+=1,v=v.mul(v).mod(n))if(g===u-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var S$="numeric",N$=["number","?bignumber","?fraction"],Sy=S(S$,N$,r=>{var{number:e,bignumber:t,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:t?o=>t(o):Gs,Fraction:n?o=>n(o):rp};return function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",s=arguments.length>2?arguments[2]:void 0;if(s!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=St(l);if(!(c in i))throw new TypeError("Cannot convert "+l+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in a))throw new TypeError("Cannot convert "+l+' to type "'+u+'"; valid output types are '+Object.keys(a).join(", "));return u===c?l:a[u](l)}});var NN="divideScalar",M$=["typed","numeric"],Ny=S(NN,M$,r=>{var{typed:e,numeric:t}=r;return e(NN,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var MN="pow",T$=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],My=S(MN,T$,r=>{var{typed:e,config:t,identity:n,multiply:i,matrix:a,inv:o,number:l,fraction:u,Complex:s}=r;return e(MN,{"number, number":c,"Complex, Complex":function(h,d){return h.pow(d)},"BigNumber, BigNumber":function(h,d){return d.isInteger()||h>=0||t.predictable?h.pow(d):new s(h.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(h,d){var g=h.pow(d);if(g!=null)return g;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(h.valueOf(),d.valueOf())},"Array, number":f,"Array, BigNumber":function(h,d){return f(h,d.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(h,d){return p(h,d.toNumber())},"Unit, number | BigNumber":function(h,d){return h.pow(d)}});function c(m,h){if(t.predictable&&!ze(h)&&m<0)try{var d=u(h),g=l(d);if((h===g||Math.abs((h-g)/h)<1e-14)&&d.d%2===1)return(d.n%2===0?1:-1)*Math.pow(-m,h)}catch(v){}return t.predictable&&(m<-1&&h===1/0||m>-1&&m<0&&h===-1/0)?NaN:ze(h)||m>=0||t.predictable?ag(m,h):m*m<1&&h===1/0||m*m>1&&h===-1/0?0:new s(m,0).pow(h,0)}function f(m,h){if(!ze(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var d=et(m);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(h<0)try{return f(o(m),-h)}catch(w){throw w.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):w}for(var g=n(d[0]).valueOf(),v=m;h>=1;)(h&1)===1&&(g=i(v,g)),h>>=1,v=i(v,v);return g}function p(m,h){return a(f(m.valueOf(),h))}});var js="Number of decimals in function round must be an integer",TN="round",F$=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Ty=S(TN,F$,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,BigNumber:a,DenseMatrix:o}=r,l=Ht({typed:e,equalScalar:n}),u=Rt({typed:e,DenseMatrix:o}),s=Tr({typed:e});return e(TN,{number:og,"number, number":og,"number, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(js);return new a(f).toDecimalPlaces(p.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,p){if(p%1)throw new TypeError(js);return f.round(p)},"Complex, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(js);var m=p.toNumber();return f.round(m)},BigNumber:function(f){return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(js);return f.toDecimalPlaces(p.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,p){if(p%1)throw new TypeError(js);return f.round(p)},"Fraction, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(js);return f.round(p.toNumber())},"Unit, number, Unit":e.referToSelf(c=>function(f,p,m){var h=f.toNumeric(m);return m.multiply(c(h,p))}),"Unit, BigNumber, Unit":e.referToSelf(c=>(f,p,m)=>c(f,p.toNumber(),m)),"Unit, Unit":e.referToSelf(c=>(f,p)=>c(f,0,p)),"Array | Matrix, number, Unit":e.referToSelf(c=>(f,p,m)=>Ze(f,h=>c(h,p,m),!0)),"Array | Matrix, BigNumber, Unit":e.referToSelf(c=>(f,p,m)=>c(f,p.toNumber(),m)),"Array | Matrix, Unit":e.referToSelf(c=>(f,p)=>c(f,0,p)),"Array | Matrix":e.referToSelf(c=>f=>Ze(f,c,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(c=>(f,p)=>l(f,p,c,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(c=>(f,p)=>s(f,p,c,!1)),"Array, number | BigNumber":e.referToSelf(c=>(f,p)=>s(t(f),p,c,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(c=>(f,p)=>n(f,0)?i(p.size(),p.storage()):u(p,f,c,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(c=>(f,p)=>n(f,0)?i(p.size(),p.storage()):s(p,f,c,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(c=>(f,p)=>s(t(p),f,c,!0).valueOf())})});var FN="log",I$=["config","typed","divideScalar","Complex"],Fy=S(FN,I$,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r;return e(FN,{number:function(o){return o>=0||t.predictable?OC(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,l)=>n(a(o),a(l)))})});var IN="log1p",B$=["typed","config","divideScalar","log","Complex"],Iy=S(IN,B$,r=>{var{typed:e,config:t,divideScalar:n,log:i,Complex:a}=r;return e(IN,{number:function(u){return u>=-1||t.predictable?Tf(u):o(new a(u,0))},Complex:o,BigNumber:function(u){var s=u.plus(1);return!s.isNegative()||t.predictable?s.ln():o(new a(u.toNumber(),0))},"Array | Matrix":e.referToSelf(l=>u=>Ze(u,l)),"any, any":e.referToSelf(l=>(u,s)=>n(l(u),i(s)))});function o(l){var u=l.re+1;return new a(Math.log(Math.sqrt(u*u+l.im*l.im)),Math.atan2(l.im,u))}});var BN="nthRoots",O$=["config","typed","divideScalar","Complex"],By=S(BN,O$,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r,a=[function(u){return new i(u,0)},function(u){return new i(0,u)},function(u){return new i(-u,0)},function(u){return new i(0,-u)}];function o(l,u){if(u<0)throw new Error("Root must be greater than zero");if(u===0)throw new Error("Root must be non-zero");if(u%1!==0)throw new Error("Root must be an integer");if(l===0||l.abs()===0)return[new i(0,0)];var s=typeof l=="number",c;(s||l.re===0||l.im===0)&&(s?c=2*+(l<0):l.im===0?c=2*+(l.re<0):c=2*+(l.im<0)+1);for(var f=l.arg(),p=l.abs(),m=[],h=Math.pow(p,1/u),d=0;d<u;d++){var g=(c+4*d)/u;if(g===Math.round(g)){m.push(a[g%4](h));continue}m.push(new i({r:h,phi:(f+2*Math.PI*d)/u}))}return m}return e(BN,{Complex:function(u){return o(u,2)},"Complex, number":o})});var ON="dotPow",P$=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],Oy=S(ON,P$,r=>{var{typed:e,equalScalar:t,matrix:n,pow:i,DenseMatrix:a,concat:o}=r,l=rr({typed:e}),u=Rr({typed:e,DenseMatrix:a}),s=Ht({typed:e,equalScalar:t}),c=Rt({typed:e,DenseMatrix:a}),f=lt({typed:e,matrix:n,concat:o}),p={};for(var m in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,m)&&!m.includes("Matrix")&&!m.includes("Array")&&(p[m]=i.signatures[m]);var h=e(p);return e(ON,f({elop:h,SS:u,DS:l,Ss:s,sS:c}))});var PN="dotDivide",R$=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],Py=S(PN,R$,r=>{var{typed:e,matrix:t,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=r,l=Fr({typed:e,equalScalar:n}),u=rr({typed:e}),s=Rr({typed:e,DenseMatrix:a}),c=Ht({typed:e,equalScalar:n}),f=Rt({typed:e,DenseMatrix:a}),p=lt({typed:e,matrix:t,concat:o});return e(PN,p({elop:i,SS:s,DS:u,SD:l,Ss:c,sS:f}))});function Wi(r){var{DenseMatrix:e}=r;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+it(o)+")");var l=o[0],u=o[1];if(l!==u)throw new RangeError("Matrix must be square (size: "+it(o)+")");var s=[];if(He(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<l;p++)s[p]=[f[p]];return new e({data:s,size:[l,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==l||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(ko(i)){if(a){s=[];for(var m=0;m<l;m++)s[m]=[f[m][0]];return new e({data:s,size:[l,1],datatype:i._datatype})}return i}if(Ci(i)){for(var h=0;h<l;h++)s[h]=[0];for(var d=i._values,g=i._index,v=i._ptr,w=v[1],y=v[0];y<w;y++){var x=g[y];s[x][0]=d[y]}return new e({data:s,size:[l,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Tt(i)){var _=et(i);if(_.length===1){if(_[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<l;b++)s[b]=[i[b]];return new e({data:s,size:[l,1]})}if(_.length===2){if(_[0]!==l||_[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var D=0;D<l;D++)s[D]=[i[D][0]];return new e({data:s,size:[l,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var RN="lsolve",k$=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Ry=S(RN,k$,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=r,u=Wi({DenseMatrix:l});return e(RN,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.valueOf()}});function s(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=[],v=f._data,w=0;w<d;w++){var y=m[w][0]||0,x=void 0;if(o(y,0))x=0;else{var _=v[w][w];if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");x=n(y,_);for(var b=w+1;b<h;b++)m[b]=[a(m[b][0]||0,i(x,v[b][w]))]}g[w]=[x]}return new l({data:g,size:[h,1]})}function c(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=f._values,v=f._index,w=f._ptr,y=[],x=0;x<d;x++){var _=m[x][0]||0;if(o(_,0))y[x]=[0];else{for(var b=0,D=[],C=[],A=w[x],E=w[x+1],F=A;F<E;F++){var I=v[F];I===x?b=g[F]:I>x&&(D.push(g[F]),C.push(I))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=n(_,b),k=0,R=C.length;k<R;k++){var T=C[k];m[T]=[a(m[T][0]||0,i(O,D[k]))]}y[x]=[O]}}return new l({data:y,size:[h,1]})}});var kN="usolve",L$=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ky=S(kN,L$,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=r,u=Wi({DenseMatrix:l});return e(kN,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.valueOf()}});function s(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=[],v=f._data,w=d-1;w>=0;w--){var y=m[w][0]||0,x=void 0;if(o(y,0))x=0;else{var _=v[w][w];if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");x=n(y,_);for(var b=w-1;b>=0;b--)m[b]=[a(m[b][0]||0,i(x,v[b][w]))]}g[w]=[x]}return new l({data:g,size:[h,1]})}function c(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=f._values,v=f._index,w=f._ptr,y=[],x=d-1;x>=0;x--){var _=m[x][0]||0;if(o(_,0))y[x]=[0];else{for(var b=0,D=[],C=[],A=w[x],E=w[x+1],F=E-1;F>=A;F--){var I=v[F];I===x?b=g[F]:I<x&&(D.push(g[F]),C.push(I))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var O=n(_,b),k=0,R=C.length;k<R;k++){var T=C[k];m[T]=[a(m[T][0],i(O,D[k]))]}y[x]=[O]}}return new l({data:y,size:[h,1]})}});var LN="lsolveAll",V$=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Ly=S(LN,V$,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=r,u=Wi({DenseMatrix:l});return e(LN,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.map(g=>g.valueOf())}});function s(f,p){for(var m=[u(f,p,!0)._data.map(C=>C[0])],h=f._data,d=f._size[0],g=f._size[1],v=0;v<g;v++)for(var w=m.length,y=0;y<w;y++){var x=m[y];if(o(h[v][v],0))if(o(x[v],0)){if(y===0){var b=[...x];b[v]=1;for(var D=v+1;D<g;D++)b[D]=a(b[D],h[D][v]);m.push(b)}}else{if(y===0)return[];m.splice(y,1),y-=1,w-=1}else{x[v]=n(x[v],h[v][v]);for(var _=v+1;_<g;_++)x[_]=a(x[_],i(x[v],h[_][v]))}}return m.map(C=>new l({data:C.map(A=>[A]),size:[d,1]}))}function c(f,p){for(var m=[u(f,p,!0)._data.map(ee=>ee[0])],h=f._size[0],d=f._size[1],g=f._values,v=f._index,w=f._ptr,y=0;y<d;y++)for(var x=m.length,_=0;_<x;_++){for(var b=m[_],D=[],C=[],A=w[y],E=w[y+1],F=0,I=A;I<E;I++){var O=v[I];O===y?F=g[I]:O>y&&(D.push(g[I]),C.push(O))}if(o(F,0))if(o(b[y],0)){if(_===0){var N=[...b];N[y]=1;for(var V=0,B=C.length;V<B;V++){var X=C[V];N[X]=a(N[X],D[V])}m.push(N)}}else{if(_===0)return[];m.splice(_,1),_-=1,x-=1}else{b[y]=n(b[y],F);for(var k=0,R=C.length;k<R;k++){var T=C[k];b[T]=a(b[T],i(b[y],D[k]))}}}return m.map(ee=>new l({data:ee.map(W=>[W]),size:[h,1]}))}});var VN="usolveAll",U$=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Vy=S(VN,U$,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=r,u=Wi({DenseMatrix:l});return e(VN,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.map(g=>g.valueOf())}});function s(f,p){for(var m=[u(f,p,!0)._data.map(C=>C[0])],h=f._data,d=f._size[0],g=f._size[1],v=g-1;v>=0;v--)for(var w=m.length,y=0;y<w;y++){var x=m[y];if(o(h[v][v],0))if(o(x[v],0)){if(y===0){var b=[...x];b[v]=1;for(var D=v-1;D>=0;D--)b[D]=a(b[D],h[D][v]);m.push(b)}}else{if(y===0)return[];m.splice(y,1),y-=1,w-=1}else{x[v]=n(x[v],h[v][v]);for(var _=v-1;_>=0;_--)x[_]=a(x[_],i(x[v],h[_][v]))}}return m.map(C=>new l({data:C.map(A=>[A]),size:[d,1]}))}function c(f,p){for(var m=[u(f,p,!0)._data.map(ee=>ee[0])],h=f._size[0],d=f._size[1],g=f._values,v=f._index,w=f._ptr,y=d-1;y>=0;y--)for(var x=m.length,_=0;_<x;_++){for(var b=m[_],D=[],C=[],A=w[y],E=w[y+1],F=0,I=E-1;I>=A;I--){var O=v[I];O===y?F=g[I]:O<y&&(D.push(g[I]),C.push(O))}if(o(F,0))if(o(b[y],0)){if(_===0){var N=[...b];N[y]=1;for(var V=0,B=C.length;V<B;V++){var X=C[V];N[X]=a(N[X],D[V])}m.push(N)}}else{if(_===0)return[];m.splice(_,1),_-=1,x-=1}else{b[y]=n(b[y],F);for(var k=0,R=C.length;k<R;k++){var T=C[k];b[T]=a(b[T],i(b[y],D[k]))}}}return m.map(ee=>new l({data:ee.map(W=>[W]),size:[h,1]}))}});var q$="matAlgo08xS0Sid",z$=["typed","equalScalar"],Zs=S(q$,z$,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ot(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!l||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v=c[0],w=c[1],y,x=t,_=0,b=o;typeof f=="string"&&f===g&&(y=f,x=e.find(t,[y,y]),_=e.convert(0,y),b=e.find(o,[y,y]));for(var D=[],C=[],A=[],E=[],F=[],I,O,k,R,T=0;T<w;T++){A[T]=C.length;var N=T+1;for(O=s[T],k=s[T+1],I=O;I<k;I++)R=u[I],F[R]=N,E[R]=l[I],C.push(R);for(O=h[T],k=h[T+1],I=O;I<k;I++)R=m[I],F[R]===N&&(E[R]=b(E[R],p[I]));for(I=A[T];I<C.length;){R=C[I];var V=E[R];x(V,_)?C.splice(I,1):(D.push(V),I++)}}return A[w]=C.length,i.createSparseMatrix({values:D,index:C,ptr:A,size:[v,w],datatype:y})}});var Js=S("useMatrixForArrayScalar",["typed","matrix"],r=>{var{typed:e,matrix:t}=r;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(t(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(t(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf())}});var UN="leftShift",$$=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],Uy=S(UN,$$,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,l=yn({typed:e}),u=Fr({typed:e,equalScalar:n}),s=Zs({typed:e,equalScalar:n}),c=Ln({typed:e,DenseMatrix:a}),f=Ht({typed:e,equalScalar:n}),p=Tr({typed:e}),m=lt({typed:e,matrix:t,concat:o}),h=Js({typed:e,matrix:t});return e(UN,{"number, number":fg,"BigNumber, BigNumber":TS,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():p(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):p(v,g,d,!0))},h,m({SS:s,DS:l,SD:u}))});var qN="rightArithShift",H$=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],qy=S(qN,H$,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,l=yn({typed:e}),u=Fr({typed:e,equalScalar:n}),s=Zs({typed:e,equalScalar:n}),c=Ln({typed:e,DenseMatrix:a}),f=Ht({typed:e,equalScalar:n}),p=Tr({typed:e}),m=lt({typed:e,matrix:t,concat:o}),h=Js({typed:e,matrix:t});return e(qN,{"number, number":pg,"BigNumber, BigNumber":FS,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():p(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):p(v,g,d,!0))},h,m({SS:s,DS:l,SD:u}))});var zN="rightLogShift",G$=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],zy=S(zN,G$,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,l=yn({typed:e}),u=Fr({typed:e,equalScalar:n}),s=Zs({typed:e,equalScalar:n}),c=Ln({typed:e,DenseMatrix:a}),f=Ht({typed:e,equalScalar:n}),p=Tr({typed:e}),m=lt({typed:e,matrix:t,concat:o}),h=Js({typed:e,matrix:t});return e(zN,{"number, number":mg,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():f(g,v,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,v)=>n(v,0)?g.clone():p(g,v,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,v)=>n(g,0)?i(v.size(),v.storage()):p(v,g,d,!0))},h,m({SS:s,DS:l,SD:u}))});var $N="and",W$=["typed","matrix","equalScalar","zeros","not","concat"],fl=S($N,W$,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,l=Fr({typed:e,equalScalar:n}),u=Xa({typed:e,equalScalar:n}),s=Ht({typed:e,equalScalar:n}),c=Tr({typed:e}),f=lt({typed:e,matrix:t,concat:o});return e($N,{"number, number":xg,"Complex, Complex":function(m,h){return(m.re!==0||m.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(m,h){return!m.isZero()&&!h.isZero()&&!m.isNaN()&&!h.isNaN()},"Unit, Unit":e.referToSelf(p=>(m,h)=>p(m.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):s(m,h,p,!1)),"DenseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):c(m,h,p,!1)),"any, SparseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):s(h,m,p,!0)),"any, DenseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):c(h,m,p,!0)),"Array, any":e.referToSelf(p=>(m,h)=>p(t(m),h).valueOf()),"any, Array":e.referToSelf(p=>(m,h)=>p(m,t(h)).valueOf())},f({SS:u,DS:l}))});var ap="compare",j$=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],$y=S(ap,j$,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:l,concat:u}=r,s=rr({typed:e}),c=Ya({typed:e,equalScalar:n}),f=Rt({typed:e,DenseMatrix:l}),p=lt({typed:e,matrix:i,concat:u}),m=di({typed:e});return e(ap,Z$({typed:e,config:t}),{"boolean, boolean":function(d,g){return d===g?0:d>g?1:-1},"BigNumber, BigNumber":function(d,g){return Qr(d,g,t.epsilon)?new a(0):new a(d.cmp(g))},"Fraction, Fraction":function(d,g){return new o(d.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,p({SS:c,DS:s,Ss:f}))}),Z$=S(ap,["typed","config"],r=>{var{typed:e,config:t}=r;return e(ap,{"number, number":function(i,a){return Mr(i,a,t.epsilon)?0:i>a?1:-1}})});var Go=gr(GN(),1);var WN="compareNatural",J$=["typed","compare"],Hy=S(WN,J$,r=>{var{typed:e,compare:t}=r,n=t.signatures["boolean,boolean"];return e(WN,{"any, any":i});function i(u,s){var c=St(u),f=St(s),p;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return p=t(u,s),p.toString()!=="0"?p>0?1:-1:(0,Go.default)(c,f);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(c)||m.includes(f))return p=a(i,u,s),p!==0?p:(0,Go.default)(c,f);if(c!==f)return(0,Go.default)(c,f);if(c==="Complex")return Y$(u,s);if(c==="Unit")return u.equalBase(s)?i(u.value,s.value):o(i,u.formatUnits(),s.formatUnits());if(c==="boolean")return n(u,s);if(c==="string")return(0,Go.default)(u,s);if(c==="Object")return l(i,u,s);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(u,s,c){return Ci(s)&&Ci(c)?o(u,s.toJSON().values,c.toJSON().values):Ci(s)?a(u,s.toArray(),c):Ci(c)?a(u,s,c.toArray()):ko(s)?a(u,s.toJSON().data,c):ko(c)?a(u,s,c.toJSON().data):Array.isArray(s)?Array.isArray(c)?o(u,s,c):a(u,s,[c]):a(u,[s],c)}function o(u,s,c){for(var f=0,p=Math.min(s.length,c.length);f<p;f++){var m=u(s[f],c[f]);if(m!==0)return m}return s.length>c.length?1:s.length<c.length?-1:0}function l(u,s,c){var f=Object.keys(s),p=Object.keys(c);f.sort(Go.default),p.sort(Go.default);var m=o(u,f,p);if(m!==0)return m;for(var h=0;h<f.length;h++){var d=u(s[f[h]],c[p[h]]);if(d!==0)return d}return 0}});function Y$(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var jN="compareText",X$=["typed","matrix","concat"];Pf.signature="any, any";var Gy=S(jN,X$,r=>{var{typed:e,matrix:t,concat:n}=r,i=lt({typed:e,matrix:t,concat:n});return e(jN,Pf,i({elop:Pf,Ds:!0}))});var op="equal",Q$=["typed","matrix","equalScalar","DenseMatrix","concat"],Wy=S(op,Q$,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=rr({typed:e}),l=Rr({typed:e,DenseMatrix:i}),u=Rt({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:t,concat:a});return e(op,K$({typed:e,equalScalar:n}),s({elop:n,SS:l,DS:o,Ss:u}))}),K$=S(op,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(op,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:t(i,a)}})});var ZN="equalText",eH=["typed","compareText","isZero"],jy=S(ZN,eH,r=>{var{typed:e,compareText:t,isZero:n}=r;return e(ZN,{"any, any":function(a,o){return n(t(a,o))}})});var sp="smaller",tH=["typed","config","matrix","DenseMatrix","concat"],Zy=S(sp,tH,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=rr({typed:e}),l=Rr({typed:e,DenseMatrix:i}),u=Rt({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:n,concat:a}),c=di({typed:e});return e(sp,rH({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<p,"BigNumber, BigNumber":function(p,m){return p.lt(m)&&!Qr(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===-1,"Complex, Complex":function(p,m){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),rH=S(sp,["typed","config"],r=>{var{typed:e,config:t}=r;return e(sp,{"number, number":function(i,a){return i<a&&!Mr(i,a,t.epsilon)}})});var up="smallerEq",nH=["typed","config","matrix","DenseMatrix","concat"],Jy=S(up,nH,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=rr({typed:e}),l=Rr({typed:e,DenseMatrix:i}),u=Rt({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:n,concat:a}),c=di({typed:e});return e(up,iH({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<=p,"BigNumber, BigNumber":function(p,m){return p.lte(m)||Qr(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),iH=S(up,["typed","config"],r=>{var{typed:e,config:t}=r;return e(up,{"number, number":function(i,a){return i<=a||Mr(i,a,t.epsilon)}})});var lp="larger",aH=["typed","config","matrix","DenseMatrix","concat"],Yy=S(lp,aH,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=rr({typed:e}),l=Rr({typed:e,DenseMatrix:i}),u=Rt({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:n,concat:a}),c=di({typed:e});return e(lp,oH({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>p,"BigNumber, BigNumber":function(p,m){return p.gt(m)&&!Qr(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),oH=S(lp,["typed","config"],r=>{var{typed:e,config:t}=r;return e(lp,{"number, number":function(i,a){return i>a&&!Mr(i,a,t.epsilon)}})});var cp="largerEq",sH=["typed","config","matrix","DenseMatrix","concat"],Xy=S(cp,sH,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=rr({typed:e}),l=Rr({typed:e,DenseMatrix:i}),u=Rt({typed:e,DenseMatrix:i}),s=lt({typed:e,matrix:n,concat:a}),c=di({typed:e});return e(cp,uH({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>=p,"BigNumber, BigNumber":function(p,m){return p.gte(m)||Qr(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),uH=S(cp,["typed","config"],r=>{var{typed:e,config:t}=r;return e(cp,{"number, number":function(i,a){return i>=a||Mr(i,a,t.epsilon)}})});var JN="deepEqual",lH=["typed","equal"],Qy=S(JN,lH,r=>{var{typed:e,equal:t}=r;return e(JN,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var l=0;l<o;l++)if(!n(i[l],a[l]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:t(i,a)}});var fp="unequal",cH=["typed","config","equalScalar","matrix","DenseMatrix","concat"],Ky=S(fp,cH,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=r,l=rr({typed:e}),u=Rr({typed:e,DenseMatrix:a}),s=Rt({typed:e,DenseMatrix:a}),c=lt({typed:e,matrix:i,concat:o});return e(fp,fH({typed:e,equalScalar:n}),c({elop:f,SS:u,DS:l,Ss:s}));function f(p,m){return!n(p,m)}}),fH=S(fp,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(fp,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!t(i,a)}})});var YN="partitionSelect",pH=["typed","isNumeric","isNaN","compare"],e0=S(YN,pH,r=>{var{typed:e,isNumeric:t,isNaN:n,compare:i}=r,a=i,o=(s,c)=>-i(s,c);return e(YN,{"Array | Matrix, number":function(c,f){return l(c,f,a)},"Array | Matrix, number, string":function(c,f,p){if(p==="asc")return l(c,f,a);if(p==="desc")return l(c,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":l});function l(s,c,f){if(!ze(c)||c<0)throw new Error("k must be a non-negative integer");if(He(s)){var p=s.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return u(s.valueOf(),c,f)}if(Array.isArray(s))return u(s,c,f)}function u(s,c,f){if(c>=s.length)throw new Error("k out of bounds");for(var p=0;p<s.length;p++)if(t(s[p])&&n(s[p]))return s[p];for(var m=0,h=s.length-1;m<h;){for(var d=m,g=h,v=s[Math.floor(Math.random()*(h-m+1))+m];d<g;)if(f(s[d],v)>=0){var w=s[g];s[g]=s[d],s[d]=w,--g}else++d;f(s[d],v)>0&&--d,c<=d?h=d:m=d+1}return s[c]}});var XN="sort",mH=["typed","matrix","compare","compareNatural"],t0=S(XN,mH,r=>{var{typed:e,matrix:t,compare:n,compareNatural:i}=r,a=n,o=(c,f)=>-n(c,f);return e(XN,{Array:function(f){return u(f),f.sort(a)},Matrix:function(f){return s(f),t(f.toArray().sort(a),f.storage())},"Array, function":function(f,p){return u(f),f.sort(p)},"Matrix, function":function(f,p){return s(f),t(f.toArray().sort(p),f.storage())},"Array, string":function(f,p){return u(f),f.sort(l(p))},"Matrix, string":function(f,p){return s(f),t(f.toArray().sort(l(p)),f.storage())}});function l(c){if(c==="asc")return a;if(c==="desc")return o;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function u(c){if(et(c).length!==1)throw new Error("One dimensional array expected")}function s(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}});var QN="max",dH=["typed","config","numeric","larger"],pl=S(QN,dH,r=>{var{typed:e,config:t,numeric:n,larger:i}=r;return e(QN,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return Ja(u,s.valueOf(),a)},"...":function(u){if(mi(u))throw new TypeError("Scalar values expected in function max");return o(u)}});function a(l,u){try{return i(l,u)?l:u}catch(s){throw wr(s,"max",u)}}function o(l){var u;if(vn(l,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(c){throw wr(c,"max",s)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,t.number)),u}});var KN="min",hH=["typed","config","numeric","smaller"],ml=S(KN,hH,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r;return e(KN,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return Ja(u,s.valueOf(),a)},"...":function(u){if(mi(u))throw new TypeError("Scalar values expected in function min");return o(u)}});function a(l,u){try{return i(l,u)?l:u}catch(s){throw wr(s,"min",u)}}function o(l){var u;if(vn(l,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(c){throw wr(c,"min",s)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,t.number)),u}});var gH="ImmutableDenseMatrix",vH=["smaller","DenseMatrix"],r0=S(gH,vH,r=>{var{smaller:e,DenseMatrix:t}=r;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!xr(a))throw new Error("Invalid datatype: "+a);if(He(i)||Tt(i)){var o=new t(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Tt(i.data)&&Tt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+St(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new t,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=t.prototype.subset.call(this,i);return He(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:Ye(this._data),size:Ye(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var yH="Index",xH=["ImmutableDenseMatrix","getMatrixDataType"],n0=S(yH,xH,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=r;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,l=arguments.length;o<l;o++){var u=arguments[o],s=Tt(u),c=He(u),f=null;if(Os(u))this._dimensions.push(u),this._isScalar=!1;else if(s||c){var p=void 0;t(u)==="boolean"?(s&&(p=i(eM(u).valueOf())),c&&(p=i(eM(u._data).valueOf())),f=u.valueOf().length):p=i(u.valueOf()),this._dimensions.push(p);var m=p.size();(m.length!==1||m[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof u=="number")this._dimensions.push(i([u]));else if(typeof u=="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,l=a.length;o<l;o++)if(typeof a[o]!="number"||!ze(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=Ye(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?1:u.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.max()}return a},n.prototype.min=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.min()}return a},n.prototype.forEach=function(a){for(var o=0,l=this._dimensions.length;o<l;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a.push(typeof u=="string"?u:u.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];typeof u=="string"?a.push(JSON.stringify(u)):a.push(u.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function eM(r){var e=[];return r.forEach((t,n)=>{t&&e.push(n)}),e}var bH="FibonacciHeap",wH=["smaller","larger"],i0=S(bH,wH,r=>{var{smaller:e,larger:t}=r,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var p={key:c,value:f,degree:0};if(this._minimum){var m=this._minimum;p.left=m,p.right=m.right,m.right=p,p.right.left=p,e(c,m.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,p=c.degree,m=c.child;p>0;){var h=m.right;m.left.right=m.right,m.right.left=m.left,m.left=f,m.right=f.right,f.right=m,m.right.left=m,m.parent=null,m=h,p--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=s(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,f,p){f.key=p;var m=f.parent;return m&&e(f.key,m.key)&&(o(c,f,m),l(c,m)),e(f.key,c.key)&&(c=f),c}function o(c,f,p){f.left.right=f.right,f.right.left=f.left,p.degree--,p.child===f&&(p.child=f.right),p.degree===0&&(p.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function l(c,f){var p=f.parent;p&&(f.mark?(o(c,f,p),l(p)):f.mark=!0)}var u=function(f,p){f.left.right=f.right,f.right.left=f.left,f.parent=p,p.child?(f.left=p.child,f.right=p.child.right,p.child.right=f,f.right.left=f):(p.child=f,f.right=f,f.left=f),p.degree++,f.mark=!1};function s(c,f){var p=Math.floor(Math.log(f)*n)+1,m=new Array(p),h=0,d=c;if(d)for(h++,d=d.right;d!==c;)h++,d=d.right;for(var g;h>0;){for(var v=d.degree,w=d.right;g=m[v],!!g;){if(t(d.key,g.key)){var y=g;g=d,d=y}u(g,d),m[v]=null,v++}m[v]=d,d=w,h--}c=null;for(var x=0;x<p;x++)g=m[x],g&&(c?(g.left.right=g.right,g.right.left=g.left,g.left=c,g.right=c.right,c.right=g,g.right.left=g,e(g.key,c.key)&&(c=g)):c=g);return c}return i},{isClass:!0});var _H="Spa",AH=["addScalar","equalScalar","FibonacciHeap"],a0=S(_H,AH,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:n}=r;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var l=this._heap.insert(a,o);this._values[a]=l}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var l=this._values[a];l?l.value=e(l.value,o):(l=this._heap.insert(a,o),this._values[a]=l)},i.prototype.forEach=function(a,o,l){var u=this._heap,s=this._values,c=[],f=u.extractMinimum();for(f&&c.push(f);f&&f.key<=o;)f.key>=a&&(t(f.value,0)||l(f.key,f.value,this)),f=u.extractMinimum(),f&&c.push(f);for(var p=0;p<c.length;p++){var m=c[p];f=u.insert(m.key,m.value),s[f.key]=f}},i.prototype.swap=function(a,o){var l=this._values[a],u=this._values[o];if(!l&&u)l=this._heap.insert(a,u.value),this._heap.remove(u),this._values[a]=l,this._values[o]=void 0;else if(l&&!u)u=this._heap.insert(o,l.value),this._heap.remove(l),this._values[o]=u,this._values[a]=void 0;else if(l&&u){var s=l.value;l.value=u.value,u.value=s}},i},{isClass:!0});var tM=zo(function(r){return new r(1).exp()},{hasher:pp}),rM=zo(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:pp}),dl=zo(function(r){return r.acos(-1)},{hasher:pp}),nM=zo(function(r){return dl(r).times(2)},{hasher:pp});function pp(r){return r[0].precision}function iM(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function o0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(t),!0).forEach(function(n){kt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):iM(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var DH="Unit",EH=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],s0=S(DH,EH,r=>{var{on:e,config:t,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:l,abs:u,fix:s,round:c,equal:f,isNumeric:p,format:m,number:h,Complex:d,BigNumber:g,Fraction:v}=r,w=h;function y(U,G){if(!(this instanceof y))throw new Error("Constructor must be called with the new operator");if(!(U==null||p(U)||Sn(U)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,G===void 0)this.units=[],this.dimensions=V.map($=>0);else if(typeof G=="string"){var le=y.parse(G);this.units=le.units,this.dimensions=le.dimensions}else if(an(G)&&G.value===null)this.fixPrefix=G.fixPrefix,this.skipAutomaticSimplification=G.skipAutomaticSimplification,this.dimensions=G.dimensions.slice(0),this.units=G.units.map($=>mr({},$));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(U)}Object.defineProperty(y,"name",{value:"Unit"}),y.prototype.constructor=y,y.prototype.type="Unit",y.prototype.isUnit=!0;var x,_,b;function D(){for(;b===" "||b==="	";)E()}function C(U){return U>="0"&&U<="9"||U==="."}function A(U){return U>="0"&&U<="9"}function E(){_++,b=x.charAt(_)}function F(U){_=U,b=x.charAt(_)}function I(){var U="",G=_;if(b==="+"?E():b==="-"&&(U+=b,E()),!C(b))return F(G),null;if(b==="."){if(U+=b,E(),!A(b))return F(G),null}else{for(;A(b);)U+=b,E();b==="."&&(U+=b,E())}for(;A(b);)U+=b,E();if(b==="E"||b==="e"){var le="",$=_;if(le+=b,E(),(b==="+"||b==="-")&&(le+=b,E()),!A(b))return F($),U;for(U=U+le;A(b);)U+=b,E()}return U}function O(){for(var U="";A(b)||y.isValidAlpha(b);)U+=b,E();var G=U.charAt(0);return y.isValidAlpha(G)?U:null}function k(U){return b===U?(E(),U):null}y.parse=function(U,G){if(G=G||{},x=U,_=-1,b="",typeof x!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var le=new y;le.units=[];var $=1,Q=!1;E(),D();var re=I(),he=null;if(re){if(t.number==="BigNumber")he=new g(re);else if(t.number==="Fraction")try{he=new v(re)}catch(pe){he=parseFloat(re)}else he=parseFloat(re);D(),k("*")?($=1,Q=!0):k("/")&&($=-1,Q=!0)}for(var ye=[],Le=1;;){for(D();b==="(";)ye.push($),Le*=$,$=1,E(),D();var Ae=void 0;if(b){var ct=b;if(Ae=O(),Ae===null)throw new SyntaxError('Unexpected "'+ct+'" in "'+x+'" at index '+_.toString())}else break;var xt=R(Ae);if(xt===null)throw new SyntaxError('Unit "'+Ae+'" not found.');var Ut=$*Le;if(D(),k("^")){D();var Xt=I();if(Xt===null)throw new SyntaxError('In "'+U+'", "^" must be followed by a floating-point number');Ut*=Xt}le.units.push({unit:xt.unit,prefix:xt.prefix,power:Ut});for(var H=0;H<V.length;H++)le.dimensions[H]+=(xt.unit.dimensions[H]||0)*Ut;for(D();b===")";){if(ye.length===0)throw new SyntaxError('Unmatched ")" in "'+x+'" at index '+_.toString());Le/=ye.pop(),E(),D()}if(Q=!1,k("*")?($=1,Q=!0):k("/")?($=-1,Q=!0):$=1,xt.unit.base){var ne=xt.unit.base.key;ie.auto[ne]={unit:xt.unit,prefix:xt.prefix}}}if(D(),b)throw new SyntaxError('Could not parse: "'+U+'"');if(Q)throw new SyntaxError('Trailing characters: "'+U+'"');if(ye.length!==0)throw new SyntaxError('Unmatched "(" in "'+x+'"');if(le.units.length===0&&!G.allowNoUnits)throw new SyntaxError('"'+U+'" contains no units');return le.value=he!==void 0?le._normalize(he):null,le},y.prototype.clone=function(){var U=new y;U.fixPrefix=this.fixPrefix,U.skipAutomaticSimplification=this.skipAutomaticSimplification,U.value=Ye(this.value),U.dimensions=this.dimensions.slice(0),U.units=[];for(var G=0;G<this.units.length;G++){U.units[G]={};for(var le in this.units[G])je(this.units[G],le)&&(U.units[G][le]=this.units[G][le])}return U},y.prototype.valueType=function(){return St(this.value)},y.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},y.prototype._normalize=function(U){if(U==null||this.units.length===0)return U;for(var G=U,le=y._getNumberConverter(St(U)),$=0;$<this.units.length;$++){var Q=le(this.units[$].unit.value),re=le(this.units[$].prefix.value),he=le(this.units[$].power);G=a(G,l(a(Q,re),he))}return G},y.prototype._denormalize=function(U,G){if(U==null||this.units.length===0)return U;for(var le=U,$=y._getNumberConverter(St(U)),Q=0;Q<this.units.length;Q++){var re=$(this.units[Q].unit.value),he=$(this.units[Q].prefix.value),ye=$(this.units[Q].power);le=o(le,l(a(re,he),ye))}return le};var R=zo(U=>{if(je(P,U)){var G=P[U],le=G.prefixes[""];return{unit:G,prefix:le}}for(var $ in P)if(je(P,$)&&eC(U,$)){var Q=P[$],re=U.length-$.length,he=U.substring(0,re),ye=je(Q.prefixes,he)?Q.prefixes[he]:void 0;if(ye!==void 0)return{unit:Q,prefix:ye}}return null},{hasher:U=>U[0],limit:100});y.isValuelessUnit=function(U){return R(U)!==null},y.prototype.hasBase=function(U){if(typeof U=="string"&&(U=B[U]),!U)return!1;for(var G=0;G<V.length;G++)if(Math.abs((this.dimensions[G]||0)-(U.dimensions[G]||0))>1e-12)return!1;return!0},y.prototype.equalBase=function(U){for(var G=0;G<V.length;G++)if(Math.abs((this.dimensions[G]||0)-(U.dimensions[G]||0))>1e-12)return!1;return!0},y.prototype.equals=function(U){return this.equalBase(U)&&f(this.value,U.value)},y.prototype.multiply=function(U){for(var G=this.clone(),le=an(U)?U:new y(U),$=0;$<V.length;$++)G.dimensions[$]=(this.dimensions[$]||0)+(le.dimensions[$]||0);for(var Q=0;Q<le.units.length;Q++){var re=o0({},le.units[Q]);G.units.push(re)}if(this.value!==null||le.value!==null){var he=this.value===null?this._normalize(1):this.value,ye=le.value===null?le._normalize(1):le.value;G.value=a(he,ye)}else G.value=null;return an(U)&&(G.skipAutomaticSimplification=!1),T(G)},y.prototype.divideInto=function(U){return new y(U).divide(this)},y.prototype.divide=function(U){for(var G=this.clone(),le=an(U)?U:new y(U),$=0;$<V.length;$++)G.dimensions[$]=(this.dimensions[$]||0)-(le.dimensions[$]||0);for(var Q=0;Q<le.units.length;Q++){var re=o0(o0({},le.units[Q]),{},{power:-le.units[Q].power});G.units.push(re)}if(this.value!==null||le.value!==null){var he=this.value===null?this._normalize(1):this.value,ye=le.value===null?le._normalize(1):le.value;G.value=o(he,ye)}else G.value=null;return an(U)&&(G.skipAutomaticSimplification=!1),T(G)},y.prototype.pow=function(U){for(var G=this.clone(),le=0;le<V.length;le++)G.dimensions[le]=(this.dimensions[le]||0)*U;for(var $=0;$<G.units.length;$++)G.units[$].power*=U;return G.value!==null?G.value=l(G.value,U):G.value=null,G.skipAutomaticSimplification=!1,T(G)};function T(U){return U.equalBase(B.NONE)&&U.value!==null&&!t.predictable?U.value:U}y.prototype.abs=function(){var U=this.clone();if(U.value!==null)if(U._isDerived()||U.units[0].unit.offset===0)U.value=u(U.value);else{var G=U._numberConverter(),le=G(U.units[0].unit.value),$=G(U.units[0].unit.offset),Q=a(le,$);U.value=i(u(n(U.value,Q)),Q)}for(var re in U.units)(U.units[re].unit.name==="VA"||U.units[re].unit.name==="VAR")&&(U.units[re].unit=P.W);return U},y.prototype.to=function(U){var G=this.value===null?this._normalize(1):this.value,le;if(typeof U=="string")le=y.parse(U);else if(an(U))le=U.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(le))throw new Error("Units do not match ('".concat(le.toString(),"' != '").concat(this.toString(),"')"));if(le.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units[0].unit.offset===le.units[0].unit.offset)le.value=Ye(G);else{var $=y._getNumberConverter(St(G)),Q=this.units[0].unit.value,re=this.units[0].unit.offset,he=a(Q,re),ye=le.units[0].unit.value,Le=le.units[0].unit.offset,Ae=a(ye,Le);le.value=n(G,$(i(he,Ae)))}return le.fixPrefix=!0,le.skipAutomaticSimplification=!0,le},y.prototype.toNumber=function(U){return w(this.toNumeric(U))},y.prototype.toNumeric=function(U){var G;return U?G=this.to(U):G=this.clone(),G._isDerived()||G.units.length===0?G._denormalize(G.value):G._denormalize(G.value,G.units[0].prefix.value)},y.prototype.toString=function(){return this.format()},y.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},y.fromJSON=function(U){var G=new y(U.value,U.unit);return G.fixPrefix=U.fixPrefix||!1,G},y.prototype.valueOf=y.prototype.toString,y.prototype.simplify=function(){var U=this.clone(),G=[],le;for(var $ in oe)if(je(oe,$)&&U.hasBase(B[$])){le=$;break}if(le==="NONE")U.units=[];else{var Q;if(le&&je(oe,le)&&(Q=oe[le]),Q)U.units=[{unit:Q.unit,prefix:Q.prefix,power:1}];else{for(var re=!1,he=0;he<V.length;he++){var ye=V[he];Math.abs(U.dimensions[he]||0)>1e-12&&(je(oe,ye)?G.push({unit:oe[ye].unit,prefix:oe[ye].prefix,power:U.dimensions[he]||0}):re=!0)}G.length<U.units.length&&!re&&(U.units=G)}}return U},y.prototype.toSI=function(){for(var U=this.clone(),G=[],le=0;le<V.length;le++){var $=V[le];if(Math.abs(U.dimensions[le]||0)>1e-12)if(je(ie.si,$))G.push({unit:ie.si[$].unit,prefix:ie.si[$].prefix,power:U.dimensions[le]||0});else throw new Error("Cannot express custom unit "+$+" in SI units")}return U.units=G,U.fixPrefix=!0,U.skipAutomaticSimplification=!0,U},y.prototype.formatUnits=function(){for(var U="",G="",le=0,$=0,Q=0;Q<this.units.length;Q++)this.units[Q].power>0?(le++,U+=" "+this.units[Q].prefix.name+this.units[Q].unit.name,Math.abs(this.units[Q].power-1)>1e-15&&(U+="^"+this.units[Q].power)):this.units[Q].power<0&&$++;if($>0)for(var re=0;re<this.units.length;re++)this.units[re].power<0&&(le>0?(G+=" "+this.units[re].prefix.name+this.units[re].unit.name,Math.abs(this.units[re].power+1)>1e-15&&(G+="^"+-this.units[re].power)):(G+=" "+this.units[re].prefix.name+this.units[re].unit.name,G+="^"+this.units[re].power));U=U.substr(1),G=G.substr(1),le>1&&$>0&&(U="("+U+")"),$>1&&le>0&&(G="("+G+")");var he=U;return le>0&&$>0&&(he+=" / "),he+=G,he},y.prototype.format=function(U){var G=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),le=!1;typeof G.value!="undefined"&&G.value!==null&&Sn(G.value)&&(le=Math.abs(G.value.re)<1e-14);for(var $ in G.units)je(G.units,$)&&G.units[$].unit&&(G.units[$].unit.name==="VA"&&le?G.units[$].unit=P.VAR:G.units[$].unit.name==="VAR"&&!le&&(G.units[$].unit=P.VA));G.units.length===1&&!G.fixPrefix&&Math.abs(G.units[0].power-Math.round(G.units[0].power))<1e-14&&(G.units[0].prefix=G._bestPrefix());var Q=G._denormalize(G.value),re=G.value!==null?m(Q,U||{}):"",he=G.formatUnits();return G.value&&Sn(G.value)&&(re="("+re+")"),he.length>0&&re.length>0&&(re+=" "),re+=he,re},y.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var U=this.value!==null?u(this.value):0,G=u(this.units[0].unit.value),le=this.units[0].prefix;if(U===0)return le;var $=this.units[0].power,Q=Math.log(U/Math.pow(le.value*G,$))/Math.LN10-1.2;if(Q>-2.200001&&Q<1.800001)return le;Q=Math.abs(Q);var re=this.units[0].unit.prefixes;for(var he in re)if(je(re,he)){var ye=re[he];if(ye.scientific){var Le=Math.abs(Math.log(U/Math.pow(ye.value*G,$))/Math.LN10-1.2);(Le<Q||Le===Q&&ye.name.length<le.name.length)&&(le=ye,Q=Le)}}return le},y.prototype.splitUnit=function(U){for(var G=this.clone(),le=[],$=0;$<U.length&&(G=G.to(U[$]),$!==U.length-1);$++){var Q=G.toNumeric(),re=c(Q),he=void 0,ye=f(re,Q);ye?he=re:he=s(G.toNumeric());var Le=new y(he,U[$].toString());le.push(Le),G=i(G,Le)}for(var Ae=0,ct=0;ct<le.length;ct++)Ae=n(Ae,le[ct].value);return f(Ae,this.value)&&(G.value=0),le.push(G),le};var N={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};N.SHORTLONG=mr({},N.SHORT,N.LONG),N.BINARY_SHORT=mr({},N.BINARY_SHORT_SI,N.BINARY_SHORT_IEC),N.BINARY_LONG=mr({},N.BINARY_LONG_SI,N.BINARY_LONG_IEC);var V=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],B={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var X in B)je(B,X)&&(B[X].key=X);var ee={},W={name:"",base:ee,value:1,offset:0,dimensions:V.map(U=>0)},P={meter:{name:"meter",base:B.LENGTH,prefixes:N.LONG,value:1,offset:0},inch:{name:"inch",base:B.LENGTH,prefixes:N.NONE,value:.0254,offset:0},foot:{name:"foot",base:B.LENGTH,prefixes:N.NONE,value:.3048,offset:0},yard:{name:"yard",base:B.LENGTH,prefixes:N.NONE,value:.9144,offset:0},mile:{name:"mile",base:B.LENGTH,prefixes:N.NONE,value:1609.344,offset:0},link:{name:"link",base:B.LENGTH,prefixes:N.NONE,value:.201168,offset:0},rod:{name:"rod",base:B.LENGTH,prefixes:N.NONE,value:5.0292,offset:0},chain:{name:"chain",base:B.LENGTH,prefixes:N.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:B.LENGTH,prefixes:N.NONE,value:1e-10,offset:0},m:{name:"m",base:B.LENGTH,prefixes:N.SHORT,value:1,offset:0},in:{name:"in",base:B.LENGTH,prefixes:N.NONE,value:.0254,offset:0},ft:{name:"ft",base:B.LENGTH,prefixes:N.NONE,value:.3048,offset:0},yd:{name:"yd",base:B.LENGTH,prefixes:N.NONE,value:.9144,offset:0},mi:{name:"mi",base:B.LENGTH,prefixes:N.NONE,value:1609.344,offset:0},li:{name:"li",base:B.LENGTH,prefixes:N.NONE,value:.201168,offset:0},rd:{name:"rd",base:B.LENGTH,prefixes:N.NONE,value:5.02921,offset:0},ch:{name:"ch",base:B.LENGTH,prefixes:N.NONE,value:20.1168,offset:0},mil:{name:"mil",base:B.LENGTH,prefixes:N.NONE,value:254e-7,offset:0},m2:{name:"m2",base:B.SURFACE,prefixes:N.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:B.SURFACE,prefixes:N.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:B.SURFACE,prefixes:N.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:B.SURFACE,prefixes:N.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:B.SURFACE,prefixes:N.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:B.SURFACE,prefixes:N.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:B.SURFACE,prefixes:N.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:B.SURFACE,prefixes:N.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:B.SURFACE,prefixes:N.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:B.SURFACE,prefixes:N.NONE,value:1e4,offset:0},m3:{name:"m3",base:B.VOLUME,prefixes:N.CUBIC,value:1,offset:0},L:{name:"L",base:B.VOLUME,prefixes:N.SHORT,value:.001,offset:0},l:{name:"l",base:B.VOLUME,prefixes:N.SHORT,value:.001,offset:0},litre:{name:"litre",base:B.VOLUME,prefixes:N.LONG,value:.001,offset:0},cuin:{name:"cuin",base:B.VOLUME,prefixes:N.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:B.VOLUME,prefixes:N.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:B.VOLUME,prefixes:N.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:B.VOLUME,prefixes:N.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:B.VOLUME,prefixes:N.NONE,value:15e-6,offset:0},drop:{name:"drop",base:B.VOLUME,prefixes:N.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:B.VOLUME,prefixes:N.NONE,value:5e-8,offset:0},minim:{name:"minim",base:B.VOLUME,prefixes:N.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:B.VOLUME,prefixes:N.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:B.VOLUME,prefixes:N.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:B.VOLUME,prefixes:N.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:B.VOLUME,prefixes:N.NONE,value:1e-6,offset:0},cup:{name:"cup",base:B.VOLUME,prefixes:N.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:B.VOLUME,prefixes:N.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:B.VOLUME,prefixes:N.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:B.VOLUME,prefixes:N.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:B.VOLUME,prefixes:N.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:B.VOLUME,prefixes:N.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:B.VOLUME,prefixes:N.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:B.VOLUME,prefixes:N.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:B.VOLUME,prefixes:N.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:B.VOLUME,prefixes:N.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:B.VOLUME,prefixes:N.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:B.VOLUME,prefixes:N.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:B.VOLUME,prefixes:N.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:B.VOLUME,prefixes:N.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:B.VOLUME,prefixes:N.NONE,value:.1173478,offset:0},obl:{name:"obl",base:B.VOLUME,prefixes:N.NONE,value:.1589873,offset:0},g:{name:"g",base:B.MASS,prefixes:N.SHORT,value:.001,offset:0},gram:{name:"gram",base:B.MASS,prefixes:N.LONG,value:.001,offset:0},ton:{name:"ton",base:B.MASS,prefixes:N.SHORT,value:907.18474,offset:0},t:{name:"t",base:B.MASS,prefixes:N.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:B.MASS,prefixes:N.LONG,value:1e3,offset:0},grain:{name:"grain",base:B.MASS,prefixes:N.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:B.MASS,prefixes:N.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:B.MASS,prefixes:N.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:B.MASS,prefixes:N.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:B.MASS,prefixes:N.NONE,value:45.359237,offset:0},stick:{name:"stick",base:B.MASS,prefixes:N.NONE,value:.115,offset:0},stone:{name:"stone",base:B.MASS,prefixes:N.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:B.MASS,prefixes:N.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:B.MASS,prefixes:N.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:B.MASS,prefixes:N.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:B.MASS,prefixes:N.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:B.MASS,prefixes:N.NONE,value:45.359237,offset:0},s:{name:"s",base:B.TIME,prefixes:N.SHORT,value:1,offset:0},min:{name:"min",base:B.TIME,prefixes:N.NONE,value:60,offset:0},h:{name:"h",base:B.TIME,prefixes:N.NONE,value:3600,offset:0},second:{name:"second",base:B.TIME,prefixes:N.LONG,value:1,offset:0},sec:{name:"sec",base:B.TIME,prefixes:N.LONG,value:1,offset:0},minute:{name:"minute",base:B.TIME,prefixes:N.NONE,value:60,offset:0},hour:{name:"hour",base:B.TIME,prefixes:N.NONE,value:3600,offset:0},day:{name:"day",base:B.TIME,prefixes:N.NONE,value:86400,offset:0},week:{name:"week",base:B.TIME,prefixes:N.NONE,value:7*86400,offset:0},month:{name:"month",base:B.TIME,prefixes:N.NONE,value:2629800,offset:0},year:{name:"year",base:B.TIME,prefixes:N.NONE,value:31557600,offset:0},decade:{name:"decade",base:B.TIME,prefixes:N.NONE,value:315576e3,offset:0},century:{name:"century",base:B.TIME,prefixes:N.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:B.TIME,prefixes:N.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:B.FREQUENCY,prefixes:N.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:B.FREQUENCY,prefixes:N.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:B.ANGLE,prefixes:N.SHORT,value:1,offset:0},radian:{name:"radian",base:B.ANGLE,prefixes:N.LONG,value:1,offset:0},deg:{name:"deg",base:B.ANGLE,prefixes:N.SHORT,value:null,offset:0},degree:{name:"degree",base:B.ANGLE,prefixes:N.LONG,value:null,offset:0},grad:{name:"grad",base:B.ANGLE,prefixes:N.SHORT,value:null,offset:0},gradian:{name:"gradian",base:B.ANGLE,prefixes:N.LONG,value:null,offset:0},cycle:{name:"cycle",base:B.ANGLE,prefixes:N.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:B.ANGLE,prefixes:N.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:B.ANGLE,prefixes:N.NONE,value:null,offset:0},A:{name:"A",base:B.CURRENT,prefixes:N.SHORT,value:1,offset:0},ampere:{name:"ampere",base:B.CURRENT,prefixes:N.LONG,value:1,offset:0},K:{name:"K",base:B.TEMPERATURE,prefixes:N.SHORT,value:1,offset:0},degC:{name:"degC",base:B.TEMPERATURE,prefixes:N.SHORT,value:1,offset:273.15},degF:{name:"degF",base:B.TEMPERATURE,prefixes:N.SHORT,value:new v(5,9),offset:459.67},degR:{name:"degR",base:B.TEMPERATURE,prefixes:N.SHORT,value:new v(5,9),offset:0},kelvin:{name:"kelvin",base:B.TEMPERATURE,prefixes:N.LONG,value:1,offset:0},celsius:{name:"celsius",base:B.TEMPERATURE,prefixes:N.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:B.TEMPERATURE,prefixes:N.LONG,value:new v(5,9),offset:459.67},rankine:{name:"rankine",base:B.TEMPERATURE,prefixes:N.LONG,value:new v(5,9),offset:0},mol:{name:"mol",base:B.AMOUNT_OF_SUBSTANCE,prefixes:N.SHORT,value:1,offset:0},mole:{name:"mole",base:B.AMOUNT_OF_SUBSTANCE,prefixes:N.LONG,value:1,offset:0},cd:{name:"cd",base:B.LUMINOUS_INTENSITY,prefixes:N.SHORT,value:1,offset:0},candela:{name:"candela",base:B.LUMINOUS_INTENSITY,prefixes:N.LONG,value:1,offset:0},N:{name:"N",base:B.FORCE,prefixes:N.SHORT,value:1,offset:0},newton:{name:"newton",base:B.FORCE,prefixes:N.LONG,value:1,offset:0},dyn:{name:"dyn",base:B.FORCE,prefixes:N.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:B.FORCE,prefixes:N.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:B.FORCE,prefixes:N.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:B.FORCE,prefixes:N.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:B.FORCE,prefixes:N.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:B.FORCE,prefixes:N.NONE,value:9.80665,offset:0},J:{name:"J",base:B.ENERGY,prefixes:N.SHORT,value:1,offset:0},joule:{name:"joule",base:B.ENERGY,prefixes:N.LONG,value:1,offset:0},erg:{name:"erg",base:B.ENERGY,prefixes:N.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:B.ENERGY,prefixes:N.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:B.ENERGY,prefixes:N.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:B.ENERGY,prefixes:N.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:B.ENERGY,prefixes:N.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:B.POWER,prefixes:N.SHORT,value:1,offset:0},watt:{name:"watt",base:B.POWER,prefixes:N.LONG,value:1,offset:0},hp:{name:"hp",base:B.POWER,prefixes:N.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:B.POWER,prefixes:N.SHORT,value:d.I,offset:0},VA:{name:"VA",base:B.POWER,prefixes:N.SHORT,value:1,offset:0},Pa:{name:"Pa",base:B.PRESSURE,prefixes:N.SHORT,value:1,offset:0},psi:{name:"psi",base:B.PRESSURE,prefixes:N.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:B.PRESSURE,prefixes:N.NONE,value:101325,offset:0},bar:{name:"bar",base:B.PRESSURE,prefixes:N.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:B.PRESSURE,prefixes:N.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:B.PRESSURE,prefixes:N.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:B.PRESSURE,prefixes:N.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:B.PRESSURE,prefixes:N.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:B.ELECTRIC_CHARGE,prefixes:N.LONG,value:1,offset:0},C:{name:"C",base:B.ELECTRIC_CHARGE,prefixes:N.SHORT,value:1,offset:0},farad:{name:"farad",base:B.ELECTRIC_CAPACITANCE,prefixes:N.LONG,value:1,offset:0},F:{name:"F",base:B.ELECTRIC_CAPACITANCE,prefixes:N.SHORT,value:1,offset:0},volt:{name:"volt",base:B.ELECTRIC_POTENTIAL,prefixes:N.LONG,value:1,offset:0},V:{name:"V",base:B.ELECTRIC_POTENTIAL,prefixes:N.SHORT,value:1,offset:0},ohm:{name:"ohm",base:B.ELECTRIC_RESISTANCE,prefixes:N.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:B.ELECTRIC_INDUCTANCE,prefixes:N.LONG,value:1,offset:0},H:{name:"H",base:B.ELECTRIC_INDUCTANCE,prefixes:N.SHORT,value:1,offset:0},siemens:{name:"siemens",base:B.ELECTRIC_CONDUCTANCE,prefixes:N.LONG,value:1,offset:0},S:{name:"S",base:B.ELECTRIC_CONDUCTANCE,prefixes:N.SHORT,value:1,offset:0},weber:{name:"weber",base:B.MAGNETIC_FLUX,prefixes:N.LONG,value:1,offset:0},Wb:{name:"Wb",base:B.MAGNETIC_FLUX,prefixes:N.SHORT,value:1,offset:0},tesla:{name:"tesla",base:B.MAGNETIC_FLUX_DENSITY,prefixes:N.LONG,value:1,offset:0},T:{name:"T",base:B.MAGNETIC_FLUX_DENSITY,prefixes:N.SHORT,value:1,offset:0},b:{name:"b",base:B.BIT,prefixes:N.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:B.BIT,prefixes:N.BINARY_LONG,value:1,offset:0},B:{name:"B",base:B.BIT,prefixes:N.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:B.BIT,prefixes:N.BINARY_LONG,value:8,offset:0}},K={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ve(U){if(U.number==="BigNumber"){var G=dl(g);P.rad.value=new g(1),P.deg.value=G.div(180),P.grad.value=G.div(200),P.cycle.value=G.times(2),P.arcsec.value=G.div(648e3),P.arcmin.value=G.div(10800)}else P.rad.value=1,P.deg.value=Math.PI/180,P.grad.value=Math.PI/200,P.cycle.value=Math.PI*2,P.arcsec.value=Math.PI/648e3,P.arcmin.value=Math.PI/10800;P.radian.value=P.rad.value,P.degree.value=P.deg.value,P.gradian.value=P.grad.value}ve(t),e&&e("config",function(U,G){U.number!==G.number&&ve(U)});var ie={si:{NONE:{unit:W,prefix:N.NONE[""]},LENGTH:{unit:P.m,prefix:N.SHORT[""]},MASS:{unit:P.g,prefix:N.SHORT.k},TIME:{unit:P.s,prefix:N.SHORT[""]},CURRENT:{unit:P.A,prefix:N.SHORT[""]},TEMPERATURE:{unit:P.K,prefix:N.SHORT[""]},LUMINOUS_INTENSITY:{unit:P.cd,prefix:N.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:P.mol,prefix:N.SHORT[""]},ANGLE:{unit:P.rad,prefix:N.SHORT[""]},BIT:{unit:P.bits,prefix:N.SHORT[""]},FORCE:{unit:P.N,prefix:N.SHORT[""]},ENERGY:{unit:P.J,prefix:N.SHORT[""]},POWER:{unit:P.W,prefix:N.SHORT[""]},PRESSURE:{unit:P.Pa,prefix:N.SHORT[""]},ELECTRIC_CHARGE:{unit:P.C,prefix:N.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:P.F,prefix:N.SHORT[""]},ELECTRIC_POTENTIAL:{unit:P.V,prefix:N.SHORT[""]},ELECTRIC_RESISTANCE:{unit:P.ohm,prefix:N.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:P.H,prefix:N.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:P.S,prefix:N.SHORT[""]},MAGNETIC_FLUX:{unit:P.Wb,prefix:N.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:P.T,prefix:N.SHORT[""]},FREQUENCY:{unit:P.Hz,prefix:N.SHORT[""]}}};ie.cgs=JSON.parse(JSON.stringify(ie.si)),ie.cgs.LENGTH={unit:P.m,prefix:N.SHORT.c},ie.cgs.MASS={unit:P.g,prefix:N.SHORT[""]},ie.cgs.FORCE={unit:P.dyn,prefix:N.SHORT[""]},ie.cgs.ENERGY={unit:P.erg,prefix:N.NONE[""]},ie.us=JSON.parse(JSON.stringify(ie.si)),ie.us.LENGTH={unit:P.ft,prefix:N.NONE[""]},ie.us.MASS={unit:P.lbm,prefix:N.NONE[""]},ie.us.TEMPERATURE={unit:P.degF,prefix:N.NONE[""]},ie.us.FORCE={unit:P.lbf,prefix:N.NONE[""]},ie.us.ENERGY={unit:P.BTU,prefix:N.BTU[""]},ie.us.POWER={unit:P.hp,prefix:N.NONE[""]},ie.us.PRESSURE={unit:P.psi,prefix:N.NONE[""]},ie.auto=JSON.parse(JSON.stringify(ie.si));var oe=ie.auto;y.setUnitSystem=function(U){if(je(ie,U))oe=ie[U];else throw new Error("Unit system "+U+" does not exist. Choices are: "+Object.keys(ie).join(", "))},y.getUnitSystem=function(){for(var U in ie)if(je(ie,U)&&ie[U]===oe)return U},y.typeConverters={BigNumber:function(G){return G!=null&&G.isFraction?new g(G.n).div(G.d).times(G.s):new g(G+"")},Fraction:function(G){return new v(G)},Complex:function(G){return G},number:function(G){return G!=null&&G.isFraction?h(G):G}},y.prototype._numberConverter=function(){var U=y.typeConverters[this.valueType()];if(U)return U;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},y._getNumberConverter=function(U){if(!y.typeConverters[U])throw new TypeError('Unsupported type "'+U+'"');return y.typeConverters[U]};for(var ge in P)if(je(P,ge)){var ue=P[ge];ue.dimensions=ue.base.dimensions}for(var ce in K)if(je(K,ce)){var me=P[K[ce]],de={};for(var Be in me)je(me,Be)&&(de[Be]=me[Be]);de.name=ce,P[ce]=de}y.isValidAlpha=function(G){return/^[a-zA-Z]$/.test(G)};function we(U){for(var G=0;G<U.length;G++){if(b=U.charAt(G),G===0&&!y.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+U+'"');if(G>0&&!(y.isValidAlpha(b)||A(b)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+U+'"')}}return y.createUnit=function(U,G){if(typeof U!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(G&&G.override){for(var le in U)if(je(U,le)&&y.deleteUnit(le),U[le].aliases)for(var $=0;$<U[le].aliases.length;$++)y.deleteUnit(U[le].aliases[$])}var Q;for(var re in U)je(U,re)&&(Q=y.createUnitSingle(re,U[re]));return Q},y.createUnitSingle=function(U,G){if((typeof G=="undefined"||G===null)&&(G={}),typeof U!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(je(P,U))throw new Error('Cannot create unit "'+U+'": a unit with that name already exists');we(U);var le=null,$=[],Q=0,re,he,ye;if(G&&G.type==="Unit")le=G.clone();else if(typeof G=="string")G!==""&&(re=G);else if(typeof G=="object")re=G.definition,he=G.prefixes,Q=G.offset,ye=G.baseName,G.aliases&&($=G.aliases.valueOf());else throw new TypeError('Cannot create unit "'+U+'" from "'+G.toString()+'": expecting "string" or "Unit" or "Object"');if($){for(var Le=0;Le<$.length;Le++)if(je(P,$[Le]))throw new Error('Cannot create alias "'+$[Le]+'": a unit with that name already exists')}if(re&&typeof re=="string"&&!le)try{le=y.parse(re,{allowNoUnits:!0})}catch(M){throw M.message='Could not create unit "'+U+'" from "'+re+'": '+M.message,M}else re&&re.type==="Unit"&&(le=re.clone());$=$||[],Q=Q||0,he&&he.toUpperCase?he=N[he.toUpperCase()]||N.NONE:he=N.NONE;var Ae={};if(le){Ae={name:U,value:le.value,dimensions:le.dimensions.slice(0),prefixes:he,offset:Q};var Xt=!1;for(var H in B)if(je(B,H)){for(var ne=!0,pe=0;pe<V.length;pe++)if(Math.abs((Ae.dimensions[pe]||0)-(B[H].dimensions[pe]||0))>1e-12){ne=!1;break}if(ne){Xt=!0,Ae.base=B[H];break}}if(!Xt){ye=ye||U+"_STUFF";var _e={dimensions:le.dimensions.slice(0)};_e.key=ye,B[ye]=_e,oe[ye]={unit:Ae,prefix:N.NONE[""]},Ae.base=B[ye]}}else{if(ye=ye||U+"_STUFF",V.indexOf(ye)>=0)throw new Error('Cannot create new base unit "'+U+'": a base unit with that name already exists (and cannot be overridden)');V.push(ye);for(var ct in B)je(B,ct)&&(B[ct].dimensions[V.length-1]=0);for(var xt={dimensions:[]},Ut=0;Ut<V.length;Ut++)xt.dimensions[Ut]=0;xt.dimensions[V.length-1]=1,xt.key=ye,B[ye]=xt,Ae={name:U,value:1,dimensions:B[ye].dimensions.slice(0),prefixes:he,offset:Q,base:B[ye]},oe[ye]={unit:Ae,prefix:N.NONE[""]}}y.UNITS[U]=Ae;for(var Ne=0;Ne<$.length;Ne++){var De=$[Ne],Ce={};for(var Pe in Ae)je(Ae,Pe)&&(Ce[Pe]=Ae[Pe]);Ce.name=De,y.UNITS[De]=Ce}return delete R.cache,new y(null,U)},y.deleteUnit=function(U){delete y.UNITS[U]},y.PREFIXES=N,y.BASE_DIMENSIONS=V,y.BASE_UNITS=B,y.UNIT_SYSTEMS=ie,y.UNITS=P,y},{isClass:!0});var aM="unit",CH=["typed","Unit"],u0=S(aM,CH,r=>{var{typed:e,Unit:t}=r;return e(aM,{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new t(i,a)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var oM="sparse",SH=["typed","SparseMatrix"],l0=S(oM,SH,r=>{var{typed:e,SparseMatrix:t}=r;return e(oM,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,a){return new t(i,a)}})});var sM="createUnit",NH=["typed","Unit"],c0=S(sM,NH,r=>{var{typed:e,Unit:t}=r;return e(sM,{"Object, Object":function(i,a){return t.createUnit(i,a)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var l={};return l[i]=a,t.createUnit(l,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,t.createUnit(o,{})},string:function(i){var a={};return a[i]={},t.createUnit(a,{})}})});var uM="acos",MH=["typed","config","Complex"],f0=S(uM,MH,r=>{var{typed:e,config:t,Complex:n}=r;return e(uM,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var lM="acosh",TH=["typed","config","Complex"],p0=S(lM,TH,r=>{var{typed:e,config:t,Complex:n}=r;return e(lM,{number:function(a){return a>=1||t.predictable?_g(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var cM="acot",FH=["typed","BigNumber"],m0=S(cM,FH,r=>{var{typed:e,BigNumber:t}=r;return e(cM,{number:Ag,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})});var fM="acoth",IH=["typed","config","Complex","BigNumber"],d0=S(fM,IH,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(fM,{number:function(o){return o>=1||o<=-1||t.predictable?Dg(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var pM="acsc",BH=["typed","config","Complex","BigNumber"],h0=S(pM,BH,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(pM,{number:function(o){return o<=-1||o>=1||t.predictable?Eg(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var mM="acsch",OH=["typed","BigNumber"],g0=S(mM,OH,r=>{var{typed:e,BigNumber:t}=r;return e(mM,{number:Cg,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})});var dM="asec",PH=["typed","config","Complex","BigNumber"],v0=S(dM,PH,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(dM,{number:function(o){return o<=-1||o>=1||t.predictable?Sg(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var hM="asech",RH=["typed","config","Complex","BigNumber"],y0=S(hM,RH,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(hM,{number:function(o){if(o<=1&&o>=-1||t.predictable){var l=1/o;if(l>0||t.predictable)return Ng(o);var u=Math.sqrt(l*l-1);return new n(Math.log(u-l),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var gM="asin",kH=["typed","config","Complex"],x0=S(gM,kH,r=>{var{typed:e,config:t,Complex:n}=r;return e(gM,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var LH="asinh",VH=["typed"],b0=S(LH,VH,r=>{var{typed:e}=r;return e("asinh",{number:Mg,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var UH="atan",qH=["typed"],w0=S(UH,qH,r=>{var{typed:e}=r;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var vM="atan2",zH=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],_0=S(vM,zH,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=r,l=Fr({typed:e,equalScalar:n}),u=rr({typed:e}),s=ep({typed:e,equalScalar:n}),c=Ht({typed:e,equalScalar:n}),f=Rt({typed:e,DenseMatrix:a}),p=lt({typed:e,matrix:t,concat:o});return e(vM,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,h)=>i.atan2(m,h)},p({scalar:"number | BigNumber",SS:s,DS:u,SD:l,Ss:c,sS:f}))});var yM="atanh",$H=["typed","config","Complex"],A0=S(yM,$H,r=>{var{typed:e,config:t,Complex:n}=r;return e(yM,{number:function(a){return a<=1&&a>=-1||t.predictable?Tg(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var gi=S("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,n.valueType())(n.value)})}});var xM="cos",HH=["typed"],D0=S(xM,HH,r=>{var{typed:e}=r,t=gi({typed:e});return e(xM,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},t)});var bM="cosh",GH=["typed"],E0=S(bM,GH,r=>{var{typed:e}=r;return e(bM,{number:Bf,"Complex | BigNumber":t=>t.cosh()})});var wM="cot",WH=["typed","BigNumber"],C0=S(wM,WH,r=>{var{typed:e,BigNumber:t}=r,n=gi({typed:e});return e(wM,{number:Fg,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},n)});var _M="coth",jH=["typed","BigNumber"],S0=S(_M,jH,r=>{var{typed:e,BigNumber:t}=r;return e(_M,{number:Ig,Complex:n=>n.coth(),BigNumber:n=>new t(1).div(n.tanh())})});var AM="csc",ZH=["typed","BigNumber"],N0=S(AM,ZH,r=>{var{typed:e,BigNumber:t}=r,n=gi({typed:e});return e(AM,{number:Bg,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},n)});var DM="csch",JH=["typed","BigNumber"],M0=S(DM,JH,r=>{var{typed:e,BigNumber:t}=r;return e(DM,{number:Og,Complex:n=>n.csch(),BigNumber:n=>new t(1).div(n.sinh())})});var EM="sec",YH=["typed","BigNumber"],T0=S(EM,YH,r=>{var{typed:e,BigNumber:t}=r,n=gi({typed:e});return e(EM,{number:Pg,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},n)});var CM="sech",XH=["typed","BigNumber"],F0=S(CM,XH,r=>{var{typed:e,BigNumber:t}=r;return e(CM,{number:Rg,Complex:n=>n.sech(),BigNumber:n=>new t(1).div(n.cosh())})});var SM="sin",QH=["typed"],I0=S(SM,QH,r=>{var{typed:e}=r,t=gi({typed:e});return e(SM,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},t)});var NM="sinh",KH=["typed"],B0=S(NM,KH,r=>{var{typed:e}=r;return e(NM,{number:kg,"Complex | BigNumber":t=>t.sinh()})});var MM="tan",eG=["typed"],O0=S(MM,eG,r=>{var{typed:e}=r,t=gi({typed:e});return e(MM,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},t)});var tG="tanh",rG=["typed"],P0=S(tG,rG,r=>{var{typed:e}=r;return e("tanh",{number:Of,"Complex | BigNumber":t=>t.tanh()})});var TM="setCartesian",nG=["typed","size","subset","compareNatural","Index","DenseMatrix"],R0=S(TM,nG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(TM,{"Array | Matrix, Array | Matrix":function(u,s){var c=[];if(n(t(u),new a(0))!==0&&n(t(s),new a(0))!==0){var f=pt(Array.isArray(u)?u:u.toArray()).sort(i),p=pt(Array.isArray(s)?s:s.toArray()).sort(i);c=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)c.push([f[m],p[h]])}return Array.isArray(u)&&Array.isArray(s)?c:new o(c)}})});var FM="setDifference",iG=["typed","size","subset","compareNatural","Index","DenseMatrix"],k0=S(FM,iG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(FM,{"Array | Matrix, Array | Matrix":function(u,s){var c;if(n(t(u),new a(0))===0)c=[];else{if(n(t(s),new a(0))===0)return pt(u.toArray());var f=ma(pt(Array.isArray(u)?u:u.toArray()).sort(i)),p=ma(pt(Array.isArray(s)?s:s.toArray()).sort(i));c=[];for(var m,h=0;h<f.length;h++){m=!1;for(var d=0;d<p.length;d++)if(i(f[h].value,p[d].value)===0&&f[h].identifier===p[d].identifier){m=!0;break}m||c.push(f[h])}}return Array.isArray(u)&&Array.isArray(s)?Ls(c):new o(Ls(c))}})});var IM="setDistinct",aG=["typed","size","subset","compareNatural","Index","DenseMatrix"],L0=S(IM,aG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(IM,{"Array | Matrix":function(u){var s;if(n(t(u),new a(0))===0)s=[];else{var c=pt(Array.isArray(u)?u:u.toArray()).sort(i);s=[],s.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&s.push(c[f])}return Array.isArray(u)?s:new o(s)}})});var BM="setIntersect",oG=["typed","size","subset","compareNatural","Index","DenseMatrix"],V0=S(BM,oG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(BM,{"Array | Matrix, Array | Matrix":function(u,s){var c;if(n(t(u),new a(0))===0||n(t(s),new a(0))===0)c=[];else{var f=ma(pt(Array.isArray(u)?u:u.toArray()).sort(i)),p=ma(pt(Array.isArray(s)?s:s.toArray()).sort(i));c=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)if(i(f[m].value,p[h].value)===0&&f[m].identifier===p[h].identifier){c.push(f[m]);break}}return Array.isArray(u)&&Array.isArray(s)?Ls(c):new o(Ls(c))}})});var OM="setIsSubset",sG=["typed","size","subset","compareNatural","Index"],U0=S(OM,sG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(OM,{"Array | Matrix, Array | Matrix":function(l,u){if(n(t(l),new a(0))===0)return!0;if(n(t(u),new a(0))===0)return!1;for(var s=ma(pt(Array.isArray(l)?l:l.toArray()).sort(i)),c=ma(pt(Array.isArray(u)?u:u.toArray()).sort(i)),f,p=0;p<s.length;p++){f=!1;for(var m=0;m<c.length;m++)if(i(s[p].value,c[m].value)===0&&s[p].identifier===c[m].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var PM="setMultiplicity",uG=["typed","size","subset","compareNatural","Index"],q0=S(PM,uG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(PM,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(l,u){if(n(t(u),new a(0))===0)return 0;for(var s=pt(Array.isArray(u)?u:u.toArray()),c=0,f=0;f<s.length;f++)i(s[f],l)===0&&c++;return c}})});var RM="setPowerset",lG=["typed","size","subset","compareNatural","Index"],z0=S(RM,lG,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(RM,{"Array | Matrix":function(s){if(n(t(s),new a(0))===0)return[];for(var c=pt(Array.isArray(s)?s:s.toArray()).sort(i),f=[],p=0;p.toString(2).length<=c.length;)f.push(o(c,p.toString(2).split("").reverse())),p++;return l(f)}});function o(u,s){for(var c=[],f=0;f<s.length;f++)s[f]==="1"&&c.push(u[f]);return c}function l(u){for(var s=[],c=u.length-1;c>0;c--)for(var f=0;f<c;f++)u[f].length>u[f+1].length&&(s=u[f],u[f]=u[f+1],u[f+1]=s);return u}});var kM="setSize",cG=["typed","compareNatural"],$0=S(kM,cG,r=>{var{typed:e,compareNatural:t}=r;return e(kM,{"Array | Matrix":function(i){return Array.isArray(i)?pt(i).length:pt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?pt(i).length:pt(i.toArray()).length;for(var o=pt(Array.isArray(i)?i:i.toArray()).sort(t),l=1,u=1;u<o.length;u++)t(o[u],o[u-1])!==0&&l++;return l}})});var LM="setSymDifference",fG=["typed","size","concat","subset","setDifference","Index"],H0=S(LM,fG,r=>{var{typed:e,size:t,concat:n,subset:i,setDifference:a,Index:o}=r;return e(LM,{"Array | Matrix, Array | Matrix":function(u,s){if(i(t(u),new o(0))===0)return pt(s);if(i(t(s),new o(0))===0)return pt(u);var c=pt(u),f=pt(s);return n(a(c,f),a(f,c))}})});var VM="setUnion",pG=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],G0=S(VM,pG,r=>{var{typed:e,size:t,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:l}=r;return e(VM,{"Array | Matrix, Array | Matrix":function(s,c){if(i(t(s),new l(0))===0)return pt(c);if(i(t(c),new l(0))===0)return pt(s);var f=pt(s),p=pt(c);return n(o(f,p),a(f,p))}})});var UM="add",mG=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],W0=S(UM,mG,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:l}=r,u=yn({typed:e}),s=$s({typed:e,equalScalar:i}),c=Ln({typed:e,DenseMatrix:a}),f=lt({typed:e,matrix:t,concat:l});return e(UM,{"any, any":n,"any, any, ...any":e.referToSelf(p=>(m,h,d)=>{for(var g=p(m,h),v=0;v<d.length;v++)g=p(g,d[v]);return g})},f({elop:n,DS:u,SS:s,Ss:c}))});var qM="hypot",dG=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],j0=S(qM,dG,r=>{var{typed:e,abs:t,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:l,isPositive:u}=r;return e(qM,{"... number | BigNumber":s,Array:s,Matrix:c=>s(pt(c.toArray()))});function s(c){for(var f=0,p=0,m=0;m<c.length;m++){if(Sn(c[m]))throw new TypeError("Unexpected type of argument to hypot");var h=t(c[m]);l(p,h)?(f=a(f,a(i(p,h),i(p,h))),f=n(f,1),p=h):f=n(f,u(h)?a(i(h,p),i(h,p)):h)}return a(p,o(f))}});var zM="norm",hG=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Z0=S(zM,hG,r=>{var{typed:e,abs:t,add:n,pow:i,conj:a,sqrt:o,multiply:l,equalScalar:u,larger:s,smaller:c,matrix:f,ctranspose:p,eigs:m}=r;return e(zM,{number:Math.abs,Complex:function(C){return C.abs()},BigNumber:function(C){return C.abs()},boolean:function(C){return Math.abs(C)},Array:function(C){return b(f(C),2)},Matrix:function(C){return b(C,2)},"Array, number | BigNumber | string":function(C,A){return b(f(C),A)},"Matrix, number | BigNumber | string":function(C,A){return b(C,A)}});function h(D){var C=0;return D.forEach(function(A){var E=t(A);s(E,C)&&(C=E)},!0),C}function d(D){var C;return D.forEach(function(A){var E=t(A);(!C||c(E,C))&&(C=E)},!0),C||0}function g(D,C){if(C===Number.POSITIVE_INFINITY||C==="inf")return h(D);if(C===Number.NEGATIVE_INFINITY||C==="-inf")return d(D);if(C==="fro")return b(D,2);if(typeof C=="number"&&!isNaN(C)){if(!u(C,0)){var A=0;return D.forEach(function(E){A=n(i(t(E),C),A)},!0),i(A,1/C)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function v(D){var C=0;return D.forEach(function(A,E){C=n(C,l(A,a(A)))}),t(o(C))}function w(D){var C=[],A=0;return D.forEach(function(E,F){var I=F[1],O=n(C[I]||0,t(E));s(O,A)&&(A=O),C[I]=O},!0),A}function y(D){var C=D.size();if(C[0]!==C[1])throw new RangeError("Invalid matrix dimensions");var A=p(D),E=l(A,D),F=m(E).values.toArray(),I=F[F.length-1];return t(o(I))}function x(D){var C=[],A=0;return D.forEach(function(E,F){var I=F[0],O=n(C[I]||0,t(E));s(O,A)&&(A=O),C[I]=O},!0),A}function _(D,C){if(C===1)return w(D);if(C===Number.POSITIVE_INFINITY||C==="inf")return x(D);if(C==="fro")return v(D);if(C===2)return y(D);throw new Error("Unsupported parameter value "+C)}function b(D,C){var A=D.size();if(A.length===1)return g(D,C);if(A.length===2){if(A[0]&&A[1])return _(D,C);throw new RangeError("Invalid matrix dimensions")}}});var $M="dot",gG=["typed","addScalar","multiplyScalar","conj","size"],J0=S($M,gG,r=>{var{typed:e,addScalar:t,multiplyScalar:n,conj:i,size:a}=r;return e($M,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":u});function o(c,f){var p=s(c),m=s(f),h,d;if(p.length===1)h=p[0];else if(p.length===2&&p[1]===1)h=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)d=m[0];else if(m.length===2&&m[1]===1)d=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(h!==d)throw new RangeError("Vectors must have equal length ("+h+" != "+d+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function l(c,f){var p=o(c,f),m=He(c)?c._data:c,h=He(c)?c._datatype:void 0,d=He(f)?f._data:f,g=He(f)?f._datatype:void 0,v=s(c).length===2,w=s(f).length===2,y=t,x=n;if(h&&g&&h===g&&typeof h=="string"){var _=h;y=e.find(t,[_,_]),x=e.find(n,[_,_])}if(!v&&!w){for(var b=x(i(m[0]),d[0]),D=1;D<p;D++)b=y(b,x(i(m[D]),d[D]));return b}if(!v&&w){for(var C=x(i(m[0]),d[0][0]),A=1;A<p;A++)C=y(C,x(i(m[A]),d[A][0]));return C}if(v&&!w){for(var E=x(i(m[0][0]),d[0]),F=1;F<p;F++)E=y(E,x(i(m[F][0]),d[F]));return E}if(v&&w){for(var I=x(i(m[0][0]),d[0][0]),O=1;O<p;O++)I=y(I,x(i(m[O][0]),d[O][0]));return I}}function u(c,f){o(c,f);for(var p=c._index,m=c._values,h=f._index,d=f._values,g=0,v=t,w=n,y=0,x=0;y<p.length&&x<h.length;){var _=p[y],b=h[x];if(_<b){y++;continue}if(_>b){x++;continue}_===b&&(g=v(g,w(m[y],d[x])),y++,x++)}return g}function s(c){return He(c)?c.size():a(c)}});var vG="trace",yG=["typed","matrix","add"],Y0=S(vG,yG,r=>{var{typed:e,matrix:t,add:n}=r;return e("trace",{Array:function(l){return i(t(l))},SparseMatrix:a,DenseMatrix:i,any:Ye});function i(o){var l=o._size,u=o._data;switch(l.length){case 1:if(l[0]===1)return Ye(u[0]);throw new RangeError("Matrix must be square (size: "+it(l)+")");case 2:{var s=l[0],c=l[1];if(s===c){for(var f=0,p=0;p<s;p++)f=n(f,u[p][p]);return f}else throw new RangeError("Matrix must be square (size: "+it(l)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+it(l)+")")}}function a(o){var l=o._values,u=o._index,s=o._ptr,c=o._size,f=c[0],p=c[1];if(f===p){var m=0;if(l.length>0)for(var h=0;h<p;h++)for(var d=s[h],g=s[h+1],v=d;v<g;v++){var w=u[v];if(w===h){m=n(m,l[v]);break}if(w>h)break}return m}throw new RangeError("Matrix must be square (size: "+it(c)+")")}});var HM="index",xG=["typed","Index"],X0=S(HM,xG,r=>{var{typed:e,Index:t}=r;return e(HM,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(l){return tt(l)?l.toNumber():Tt(l)||He(l)?l.map(function(u){return tt(u)?u.toNumber():u}):l}),o=new t;return t.apply(o,a),o}})});var mp=new Set(["end"]);var bG="Node",wG=["mathWithTransform"],Q0=S(bG,wG,r=>{var{mathWithTransform:e}=r;function t(i){for(var a of[...mp])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},l=null;function u(s){var c=da(s);return t(c),a(c,o,l)}return{evaluate:u}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!At(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(l,u){l.forEach(function(s,c,f){u(s,c,f),o(s,u)})}o(this,a)}transform(a){function o(l,u,s){var c=a(l,u,s);return c!==l?c:l.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(l,u,s){a(l,u,s)&&o.push(l)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&Si(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toHTML(a)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function nr(r){return r&&r.isIndexError?new un(r.index+1,r.min+1,r.max!==void 0?r.max+1:void 0):r}function dp(r){var{subset:e}=r;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return dr(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw nr(a)}}}var hp="AccessorNode",_G=["subset","Node"],K0=S(hp,_G,r=>{var{subset:e,Node:t}=r,n=dp({subset:e});function i(o){return!(Kn(o)||on(o)||bt(o)||Nn(o)||za(o)||sn(o)||Qt(o))}class a extends t{constructor(l,u){if(super(),!At(l))throw new TypeError('Node expected for parameter "object"');if(!fi(u))throw new TypeError('IndexNode expected for parameter "index"');this.object=l,this.index=u}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return hp}get isAccessorNode(){return!0}_compile(l,u){var s=this.object._compile(l,u),c=this.index._compile(l,u);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(m,h,d){return dr(s(m,h,d),f)}}else return function(m,h,d){var g=s(m,h,d),v=c(m,h,g);return n(g,v)}}forEach(l){l(this.object,"object",this),l(this.index,"index",this)}map(l){return new a(this._ifNode(l(this.object,"object",this)),this._ifNode(l(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(l){var u=this.object.toString(l);return i(this.object)&&(u="("+u+")"),u+this.index.toString(l)}_toHTML(l){var u=this.object.toHTML(l);return i(this.object)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+this.index.toHTML(l)}_toTex(l){var u=this.object.toTex(l);return i(this.object)&&(u="\\left(' + object + '\\right)"),u+this.index.toTex(l)}toJSON(){return{mathjs:hp,object:this.object,index:this.index}}static fromJSON(l){return new a(l.object,l.index)}}return kt(a,"name",hp),a},{isClass:!0,isNode:!0});var gp="ArrayNode",AG=["Node"],ex=S(gp,AG,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(At))throw new TypeError("Array containing Nodes expected")}get type(){return gp}get isArrayNode(){return!0}_compile(i,a){var o=Pn(this.items,function(s){return s._compile(i,a)}),l=i.config.matrix!=="Array";if(l){var u=i.matrix;return function(c,f,p){return u(Pn(o,function(m){return m(c,f,p)}))}}else return function(c,f,p){return Pn(o,function(m){return m(c,f,p)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:gp,items:this.items}}static fromJSON(i){return new t(i.items)}_toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,l){var u=o.some(on)&&!o.every(on),s=l||u,c=s?"&":"\\\\",f=o.map(function(p){return p.items?a(p.items,!l):p.toTex(i)}).join(c);return u||!s||s&&!l?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return kt(t,"name",gp),t},{isClass:!0,isNode:!0});function GM(r){var{subset:e,matrix:t}=r;return function(i,a,o){try{if(Array.isArray(i)){var l=t(i).subset(a,o).valueOf();return l.forEach((u,s)=>{i[s]=u}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return zi(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(u){throw nr(u)}}}var vi=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function vp(r,e){if(!e||e!=="auto")return r;for(var t=r;sn(t);)t=t.content;return t}function zt(r,e,t,n){var i=r;e!=="keep"&&(i=r.getContent());for(var a=i.getIdentifier(),o=null,l=0;l<vi.length;l++)if(a in vi[l]){o=l;break}if(a==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var u=vp(i.args[0],e);!(bt(u)&&n&&n.getIdentifier()==="OperatorNode:divide"&&qu(vp(n.args[0],e)))&&!(u.getIdentifier()==="OperatorNode:divide"&&qu(vp(u.args[0],e))&&bt(vp(u.args[1])))&&(o+=1)}return o}function Ys(r,e){var t=r;e!=="keep"&&(t=r.getContent());var n=t.getIdentifier(),i=zt(t,e);if(i===null)return null;var a=vi[i][n];if(je(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function yp(r,e,t){var n=t!=="keep"?r.getContent():r,i=t!=="keep"?r.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),l=zt(n,t);if(l===null)return null;var u=vi[l][a];if(je(u,"associativeWith")&&u.associativeWith instanceof Array){for(var s=0;s<u.associativeWith.length;s++)if(u.associativeWith[s]===o)return!0;return!1}return null}function WM(r){var e="OperatorNode:"+r;for(var t of vi)if(e in t)return t[e].op;return null}var xp="AssignmentNode",DG=["subset","?matrix","Node"],tx=S(xp,DG,r=>{var{subset:e,matrix:t,Node:n}=r,i=dp({subset:e}),a=GM({subset:e,matrix:t});function o(u,s,c){s||(s="keep");var f=zt(u,s,c),p=zt(u.value,s,c);return s==="all"||p!==null&&p<=f}class l extends n{constructor(s,c,f){if(super(),this.object=s,this.index=f?c:null,this.value=f||c,!Qt(s)&&!Kn(s))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Qt(s)&&s.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!fi(this.index))throw new TypeError('IndexNode expected as "index"');if(!At(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return xp}get isAssignmentNode(){return!0}_compile(s,c){var f=this.object._compile(s,c),p=this.index?this.index._compile(s,c):null,m=this.value._compile(s,c),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(x,_,b){var D=f(x,_,b),C=m(x,_,b);return zi(D,d,C),C}}else{if(Qt(this.object))return function(x,_,b){var D=f(x,_,b),C=m(x,_,b),A=p(x,_,D);return x.set(h,a(D,A,C)),C};var g=this.object.object._compile(s,c);if(this.object.index.isObjectProperty()){var v=this.object.index.getObjectProperty();return function(x,_,b){var D=g(x,_,b),C=dr(D,v),A=p(x,_,C),E=m(x,_,b);return zi(D,v,a(C,A,E)),E}}else{var w=this.object.index._compile(s,c);return function(x,_,b){var D=g(x,_,b),C=w(x,_,D),A=i(D,C),E=p(x,_,A),F=m(x,_,b);return a(D,C,a(A,E,F)),F}}}else{if(!Qt(this.object))throw new TypeError("SymbolNode expected as object");return function(x,_,b){var D=m(x,_,b);return x.set(h,D),D}}}forEach(s){s(this.object,"object",this),this.index&&s(this.index,"index",this),s(this.value,"value",this)}map(s){var c=this._ifNode(s(this.object,"object",this)),f=this.index?this._ifNode(s(this.index,"index",this)):null,p=this._ifNode(s(this.value,"value",this));return new l(c,f,p)}clone(){return new l(this.object,this.index,this.value)}_toString(s){var c=this.object.toString(s),f=this.index?this.index.toString(s):"",p=this.value.toString(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p="("+p+")"),c+f+" = "+p}toJSON(){return{mathjs:xp,object:this.object,index:this.index,value:this.value}}static fromJSON(s){return new l(s.object,s.index,s.value)}_toHTML(s){var c=this.object.toHTML(s),f=this.index?this.index.toHTML(s):"",p=this.value.toHTML(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(s){var c=this.object.toTex(s),f=this.index?this.index.toTex(s):"",p=this.value.toTex(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p="\\left(".concat(p,"\\right)")),c+f+"="+p}}return kt(l,"name",xp),l},{isClass:!0,isNode:!0});var bp="BlockNode",EG=["ResultSet","Node"],rx=S(bp,EG,r=>{var{ResultSet:e,Node:t}=r;class n extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var l=o&&o.node,u=o&&o.visible!==void 0?o.visible:!0;if(!At(l))throw new TypeError('Property "node" must be a Node');if(typeof u!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:l,visible:u}})}get type(){return bp}get isBlockNode(){return!0}_compile(a,o){var l=Pn(this.blocks,function(u){return{evaluate:u.node._compile(a,o),visible:u.visible}});return function(s,c,f){var p=[];return $a(l,function(h){var d=h.evaluate(s,c,f);h.visible&&p.push(d)}),new e(p)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],l=0;l<this.blocks.length;l++){var u=this.blocks[l],s=this._ifNode(a(u.node,"blocks["+l+"].node",this));o[l]={node:s,visible:u.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:bp,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}_toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return kt(n,"name",bp),n},{isClass:!0,isNode:!0});var wp="ConditionalNode",CG=["Node"],nx=S(wp,CG,r=>{var{Node:e}=r;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(tt(i))return!i.isZero();if(Sn(i))return!!(i.re||i.im);if(an(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+St(i)+'"')}class n extends e{constructor(a,o,l){if(super(),!At(a))throw new TypeError("Parameter condition must be a Node");if(!At(o))throw new TypeError("Parameter trueExpr must be a Node");if(!At(l))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=l}get type(){return wp}get isConditionalNode(){return!0}_compile(a,o){var l=this.condition._compile(a,o),u=this.trueExpr._compile(a,o),s=this.falseExpr._compile(a,o);return function(f,p,m){return t(l(f,p,m))?u(f,p,m):s(f,p,m)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=zt(this,o,a&&a.implicit),u=this.condition.toString(a),s=zt(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=l)&&(u="("+u+")");var c=this.trueExpr.toString(a),f=zt(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=l)&&(c="("+c+")");var p=this.falseExpr.toString(a),m=zt(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=l)&&(p="("+p+")"),u+" ? "+c+" : "+p}toJSON(){return{mathjs:wp,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=zt(this,o,a&&a.implicit),u=this.condition.toHTML(a),s=zt(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=l)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),f=zt(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=l)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(a),m=zt(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=l)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return kt(n,"name",wp),n},{isClass:!0,isNode:!0});var YM=gr(ZM(),1);var ax={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Lt={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},ox={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Lt.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Lt.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Lt.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Lt.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Lt.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Lt.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Lt.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Lt.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Lt.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Lt.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Lt.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Lt.bitAnd,"${args[1]}\\right)")},bitNot:{1:Lt.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Lt.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Lt.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Lt.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Lt.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Lt.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Lt.and,"${args[1]}\\right)")},not:{1:Lt.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Lt.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Lt.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Lt.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Lt.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Lt.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Lt.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Lt.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Lt.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Lt.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Lt.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Lt.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Lt.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Lt.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(ax.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},XM="\\mathrm{${name}}\\left(${args}\\right)",JM={deg:"^\\circ"};function _p(r){return(0,YM.default)(r,{preserveFormatting:!0})}function Ap(r,e){return e=typeof e=="undefined"?!1:e,e?je(JM,r)?JM[r]:"\\mathrm{"+_p(r)+"}":je(ax,r)?ax[r]:_p(r)}var Dp="ConstantNode",TG=["Node"],sx=S(Dp,TG,r=>{var{Node:e}=r;class t extends e{constructor(i){super(),this.value=i}get type(){return Dp}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return it(this.value,i)}_toHTML(i){var a=this._toString(i);switch(St(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:Dp,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var a=this._toString(i);switch(St(this.value)){case"string":return"\\mathtt{"+_p(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}}}return kt(t,"name",Dp),t},{isClass:!0,isNode:!0});var Ep="FunctionAssignmentNode",FG=["typed","Node"],ux=S(Ep,FG,r=>{var{typed:e,Node:t}=r;function n(a,o,l){var u=zt(a,o,l),s=zt(a.expr,o,l);return o==="all"||s!==null&&s<=u}class i extends t{constructor(o,l,u){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(l))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!At(u))throw new TypeError('Node expected for parameter "expr"');if(mp.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var s=new Set;for(var c of l){var f=typeof c=="string"?c:c.name;if(s.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));s.add(f)}this.name=o,this.params=l.map(function(p){return p&&p.name||p}),this.types=l.map(function(p){return p&&p.type||"any"}),this.expr=u}get type(){return Ep}get isFunctionAssignmentNode(){return!0}_compile(o,l){var u=Object.create(l);$a(this.params,function(h){u[h]=!0});var s=this.expr._compile(o,u),c=this.name,f=this.params,p=yh(this.types,","),m=c+"("+yh(this.params,", ")+")";return function(d,g,v){var w={};w[p]=function(){for(var x=Object.create(g),_=0;_<f.length;_++)x[f[_]]=arguments[_];return s(d,x,v)};var y=e(c,w);return y.syntax=m,d.set(c,y),y}}forEach(o){o(this.expr,"expr",this)}map(o){var l=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),l)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toString(o);return n(this,l,o&&o.implicit)&&(u="("+u+")"),this.name+"("+this.params.join(", ")+") = "+u}toJSON(){var o=this.types;return{mathjs:Ep,name:this.name,params:this.params.map(function(l,u){return{name:l,type:o[u]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}_toHTML(o){for(var l=o&&o.parenthesis?o.parenthesis:"keep",u=[],s=0;s<this.params.length;s++)u.push('<span class="math-symbol math-parameter">'+$r(this.params[s])+"</span>");var c=this.expr.toHTML(o);return n(this,l,o&&o.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+$r(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toTex(o);return n(this,l,o&&o.implicit)&&(u="\\left(".concat(u,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(Ap).join(",")+"\\right)="+u}}return kt(i,"name",Ep),i},{isClass:!0,isNode:!0});var Cp="IndexNode",IG=["Node","size"],lx=S(Cp,IG,r=>{var{Node:e,size:t}=r;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(At))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Cp}get isIndexNode(){return!0}_compile(a,o){var l=Pn(this.dimensions,function(s,c){var f=s.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var p=Object.create(o);p.end=!0;var m=s._compile(a,p);return function(d,g,v){if(!He(v)&&!Tt(v)&&!xr(v))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+St(v));var w=t(v).valueOf(),y=Object.create(g);return y.end=w[c],m(d,y,v)}}else return s._compile(a,o)}),u=dr(a,"index");return function(c,f,p){var m=Pn(l,function(h){return h(c,f,p)});return u(...m)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],l=0;l<this.dimensions.length;l++)o[l]=this._ifNode(a(this.dimensions[l],"dimensions["+l+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&bt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Cp,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}_toHTML(a){for(var o=[],l=0;l<this.dimensions.length;l++)o[l]=this.dimensions[l].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+$r(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(l){return l.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return kt(n,"name",Cp),n},{isClass:!0,isNode:!0});var Sp="ObjectNode",BG=["Node"],cx=S(Sp,BG,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return At(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return Sp}get isObjectNode(){return!0}_compile(i,a){var o={};for(var l in this.properties)if(je(this.properties,l)){var u=Vo(l),s=JSON.parse(u),c=dr(this.properties,l);o[s]=c._compile(i,a)}return function(p,m,h){var d={};for(var g in o)je(o,g)&&(d[g]=o[g](p,m,h));return d}}forEach(i){for(var a in this.properties)je(this.properties,a)&&i(this.properties[a],"properties["+Vo(a)+"]",this)}map(i){var a={};for(var o in this.properties)je(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+Vo(o)+"]",this)));return new t(a)}clone(){var i={};for(var a in this.properties)je(this.properties,a)&&(i[a]=this.properties[a]);return new t(i)}_toString(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push(Vo(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:Sp,properties:this.properties}}static fromJSON(i){return new t(i.properties)}_toHTML(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push('<span class="math-symbol math-property">'+$r(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var l="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return l}}return kt(t,"name",Sp),t},{isClass:!0,isNode:!0});var Np="OperatorNode",OG=["Node"],fx=S(Np,OG,r=>{var{Node:e}=r;function t(a,o){var l=a;if(o==="auto")for(;sn(l);)l=l.content;return bt(l)?!0:cr(l)?t(l.args[0],o):!1}function n(a,o,l,u,s){var c=zt(a,o,l),f=Ys(a,o);if(o==="all"||u.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return u.map(function(E){switch(E.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(u.length){case 0:p=[];break;case 1:{var m=zt(u[0],o,l,a);if(s&&m!==null){var h,d;if(o==="keep"?(h=u[0].getIdentifier(),d=a.getIdentifier()):(h=u[0].getContent().getIdentifier(),d=a.getContent().getIdentifier()),vi[c][d].latexLeftParens===!1){p=[!1];break}if(vi[m][h].latexParens===!1){p=[!1];break}}if(m===null){p=[!1];break}if(m<=c){p=[!0];break}p=[!1]}break;case 2:{var g,v=zt(u[0],o,l,a),w=yp(a,u[0],o);v===null?g=!1:v===c&&f==="right"&&!w||v<c?g=!0:g=!1;var y,x=zt(u[1],o,l,a),_=yp(a,u[1],o);if(x===null?y=!1:x===c&&f==="left"&&!_||x<c?y=!0:y=!1,s){var b,D,C;o==="keep"?(b=a.getIdentifier(),D=a.args[0].getIdentifier(),C=a.args[1].getIdentifier()):(b=a.getContent().getIdentifier(),D=a.args[0].getContent().getIdentifier(),C=a.args[1].getContent().getIdentifier()),v!==null&&(vi[c][b].latexLeftParens===!1&&(g=!1),vi[v][D].latexParens===!1&&(g=!1)),x!==null&&(vi[c][b].latexRightParens===!1&&(y=!1),vi[x][C].latexParens===!1&&(y=!1))}p=[g,y]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(p=u.map(function(E){var F=zt(E,o,l,a),I=yp(a,E,o),O=Ys(E,o);return F===null?!1:c===F&&f===O&&!I?!0:F<c}));break}if(u.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&l==="hide")for(var A=1;A<p.length;++A)t(u[A],o)&&!p[A-1]&&(o!=="keep"||!sn(u[A-1]))&&(p[A]=!0);return p}class i extends e{constructor(o,l,u,s,c){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof l!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(u)||!u.every(At))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=s===!0,this.isPercentage=c===!0,this.op=o,this.fn=l,this.args=u||[]}get type(){return Np}get isOperatorNode(){return!0}_compile(o,l){if(typeof this.fn!="string"||!Lf(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var u=dr(o,this.fn),s=Pn(this.args,function(h){return h._compile(o,l)});if(typeof u=="function"&&u.rawArgs===!0){var c=this.args;return function(d,g,v){return u(c,o,d)}}else if(s.length===1){var f=s[0];return function(d,g,v){return u(f(d,g,v))}}else if(s.length===2){var p=s[0],m=s[1];return function(d,g,v){return u(p(d,g,v),m(d,g,v))}}else return function(d,g,v){return u.apply(null,Pn(s,function(w){return w(d,g,v)}))}}forEach(o){for(var l=0;l<this.args.length;l++)o(this.args[l],"args["+l+"]",this)}map(o){for(var l=[],u=0;u<this.args.length;u++)l[u]=this._ifNode(o(this.args[u],"args["+u+"]",this));return new i(this.op,this.fn,l,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!1);if(s.length===1){var f=Ys(this,l),p=s[0].toString(o);c[0]&&(p="("+p+")");var m=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(m?" ":"")+p:f==="left"?p+(m?" ":"")+this.op:p+this.op}else if(s.length===2){var h=s[0].toString(o),d=s[1].toString(o);return c[0]&&(h="("+h+")"),c[1]&&(d="("+d+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?h+" "+d:h+" "+this.op+" "+d}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=s.map(function(v,w){return v=v.toString(o),c[w]&&(v="("+v+")"),v});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?g.join(" "):g.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Np,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!1);if(s.length===1){var f=Ys(this,l),p=s[0].toHTML(o);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+$r(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+$r(this.op)+"</span>"}else if(s.length===2){var m=s[0].toHTML(o),h=s[1].toHTML(o);return c[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$r(this.op)+"</span>"+h}else{var d=s.map(function(g,v){return g=g.toHTML(o),c[v]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$r(this.op)+"</span>"):'<span class="math-function">'+$r(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!0),f=Lt[this.fn];if(f=typeof f=="undefined"?this.op:f,s.length===1){var p=Ys(this,l),m=s[0].toTex(o);return c[0]&&(m="\\left(".concat(m,"\\right)")),p==="right"?f+m:m+f}else if(s.length===2){var h=s[0],d=h.toTex(o);c[0]&&(d="\\left(".concat(d,"\\right)"));var g=s[1],v=g.toTex(o);c[1]&&(v="\\left(".concat(v,"\\right)"));var w;switch(l==="keep"?w=h.getIdentifier():w=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+d+"}{"+v+"}";case"OperatorNode:pow":switch(d="{"+d+"}",v="{"+v+"}",w){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&u==="hide")return d+"~"+v}return d+f+v}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var y=s.map(function(x,_){return x=x.toTex(o),c[_]&&(x="\\left(".concat(x,"\\right)")),x});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&u==="hide"?y.join("~"):y.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+s.map(function(x){return x.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return kt(i,"name",Np),i},{isClass:!0,isNode:!0});var Mp="ParenthesisNode",PG=["Node"],px=S(Mp,PG,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),!At(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return Mp}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:Mp,content:this.content}}static fromJSON(i){return new t(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return kt(t,"name",Mp),t},{isClass:!0,isNode:!0});var Tp="RangeNode",RG=["Node"],mx=S(Tp,RG,r=>{var{Node:e}=r;function t(i,a,o){var l=zt(i,a,o),u={},s=zt(i.start,a,o);if(u.start=s!==null&&s<=l||a==="all",i.step){var c=zt(i.step,a,o);u.step=c!==null&&c<=l||a==="all"}var f=zt(i.end,a,o);return u.end=f!==null&&f<=l||a==="all",u}class n extends e{constructor(a,o,l){if(super(),!At(a))throw new TypeError("Node expected");if(!At(o))throw new TypeError("Node expected");if(l&&!At(l))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=l||null}get type(){return Tp}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return Qt(o)&&o.name==="end"});return a.length>0}_compile(a,o){var l=a.range,u=this.start._compile(a,o),s=this.end._compile(a,o);if(this.step){var c=this.step._compile(a,o);return function(p,m,h){return l(u(p,m,h),s(p,m,h),c(p,m,h))}}else return function(p,m,h){return l(u(p,m,h),s(p,m,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),u,s=this.start.toString(a);if(l.start&&(s="("+s+")"),u=s,this.step){var c=this.step.toString(a);l.step&&(c="("+c+")"),u+=":"+c}var f=this.end.toString(a);return l.end&&(f="("+f+")"),u+=":"+f,u}toJSON(){return{mathjs:Tp,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),u,s=this.start.toHTML(a);if(l.start&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u=s,this.step){var c=this.step.toHTML(a);l.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(a);return l.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+f,u}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),u=this.start.toTex(a);if(l.start&&(u="\\left(".concat(u,"\\right)")),this.step){var s=this.step.toTex(a);l.step&&(s="\\left(".concat(s,"\\right)")),u+=":"+s}var c=this.end.toTex(a);return l.end&&(c="\\left(".concat(c,"\\right)")),u+=":"+c,u}}return kt(n,"name",Tp),n},{isClass:!0,isNode:!0});var Fp="RelationalNode",kG=["Node"],dx=S(Fp,kG,r=>{var{Node:e}=r,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return Fp}get isRelationalNode(){return!0}_compile(a,o){var l=this,u=this.params.map(s=>s._compile(a,o));return function(c,f,p){for(var m,h=u[0](c,f,p),d=0;d<l.conditionals.length;d++){m=h,h=u[d+1](c,f,p);var g=dr(a,l.conditionals[d]);if(!g(m,h))return!1}return!0}}forEach(a){this.params.forEach((o,l)=>a(o,"params["+l+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,l)=>this._ifNode(a(o,"params["+l+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=zt(this,o,a&&a.implicit),u=this.params.map(function(f,p){var m=zt(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=l?"("+f.toString(a)+")":f.toString(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+=" "+t[this.conditionals[c]],s+=" "+u[c+1];return s}toJSON(){return{mathjs:Fp,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=zt(this,o,a&&a.implicit),u=this.params.map(function(f,p){var m=zt(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=l?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+$r(t[this.conditionals[c]])+"</span>"+u[c+1];return s}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=zt(this,o,a&&a.implicit),u=this.params.map(function(f,p){var m=zt(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=l?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+=Lt[this.conditionals[c]]+u[c+1];return s}}return kt(n,"name",Fp),n},{isClass:!0,isNode:!0});var LG="SymbolNode",VG=["math","?Unit","Node"],hx=S(LG,VG,r=>{var{math:e,Unit:t,Node:n}=r;function i(o){return t?t.isValuelessUnit(o):!1}class a extends n{constructor(l){if(super(),typeof l!="string")throw new TypeError('String expected for parameter "name"');this.name=l}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(l,u){var s=this.name;if(u[s]===!0)return function(f,p,m){return dr(p,s)};if(s in l)return function(f,p,m){return f.has(s)?f.get(s):dr(l,s)};var c=i(s);return function(f,p,m){return f.has(s)?f.get(s):c?new t(null,s):a.onUndefinedSymbol(s)}}forEach(l){}map(l){return this.clone()}static onUndefinedSymbol(l){throw new Error("Undefined symbol "+l)}clone(){return new a(this.name)}_toString(l){return this.name}_toHTML(l){var u=$r(this.name);return u==="true"||u==="false"?'<span class="math-symbol math-boolean">'+u+"</span>":u==="i"?'<span class="math-symbol math-imaginary-symbol">'+u+"</span>":u==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+u+"</span>":u==="NaN"?'<span class="math-symbol math-nan-symbol">'+u+"</span>":u==="null"?'<span class="math-symbol math-null-symbol">'+u+"</span>":u==="undefined"?'<span class="math-symbol math-undefined-symbol">'+u+"</span>":'<span class="math-symbol">'+u+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(l){return new a(l.name)}_toTex(l){var u=!1;typeof e[this.name]=="undefined"&&i(this.name)&&(u=!0);var s=Ap(this.name,u);return s[0]==="\\"?s:" "+s}}return a},{isClass:!0,isNode:!0});function Wo(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return typeof r.createSubScope=="function"?wh(r.createSubScope(),...t):wh($i(),r,...t)}var Ip="FunctionNode",UG=["math","Node","SymbolNode"],gx=S(Ip,UG,r=>{var e,{math:t,Node:n,SymbolNode:i}=r,a=u=>it(u,{truncate:78});function o(u,s,c){for(var f="",p=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,h;(h=p.exec(u))!==null;)if(f+=u.substring(m,h.index),m=h.index,h[0]==="$$")f+="$",m++;else{m+=h[0].length;var d=s[h[1]];if(!d)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof d){case"string":f+=d;break;case"object":if(At(d))f+=d.toTex(c);else if(Array.isArray(d))f+=d.map(function(g,v){if(At(g))return g.toTex(c);throw new TypeError("Template: "+h[1]+"["+v+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(At(d[h[2]]&&d[h[2]]))f+=d[h[2]].toTex(c);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=u.slice(m),f}class l extends n{constructor(s,c){if(super(),typeof s=="string"&&(s=new i(s)),!At(s))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(At))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=s,this.args=c||[]}get name(){return this.fn.name||""}get type(){return Ip}get isFunctionNode(){return!0}_compile(s,c){var f=this.args.map(C=>C._compile(s,c));if(Qt(this.fn)){var p=this.fn.name;if(c[p]){var v=this.args;return function(A,E,F){var I=dr(E,p);if(typeof I!="function")throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(a(I)));if(I.rawArgs)return I(v,s,Wo(A,E));var O=f.map(k=>k(A,E,F));return I.apply(I,O)}}else{var m=p in s?dr(s,p):void 0,h=typeof m=="function"&&m.rawArgs===!0,d=C=>{var A;if(C.has(p))A=C.get(p);else if(p in s)A=dr(s,p);else return l.onUndefinedFunction(p);if(typeof A=="function")return A;throw new TypeError("'".concat(p,`' is not a function; its value is:
  `).concat(a(A)))};if(h){var g=this.args;return function(A,E,F){var I=d(A);return I(g,s,Wo(A,E))}}else switch(f.length){case 0:return function(A,E,F){var I=d(A);return I()};case 1:return function(A,E,F){var I=d(A),O=f[0];return I(O(A,E,F))};case 2:return function(A,E,F){var I=d(A),O=f[0],k=f[1];return I(O(A,E,F),k(A,E,F))};default:return function(A,E,F){var I=d(A),O=f.map(k=>k(A,E,F));return I(...O)}}}}else if(Kn(this.fn)&&fi(this.fn.index)&&this.fn.index.isObjectProperty()){var w=this.fn.object._compile(s,c),y=this.fn.index.getObjectProperty(),x=this.args;return function(A,E,F){var I=w(A,E,F),O=lC(I,y);if(O!=null&&O.rawArgs)return O(x,s,Wo(A,E));var k=f.map(R=>R(A,E,F));return O.apply(I,k)}}else{var _=this.fn.toString(),b=this.fn._compile(s,c),D=this.args;return function(A,E,F){var I=b(A,E,F);if(typeof I!="function")throw new TypeError("Expression '".concat(_,"' did not evaluate to a function; value is:")+`
  `.concat(a(I)));if(I.rawArgs)return I(D,s,Wo(A,E));var O=f.map(k=>k(A,E,F));return I.apply(I,O)}}}forEach(s){s(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)s(this.args[c],"args["+c+"]",this)}map(s){for(var c=this._ifNode(s(this.fn,"fn",this)),f=[],p=0;p<this.args.length;p++)f[p]=this._ifNode(s(this.args[p],"args["+p+"]",this));return new l(c,f)}clone(){return new l(this.fn,this.args.slice(0))}toString(s){var c,f=this.fn.toString(s);return s&&typeof s.handler=="object"&&je(s.handler,f)&&(c=s.handler[f](this,s)),typeof c!="undefined"?c:super.toString(s)}_toString(s){var c=this.args.map(function(p){return p.toString(s)}),f=qi(this.fn)?"("+this.fn.toString(s)+")":this.fn.toString(s);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:Ip,fn:this.fn,args:this.args}}_toHTML(s){var c=this.args.map(function(f){return f.toHTML(s)});return'<span class="math-function">'+$r(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(s){var c;return s&&typeof s.handler=="object"&&je(s.handler,this.name)&&(c=s.handler[this.name](this,s)),typeof c!="undefined"?c:super.toTex(s)}_toTex(s){var c=this.args.map(function(m){return m.toTex(s)}),f;ox[this.name]&&(f=ox[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(f=t[this.name].toTex);var p;switch(typeof f){case"function":p=f(this,s);break;case"string":p=o(f,this,s);break;case"object":switch(typeof f[c.length]){case"function":p=f[c.length](this,s);break;case"string":p=o(f[c.length],this,s);break}}return typeof p!="undefined"?p:o(XM,this,s)}getIdentifier(){return this.type+":"+this.name}}return e=l,kt(l,"name",Ip),kt(l,"onUndefinedFunction",function(u){throw new Error("Undefined function "+u)}),kt(l,"fromJSON",function(u){return new e(u.fn,u.args)}),l},{isClass:!0,isNode:!0});var QM="parse",qG=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],vx=S(QM,qG,r=>{var{typed:e,numeric:t,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:l,ConditionalNode:u,ConstantNode:s,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:p,ObjectNode:m,OperatorNode:h,ParenthesisNode:d,RangeNode:g,RelationalNode:v,SymbolNode:w}=r,y=e(QM,{string:function(q){return ee(q,{})},"Array | Matrix":function(q){return x(q,{})},"string, Object":function(q,se){var Ee=se.nodes!==void 0?se.nodes:{};return ee(q,Ee)},"Array | Matrix, Object":x});function x(M){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},se=q.nodes!==void 0?q.nodes:{};return Ze(M,function(Ee){if(typeof Ee!="string")throw new TypeError("String expected");return ee(Ee,se)})}var _={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},D={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},C={true:!0,false:!1,null:null,undefined:void 0},A=["NaN","Infinity"],E={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function F(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:_.NULL,nestingLevel:0,conditionalLevel:null}}function I(M,q){return M.expression.substr(M.index,q)}function O(M){return I(M,1)}function k(M){M.index++}function R(M){return M.expression.charAt(M.index-1)}function T(M){return M.expression.charAt(M.index+1)}function N(M){for(M.tokenType=_.NULL,M.token="",M.comment="";;){if(O(M)==="#")for(;O(M)!==`
`&&O(M)!=="";)M.comment+=O(M),k(M);if(y.isWhitespace(O(M),M.nestingLevel))k(M);else break}if(O(M)===""){M.tokenType=_.DELIMITER;return}if(O(M)===`
`&&!M.nestingLevel){M.tokenType=_.DELIMITER,M.token=O(M),k(M);return}var q=O(M),se=I(M,2),Ee=I(M,3);if(Ee.length===3&&b[Ee]){M.tokenType=_.DELIMITER,M.token=Ee,k(M),k(M),k(M);return}if(se.length===2&&b[se]){M.tokenType=_.DELIMITER,M.token=se,k(M),k(M);return}if(b[q]){M.tokenType=_.DELIMITER,M.token=q,k(M);return}if(y.isDigitDot(q)){M.tokenType=_.NUMBER;var Ke=I(M,2);if(Ke==="0b"||Ke==="0o"||Ke==="0x"){for(M.token+=O(M),k(M),M.token+=O(M),k(M);y.isHexDigit(O(M));)M.token+=O(M),k(M);if(O(M)===".")for(M.token+=".",k(M);y.isHexDigit(O(M));)M.token+=O(M),k(M);else if(O(M)==="i")for(M.token+="i",k(M);y.isDigit(O(M));)M.token+=O(M),k(M);return}if(O(M)==="."){if(M.token+=O(M),k(M),!y.isDigit(O(M))){M.tokenType=_.DELIMITER;return}}else{for(;y.isDigit(O(M));)M.token+=O(M),k(M);y.isDecimalMark(O(M),T(M))&&(M.token+=O(M),k(M))}for(;y.isDigit(O(M));)M.token+=O(M),k(M);if(O(M)==="E"||O(M)==="e"){if(y.isDigit(T(M))||T(M)==="-"||T(M)==="+"){if(M.token+=O(M),k(M),(O(M)==="+"||O(M)==="-")&&(M.token+=O(M),k(M)),!y.isDigit(O(M)))throw Ce(M,'Digit expected, got "'+O(M)+'"');for(;y.isDigit(O(M));)M.token+=O(M),k(M);if(y.isDecimalMark(O(M),T(M)))throw Ce(M,'Digit expected, got "'+O(M)+'"')}else if(T(M)===".")throw k(M),Ce(M,'Digit expected, got "'+O(M)+'"')}return}if(y.isAlpha(O(M),R(M),T(M))){for(;y.isAlpha(O(M),R(M),T(M))||y.isDigit(O(M));)M.token+=O(M),k(M);je(D,M.token)?M.tokenType=_.DELIMITER:M.tokenType=_.SYMBOL;return}for(M.tokenType=_.UNKNOWN;O(M)!=="";)M.token+=O(M),k(M);throw Ce(M,'Syntax error in part "'+M.token+'"')}function V(M){do N(M);while(M.token===`
`)}function B(M){M.nestingLevel++}function X(M){M.nestingLevel--}y.isAlpha=function(q,se,Ee){return y.isValidLatinOrGreek(q)||y.isValidMathSymbol(q,Ee)||y.isValidMathSymbol(se,q)},y.isValidLatinOrGreek=function(q){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(q)},y.isValidMathSymbol=function(q,se){return/^[\uD835]$/.test(q)&&/^[\uDC00-\uDFFF]$/.test(se)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(se)},y.isWhitespace=function(q,se){return q===" "||q==="	"||q===`
`&&se>0},y.isDecimalMark=function(q,se){return q==="."&&se!=="/"&&se!=="*"&&se!=="^"},y.isDigitDot=function(q){return q>="0"&&q<="9"||q==="."},y.isDigit=function(q){return q>="0"&&q<="9"},y.isHexDigit=function(q){return q>="0"&&q<="9"||q>="a"&&q<="f"||q>="A"&&q<="F"};function ee(M,q){var se=F();mr(se,{expression:M,extraNodes:q}),N(se);var Ee=W(se);if(se.token!=="")throw se.tokenType===_.DELIMITER?Pe(se,"Unexpected operator "+se.token):Ce(se,'Unexpected part "'+se.token+'"');return Ee}function W(M){var q,se=[],Ee;for(M.token!==""&&M.token!==`
`&&M.token!==";"&&(q=P(M),M.comment&&(q.comment=M.comment));M.token===`
`||M.token===";";)se.length===0&&q&&(Ee=M.token!==";",se.push({node:q,visible:Ee})),N(M),M.token!==`
`&&M.token!==";"&&M.token!==""&&(q=P(M),M.comment&&(q.comment=M.comment),Ee=M.token!==";",se.push({node:q,visible:Ee}));return se.length>0?new l(se):(q||(q=new s(void 0),M.comment&&(q.comment=M.comment)),q)}function P(M){var q,se,Ee,Ke,st=K(M);if(M.token==="="){if(Qt(st))return q=st.name,V(M),Ee=P(M),new o(new w(q),Ee);if(Kn(st))return V(M),Ee=P(M),new o(st.object,st.index,Ee);if(Nn(st)&&Qt(st.fn)&&(Ke=!0,se=[],q=st.name,st.args.forEach(function(fr,Hn){Qt(fr)?se[Hn]=fr.name:Ke=!1}),Ke))return V(M),Ee=P(M),new c(q,se,Ee);throw Ce(M,"Invalid left hand side of assignment operator =")}return st}function K(M){for(var q=ve(M);M.token==="?";){var se=M.conditionalLevel;M.conditionalLevel=M.nestingLevel,V(M);var Ee=q,Ke=P(M);if(M.token!==":")throw Ce(M,"False part of conditional expression expected");M.conditionalLevel=null,V(M);var st=P(M);q=new u(Ee,Ke,st),M.conditionalLevel=se}return q}function ve(M){for(var q=ie(M);M.token==="or";)V(M),q=new h("or","or",[q,ie(M)]);return q}function ie(M){for(var q=oe(M);M.token==="xor";)V(M),q=new h("xor","xor",[q,oe(M)]);return q}function oe(M){for(var q=ge(M);M.token==="and";)V(M),q=new h("and","and",[q,ge(M)]);return q}function ge(M){for(var q=ue(M);M.token==="|";)V(M),q=new h("|","bitOr",[q,ue(M)]);return q}function ue(M){for(var q=ce(M);M.token==="^|";)V(M),q=new h("^|","bitXor",[q,ce(M)]);return q}function ce(M){for(var q=me(M);M.token==="&";)V(M),q=new h("&","bitAnd",[q,me(M)]);return q}function me(M){for(var q=[de(M)],se=[],Ee={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};je(Ee,M.token);){var Ke={name:M.token,fn:Ee[M.token]};se.push(Ke),V(M),q.push(de(M))}return q.length===1?q[0]:q.length===2?new h(se[0].name,se[0].fn,q):new v(se.map(st=>st.fn),q)}function de(M){var q,se,Ee,Ke;q=Be(M);for(var st={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};je(st,M.token);)se=M.token,Ee=st[se],V(M),Ke=[q,Be(M)],q=new h(se,Ee,Ke);return q}function Be(M){var q,se,Ee,Ke;q=we(M);for(var st={to:"to",in:"to"};je(st,M.token);)se=M.token,Ee=st[se],V(M),se==="in"&&M.token===""?q=new h("*","multiply",[q,new w("in")],!0):(Ke=[q,we(M)],q=new h(se,Ee,Ke));return q}function we(M){var q,se=[];if(M.token===":"?q=new s(1):q=U(M),M.token===":"&&M.conditionalLevel!==M.nestingLevel){for(se.push(q);M.token===":"&&se.length<3;)V(M),M.token===")"||M.token==="]"||M.token===","||M.token===""?se.push(new w("end")):se.push(U(M));se.length===3?q=new g(se[0],se[2],se[1]):q=new g(se[0],se[1])}return q}function U(M){var q,se,Ee,Ke;q=G(M);for(var st={"+":"add","-":"subtract"};je(st,M.token);){se=M.token,Ee=st[se],V(M);var fr=G(M);fr.isPercentage?Ke=[q,new h("*","multiply",[q,fr])]:Ke=[q,fr],q=new h(se,Ee,Ke)}return q}function G(M){var q,se,Ee,Ke;q=le(M),se=q;for(var st={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};je(st,M.token);)Ee=M.token,Ke=st[Ee],V(M),se=le(M),q=new h(Ee,Ke,[q,se]);return q}function le(M){var q,se;for(q=$(M),se=q;M.tokenType===_.SYMBOL||M.token==="in"&&bt(q)||M.tokenType===_.NUMBER&&!bt(se)&&(!cr(se)||se.op==="!")||M.token==="(";)se=$(M),q=new h("*","multiply",[q,se],!0);return q}function $(M){for(var q=Q(M),se=q,Ee=[];M.token==="/"&&qu(se);)if(Ee.push(mr({},M)),V(M),M.tokenType===_.NUMBER)if(Ee.push(mr({},M)),V(M),M.tokenType===_.SYMBOL||M.token==="(")mr(M,Ee.pop()),Ee.pop(),se=Q(M),q=new h("/","divide",[q,se]);else{Ee.pop(),mr(M,Ee.pop());break}else{mr(M,Ee.pop());break}return q}function Q(M){var q,se,Ee,Ke;q=re(M);for(var st={"%":"mod",mod:"mod"};je(st,M.token);)se=M.token,Ee=st[se],V(M),se==="%"&&M.tokenType===_.DELIMITER&&M.token!=="("?q=new h("/","divide",[q,new s(100)],!1,!0):(Ke=[q,re(M)],q=new h(se,Ee,Ke));return q}function re(M){var q,se,Ee,Ke={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return je(Ke,M.token)?(Ee=Ke[M.token],q=M.token,V(M),se=[re(M)],new h(q,Ee,se)):he(M)}function he(M){var q,se,Ee,Ke;return q=ye(M),(M.token==="^"||M.token===".^")&&(se=M.token,Ee=se==="^"?"pow":"dotPow",V(M),Ke=[q,re(M)],q=new h(se,Ee,Ke)),q}function ye(M){var q,se,Ee,Ke;q=Le(M);for(var st={"!":"factorial","'":"ctranspose"};je(st,M.token);)se=M.token,Ee=st[se],N(M),Ke=[q],q=new h(se,Ee,Ke),q=ct(M,q);return q}function Le(M){var q=[];if(M.tokenType===_.SYMBOL&&je(M.extraNodes,M.token)){var se=M.extraNodes[M.token];if(N(M),M.token==="("){if(q=[],B(M),N(M),M.token!==")")for(q.push(P(M));M.token===",";)N(M),q.push(P(M));if(M.token!==")")throw Ce(M,"Parenthesis ) expected");X(M),N(M)}return new se(q)}return Ae(M)}function Ae(M){var q,se;return M.tokenType===_.SYMBOL||M.tokenType===_.DELIMITER&&M.token in D?(se=M.token,N(M),je(C,se)?q=new s(C[se]):A.indexOf(se)!==-1?q=new s(t(se,"number")):q=new w(se),q=ct(M,q),q):xt(M)}function ct(M,q,se){for(var Ee;(M.token==="("||M.token==="["||M.token===".")&&(!se||se.indexOf(M.token)!==-1);)if(Ee=[],M.token==="(")if(Qt(q)||Kn(q)){if(B(M),N(M),M.token!==")")for(Ee.push(P(M));M.token===",";)N(M),Ee.push(P(M));if(M.token!==")")throw Ce(M,"Parenthesis ) expected");X(M),N(M),q=new f(q,Ee)}else return q;else if(M.token==="["){if(B(M),N(M),M.token!=="]")for(Ee.push(P(M));M.token===",";)N(M),Ee.push(P(M));if(M.token!=="]")throw Ce(M,"Parenthesis ] expected");X(M),N(M),q=new i(q,new p(Ee))}else{N(M);var Ke=M.tokenType===_.SYMBOL||M.tokenType===_.DELIMITER&&M.token in D;if(!Ke)throw Ce(M,"Property name expected after dot");Ee.push(new s(M.token)),N(M);var st=!0;q=new i(q,new p(Ee,st))}return q}function xt(M){var q,se;return M.token==='"'||M.token==="'"?(se=Ut(M,M.token),q=new s(se),q=ct(M,q),q):Xt(M)}function Ut(M,q){for(var se="";O(M)!==""&&O(M)!==q;)if(O(M)==="\\"){k(M);var Ee=O(M),Ke=E[Ee];if(Ke!==void 0)se+=Ke,M.index+=1;else if(Ee==="u"){var st=M.expression.slice(M.index+1,M.index+5);if(/^[0-9A-Fa-f]{4}$/.test(st))se+=String.fromCharCode(parseInt(st,16)),M.index+=5;else throw Ce(M,"Invalid unicode character \\u".concat(st))}else throw Ce(M,"Bad escape character \\".concat(Ee))}else se+=O(M),k(M);if(N(M),M.token!==q)throw Ce(M,"End of string ".concat(q," expected"));return N(M),se}function Xt(M){var q,se,Ee,Ke;if(M.token==="["){if(B(M),N(M),M.token!=="]"){var st=H(M);if(M.token===";"){for(Ee=1,se=[st];M.token===";";)N(M),se[Ee]=H(M),Ee++;if(M.token!=="]")throw Ce(M,"End of matrix ] expected");X(M),N(M),Ke=se[0].items.length;for(var fr=1;fr<Ee;fr++)if(se[fr].items.length!==Ke)throw Pe(M,"Column dimensions mismatch ("+se[fr].items.length+" !== "+Ke+")");q=new a(se)}else{if(M.token!=="]")throw Ce(M,"End of matrix ] expected");X(M),N(M),q=st}}else X(M),N(M),q=new a([]);return ct(M,q)}return ne(M)}function H(M){for(var q=[P(M)],se=1;M.token===",";)N(M),q[se]=P(M),se++;return new a(q)}function ne(M){if(M.token==="{"){B(M);var q,se={};do if(N(M),M.token!=="}"){if(M.token==='"'||M.token==="'")q=Ut(M,M.token);else if(M.tokenType===_.SYMBOL||M.tokenType===_.DELIMITER&&M.token in D)q=M.token,N(M);else throw Ce(M,"Symbol or string expected as object key");if(M.token!==":")throw Ce(M,"Colon : expected after object key");N(M),se[q]=P(M)}while(M.token===",");if(M.token!=="}")throw Ce(M,"Comma , or bracket } expected after object value");X(M),N(M);var Ee=new m(se);return Ee=ct(M,Ee),Ee}return pe(M)}function pe(M){var q;return M.tokenType===_.NUMBER?(q=M.token,N(M),new s(t(q,n.number))):_e(M)}function _e(M){var q;if(M.token==="("){if(B(M),N(M),q=P(M),M.token!==")")throw Ce(M,"Parenthesis ) expected");return X(M),N(M),q=new d(q),q=ct(M,q),q}return Ne(M)}function Ne(M){throw M.token===""?Ce(M,"Unexpected end of expression"):Ce(M,"Value expected")}function De(M){return M.index-M.token.length+1}function Ce(M,q){var se=De(M),Ee=new SyntaxError(q+" (char "+se+")");return Ee.char=se,Ee}function Pe(M,q){var se=De(M),Ee=new SyntaxError(q+" (char "+se+")");return Ee.char=se,Ee}return e.addConversion({from:"string",to:"Node",convert:y}),y});var KM="compile",zG=["typed","parse"],yx=S(KM,zG,r=>{var{typed:e,parse:t}=r;return e(KM,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return Ze(i,function(a){return t(a).compile()})}})});var eT="evaluate",$G=["typed","parse"],xx=S(eT,$G,r=>{var{typed:e,parse:t}=r;return e(eT,{string:function(i){var a=$i();return t(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return t(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=$i();return Ze(i,function(o){return t(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return Ze(i,function(o){return t(o).compile().evaluate(a)})}})});var HG="Parser",GG=["evaluate"],bx=S(HG,GG,r=>{var{evaluate:e}=r;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:$i(),writable:!1})}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.evaluate=function(n){return e(n,this.scope)},t.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},t.prototype.getAll=function(){return fC(this.scope)},t.prototype.getAllAsMap=function(){return this.scope},t.prototype.set=function(n,i){return this.scope.set(n,i),i},t.prototype.remove=function(n){this.scope.delete(n)},t.prototype.clear=function(){this.scope.clear()},t},{isClass:!0});var tT="parser",WG=["typed","Parser"],wx=S(tT,WG,r=>{var{typed:e,Parser:t}=r;return e(tT,{"":function(){return new t}})});var rT="lup",jG=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],_x=S(rT,jG,r=>{var{typed:e,matrix:t,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:l,larger:u,equalScalar:s,unaryMinus:c,DenseMatrix:f,SparseMatrix:p,Spa:m}=r;return e(rT,{DenseMatrix:function(v){return h(v)},SparseMatrix:function(v){return d(v)},Array:function(v){var w=t(v),y=h(w);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function h(g){var v=g._size[0],w=g._size[1],y=Math.min(v,w),x=Ye(g._data),_=[],b=[v,y],D=[],C=[y,w],A,E,F,I=[];for(A=0;A<v;A++)I[A]=A;for(E=0;E<w;E++){if(E>0)for(A=0;A<v;A++){var O=Math.min(A,E),k=0;for(F=0;F<O;F++)k=i(k,o(x[A][F],x[F][E]));x[A][E]=l(x[A][E],k)}var R=E,T=0,N=0;for(A=E;A<v;A++){var V=x[A][E],B=n(V);u(B,T)&&(R=A,T=B,N=V)}if(E!==R&&(I[E]=[I[R],I[R]=I[E]][0],f._swapRows(E,R,x)),E<v)for(A=E+1;A<v;A++){var X=x[A][E];s(X,0)||(x[A][E]=a(x[A][E],N))}}for(E=0;E<w;E++)for(A=0;A<v;A++){if(E===0&&(A<w&&(D[A]=[]),_[A]=[]),A<E){A<w&&(D[A][E]=x[A][E]),E<v&&(_[A][E]=0);continue}if(A===E){A<w&&(D[A][E]=x[A][E]),E<v&&(_[A][E]=1);continue}A<w&&(D[A][E]=0),E<v&&(_[A][E]=x[A][E])}var ee=new f({data:_,size:b}),W=new f({data:D,size:C}),P=[];for(A=0,y=I.length;A<y;A++)P[I[A]]=A;return{L:ee,U:W,p:P,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function d(g){var v=g._size[0],w=g._size[1],y=Math.min(v,w),x=g._values,_=g._index,b=g._ptr,D=[],C=[],A=[],E=[v,y],F=[],I=[],O=[],k=[y,w],R,T,N,V=[],B=[];for(R=0;R<v;R++)V[R]=R,B[R]=R;var X=function(P,K){var ve=B[P],ie=B[K];V[ve]=K,V[ie]=P,B[P]=ie,B[K]=ve},ee=function(){var P=new m;T<v&&(A.push(D.length),D.push(1),C.push(T)),O.push(F.length);var K=b[T],ve=b[T+1];for(N=K;N<ve;N++)R=_[N],P.set(V[R],x[N]);T>0&&P.forEach(0,T-1,function(ue,ce){p._forEachRow(ue,D,C,A,function(me,de){me>ue&&P.accumulate(me,c(o(de,ce)))})});var ie=T,oe=P.get(T),ge=n(oe);P.forEach(T+1,v-1,function(ue,ce){var me=n(ce);u(me,ge)&&(ie=ue,ge=me,oe=ce)}),T!==ie&&(p._swapRows(T,ie,E[1],D,C,A),p._swapRows(T,ie,k[1],F,I,O),P.swap(T,ie),X(T,ie)),P.forEach(0,v-1,function(ue,ce){ue<=T?(F.push(ce),I.push(ue)):(ce=a(ce,oe),s(ce,0)||(D.push(ce),C.push(ue)))})};for(T=0;T<w;T++)ee();return O.push(F.length),A.push(D.length),{L:new p({values:D,index:C,ptr:A,size:E}),U:new p({values:F,index:I,ptr:O,size:k}),p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var nT="qr",ZG=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],Ax=S(nT,ZG,r=>{var{typed:e,matrix:t,zeros:n,identity:i,isZero:a,equal:o,sign:l,sqrt:u,conj:s,unaryMinus:c,addScalar:f,divideScalar:p,multiplyScalar:m,subtractScalar:h,complex:d}=r;return mr(e(nT,{DenseMatrix:function(x){return v(x)},SparseMatrix:function(x){return w(x)},Array:function(x){var _=t(x),b=v(_);return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:g});function g(y){var x=y._size[0],_=y._size[1],b=i([x],"dense"),D=b._data,C=y.clone(),A=C._data,E,F,I,O=n([x],"");for(I=0;I<Math.min(_,x);++I){var k=A[I][I],R=c(o(k,0)?1:l(k)),T=s(R),N=0;for(E=I;E<x;E++)N=f(N,m(A[E][I],s(A[E][I])));var V=m(R,u(N));if(!a(V)){var B=h(k,V);for(O[I]=1,E=I+1;E<x;E++)O[E]=p(A[E][I],B);var X=c(s(p(B,V))),ee=void 0;for(F=I;F<_;F++){for(ee=0,E=I;E<x;E++)ee=f(ee,m(s(O[E]),A[E][F]));for(ee=m(ee,X),E=I;E<x;E++)A[E][F]=m(h(A[E][F],m(O[E],ee)),T)}for(E=0;E<x;E++){for(ee=0,F=I;F<x;F++)ee=f(ee,m(D[E][F],O[F]));for(ee=m(ee,X),F=I;F<x;++F)D[E][F]=p(h(D[E][F],m(ee,s(O[F]))),T)}}}return{Q:b,R:C,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function v(y){var x=g(y),_=x.R._data;if(y._data.length>0)for(var b=_[0][0].type==="Complex"?d(0):0,D=0;D<_.length;++D)for(var C=0;C<D&&C<(_[0]||[]).length;++C)_[D][C]=b;return x}function w(y){throw new Error("qr not implemented for sparse matrices yet")}});function iT(r,e,t,n){for(var i=r._values,a=r._index,o=r._ptr,l=r._size,u=r._datatype,s=l[0],c=l[1],f=n&&r._values?[]:null,p=[],m=[],h=0,d=0;d<c;d++){m[d]=h;for(var g=t?t[d]:d,v=o[g],w=o[g+1],y=v;y<w;y++){var x=e?e[a[y]]:a[y];p[h]=x,f&&(f[h]=i[y]),h++}}return m[c]=h,r.createSparseMatrix({values:f,index:p,ptr:m,size:[s,c],datatype:u})}function Bp(r,e,t,n,i,a,o){var l=0;for(t[o]=r;l>=0;){var u=t[o+l],s=t[n+u];s===-1?(l--,a[e++]=u):(t[n+u]=t[i+s],++l,t[o+l]=s)}return e}function aT(r,e){if(!r)return null;var t=0,n,i=[],a=[],o=0,l=e,u=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)r[n]!==-1&&(a[l+n]=a[o+r[n]],a[o+r[n]]=n);for(n=0;n<e;n++)r[n]===-1&&(t=Bp(n,t,a,o,l,i,u));return i}function oT(r,e){if(!r)return null;var t=r._index,n=r._ptr,i=r._size,a=i[0],o=i[1],l=[],u=[],s=0,c=o,f,p;if(e)for(f=0;f<a;f++)u[c+f]=-1;for(var m=0;m<o;m++){l[m]=-1,u[s+m]=-1;for(var h=n[m],d=n[m+1],g=h;g<d;g++){var v=t[g];for(f=e?u[c+v]:v;f!==-1&&f<m;f=p)p=u[s+f],u[s+f]=m,p===-1&&(l[f]=m);e&&(u[c+v]=m)}}return l}function sT(r,e,t){for(var n=r._values,i=r._index,a=r._ptr,o=r._size,l=o[1],u=0,s=0;s<l;s++){var c=a[s];for(a[s]=u;c<a[s+1];c++)e(i[c],s,n?n[c]:1,t)&&(i[u]=i[c],n&&(n[u]=n[c]),u++)}return a[l]=u,i.splice(u,i.length-u),n&&n.splice(u,n.length-u),u}function Ii(r){return-r-2}var JG="csAmd",YG=["add","multiply","transpose"],uT=S(JG,YG,r=>{var{add:e,multiply:t,transpose:n}=r;return function(c,f){if(!f||c<=0||c>3)return null;var p=f._size,m=p[0],h=p[1],d=0,g=Math.max(16,10*Math.sqrt(h));g=Math.min(h-2,g);var v=i(c,f,m,h,g);sT(v,u,null);for(var w=v._index,y=v._ptr,x=y[h],_=[],b=[],D=0,C=h+1,A=2*(h+1),E=3*(h+1),F=4*(h+1),I=5*(h+1),O=6*(h+1),k=7*(h+1),R=_,T=a(h,y,b,D,E,R,A,k,C,O,F,I),N=o(h,y,b,I,F,O,g,C,E,R,A),V=0,B,X,ee,W,P,K,ve,ie,oe,ge,ue,ce,me,de,Be,we;N<h;){for(ee=-1;V<h&&(ee=b[E+V])===-1;V++);b[A+ee]!==-1&&(R[b[A+ee]]=-1),b[E+V]=b[A+ee];var U=b[F+ee],G=b[C+ee];N+=G;var le=0;b[C+ee]=-G;var $=y[ee],Q=U===0?$:x,re=Q;for(W=1;W<=U+1;W++){for(W>U?(K=ee,ve=$,ie=b[D+ee]-U):(K=w[$++],ve=y[K],ie=b[D+K]),P=1;P<=ie;P++)B=w[ve++],!((oe=b[C+B])<=0)&&(le+=oe,b[C+B]=-oe,w[re++]=B,b[A+B]!==-1&&(R[b[A+B]]=R[B]),R[B]!==-1?b[A+R[B]]=b[A+B]:b[E+b[I+B]]=b[A+B]);K!==ee&&(y[K]=Ii(ee),b[O+K]=0)}for(U!==0&&(x=re),b[I+ee]=le,y[ee]=Q,b[D+ee]=re-Q,b[F+ee]=-2,T=l(T,d,b,O,h),ge=Q;ge<re;ge++)if(B=w[ge],!((ue=b[F+B])<=0)){oe=-b[C+B];var he=T-oe;for($=y[B],ce=y[B]+ue-1;$<=ce;$++)K=w[$],b[O+K]>=T?b[O+K]-=oe:b[O+K]!==0&&(b[O+K]=b[I+K]+he)}for(ge=Q;ge<re;ge++){for(B=w[ge],ce=y[B],me=ce+b[F+B]-1,de=ce,Be=0,we=0,$=ce;$<=me;$++)if(K=w[$],b[O+K]!==0){var ye=b[O+K]-T;ye>0?(we+=ye,w[de++]=K,Be+=K):(y[K]=Ii(ee),b[O+K]=0)}b[F+B]=de-ce+1;var Le=de,Ae=ce+b[D+B];for($=me+1;$<Ae;$++){X=w[$];var ct=b[C+X];ct<=0||(we+=ct,w[de++]=X,Be+=X)}we===0?(y[B]=Ii(ee),oe=-b[C+B],le-=oe,G+=oe,N+=oe,b[C+B]=0,b[F+B]=-1):(b[I+B]=Math.min(b[I+B],we),w[de]=w[Le],w[Le]=w[ce],w[ce]=ee,b[D+B]=de-ce+1,Be=(Be<0?-Be:Be)%h,b[A+B]=b[k+Be],b[k+Be]=B,R[B]=Be)}for(b[I+ee]=le,d=Math.max(d,le),T=l(T+d,d,b,O,h),ge=Q;ge<re;ge++)if(B=w[ge],!(b[C+B]>=0))for(Be=R[B],B=b[k+Be],b[k+Be]=-1;B!==-1&&b[A+B]!==-1;B=b[A+B],T++){for(ie=b[D+B],ue=b[F+B],$=y[B]+1;$<=y[B]+ie-1;$++)b[O+w[$]]=T;var xt=B;for(X=b[A+B];X!==-1;){var Ut=b[D+X]===ie&&b[F+X]===ue;for($=y[X]+1;Ut&&$<=y[X]+ie-1;$++)b[O+w[$]]!==T&&(Ut=0);Ut?(y[X]=Ii(B),b[C+B]+=b[C+X],b[C+X]=0,b[F+X]=-1,X=b[A+X],b[A+xt]=X):(xt=X,X=b[A+X])}}for($=Q,ge=Q;ge<re;ge++)B=w[ge],!((oe=-b[C+B])<=0)&&(b[C+B]=oe,we=b[I+B]+le-oe,we=Math.min(we,h-N-oe),b[E+we]!==-1&&(R[b[E+we]]=B),b[A+B]=b[E+we],R[B]=-1,b[E+we]=B,V=Math.min(V,we),b[I+B]=we,w[$++]=B);b[C+ee]=G,(b[D+ee]=$-Q)===0&&(y[ee]=-1,b[O+ee]=0),U!==0&&(x=$)}for(B=0;B<h;B++)y[B]=Ii(y[B]);for(X=0;X<=h;X++)b[E+X]=-1;for(X=h;X>=0;X--)b[C+X]>0||(b[A+X]=b[E+y[X]],b[E+y[X]]=X);for(K=h;K>=0;K--)b[C+K]<=0||y[K]!==-1&&(b[A+K]=b[E+y[K]],b[E+y[K]]=K);for(ee=0,B=0;B<=h;B++)y[B]===-1&&(ee=Bp(B,ee,b,E,A,_,O));return _.splice(_.length-1,1),_};function i(s,c,f,p,m){var h=n(c);if(s===1&&p===f)return e(c,h);if(s===2){for(var d=h._index,g=h._ptr,v=0,w=0;w<f;w++){var y=g[w];if(g[w]=v,!(g[w+1]-y>m))for(var x=g[w+1];y<x;y++)d[v++]=d[y]}return g[f]=v,c=n(h),t(h,c)}return t(h,c)}function a(s,c,f,p,m,h,d,g,v,w,y,x){for(var _=0;_<s;_++)f[p+_]=c[_+1]-c[_];f[p+s]=0;for(var b=0;b<=s;b++)f[m+b]=-1,h[b]=-1,f[d+b]=-1,f[g+b]=-1,f[v+b]=1,f[w+b]=1,f[y+b]=0,f[x+b]=f[p+b];var D=l(0,0,f,w,s);return f[y+s]=-2,c[s]=-1,f[w+s]=0,D}function o(s,c,f,p,m,h,d,g,v,w,y){for(var x=0,_=0;_<s;_++){var b=f[p+_];if(b===0)f[m+_]=-2,x++,c[_]=-1,f[h+_]=0;else if(b>d)f[g+_]=0,f[m+_]=-1,x++,c[_]=Ii(s),f[g+s]++;else{var D=f[v+b];D!==-1&&(w[D]=_),f[y+_]=f[v+b],f[v+b]=_}}return x}function l(s,c,f,p,m){if(s<2||s+c<0){for(var h=0;h<m;h++)f[p+h]!==0&&(f[p+h]=1);s=2}return s}function u(s,c){return s!==c}});function lT(r,e,t,n,i,a,o){var l,u,s=0,c;if(r<=e||t[n+e]<=t[i+r])return-1;t[i+r]=t[n+e];var f=t[a+r];if(t[a+r]=e,f===-1)s=1,c=r;else{for(s=2,c=f;c!==t[o+c];c=t[o+c]);for(l=f;l!==c;l=u)u=t[o+l],t[o+l]=c}return{jleaf:s,q:c}}var XG="csCounts",QG=["transpose"],cT=S(XG,QG,r=>{var{transpose:e}=r;return function(t,n,i,a){if(!t||!n||!i)return null;var o=t._size,l=o[0],u=o[1],s,c,f,p,m,h,d,g=4*u+(a?u+l+1:0),v=[],w=0,y=u,x=2*u,_=3*u,b=4*u,D=5*u+1;for(f=0;f<g;f++)v[f]=-1;var C=[],A=e(t),E=A._index,F=A._ptr;for(f=0;f<u;f++)for(c=i[f],C[c]=v[_+c]===-1?1:0;c!==-1&&v[_+c]===-1;c=n[c])v[_+c]=f;if(a){for(f=0;f<u;f++)v[i[f]]=f;for(s=0;s<l;s++){for(f=u,h=F[s],d=F[s+1],m=h;m<d;m++)f=Math.min(f,v[E[m]]);v[D+s]=v[b+f],v[b+f]=s}}for(s=0;s<u;s++)v[w+s]=s;for(f=0;f<u;f++){for(c=i[f],n[c]!==-1&&C[n[c]]--,p=a?v[b+f]:c;p!==-1;p=a?v[D+p]:-1)for(m=F[p];m<F[p+1];m++){s=E[m];var I=lT(s,c,v,_,y,x,w);I.jleaf>=1&&C[c]++,I.jleaf===2&&C[I.q]--}n[c]!==-1&&(v[w+c]=n[c])}for(c=0;c<u;c++)n[c]!==-1&&(C[n[c]]+=C[c]);return C}});var KG="csSqr",eW=["add","multiply","transpose"],fT=S(KG,eW,r=>{var{add:e,multiply:t,transpose:n}=r,i=uT({add:e,multiply:t,transpose:n}),a=cT({transpose:n});return function(u,s,c){var f=s._ptr,p=s._size,m=p[1],h,d={};if(d.q=i(u,s),u&&!d.q)return null;if(c){var g=u?iT(s,null,d.q,0):s;d.parent=oT(g,1);var v=aT(d.parent,m);if(d.cp=a(g,d.parent,v,1),g&&d.parent&&d.cp&&o(g,d))for(d.unz=0,h=0;h<m;h++)d.unz+=d.cp[h]}else d.unz=4*f[m]+m,d.lnz=d.unz;return d};function o(l,u){var s=l._ptr,c=l._index,f=l._size,p=f[0],m=f[1];u.pinv=[],u.leftmost=[];var h=u.parent,d=u.pinv,g=u.leftmost,v=[],w=0,y=p,x=p+m,_=p+2*m,b,D,C,A,E;for(D=0;D<m;D++)v[y+D]=-1,v[x+D]=-1,v[_+D]=0;for(b=0;b<p;b++)g[b]=-1;for(D=m-1;D>=0;D--)for(A=s[D],E=s[D+1],C=A;C<E;C++)g[c[C]]=D;for(b=p-1;b>=0;b--)d[b]=-1,D=g[b],D!==-1&&(v[_+D]++===0&&(v[x+D]=b),v[w+b]=v[y+D],v[y+D]=b);for(u.lnz=0,u.m2=p,D=0;D<m;D++)if(b=v[y+D],u.lnz++,b<0&&(b=u.m2++),d[b]=D,!(--_[D]<=0)){u.lnz+=v[_+D];var F=h[D];F!==-1&&(v[_+F]===0&&(v[x+F]=v[x+D]),v[w+v[x+D]]=v[y+F],v[y+F]=v[w+b],v[_+F]+=v[_+D])}for(b=0;b<p;b++)d[b]<0&&(d[b]=D++);return!0}});function hl(r,e){return r[e]<0}function Op(r,e){r[e]=Ii(r[e])}function Dx(r){return r<0?Ii(r):r}function pT(r,e,t,n,i){var a=e._index,o=e._ptr,l=e._size,u=l[1],s,c,f,p=0;for(n[0]=r;p>=0;){r=n[p];var m=i?i[r]:r;hl(o,r)||(Op(o,r),n[u+p]=m<0?0:Dx(o[m]));var h=1;for(c=n[u+p],f=m<0?0:Dx(o[m+1]);c<f;c++)if(s=a[c],!hl(o,s)){n[u+p]=c,n[++p]=s,h=0;break}h&&(p--,n[--t]=r)}return t}function mT(r,e,t,n,i){var a=r._ptr,o=r._size,l=e._index,u=e._ptr,s=o[1],c,f,p,m=s;for(f=u[t],p=u[t+1],c=f;c<p;c++){var h=l[c];hl(a,h)||(m=pT(h,r,m,n,i))}for(c=m;c<s;c++)Op(a,n[c]);return m}var tW="csSpsolve",rW=["divideScalar","multiply","subtract"],dT=S(tW,rW,r=>{var{divideScalar:e,multiply:t,subtract:n}=r;return function(a,o,l,u,s,c,f){var p=a._values,m=a._index,h=a._ptr,d=a._size,g=d[1],v=o._values,w=o._index,y=o._ptr,x,_,b,D,C=mT(a,o,l,u,c);for(x=C;x<g;x++)s[u[x]]=0;for(_=y[l],b=y[l+1],x=_;x<b;x++)s[w[x]]=v[x];for(var A=C;A<g;A++){var E=u[A],F=c?c[E]:E;if(!(F<0))for(_=h[F],b=h[F+1],s[E]=e(s[E],p[f?_:b-1]),x=f?_+1:_,D=f?b:b-1;x<D;x++){var I=m[x];s[I]=n(s[I],t(p[x],s[E]))}}return C}});var nW="csLu",iW=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],hT=S(nW,iW,r=>{var{abs:e,divideScalar:t,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:l}=r,u=dT({divideScalar:t,multiply:n,subtract:i});return function(c,f,p){if(!c)return null;var m=c._size,h=m[1],d,g=100,v=100;f&&(d=f.q,g=f.lnz||g,v=f.unz||v);var w=[],y=[],x=[],_=new l({values:w,index:y,ptr:x,size:[h,h]}),b=[],D=[],C=[],A=new l({values:b,index:D,ptr:C,size:[h,h]}),E=[],F,I,O=[],k=[];for(F=0;F<h;F++)O[F]=0,E[F]=-1,x[F+1]=0;g=0,v=0;for(var R=0;R<h;R++){x[R]=g,C[R]=v;var T=d?d[R]:R,N=u(_,c,T,k,O,E,1),V=-1,B=-1;for(I=N;I<h;I++)if(F=k[I],E[F]<0){var X=e(O[F]);a(X,B)&&(B=X,V=F)}else D[v]=E[F],b[v++]=O[F];if(V===-1||B<=0)return null;E[T]<0&&o(e(O[T]),n(B,p))&&(V=T);var ee=O[V];for(D[v]=R,b[v++]=ee,E[V]=R,y[g]=V,w[g++]=1,I=N;I<h;I++)F=k[I],E[F]<0&&(y[g]=F,w[g++]=t(O[F],ee)),O[F]=0}for(x[h]=g,C[h]=v,I=0;I<g;I++)y[I]=E[y[I]];return w.splice(g,w.length-g),y.splice(g,y.length-g),b.splice(v,b.length-v),D.splice(v,D.length-v),{L:_,U:A,pinv:E}}});var gT="slu",aW=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Ex=S(gT,aW,r=>{var{typed:e,abs:t,add:n,multiply:i,transpose:a,divideScalar:o,subtract:l,larger:u,largerEq:s,SparseMatrix:c}=r,f=fT({add:n,multiply:i,transpose:a}),p=hT({abs:t,divideScalar:o,multiply:i,subtract:l,larger:u,largerEq:s,SparseMatrix:c});return e(gT,{"SparseMatrix, number, number":function(h,d,g){if(!ze(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var v=f(d,h,!1),w=p(h,v,g);return{L:w.L,U:w.U,p:w.pinv,q:v.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Cx(r,e){var t,n=e.length,i=[];if(r)for(t=0;t<n;t++)i[r[t]]=e[t];else for(t=0;t<n;t++)i[t]=e[t];return i}var vT="lusolve",oW=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Sx=S(vT,oW,r=>{var{typed:e,matrix:t,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:l}=r,u=Wi({DenseMatrix:l});return e(vT,{"Array, Array | Matrix":function(p,m){p=t(p);var h=n(p),d=c(h.L,h.U,h.p,null,m);return d.valueOf()},"DenseMatrix, Array | Matrix":function(p,m){var h=n(p);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix":function(p,m){var h=n(p);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(p,m,h,d){var g=i(p,h,d);return c(g.L,g.U,g.p,g.q,m)},"Object, Array | Matrix":function(p,m){return c(p.L,p.U,p.p,p.q,m)}});function s(f){if(He(f))return f;if(Tt(f))return t(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,p,m,h,d){f=s(f),p=s(p),m&&(d=u(f,d,!0),d._data=Cx(m,d._data));var g=o(f,d),v=a(p,g);return h&&(v._data=Cx(h,v._data)),v}});var yT="polynomialRoot",sW=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],Nx=S(yT,sW,r=>{var{typed:e,isZero:t,equalScalar:n,add:i,subtract:a,multiply:o,divide:l,sqrt:u,unaryMinus:s,cbrt:c,typeOf:f,im:p,re:m}=r;return e(yT,{"number|Complex, ...number|Complex":(h,d)=>{for(var g=[h,...d];g.length>0&&t(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[s(l(g[0],g[1]))];case 3:{var[v,w,y]=g,x=o(2,y),_=o(w,w),b=o(4,y,v);if(n(_,b))return[l(s(w),x)];var D=u(a(_,b));return[l(a(D,w),x),l(a(s(D),w),x)]}case 4:{var[C,A,E,F]=g,I=s(o(3,F)),O=o(E,E),k=o(3,F,A),R=i(o(2,E,E,E),o(27,F,F,C)),T=o(9,F,E,A);if(n(O,k)&&n(R,T))return[l(E,I)];var N=a(O,k),V=a(R,T),B=i(o(18,F,E,A,C),o(E,E,A,A)),X=i(o(4,E,E,E,C),o(4,F,A,A,A),o(27,F,F,C,C));if(n(B,X))return[l(a(o(4,F,E,A),i(o(9,F,F,C),o(E,E,E))),o(F,N)),l(a(o(9,F,C),o(E,A)),o(2,N))];var ee;n(O,k)?ee=V:ee=l(i(V,u(a(o(V,V),o(4,N,N,N)))),2);var W=!0,P=c(ee,W).toArray().map(K=>l(i(E,K,l(N,K)),I));return P.map(K=>f(K)==="Complex"&&n(m(K),m(K)+p(K))?m(K):K)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})});var uW="Help",lW=["parse"],Mx=S(uW,lW,r=>{var{parse:e}=r;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a={},o=0;o<n.examples.length;o++){var l=n.examples[o];i+="    "+l+`
`;var u=void 0;try{u=e(l).compile().evaluate(a)}catch(s){u=s}u!==void 0&&!Sf(u)&&(i+="        "+it(u,{precision:14})+`
`)}i+=`
`}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},t.prototype.toJSON=function(){var n=Ye(this.doc);return n.mathjs="Help",n},t.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});var cW="Chain",fW=["?on","math","typed"],Tx=S(cW,fW,r=>{var{on:e,math:t,typed:n}=r;function i(s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");Nf(s)?this.value=s.value:this.value=s}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return it(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(s){return new i(s.value)};function a(s,c){typeof c=="function"&&(i.prototype[s]=l(c))}function o(s,c){RE(i.prototype,s,function(){var p=c();if(typeof p=="function")return l(p)})}function l(s){return function(){if(arguments.length===0)return new i(s(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(n.isTypedFunction(s)){var p=n.resolve(s,c);if(p.params.length===1)throw new Error("chain function "+s.name+" cannot match rest parameter between chain value and additional arguments.");return new i(p.implementation.apply(s,c))}return new i(s.apply(s,c))}}i.createProxy=function(s,c){if(typeof s=="string")a(s,c);else{var f=function(h){je(s,h)&&u[h]===void 0&&o(h,()=>s[h])};for(var p in s)f(p)}};var u={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(s,c,f){f||o(s,c)}),i},{isClass:!0});var Fx={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var xT={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var bT={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var wT={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var _T={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var AT={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var DT={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var ET={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var CT={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var ST={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var NT={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var Ix={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var MT={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var TT={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var FT={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var IT={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var BT={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var OT={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};var PT={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var RT={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var kT={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var LT={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var VT={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var UT={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var qT={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};var zT={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var $T={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var HT={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var GT={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var WT={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var jT={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var ZT={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var JT={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var YT={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var XT={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var QT={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var KT={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var e2={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var t2={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var r2={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var n2={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var i2={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var a2={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var o2={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var s2={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var u2={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var l2={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var c2={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var f2={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var p2={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var m2={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var d2={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var h2={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var g2={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var v2={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var y2={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var x2={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var b2={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var w2={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var _2={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var A2={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var D2={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var E2={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var C2={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var S2={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var N2={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var M2={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var T2={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var F2={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var I2={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var B2={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var O2={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var P2={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var R2={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var k2={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var L2={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var V2={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var U2={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]};var q2={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var z2={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var $2={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var H2={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var G2={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var W2={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var j2={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var Z2={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var J2={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var Y2={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var X2={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var Q2={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var K2={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var eF={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var tF={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var rF={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var nF={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var iF={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var aF={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var oF={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var sF={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var uF={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var lF={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var cF={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var fF={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var pF={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var mF={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var dF={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var hF={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var gF={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var vF={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var yF={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var xF={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var bF={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var wF={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var _F={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var AF={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var DF={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var EF={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var CF={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var SF={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var NF={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var MF={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var TF={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]};var FF={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var IF={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var BF={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var OF={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var PF={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var RF={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var kF={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var LF={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var VF={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};var UF={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var qF={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var zF={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var $F={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var HF={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var GF={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var WF={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var jF={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var ZF={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var JF={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var YF={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var XF={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var QF={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var KF={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var eI={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var tI={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var rI={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var nI={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var iI={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var aI={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var oI={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var sI={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var uI={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var lI={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var cI={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var fI={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var pI={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var mI={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var dI={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var hI={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var gI={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var vI={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var yI={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var xI={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var bI={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var wI={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var _I={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var AI={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var DI={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var EI={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var CI={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var SI={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var NI={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var MI={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var TI={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var FI={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var II={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var BI={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var OI={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var PI={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var RI={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var kI={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var LI={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var VI={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var UI={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var qI={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var zI={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var $I={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var HI={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var GI={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var WI={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var jI={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var ZI={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var JI={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var YI={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var XI={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var QI={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var KI={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var eB={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var tB={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var rB={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var nB={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var iB={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var aB={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var oB={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var sB={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var uB={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var lB={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var cB={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var fB={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var pB={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var mB={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var dB={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var hB={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var gB={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var vB={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var yB={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var xB={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var bB={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var wB={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var _B={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var AB={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var DB={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var EB={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var CB={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var SB={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var NB={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var MB={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var TB={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var FB={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var IB={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var BB={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var OB={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var PB={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var RB={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var kB={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var LB={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var VB={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]};var UB={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var qB={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var zB={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var $B={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var HB={bignumber:OT,boolean:PT,complex:RT,createUnit:kT,fraction:LT,index:VT,matrix:UT,number:qT,sparse:zT,splitUnit:$T,string:HT,unit:GT,e:Fx,E:Fx,false:xT,i:bT,Infinity:wT,LN2:AT,LN10:_T,LOG2E:ET,LOG10E:DT,NaN:CT,null:ST,pi:Ix,PI:Ix,phi:NT,SQRT1_2:MT,SQRT2:TT,tau:FT,true:IT,version:BT,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:JT,lsolve:XT,lsolveAll:QT,lup:KT,lusolve:e2,leafCount:YT,polynomialRoot:t2,resolve:i2,simplify:a2,simplifyConstant:o2,simplifyCore:s2,symbolicEqual:l2,rationalize:n2,slu:u2,usolve:c2,usolveAll:f2,qr:r2,abs:p2,add:m2,cbrt:d2,ceil:h2,cube:g2,divide:v2,dotDivide:y2,dotMultiply:x2,dotPow:b2,exp:w2,expm:_2,expm1:A2,fix:D2,floor:E2,gcd:C2,hypot:S2,lcm:M2,log:T2,log2:B2,log1p:I2,log10:F2,mod:O2,multiply:P2,norm:R2,nthRoot:k2,nthRoots:L2,pow:V2,round:U2,sign:q2,sqrt:z2,sqrtm:$2,square:j2,subtract:Z2,unaryMinus:J2,unaryPlus:Y2,xgcd:X2,invmod:N2,bitAnd:Q2,bitNot:K2,bitOr:eF,bitXor:tF,leftShift:rF,rightArithShift:nF,rightLogShift:iF,bellNumbers:aF,catalan:oF,composition:sF,stirlingS2:uF,config:WT,import:jT,typed:ZT,arg:lF,conj:cF,re:pF,im:fF,evaluate:mF,help:dF,distance:hF,intersect:gF,and:vF,not:yF,or:xF,xor:bF,concat:_F,count:AF,cross:DF,column:wF,ctranspose:EF,det:CF,diag:SF,diff:NF,dot:MF,getMatrixDataType:OF,identity:PF,filter:FF,flatten:IF,forEach:BF,inv:RF,pinv:kF,eigs:TF,kron:LF,matrixFromFunction:qF,matrixFromRows:zF,matrixFromColumns:UF,map:VF,ones:$F,partitionSelect:HF,range:GF,resize:jF,reshape:WF,rotate:ZF,rotationMatrix:JF,row:YF,size:XF,sort:QF,squeeze:KF,subset:eI,trace:tI,transpose:rI,zeros:nI,fft:iI,ifft:aI,sylvester:H2,schur:G2,lyap:W2,solveODE:$B,combinations:oI,combinationsWithRep:sI,factorial:uI,gamma:lI,kldivergence:fI,lgamma:cI,multinomial:pI,permutations:mI,pickRandom:dI,random:hI,randomInt:gI,compare:vI,compareNatural:yI,compareText:xI,deepEqual:bI,equal:wI,equalText:_I,larger:AI,largerEq:DI,smaller:EI,smallerEq:CI,unequal:SI,setCartesian:NI,setDifference:MI,setDistinct:TI,setIntersect:FI,setIsSubset:II,setMultiplicity:BI,setPowerset:OI,setSize:PI,setSymDifference:RI,setUnion:kI,zpk2tf:LI,freqz:VI,erf:UI,zeta:qI,cumsum:XI,mad:zI,max:$I,mean:HI,median:GI,min:WI,mode:jI,prod:ZI,quantileSeq:JI,std:YI,sum:QI,variance:KI,corr:eB,acos:tB,acosh:rB,acot:nB,acoth:iB,acsc:aB,acsch:oB,asec:sB,asech:uB,asin:lB,asinh:cB,atan:fB,atanh:mB,atan2:pB,cos:dB,cosh:hB,cot:gB,coth:vB,csc:yB,csch:xB,sec:bB,sech:wB,sin:_B,sinh:AB,tan:DB,tanh:EB,to:CB,clone:NB,format:MB,bin:SB,oct:UB,hex:FB,isNaN:BB,isInteger:IB,isNegative:OB,isNumeric:PB,hasNumericValue:TB,isPositive:RB,isPrime:kB,isZero:LB,print:qB,typeOf:zB,numeric:VB};var GB="help",pW=["typed","mathWithTransform","Help"],Bx=S(GB,pW,r=>{var{typed:e,mathWithTransform:t,Help:n}=r;return e(GB,{any:function(a){var o,l=a;if(typeof a!="string"){for(o in t)if(je(t,o)&&a===t[o]){l=o;break}}var u=dr(HB,l);if(!u){var s=typeof l=="function"?l.name:l;throw new Error('No documentation found on "'+s+'"')}return new n(u)}})});var WB="chain",mW=["typed","Chain"],Ox=S(WB,mW,r=>{var{typed:e,Chain:t}=r;return e(WB,{"":function(){return new t},any:function(i){return new t(i)}})});var jB="det",dW=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Px=S(jB,dW,r=>{var{typed:e,matrix:t,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:l}=r;return e(jB,{any:function(c){return Ye(c)},"Array | Matrix":function(c){var f;switch(He(c)?f=c.size():Array.isArray(c)?(c=t(c),f=c.size()):f=[],f.length){case 0:return Ye(c);case 1:if(f[0]===1)return Ye(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+it(f)+")");case 2:{var p=f[0],m=f[1];if(p===m)return u(c.clone().valueOf(),p,m);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+it(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+it(f)+")")}}});function u(s,c,f){if(c===1)return Ye(s[0][0]);if(c===2)return n(i(s[0][0],s[1][1]),i(s[1][0],s[0][1]));for(var p=!1,m=new Array(c).fill(0).map((D,C)=>C),h=0;h<c;h++){var d=m[h];if(o(s[d][h])){var g=void 0;for(g=h+1;g<c;g++)if(!o(s[m[g]][h])){d=m[g],m[g]=m[h],m[h]=d,p=!p;break}if(g===c)return s[d][h]}for(var v=s[d][h],w=h===0?1:s[m[h-1]][h-1],y=h+1;y<c;y++)for(var x=m[y],_=h+1;_<c;_++)s[x][_]=a(n(i(s[x][_],v),i(s[x][h],s[d][_])),w)}var b=s[m[c-1]][c-1];return p?l(b):b}});var ZB="inv",hW=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Rx=S(ZB,hW,r=>{var{typed:e,matrix:t,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:l,identity:u,abs:s}=r;return e(ZB,{"Array | Matrix":function(p){var m=He(p)?p.size():et(p);switch(m.length){case 1:if(m[0]===1)return He(p)?t([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+it(m)+")");case 2:{var h=m[0],d=m[1];if(h===d)return He(p)?t(c(p.valueOf(),h,d),p.storage()):c(p,h,d);throw new RangeError("Matrix must be square (size: "+it(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+it(m)+")")}},any:function(p){return n(1,p)}});function c(f,p,m){var h,d,g,v,w;if(p===1){if(v=f[0][0],v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,v)]]}else if(p===2){var y=l(f);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],y),n(o(f[0][1]),y)],[n(o(f[1][0]),y),n(f[0][0],y)]]}else{var x=f.concat();for(h=0;h<p;h++)x[h]=x[h].concat();for(var _=u(p).valueOf(),b=0;b<m;b++){var D=s(x[b][b]),C=b;for(h=b+1;h<p;)s(x[h][b])>D&&(D=s(x[h][b]),C=h),h++;if(D===0)throw Error("Cannot calculate inverse, determinant is zero");h=C,h!==b&&(w=x[b],x[b]=x[h],x[h]=w,w=_[b],_[b]=_[h],_[h]=w);var A=x[b],E=_[b];for(h=0;h<p;h++){var F=x[h],I=_[h];if(h!==b){if(F[b]!==0){for(g=n(o(F[b]),A[b]),d=b;d<m;d++)F[d]=i(F[d],a(g,A[d]));for(d=0;d<m;d++)I[d]=i(I[d],a(g,E[d]))}}else{for(g=A[b],d=b;d<m;d++)F[d]=n(F[d],g);for(d=0;d<m;d++)I[d]=n(I[d],g)}}}return _}}});var JB="pinv",gW=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],kx=S(JB,gW,r=>{var{typed:e,matrix:t,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:l,ctranspose:u,divideScalar:s,multiply:c,add:f,Complex:p}=r;return e(JB,{"Array | Matrix":function(y){var x=He(y)?y.size():et(y);switch(x.length){case 1:return v(y)?u(y):x[0]===1?n(y):o(u(y),l(y,y));case 2:{if(v(y))return u(y);var _=x[0],b=x[1];if(_===b)try{return n(y)}catch(D){if(!(D instanceof Error&&D.message.match(/Cannot calculate inverse, determinant is zero/)))throw D}return He(y)?t(m(y.valueOf(),_,b),y.storage()):m(y,_,b)}default:throw new RangeError("Matrix must be two dimensional (size: "+it(x)+")")}},any:function(y){return a(y,0)?Ye(y):s(1,y)}});function m(w,y,x){var{C:_,F:b}=d(w,y,x),D=c(n(c(u(_),_)),u(_)),C=c(u(b),n(c(b,u(b))));return c(C,D)}function h(w,y,x){for(var _=Ye(w),b=0,D=0;D<y;D++){if(x<=b)return _;for(var C=D;g(_[C][b]);)if(C++,y===C&&(C=D,b++,x===b))return _;[_[C],_[D]]=[_[D],_[C]];for(var A=_[D][b],E=0;E<x;E++)_[D][E]=o(_[D][E],A);for(var F=0;F<y;F++)if(F!==D){A=_[F][b];for(var I=0;I<x;I++)_[F][I]=f(_[F][I],c(-1,c(A,_[D][I])))}b++}return _}function d(w,y,x){var _=h(w,y,x),b=w.map((C,A)=>C.filter((E,F)=>F<y&&!g(l(_[F],_[F])))),D=_.filter((C,A)=>!g(l(_[A],_[A])));return{C:b,F:D}}function g(w){return a(f(w,p(1,1)),f(0,p(1,1)))}function v(w){return i(f(w,p(1,1)),f(c(w,0),p(1,1)))}});function YB(r){var{addScalar:e,subtract:t,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:l,abs:u,bignumber:s,diag:c,size:f,reshape:p,inv:m,qr:h,usolve:d,usolveAll:g,equal:v,complex:w,larger:y,smaller:x,matrixFromColumns:_,dot:b}=r;function D(W,P,K,ve){var ie=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,oe=C(W,P,K,ve,ie);A(W,P,K,ve,ie,oe);var{values:ge,C:ue}=E(W,P,K,ve,ie);if(ie){var ce=F(W,P,ue,oe,ge,K,ve);return{values:ge,eigenvectors:ce}}return{values:ge}}function C(W,P,K,ve,ie){var oe=ve==="BigNumber",ge=ve==="Complex",ue=oe?s(0):0,ce=oe?s(1):ge?w(1):1,me=oe?s(1):1,de=oe?s(10):2,Be=a(de,de),we;ie&&(we=Array(P).fill(ce));for(var U=!1;!U;){U=!0;for(var G=0;G<P;G++){for(var le=ue,$=ue,Q=0;Q<P;Q++)G!==Q&&(le=e(le,u(W[Q][G])),$=e($,u(W[G][Q])));if(!v(le,0)&&!v($,0)){for(var re=me,he=le,ye=o($,de),Le=a($,de);x(he,ye);)he=a(he,Be),re=a(re,de);for(;y(he,Le);)he=o(he,Be),re=o(re,de);var Ae=x(o(e(he,$),re),a(e(le,$),.95));if(Ae){U=!1;for(var ct=o(1,re),xt=0;xt<P;xt++)G!==xt&&(W[G][xt]=a(W[G][xt],ct),W[xt][G]=a(W[xt][G],re));ie&&(we[G]=a(we[G],ct))}}}}return ie?c(we):null}function A(W,P,K,ve,ie,oe){var ge=ve==="BigNumber",ue=ve==="Complex",ce=ge?s(0):ue?w(0):0;ge&&(K=s(K));for(var me=0;me<P-2;me++){for(var de=0,Be=ce,we=me+1;we<P;we++){var U=W[we][me];x(u(Be),u(U))&&(Be=U,de=we)}if(!x(u(Be),K)){if(de!==me+1){var G=W[de];W[de]=W[me+1],W[me+1]=G;for(var le=0;le<P;le++){var $=W[le][de];W[le][de]=W[le][me+1],W[le][me+1]=$}if(ie){var Q=oe[de];oe[de]=oe[me+1],oe[me+1]=Q}}for(var re=me+2;re<P;re++){var he=o(W[re][me],Be);if(he!==0){for(var ye=0;ye<P;ye++)W[re][ye]=t(W[re][ye],a(he,W[me+1][ye]));for(var Le=0;Le<P;Le++)W[Le][me+1]=e(W[Le][me+1],a(he,W[Le][re]));if(ie)for(var Ae=0;Ae<P;Ae++)oe[re][Ae]=t(oe[re][Ae],a(he,oe[me+1][Ae]))}}}}return oe}function E(W,P,K,ve,ie){var oe=ve==="BigNumber",ge=ve==="Complex",ue=oe?s(1):ge?w(1):1;oe&&(K=s(K));for(var ce=Ye(W),me=[],de=P,Be=[],we=ie?c(Array(P).fill(ue)):void 0,U=ie?c(Array(de).fill(ue)):void 0,G=0;G<=100;){G+=1;for(var le=ce[de-1][de-1],$=0;$<de;$++)ce[$][$]=t(ce[$][$],le);var{Q,R:re}=h(ce);ce=i(re,Q);for(var he=0;he<de;he++)ce[he][he]=e(ce[he][he],le);if(ie&&(U=i(U,Q)),de===1||x(u(ce[de-1][de-2]),K)){G=0,me.push(ce[de-1][de-1]),ie&&(Be.unshift([[1]]),k(U,P),we=i(we,U),de>1&&(U=c(Array(de-1).fill(ue)))),de-=1,ce.pop();for(var ye=0;ye<de;ye++)ce[ye].pop()}else if(de===2||x(u(ce[de-2][de-3]),K)){G=0;var Le=I(ce[de-2][de-2],ce[de-2][de-1],ce[de-1][de-2],ce[de-1][de-1]);me.push(...Le),ie&&(Be.unshift(O(ce[de-2][de-2],ce[de-2][de-1],ce[de-1][de-2],ce[de-1][de-1],Le[0],Le[1],K,ve)),k(U,P),we=i(we,U),de>2&&(U=c(Array(de-2).fill(ue)))),de-=2,ce.pop(),ce.pop();for(var Ae=0;Ae<de;Ae++)ce[Ae].pop(),ce[Ae].pop()}if(de===0)break}if(me.sort((Ut,Xt)=>+t(u(Ut),u(Xt))),G>100){var ct=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+me.join(", "));throw ct.values=me,ct.vectors=[],ct}var xt=ie?i(we,R(Be,P)):void 0;return{values:me,C:xt}}function F(W,P,K,ve,ie,oe,ge){var ue=m(K),ce=i(ue,W,K),me=ge==="BigNumber",de=ge==="Complex",Be=me?s(0):de?w(0):0,we=me?s(1):de?w(1):1,U=[],G=[];for(var le of ie){var $=T(U,le,v);$===-1?(U.push(le),G.push(1)):G[$]+=1}for(var Q=[],re=U.length,he=Array(P).fill(Be),ye=c(Array(P).fill(we)),Le=function(){var xt=U[Ae],Ut=t(ce,i(xt,ye)),Xt=g(Ut,he);for(Xt.shift();Xt.length<G[Ae];){var H=N(Ut,P,Xt,oe,ge);if(H===null)break;Xt.push(H)}var ne=i(m(ve),K);Xt=Xt.map(pe=>i(ne,pe)),Q.push(...Xt.map(pe=>({value:xt,vector:n(pe)})))},Ae=0;Ae<re;Ae++)Le();return Q}function I(W,P,K,ve){var ie=e(W,ve),oe=t(a(W,ve),a(P,K)),ge=a(ie,.5),ue=a(l(t(a(ie,ie),a(4,oe))),.5);return[e(ge,ue),t(ge,ue)]}function O(W,P,K,ve,ie,oe,ge,ue){var ce=ue==="BigNumber",me=ue==="Complex",de=ce?s(0):me?w(0):0,Be=ce?s(1):me?w(1):1;if(x(u(K),ge))return[[Be,de],[de,Be]];if(y(u(t(ie,oe)),ge))return[[t(ie,ve),t(oe,ve)],[K,K]];var we=t(W,ie),U=t(ve,ie);return x(u(P),ge)&&x(u(U),ge)?[[we,Be],[K,de]]:[[P,de],[U,Be]]}function k(W,P){for(var K=0;K<W.length;K++)W[K].push(...Array(P-W[K].length).fill(0));for(var ve=W.length;ve<P;ve++)W.push(Array(P).fill(0)),W[ve][ve]=1;return W}function R(W,P){for(var K=[],ve=0;ve<P;ve++)K[ve]=Array(P).fill(0);var ie=0;for(var oe of W){for(var ge=oe.length,ue=0;ue<ge;ue++)for(var ce=0;ce<ge;ce++)K[ie+ue][ie+ce]=oe[ue][ce];ie+=ge}return K}function T(W,P,K){for(var ve=0;ve<W.length;ve++)if(K(W[ve],P))return ve;return-1}function N(W,P,K,ve,ie){for(var oe=ie==="BigNumber"?s(1e3):1e3,ge,ue=0;ue<5;++ue){ge=V(P,K,ie);try{ge=d(W,ge)}catch(me){continue}if(y(X(ge),oe))break}if(ue>=5)return null;for(ue=0;;){var ce=d(W,ge);if(x(X(B(ge,[ce])),ve))break;if(++ue>=10)return null;ge=ee(ce)}return ge}function V(W,P,K){var ve=K==="BigNumber",ie=K==="Complex",oe=Array(W).fill(0).map(ge=>2*Math.random()-1);return ve&&(oe=oe.map(ge=>s(ge))),ie&&(oe=oe.map(ge=>w(ge))),oe=B(oe,P),ee(oe,K)}function B(W,P){var K=f(W);for(var ve of P)ve=p(ve,K),W=t(W,i(o(b(ve,W),b(ve,ve)),ve));return W}function X(W){return u(l(b(W,W)))}function ee(W,P){var K=P==="BigNumber",ve=P==="Complex",ie=K?s(1):ve?w(1):1;return i(o(ie,X(W)),W)}return D}function XB(r){var{config:e,addScalar:t,subtract:n,abs:i,atan:a,cos:o,sin:l,multiplyScalar:u,inv:s,bignumber:c,multiply:f,add:p}=r;function m(A,E){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,I=arguments.length>3?arguments[3]:void 0,O=arguments.length>4?arguments[4]:void 0;if(I==="number")return h(A,F,O);if(I==="BigNumber")return d(A,F,O);throw TypeError("Unsupported data type: "+I)}function h(A,E,F){var I=A.length,O=Math.abs(E/I),k,R;if(F){R=new Array(I);for(var T=0;T<I;T++)R[T]=Array(I).fill(0),R[T][T]=1}for(var N=b(A);Math.abs(N[1])>=Math.abs(O);){var V=N[0][0],B=N[0][1];k=g(A[V][V],A[B][B],A[V][B]),A=_(A,k,V,B),F&&(R=w(R,k,V,B)),N=b(A)}for(var X=Array(I).fill(0),ee=0;ee<I;ee++)X[ee]=A[ee][ee];return C(Ye(X),R,F)}function d(A,E,F){var I=A.length,O=i(E/I),k,R;if(F){R=new Array(I);for(var T=0;T<I;T++)R[T]=Array(I).fill(0),R[T][T]=1}for(var N=D(A);i(N[1])>=i(O);){var V=N[0][0],B=N[0][1];k=v(A[V][V],A[B][B],A[V][B]),A=x(A,k,V,B),F&&(R=y(R,k,V,B)),N=D(A)}for(var X=Array(I).fill(0),ee=0;ee<I;ee++)X[ee]=A[ee][ee];return C(Ye(X),R,F)}function g(A,E,F){var I=E-A;return Math.abs(I)<=e.epsilon?Math.PI/4:.5*Math.atan(2*F/(E-A))}function v(A,E,F){var I=n(E,A);return i(I)<=e.epsilon?c(-1).acos().div(4):u(.5,a(f(2,F,s(I))))}function w(A,E,F,I){for(var O=A.length,k=Math.cos(E),R=Math.sin(E),T=Array(O).fill(0),N=Array(O).fill(0),V=0;V<O;V++)T[V]=k*A[V][F]-R*A[V][I],N[V]=R*A[V][F]+k*A[V][I];for(var B=0;B<O;B++)A[B][F]=T[B],A[B][I]=N[B];return A}function y(A,E,F,I){for(var O=A.length,k=o(E),R=l(E),T=Array(O).fill(c(0)),N=Array(O).fill(c(0)),V=0;V<O;V++)T[V]=n(u(k,A[V][F]),u(R,A[V][I])),N[V]=t(u(R,A[V][F]),u(k,A[V][I]));for(var B=0;B<O;B++)A[B][F]=T[B],A[B][I]=N[B];return A}function x(A,E,F,I){for(var O=A.length,k=c(o(E)),R=c(l(E)),T=u(k,k),N=u(R,R),V=Array(O).fill(c(0)),B=Array(O).fill(c(0)),X=f(c(2),k,R,A[F][I]),ee=t(n(u(T,A[F][F]),X),u(N,A[I][I])),W=p(u(N,A[F][F]),X,u(T,A[I][I])),P=0;P<O;P++)V[P]=n(u(k,A[F][P]),u(R,A[I][P])),B[P]=t(u(R,A[F][P]),u(k,A[I][P]));A[F][F]=ee,A[I][I]=W,A[F][I]=c(0),A[I][F]=c(0);for(var K=0;K<O;K++)K!==F&&K!==I&&(A[F][K]=V[K],A[K][F]=V[K],A[I][K]=B[K],A[K][I]=B[K]);return A}function _(A,E,F,I){for(var O=A.length,k=Math.cos(E),R=Math.sin(E),T=k*k,N=R*R,V=Array(O).fill(0),B=Array(O).fill(0),X=T*A[F][F]-2*k*R*A[F][I]+N*A[I][I],ee=N*A[F][F]+2*k*R*A[F][I]+T*A[I][I],W=0;W<O;W++)V[W]=k*A[F][W]-R*A[I][W],B[W]=R*A[F][W]+k*A[I][W];A[F][F]=X,A[I][I]=ee,A[F][I]=0,A[I][F]=0;for(var P=0;P<O;P++)P!==F&&P!==I&&(A[F][P]=V[P],A[P][F]=V[P],A[I][P]=B[P],A[P][I]=B[P]);return A}function b(A){for(var E=A.length,F=0,I=[0,1],O=0;O<E;O++)for(var k=O+1;k<E;k++)Math.abs(F)<Math.abs(A[O][k])&&(F=Math.abs(A[O][k]),I=[O,k]);return[I,F]}function D(A){for(var E=A.length,F=0,I=[0,1],O=0;O<E;O++)for(var k=O+1;k<E;k++)i(F)<i(A[O][k])&&(F=i(A[O][k]),I=[O,k]);return[I,F]}function C(A,E,F){var I=A.length,O=Array(I),k;if(F){k=Array(I);for(var R=0;R<I;R++)k[R]=Array(I)}for(var T=0;T<I;T++){for(var N=0,V=A[0],B=0;B<A.length;B++)i(A[B])<i(V)&&(N=B,V=A[N]);if(O[T]=A.splice(N,1)[0],F)for(var X=0;X<I;X++)k[T][X]=E[X][N],E[X].splice(N,1)}if(!F)return{values:O};var ee=k.map((W,P)=>({value:O[P],vector:W}));return{values:O,eigenvectors:ee}}return m}var vW="eigs",yW=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],Lx=S(vW,yW,r=>{var{config:e,typed:t,matrix:n,addScalar:i,subtract:a,equal:o,abs:l,atan:u,cos:s,sin:c,multiplyScalar:f,divideScalar:p,inv:m,bignumber:h,multiply:d,add:g,larger:v,column:w,flatten:y,number:x,complex:_,sqrt:b,diag:D,size:C,reshape:A,qr:E,usolve:F,usolveAll:I,im:O,re:k,smaller:R,matrixFromColumns:T,dot:N}=r,V=XB({config:e,addScalar:i,subtract:a,column:w,flatten:y,equal:o,abs:l,atan:u,cos:s,sin:c,multiplyScalar:f,inv:m,bignumber:h,complex:_,multiply:d,add:g}),B=YB({config:e,addScalar:i,subtract:a,multiply:d,multiplyScalar:f,flatten:y,divideScalar:p,sqrt:b,abs:l,bignumber:h,diag:D,size:C,reshape:A,qr:E,inv:m,usolve:F,usolveAll:I,equal:o,complex:_,larger:v,smaller:R,matrixFromColumns:T,dot:N});return t("eigs",{Array:function(oe){return X(n(oe))},"Array, number|BigNumber":function(oe,ge){return X(n(oe),{precision:ge})},"Array, Object"(ie,oe){return X(n(ie),oe)},Matrix:function(oe){return X(oe,{matricize:!0})},"Matrix, number|BigNumber":function(oe,ge){return X(oe,{precision:ge,matricize:!0})},"Matrix, Object":function(oe,ge){var ue={matricize:!0};return mr(ue,ge),X(oe,ue)}});function X(ie){var oe,ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue="eigenvectors"in ge?ge.eigenvectors:!0,ce=(oe=ge.precision)!==null&&oe!==void 0?oe:e.epsilon,me=ee(ie,ce,ue);return ge.matricize&&(me.values=n(me.values),ue&&(me.eigenvectors=me.eigenvectors.map(de=>{var{value:Be,vector:we}=de;return{value:Be,vector:n(we)}}))),ue&&Object.defineProperty(me,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),me}function ee(ie,oe,ge){var ue=ie.toArray(),ce=ie.size();if(ce.length!==2||ce[0]!==ce[1])throw new RangeError("Matrix must be square (size: ".concat(it(ce),")"));var me=ce[0];if(P(ue,me,oe)&&(K(ue,me),W(ue,me,oe))){var de=ve(ie,ue,me);return V(ue,me,oe,de,ge)}var Be=ve(ie,ue,me);return B(ue,me,oe,Be,ge)}function W(ie,oe,ge){for(var ue=0;ue<oe;ue++)for(var ce=ue;ce<oe;ce++)if(v(h(l(a(ie[ue][ce],ie[ce][ue]))),ge))return!1;return!0}function P(ie,oe,ge){for(var ue=0;ue<oe;ue++)for(var ce=0;ce<oe;ce++)if(v(h(l(O(ie[ue][ce]))),ge))return!1;return!0}function K(ie,oe){for(var ge=0;ge<oe;ge++)for(var ue=0;ue<oe;ue++)ie[ge][ue]=k(ie[ge][ue])}function ve(ie,oe,ge){var ue=ie.datatype();if(ue==="number"||ue==="BigNumber"||ue==="Complex")return ue;for(var ce=!1,me=!1,de=!1,Be=0;Be<ge;Be++)for(var we=0;we<ge;we++){var U=oe[Be][we];if(nt(U)||pa(U))ce=!0;else if(tt(U))me=!0;else if(Sn(U))de=!0;else throw TypeError("Unsupported type in Matrix: "+St(U))}if(me&&de&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),de){for(var G=0;G<ge;G++)for(var le=0;le<ge;le++)oe[G][le]=_(oe[G][le]);return"Complex"}if(me){for(var $=0;$<ge;$++)for(var Q=0;Q<ge;Q++)oe[$][Q]=h(oe[$][Q]);return"BigNumber"}if(ce){for(var re=0;re<ge;re++)for(var he=0;he<ge;he++)oe[re][he]=x(oe[re][he]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var QB="expm",xW=["typed","abs","add","identity","inv","multiply"],Vx=S(QB,xW,r=>{var{typed:e,abs:t,add:n,identity:i,inv:a,multiply:o}=r;return e(QB,{Matrix:function(f){var p=f.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+it(p)+")");for(var m=p[0],h=1e-15,d=l(f),g=u(d,h),v=g.q,w=g.j,y=o(f,Math.pow(2,-w)),x=i(m),_=i(m),b=1,D=y,C=-1,A=1;A<=v;A++)A>1&&(D=o(D,y),C=-C),b=b*(v-A+1)/((2*v-A+1)*A),x=n(x,o(b,D)),_=n(_,o(b*C,D));for(var E=o(a(_),x),F=0;F<w;F++)E=o(E,E);return Ci(f)?f.createSparseMatrix(E):E}});function l(c){for(var f=c.size()[0],p=0,m=0;m<f;m++){for(var h=0,d=0;d<f;d++)h+=t(c.get([m,d]));p=Math.max(h,p)}return p}function u(c,f){for(var p=30,m=0;m<p;m++)for(var h=0;h<=m;h++){var d=m-h;if(s(c,h,d)<f)return{q:h,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function s(c,f,p){for(var m=1,h=2;h<=f;h++)m*=h;for(var d=m,g=f+1;g<=2*f;g++)d*=g;var v=d*(2*f+1);return 8*Math.pow(c/Math.pow(2,p),2*f)*m*m/(d*v)}});var KB="sqrtm",bW=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],Ux=S(KB,bW,r=>{var{typed:e,abs:t,add:n,multiply:i,map:a,sqrt:o,subtract:l,inv:u,size:s,max:c,identity:f}=r,p=1e3,m=1e-6;function h(d){var g,v=0,w=d,y=f(s(d));do{var x=w;if(w=i(.5,n(x,u(y))),y=i(.5,n(y,u(x))),g=c(t(l(w,x))),g>m&&++v>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>m);return w}return e(KB,{"Array | Matrix":function(g){var v=He(g)?g.size():et(g);switch(v.length){case 1:if(v[0]===1)return a(g,o);throw new RangeError("Matrix must be square (size: "+it(v)+")");case 2:{var w=v[0],y=v[1];if(w===y)return h(g);throw new RangeError("Matrix must be square (size: "+it(v)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+it(v)+")")}}})});var eO="sylvester",wW=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],qx=S(eO,wW,r=>{var{typed:e,schur:t,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:l,transpose:u,index:s,subset:c,add:f,subtract:p,identity:m,lusolve:h,abs:d}=r;return e(eO,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(w,y,x){return g(i(w),y,x)},"Array, Array, Matrix":function(w,y,x){return g(i(w),i(y),x)},"Array, Matrix, Array":function(w,y,x){return g(i(w),y,i(x))},"Matrix, Array, Matrix":function(w,y,x){return g(w,i(y),x)},"Matrix, Array, Array":function(w,y,x){return g(w,i(y),i(x))},"Matrix, Matrix, Array":function(w,y,x){return g(w,y,i(x))},"Array, Array, Array":function(w,y,x){return g(i(w),i(y),i(x)).toArray()}});function g(v,w,y){for(var x=w.size()[0],_=v.size()[0],b=t(v),D=b.T,C=b.U,A=t(a(-1,w)),E=A.T,F=A.U,I=a(a(u(C),y),F),O=o(0,_),k=[],R=(de,Be)=>l(de,Be,1),T=(de,Be)=>l(de,Be,0),N=0;N<x;N++)if(N<x-1&&d(c(E,s(N+1,N)))>1e-5){for(var V=T(c(I,s(O,N)),c(I,s(O,N+1))),B=0;B<N;B++)V=f(V,T(a(k[B],c(E,s(B,N))),a(k[B],c(E,s(B,N+1)))));var X=a(m(_),a(-1,c(E,s(N,N)))),ee=a(m(_),a(-1,c(E,s(N+1,N)))),W=a(m(_),a(-1,c(E,s(N,N+1)))),P=a(m(_),a(-1,c(E,s(N+1,N+1)))),K=T(R(f(D,X),ee),R(W,f(D,P))),ve=h(K,V);k[N]=ve.subset(s(o(0,_),0)),k[N+1]=ve.subset(s(o(_,2*_),0)),N++}else{for(var ie=c(I,s(O,N)),oe=0;oe<N;oe++)ie=f(ie,a(k[oe],c(E,s(oe,N))));var ge=c(E,s(N,N)),ue=p(D,a(ge,m(_)));k[N]=h(ue,ie)}var ce=i(n(...k)),me=a(C,a(ce,u(F)));return me}});var tO="schur",_W=["typed","matrix","identity","multiply","qr","norm","subtract"],zx=S(tO,_W,r=>{var{typed:e,matrix:t,identity:n,multiply:i,qr:a,norm:o,subtract:l}=r;return e(tO,{Array:function(c){var f=u(t(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return u(c)}});function u(s){var c=s.size()[0],f=s,p=n(c),m=0,h;do{h=f;var d=a(f),g=d.Q,v=d.R;if(f=i(v,g),p=i(p,g),m++>100)break}while(o(l(f,h))>1e-4);return{U:p,T:f}}});var rO="lyap",AW=["typed","matrix","sylvester","multiply","transpose"],$x=S(rO,AW,r=>{var{typed:e,matrix:t,sylvester:n,multiply:i,transpose:a}=r;return e(rO,{"Matrix, Matrix":function(l,u){return n(l,a(l),i(-1,u))},"Array, Matrix":function(l,u){return n(t(l),a(t(l)),i(-1,u))},"Matrix, Array":function(l,u){return n(l,a(t(l)),t(i(-1,u)))},"Array, Array":function(l,u){return n(t(l),a(t(l)),t(i(-1,u))).toArray()}})});var DW="divide",EW=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Hx=S(DW,EW,r=>{var{typed:e,matrix:t,multiply:n,equalScalar:i,divideScalar:a,inv:o}=r,l=Ht({typed:e,equalScalar:i}),u=Tr({typed:e});return e("divide",Mf({"Array | Matrix, Array | Matrix":function(c,f){return n(c,o(f))},"DenseMatrix, any":function(c,f){return u(c,f,a,!1)},"SparseMatrix, any":function(c,f){return l(c,f,a,!1)},"Array, any":function(c,f){return u(t(c),f,a,!1).valueOf()},"any, Array | Matrix":function(c,f){return n(c,o(f))}},a.signatures))});var nO="distance",CW=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],Gx=S(nO,CW,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:l,abs:u}=r;return e(nO,{"Array, Array, Array":function(_,b,D){if(_.length===2&&b.length===2&&D.length===2){if(!c(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(D))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(b,D))throw new TypeError("LinePoint1 should not be same with LinePoint2");var C=n(D[1],b[1]),A=n(b[0],D[0]),E=n(i(D[0],b[1]),i(b[0],D[1]));return g(_[0],_[1],C,A,E)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(_,b,D){if(Object.keys(_).length===2&&Object.keys(b).length===2&&Object.keys(D).length===2){if(!c(_))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(D))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(b),h(D)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in _&&"pointY"in _&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in D&&"lineTwoPtY"in D){var C=n(D.lineTwoPtY,b.lineOnePtY),A=n(b.lineOnePtX,D.lineTwoPtX),E=n(i(D.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,D.lineTwoPtY));return g(_.pointX,_.pointY,C,A,E)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(_,b){if(_.length===2&&b.length===3){if(!c(_))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(_[0],_[1],b[0],b[1],b[2])}else if(_.length===3&&b.length===6){if(!f(_))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return v(_[0],_[1],_[2],b[0],b[1],b[2],b[3],b[4],b[5])}else if(_.length===b.length&&_.length>0){if(!p(_))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return w(_,b)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(_,b){if(Object.keys(_).length===2&&Object.keys(b).length===3){if(!c(_))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in _&&"pointY"in _&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return g(_.pointX,_.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===3&&Object.keys(b).length===6){if(!f(_))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in _&&"pointY"in _&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return v(_.pointX,_.pointY,_.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===2&&Object.keys(b).length===2){if(!c(_))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in _&&"pointOneY"in _&&"pointTwoX"in b&&"pointTwoY"in b)return w([_.pointOneX,_.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(_).length===3&&Object.keys(b).length===3){if(!f(_))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in _&&"pointOneY"in _&&"pointOneZ"in _&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return w([_.pointOneX,_.pointOneY,_.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(_){if(!d(_))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return y(_)}});function s(x){return typeof x=="number"||tt(x)}function c(x){return x.constructor!==Array&&(x=h(x)),s(x[0])&&s(x[1])}function f(x){return x.constructor!==Array&&(x=h(x)),s(x[0])&&s(x[1])&&s(x[2])}function p(x){return Array.isArray(x)||(x=h(x)),x.every(s)}function m(x){return x.constructor!==Array&&(x=h(x)),s(x[0])&&s(x[1])&&s(x[2])&&s(x[3])&&s(x[4])&&s(x[5])}function h(x){for(var _=Object.keys(x),b=[],D=0;D<_.length;D++)b.push(x[_[D]]);return b}function d(x){if(x[0].length===2&&s(x[0][0])&&s(x[0][1])){if(x.some(_=>_.length!==2||!s(_[0])||!s(_[1])))return!1}else if(x[0].length===3&&s(x[0][0])&&s(x[0][1])&&s(x[0][2])){if(x.some(_=>_.length!==3||!s(_[0])||!s(_[1])||!s(_[2])))return!1}else return!1;return!0}function g(x,_,b,D,C){var A=u(t(t(i(b,x),i(D,_)),C)),E=l(t(i(b,b),i(D,D)));return a(A,E)}function v(x,_,b,D,C,A,E,F,I){var O=[n(i(n(C,_),I),i(n(A,b),F)),n(i(n(A,b),E),i(n(D,x),I)),n(i(n(D,x),F),i(n(C,_),E))];O=l(t(t(i(O[0],O[0]),i(O[1],O[1])),i(O[2],O[2])));var k=l(t(t(i(E,E),i(F,F)),i(I,I)));return a(O,k)}function w(x,_){for(var b=x.length,D=0,C=0,A=0;A<b;A++)C=n(x[A],_[A]),D=t(i(C,C),D);return l(D)}function y(x){for(var _=[],b=[],D=[],C=0;C<x.length-1;C++)for(var A=C+1;A<x.length;A++)x[0].length===2?(b=[x[C][0],x[C][1]],D=[x[A][0],x[A][1]]):x[0].length===3&&(b=[x[C][0],x[C][1],x[C][2]],D=[x[A][0],x[A][1],x[A][2]]),_.push(w(b,D));return _}});var SW="intersect",NW=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],Wx=S(SW,NW,r=>{var{typed:e,config:t,abs:n,add:i,addScalar:a,matrix:o,multiply:l,multiplyScalar:u,divideScalar:s,subtract:c,smaller:f,equalScalar:p,flatten:m,isZero:h,isNumeric:d}=r;return e("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":v,"Matrix, Matrix, Matrix":function(F,I,O){var k=g(F.valueOf(),I.valueOf(),O.valueOf());return k===null?null:o(k)},"Matrix, Matrix, Matrix, Matrix":function(F,I,O,k){var R=v(F.valueOf(),I.valueOf(),O.valueOf(),k.valueOf());return R===null?null:o(R)}});function g(E,F,I){if(E=w(E),F=w(F),I=w(I),!x(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!_(I))throw new TypeError("Array with 4 numbers expected as third argument");return A(E[0],E[1],E[2],F[0],F[1],F[2],I[0],I[1],I[2],I[3])}function v(E,F,I,O){if(E=w(E),F=w(F),I=w(I),O=w(O),E.length===2){if(!y(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!y(F))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!y(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!y(O))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return b(E,F,I,O)}else if(E.length===3){if(!x(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!x(O))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return C(E[0],E[1],E[2],F[0],F[1],F[2],I[0],I[1],I[2],O[0],O[1],O[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function w(E){return E.length===1?E[0]:E.length>1&&Array.isArray(E[0])&&E.every(F=>Array.isArray(F)&&F.length===1)?m(E):E}function y(E){return E.length===2&&d(E[0])&&d(E[1])}function x(E){return E.length===3&&d(E[0])&&d(E[1])&&d(E[2])}function _(E){return E.length===4&&d(E[0])&&d(E[1])&&d(E[2])&&d(E[3])}function b(E,F,I,O){var k=E,R=I,T=c(k,F),N=c(R,O),V=c(u(T[0],N[1]),u(N[0],T[1]));if(h(V)||f(n(V),t.epsilon))return null;var B=u(N[0],k[1]),X=u(N[1],k[0]),ee=u(N[0],R[1]),W=u(N[1],R[0]),P=s(a(c(c(B,X),ee),W),V);return i(l(T,P),k)}function D(E,F,I,O,k,R,T,N,V,B,X,ee){var W=u(c(E,F),c(I,O)),P=u(c(k,R),c(T,N)),K=u(c(V,B),c(X,ee));return a(a(W,P),K)}function C(E,F,I,O,k,R,T,N,V,B,X,ee){var W=D(E,T,B,T,F,N,X,N,I,V,ee,V),P=D(B,T,O,E,X,N,k,F,ee,V,R,I),K=D(E,T,O,E,F,N,k,F,I,V,R,I),ve=D(B,T,B,T,X,N,X,N,ee,V,ee,V),ie=D(O,E,O,E,k,F,k,F,R,I,R,I),oe=c(u(W,P),u(K,ve)),ge=c(u(ie,ve),u(P,P));if(h(ge))return null;var ue=s(oe,ge),ce=s(a(W,u(ue,P)),ve),me=a(E,u(ue,c(O,E))),de=a(F,u(ue,c(k,F))),Be=a(I,u(ue,c(R,I))),we=a(T,u(ce,c(B,T))),U=a(N,u(ce,c(X,N))),G=a(V,u(ce,c(ee,V)));return p(me,we)&&p(de,U)&&p(Be,G)?[me,de,Be]:null}function A(E,F,I,O,k,R,T,N,V,B){var X=u(E,T),ee=u(O,T),W=u(F,N),P=u(k,N),K=u(I,V),ve=u(R,V),ie=c(c(c(B,X),W),K),oe=c(c(c(a(a(ee,P),ve),X),W),K),ge=s(ie,oe),ue=a(E,u(ge,c(O,E))),ce=a(F,u(ge,c(k,F))),me=a(I,u(ge,c(R,I)));return[ue,ce,me]}});var iO="sum",MW=["typed","config","add","numeric"],gl=S(iO,MW,r=>{var{typed:e,config:t,add:n,numeric:i}=r;return e(iO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(u){if(mi(u))throw new TypeError("Scalar values expected in function sum");return a(u)}});function a(l){var u;return vn(l,function(s){try{u=u===void 0?s:n(u,s)}catch(c){throw wr(c,"sum",s)}}),u===void 0&&(u=i(0,t.number)),typeof u=="string"&&(u=i(u,t.number)),u}function o(l,u){try{var s=Ja(l,u,n);return s}catch(c){throw wr(c,"sum")}}});var Pp="cumsum",TW=["typed","add","unaryPlus"],vl=S(Pp,TW,r=>{var{typed:e,add:t,unaryPlus:n}=r;return e(Pp,{Array:i,Matrix:function(s){return s.create(i(s.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(s,c){return s.create(o(s.valueOf(),c))},"...":function(s){if(mi(s))throw new TypeError("All values expected to be scalar in function cumsum");return i(s)}});function i(u){try{return a(u)}catch(s){throw wr(s,Pp)}}function a(u){if(u.length===0)return[];for(var s=[n(u[0])],c=1;c<u.length;++c)s.push(t(s[c-1],u[c]));return s}function o(u,s){var c=et(u);if(s<0||s>=c.length)throw new un(s,c.length);try{return l(u,s)}catch(f){throw wr(f,Pp)}}function l(u,s){var c,f,p;if(s<=0){var m=u[0][0];if(Array.isArray(m)){for(p=Jf(u),f=[],c=0;c<p.length;c++)f[c]=l(p[c],s-1);return f}else return a(u)}else{for(f=[],c=0;c<u.length;c++)f[c]=l(u[c],s-1);return f}}});var aO="mean",FW=["typed","add","divide"],yl=S(aO,FW,r=>{var{typed:e,add:t,divide:n}=r;return e(aO,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(l){if(mi(l))throw new TypeError("Scalar values expected in function mean");return a(l)}});function i(o,l){try{var u=Ja(o,l,t),s=Array.isArray(o)?et(o):o.size();return n(u,s[l])}catch(c){throw wr(c,"mean")}}function a(o){var l,u=0;if(vn(o,function(s){try{l=l===void 0?s:t(l,s),u++}catch(c){throw wr(c,"mean",s)}}),u===0)throw new Error("Cannot calculate the mean of an empty array");return n(l,u)}});var oO="median",IW=["typed","add","divide","compare","partitionSelect"],jx=S(oO,IW,r=>{var{typed:e,add:t,divide:n,compare:i,partitionSelect:a}=r;function o(s){try{s=pt(s.valueOf());var c=s.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,p=a(s,f+1),m=s[f],h=0;h<f;++h)i(s[h],m)>0&&(m=s[h]);return u(m,p)}else{var d=a(s,(c-1)/2);return l(d)}}catch(g){throw wr(g,"median")}}var l=e({"number | BigNumber | Complex | Unit":function(c){return c}}),u=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return n(t(c,f),2)}});return e(oO,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(mi(c))throw new TypeError("Scalar values expected in function median");return o(c)}})});var sO="mad",BW=["typed","abs","map","median","subtract"],Zx=S(sO,BW,r=>{var{typed:e,abs:t,map:n,median:i,subtract:a}=r;return e(sO,{"Array | Matrix":o,"...":function(u){return o(u)}});function o(l){if(l=pt(l.valueOf()),l.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var u=i(l);return i(n(l,function(s){return t(a(s,u))}))}catch(s){throw s instanceof TypeError&&s.message.indexOf("median")!==-1?new TypeError(s.message.replace("median","mad")):wr(s,"mad")}}});var Jx="unbiased",uO="variance",OW=["typed","add","subtract","multiply","divide","apply","isNaN"],xl=S(uO,OW,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:l}=r;return e(uO,{"Array | Matrix":function(f){return u(f,Jx)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(f,p){return s(f,p,Jx)},"Array | Matrix, number | BigNumber, string":s,"...":function(f){return u(f,Jx)}});function u(c,f){var p,m=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(vn(c,function(g){try{p=p===void 0?g:t(p,g),m++}catch(v){throw wr(v,"variance",g)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var h=a(p,m);if(p=void 0,vn(c,function(g){var v=n(g,h);p=p===void 0?i(v,v):t(p,i(v,v))}),l(p))return p;switch(f){case"uncorrected":return a(p,m);case"biased":return a(p,m+1);case"unbiased":{var d=tt(p)?p.mul(0):0;return m===1?d:a(p,m-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function s(c,f,p){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(c,f,m=>u(m,p))}catch(m){throw wr(m,"variance")}}});var lO="quantileSeq",PW=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],bl=S(lO,PW,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:p}=r,m=Ho({typed:e,isInteger:s});return e(lO,{"Array | Matrix, number | BigNumber":(w,y)=>d(w,y,!1),"Array | Matrix, number | BigNumber, number":(w,y,x)=>h(w,y,!1,x,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(w,y,x,_)=>h(w,y,x,_,d),"Array | Matrix, Array | Matrix":(w,y)=>g(w,y,!1),"Array | Matrix, Array | Matrix, number":(w,y,x)=>h(w,y,!1,x,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(w,y,x,_)=>h(w,y,x,_,g)});function h(w,y,x,_,b){return m(w,_,D=>b(D,y,x))}function d(w,y,x){var _,b=w.valueOf();if(c(y,0))throw new Error("N/prob must be non-negative");if(f(y,1))return nt(y)?v(b,y,x):t(v(b,y,x));if(p(y,1)){if(!s(y))throw new Error("N must be a positive integer");if(p(y,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var D=n(y,1);_=[];for(var C=0;c(C,y);C++){var A=a(C+1,D);_.push(v(b,A,x))}return nt(y)?_:t(_)}}function g(w,y,x){for(var _=w.valueOf(),b=y.valueOf(),D=[],C=0;C<b.length;++C)D.push(v(_,b[C],x));return D}function v(w,y,x){var _=pt(w),b=_.length;if(b===0)throw new Error("Cannot calculate quantile of an empty sequence");var D=nt(y)?y*(b-1):y.times(b-1),C=nt(y)?Math.floor(D):D.floor().toNumber(),A=nt(y)?D%1:D.minus(C);if(s(D))return x?_[D]:l(_,nt(y)?D:D.valueOf());var E,F;if(x)E=_[C],F=_[C+1];else{F=l(_,C+1),E=_[C];for(var I=0;I<C;++I)u(_[I],E)>0&&(E=_[I])}return n(o(E,i(1,A)),o(F,A))}});var cO="std",RW=["typed","map","sqrt","variance"],wl=S(cO,RW,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r;return e(cO,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(l){return a(l)}});function a(o,l){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var u=i.apply(null,arguments);return Ar(u)?t(u,n):n(u)}catch(s){throw s instanceof TypeError&&s.message.indexOf(" variance")!==-1?new TypeError(s.message.replace(" variance"," std")):s}}});var fO="corr",kW=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],Yx=S(fO,kW,r=>{var{typed:e,matrix:t,sqrt:n,sum:i,add:a,subtract:o,multiply:l,pow:u,divide:s}=r;return e(fO,{"Array, Array":function(m,h){return c(m,h)},"Matrix, Matrix":function(m,h){var d=c(m.toArray(),h.toArray());return Array.isArray(d)?t(d):d}});function c(p,m){var h=[];if(Array.isArray(p[0])&&Array.isArray(m[0])){if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<p.length;d++){if(p[d].length!==m[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(p[d],m[d]))}return h}else{if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(p,m)}}function f(p,m){var h=p.length,d=i(p),g=i(m),v=p.reduce((b,D,C)=>a(b,l(D,m[C])),0),w=i(p.map(b=>u(b,2))),y=i(m.map(b=>u(b,2))),x=o(l(h,v),l(d,g)),_=n(l(o(l(h,w),u(d,2)),o(l(h,y),u(g,2))));return s(x,_)}});var pO="combinations",LW=["typed"],Xx=S(pO,LW,r=>{var{typed:e}=r;return e(pO,{"number, number":dg,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,l,u=n.minus(i),s=new a(1);if(!mO(n)||!mO(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=s,i.lt(u))for(l=s;l.lte(u);l=l.plus(s))o=o.times(i.plus(l)).dividedBy(l);else for(l=s;l.lte(i);l=l.plus(s))o=o.times(u.plus(l)).dividedBy(l);return o}})});function mO(r){return r.isInteger()&&r.gte(0)}var dO="combinationsWithRep",VW=["typed"],Qx=S(dO,VW,r=>{var{typed:e}=r;return e(dO,{"number, number":function(n,i){if(!ze(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!ze(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=ei(n,n+i-1);return a/ei(1,i)}var o=ei(i+1,n+i-1);return o/ei(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,l,u=new a(1),s=n.minus(u);if(!hO(n)||!hO(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(u))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=u,i.lt(s))for(l=u;l.lte(s);l=l.plus(u))o=o.times(i.plus(l)).dividedBy(l);else for(l=u;l.lte(i);l=l.plus(u))o=o.times(s.plus(l)).dividedBy(l);return o}})});function hO(r){return r.isInteger()&&r.gte(0)}var gO="gamma",UW=["typed","config","multiplyScalar","pow","BigNumber","Complex"],Kx=S(gO,UW,r=>{var{typed:e,config:t,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=r;function l(s){if(s.im===0)return Ju(s.re);if(s.re<.5){var c=new o(1-s.re,-s.im),f=new o(Math.PI*s.re,Math.PI*s.im);return new o(Math.PI).div(f.sin()).div(l(c))}s=new o(s.re-1,s.im);for(var p=new o($o[0],0),m=1;m<$o.length;++m){var h=new o($o[m],0);p=p.add(h.div(s.add(m)))}var d=new o(s.re+bg+.5,s.im),g=Math.sqrt(2*Math.PI),v=d.pow(s.add(.5)),w=d.neg().exp();return p.mul(g).mul(v).mul(w)}return e(gO,{number:Ju,Complex:l,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):u(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function u(s){if(s<8)return new a([1,1,2,6,24,120,720,5040][s]);var c=t.precision+(Math.log(s.toNumber())|0),f=a.clone({precision:c});if(s%2===1)return s.times(u(new a(s-1)));for(var p=s,m=new f(s),h=s.toNumber();p>2;)p-=2,h+=p,m=m.times(h);return new a(m.toPrecision(a.precision))}});var vO="lgamma",qW=["Complex","typed"],eb=S(vO,qW,r=>{var{Complex:e,typed:t}=r,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(vO,{number:Yu,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(s){var c=6.283185307179586,f=1.1447298858494002,p=.1;if(s.isNaN())return new e(NaN,NaN);if(s.im===0)return new e(Yu(s.re),0);if(s.re>=n||Math.abs(s.im)>=i)return l(s);if(s.re<=p){var m=YE(c,s.im)*Math.floor(.5*s.re+.25),h=s.mul(Math.PI).sin().log(),d=o(new e(1-s.re,-s.im));return new e(f,m).sub(h).sub(d)}else return s.im>=0?u(s):u(s.conjugate()).conjugate()}function l(s){for(var c=s.sub(.5).mul(s.log()).sub(s).add(wg),f=new e(1,0).div(s),p=f.div(s),m=a[0],h=a[1],d=2*p.re,g=p.re*p.re+p.im*p.im,v=2;v<8;v++){var w=h;h=-g*m+a[v],m=d*m+w}var y=f.mul(p.mul(m).add(h));return c.add(y)}function u(s){var c=0,f=0,p=s;for(s=s.add(1);s.re<=n;){p=p.mul(s);var m=p.im<0?1:0;m!==0&&f===0&&c++,f=m,s=s.add(1)}return l(s).sub(p.log()).sub(new e(0,c*2*Math.PI*1))}});var yO="factorial",zW=["typed","gamma"],tb=S(yO,zW,r=>{var{typed:e,gamma:t}=r;return e(yO,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var xO="kldivergence",$W=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],rb=S(xO,$W,r=>{var{typed:e,matrix:t,divide:n,sum:i,multiply:a,map:o,dotDivide:l,log:u,isNumeric:s}=r;return e(xO,{"Array, Array":function(p,m){return c(t(p),t(m))},"Matrix, Array":function(p,m){return c(p,t(m))},"Array, Matrix":function(p,m){return c(t(p),m)},"Matrix, Matrix":function(p,m){return c(p,m)}});function c(f,p){var m=p.size().length,h=f.size().length;if(m>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(m!==h)throw new Error("Length of two vectors must be equal");var d=i(f);if(d===0)throw new Error("Sum of elements in first object must be non zero");var g=i(p);if(g===0)throw new Error("Sum of elements in second object must be non zero");var v=n(f,i(f)),w=n(p,i(p)),y=i(a(v,o(l(v,w),x=>u(x))));return s(y)?y:Number.NaN}});var bO="multinomial",HW=["typed","add","divide","multiply","factorial","isInteger","isPositive"],nb=S(bO,HW,r=>{var{typed:e,add:t,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:l}=r;return e(bO,{"Array | Matrix":function(s){var c=0,f=1;return vn(s,function(p){if(!o(p)||!l(p))throw new TypeError("Positive integer value expected in function multinomial");c=t(c,p),f=i(f,a(p))}),n(a(c),f)}})});var wO="permutations",GW=["typed","factorial"],ib=S(wO,GW,r=>{var{typed:e,factorial:t}=r;return e(wO,{"number | BigNumber":t,"number, number":function(i,a){if(!ze(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!ze(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return ei(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,l;if(!_O(i)||!_O(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var u=i.mul(0).add(1);for(o=u,l=i.minus(a).plus(1);l.lte(i);l=l.plus(1))o=o.times(l);return o}})});function _O(r){return r.isInteger()&&r.gte(0)}var fb=gr(LO(),1),QW=(0,fb.default)(Date.now());function xa(r){var e;function t(i){e=i===null?QW:(0,fb.default)(String(i))}t(r);function n(){return e()}return n}var VO="pickRandom",KW=["typed","config","?on"],pb=S(VO,KW,r=>{var{typed:e,config:t,on:n}=r,i=xa(t.randomSeed);return n&&n("config",function(o,l){o.randomSeed!==l.randomSeed&&(i=xa(o.randomSeed))}),e(VO,{"Array | Matrix":function(l){return a(l,{})},"Array | Matrix, Object":function(l,u){return a(l,u)},"Array | Matrix, number":function(l,u){return a(l,{number:u})},"Array | Matrix, Array | Matrix":function(l,u){return a(l,{weights:u})},"Array | Matrix, Array | Matrix, number":function(l,u,s){return a(l,{number:s,weights:u})},"Array | Matrix, number, Array | Matrix":function(l,u,s){return a(l,{number:u,weights:s})}});function a(o,l){var{number:u,weights:s,elementWise:c=!0}=l,f=typeof u=="undefined";f&&(u=1);var p=He(o)?o.create:He(s)?s.create:null;o=o.valueOf(),s&&(s=s.valueOf()),c===!0&&(o=pt(o),s=pt(s));var m=0;if(typeof s!="undefined"){if(s.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var h=0,d=s.length;h<d;h++){if(!nt(s[h])||s[h]<0)throw new Error("Weights must be an array of positive numbers");m+=s[h]}}for(var g=o.length,v=[],w;v.length<u;){if(typeof s=="undefined")w=o[Math.floor(i()*g)];else for(var y=i()*m,x=0,_=o.length;x<_;x++)if(y-=s[x],y<0){w=o[x];break}v.push(w)}return f?v[0]:p?p(v):v}});function _l(r,e){var t=[];if(r=r.slice(0),r.length>1)for(var n=0,i=r.shift();n<i;n++)t.push(_l(r,e));else for(var a=0,o=r.shift();a<o;a++)t.push(e());return t}var UO="random",ej=["typed","config","?on"],mb=S(UO,ej,r=>{var{typed:e,config:t,on:n}=r,i=xa(t.randomSeed);return n&&n("config",function(l,u){l.randomSeed!==u.randomSeed&&(i=xa(l.randomSeed))}),e(UO,{"":()=>o(0,1),number:l=>o(0,l),"number, number":(l,u)=>o(l,u),"Array | Matrix":l=>a(l,0,1),"Array | Matrix, number":(l,u)=>a(l,0,u),"Array | Matrix, number, number":(l,u,s)=>a(l,u,s)});function a(l,u,s){var c=_l(l.valueOf(),()=>o(u,s));return He(l)?l.create(c):c}function o(l,u){return l+i()*(u-l)}});var qO="randomInt",tj=["typed","config","?on"],db=S(qO,tj,r=>{var{typed:e,config:t,on:n}=r,i=xa(t.randomSeed);return n&&n("config",function(l,u){l.randomSeed!==u.randomSeed&&(i=xa(l.randomSeed))}),e(qO,{"":()=>o(0,1),number:l=>o(0,l),"number, number":(l,u)=>o(l,u),"Array | Matrix":l=>a(l,0,1),"Array | Matrix, number":(l,u)=>a(l,0,u),"Array | Matrix, number, number":(l,u,s)=>a(l,u,s)});function a(l,u,s){var c=_l(l.valueOf(),()=>o(u,s));return He(l)?l.create(c):c}function o(l,u){return Math.floor(l+i()*(u-l))}});var zO="stirlingS2",rj=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],hb=S(zO,rj,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:l,combinations:u,isNegative:s,isInteger:c,number:f,bignumber:p,larger:m}=r,h=[],d=[];return e(zO,{"number | BigNumber, number | BigNumber":function(v,w){if(!c(v)||s(v)||!c(w)||s(w))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(w,v))throw new TypeError("k must be less than or equal to n in function stirlingS2");var y=!(nt(v)&&nt(w)),x=y?d:h,_=y?p:f,b=f(v),D=f(w);if(x[b]&&x[b].length>D)return x[b][D];for(var C=0;C<=b;++C)if(x[C]||(x[C]=[_(C===0?1:0)]),C!==0)for(var A=x[C],E=x[C-1],F=A.length;F<=C&&F<=D;++F)F===C?A[F]=1:A[F]=t(i(_(F),E[F]),E[F-1]);return x[b][D]}})});var $O="bellNumbers",nj=["typed","addScalar","isNegative","isInteger","stirlingS2"],gb=S($O,nj,r=>{var{typed:e,addScalar:t,isNegative:n,isInteger:i,stirlingS2:a}=r;return e($O,{"number | BigNumber":function(l){if(!i(l)||n(l))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var u=0,s=0;s<=l;s++)u=t(u,a(l,s));return u}})});var HO="catalan",ij=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],vb=S(HO,ij,r=>{var{typed:e,addScalar:t,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:l}=r;return e(HO,{"number | BigNumber":function(s){if(!l(s)||o(s))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(s,2),s),t(s,1))}})});var GO="composition",aj=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],yb=S(GO,aj,r=>{var{typed:e,addScalar:t,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:l}=r;return e(GO,{"number | BigNumber, number | BigNumber":function(s,c){if(!o(s)||!i(s)||!o(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(l(c,s))throw new TypeError("k must be less than or equal to n in function composition");return n(t(s,-1),t(c,-1))}})});var WO="leafCount",oj=["parse","typed"],xb=S(WO,oj,r=>{var{parse:e,typed:t}=r;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return t(WO,{Node:function(a){return n(a)}})});function bb(r){return bt(r)||cr(r)&&r.isUnary()&&bt(r.args[0])}function Al(r){return!!(bt(r)||(Nn(r)||cr(r))&&r.args.every(Al)||sn(r)&&Al(r.content))}function jO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function wb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(t),!0).forEach(function(n){kt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):jO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var sj="simplifyUtil",uj=["FunctionNode","OperatorNode","SymbolNode"],Xs=S(sj,uj,r=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:n}=r,i=!0,a=!1,o="defaultF",l={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},u={divide:{total:a},log:{total:a}},s={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(y,x){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l,b=o;if(typeof y=="string"?b=y:cr(y)?b=y.fn.toString():Nn(y)?b=y.name:sn(y)&&(b="paren"),je(_,b)){var D=_[b];if(je(D,x))return D[x];if(je(l,b))return l[b][x]}if(je(_,o)){var C=_[o];return je(C,x)?C[x]:l[o][x]}if(je(l,b)){var A=l[b];if(je(A,x))return A[x]}return l[o][x]}function f(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return c(y,"commutative",x)}function p(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return c(y,"associative",x)}function m(y,x){var _=wb({},y);for(var b in x)je(y,b)?_[b]=wb(wb({},x[b]),y[b]):_[b]=x[b];return _}function h(y,x){if(!y.args||y.args.length===0)return y;y.args=d(y,x);for(var _=0;_<y.args.length;_++)h(y.args[_],x)}function d(y,x){var _,b=[],D=function C(A){for(var E=0;E<A.args.length;E++){var F=A.args[E];cr(F)&&_===F.op?C(F):b.push(F)}};return p(y,x)?(_=y.op,D(y),b):y.args}function g(y,x){if(!(!y.args||y.args.length===0)){for(var _=w(y),b=y.args.length,D=0;D<b;D++)g(y.args[D],x);if(b>2&&p(y,x)){for(var C=y.args.pop();y.args.length>0;)C=_([y.args.pop(),C]);y.args=C.args}}}function v(y,x){if(!(!y.args||y.args.length===0)){for(var _=w(y),b=y.args.length,D=0;D<b;D++)v(y.args[D],x);if(b>2&&p(y,x)){for(var C=y.args.shift();y.args.length>0;)C=_([C,y.args.shift()]);y.args=C.args}}}function w(y){return cr(y)?function(x){try{return new t(y.op,y.fn,x,y.implicit)}catch(_){return console.error(_),[]}}:function(x){return new e(new n(y.name),x)}}return{createMakeNodeFunction:w,hasProperty:c,isCommutative:f,isAssociative:p,mergeContext:m,flatten:h,allChildren:d,unflattenr:g,unflattenl:v,defaultContext:l,realContext:u,positiveContext:s}});var lj="simplify",cj=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],_b=S(lj,cj,r=>{var{config:e,typed:t,parse:n,add:i,subtract:a,multiply:o,divide:l,pow:u,isZero:s,equal:c,resolve:f,simplifyConstant:p,simplifyCore:m,fraction:h,bignumber:d,mathWithTransform:g,matrix:v,AccessorNode:w,ArrayNode:y,ConstantNode:x,FunctionNode:_,IndexNode:b,ObjectNode:D,OperatorNode:C,ParenthesisNode:A,SymbolNode:E}=r,{hasProperty:F,isCommutative:I,isAssociative:O,mergeContext:k,flatten:R,unflattenr:T,unflattenl:N,createMakeNodeFunction:V,defaultContext:B,realContext:X,positiveContext:ee}=Xs({FunctionNode:_,OperatorNode:C,SymbolNode:E});t.addConversion({from:"Object",to:"Map",convert:da});var W=t("simplify",{Node:ue,"Node, Map":($,Q)=>ue($,!1,Q),"Node, Map, Object":($,Q,re)=>ue($,!1,Q,re),"Node, Array":ue,"Node, Array, Map":ue,"Node, Array, Map, Object":ue});t.removeConversion({from:"Object",to:"Map",convert:da}),W.defaultContext=B,W.realContext=X,W.positiveContext=ee;function P($){return $.transform(function(Q,re,he){return sn(Q)?P(Q.content):Q})}var K={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};W.rules=[m,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},p,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},p,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function ve($,Q){var re={};if($.s){var he=$.s.split("->");if(he.length===2)re.l=he[0],re.r=he[1];else throw SyntaxError("Could not parse rule: "+$.s)}else re.l=$.l,re.r=$.r;re.l=P(n(re.l)),re.r=P(n(re.r));for(var ye of["imposeContext","repeat","assuming"])ye in $&&(re[ye]=$[ye]);if($.evaluate&&(re.evaluate=n($.evaluate)),O(re.l,Q)){var Le=!I(re.l,Q),Ae;Le&&(Ae=ge());var ct=V(re.l),xt=ge();re.expanded={},re.expanded.l=ct([re.l,xt]),R(re.expanded.l,Q),T(re.expanded.l,Q),re.expanded.r=ct([re.r,xt]),Le&&(re.expandedNC1={},re.expandedNC1.l=ct([Ae,re.l]),re.expandedNC1.r=ct([Ae,re.r]),re.expandedNC2={},re.expandedNC2.l=ct([Ae,re.expanded.l]),re.expandedNC2.r=ct([Ae,re.expanded.r]))}return re}function ie($,Q){for(var re=[],he=0;he<$.length;he++){var ye=$[he],Le=void 0,Ae=typeof ye;switch(Ae){case"string":ye={s:ye};case"object":Le=ve(ye,Q);break;case"function":Le=ye;break;default:throw TypeError("Unsupported type of rule: "+Ae)}re.push(Le)}return re}var oe=0;function ge(){return new E("_p"+oe++)}function ue($,Q){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$i(),he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ye=he.consoleDebug;Q=ie(Q||W.rules,he.context);var Le=f($,re);Le=P(Le);for(var Ae={},ct=Le.toString({parenthesis:"all"});!Ae[ct];){Ae[ct]=!0,oe=0;var xt=ct;ye&&console.log("Working on: ",ct);for(var Ut=0;Ut<Q.length;Ut++){var Xt="";if(typeof Q[Ut]=="function"?(Le=Q[Ut](Le,he),ye&&(Xt=Q[Ut].name)):(R(Le,he.context),Le=me(Le,Q[Ut],he.context),ye&&(Xt="".concat(Q[Ut].l.toString()," -> ").concat(Q[Ut].r.toString()))),ye){var H=Le.toString({parenthesis:"all"});H!==xt&&(console.log("Applying",Xt,"produced",H),xt=H)}N(Le,he.context)}ct=Le.toString({parenthesis:"all"})}return Le}function ce($,Q,re){var he=$;if($)for(var ye=0;ye<$.length;++ye){var Le=me($[ye],Q,re);Le!==$[ye]&&(he===$&&(he=$.slice()),he[ye]=Le)}return he}function me($,Q,re){if(Q.assuming){for(var he in Q.assuming)for(var ye in Q.assuming[he])if(F(he,ye,re)!==Q.assuming[he][ye])return $}var Le=k(Q.imposeContext,re),Ae=$;if(Ae instanceof C||Ae instanceof _){var ct=ce(Ae.args,Q,re);ct!==Ae.args&&(Ae=Ae.clone(),Ae.args=ct)}else if(Ae instanceof A){if(Ae.content){var xt=me(Ae.content,Q,re);xt!==Ae.content&&(Ae=new A(xt))}}else if(Ae instanceof y){var Ut=ce(Ae.items,Q,re);Ut!==Ae.items&&(Ae=new y(Ut))}else if(Ae instanceof w){var Xt=Ae.object;Ae.object&&(Xt=me(Ae.object,Q,re));var H=Ae.index;Ae.index&&(H=me(Ae.index,Q,re)),(Xt!==Ae.object||H!==Ae.index)&&(Ae=new w(Xt,H))}else if(Ae instanceof b){var ne=ce(Ae.dimensions,Q,re);ne!==Ae.dimensions&&(Ae=new b(ne))}else if(Ae instanceof D){var pe=!1,_e={};for(var Ne in Ae.properties)_e[Ne]=me(Ae.properties[Ne],Q,re),_e[Ne]!==Ae.properties[Ne]&&(pe=!0);pe&&(Ae=new D(_e))}var De=Q.r,Ce=G(Q.l,Ae,Le)[0];if(!Ce&&Q.expanded&&(De=Q.expanded.r,Ce=G(Q.expanded.l,Ae,Le)[0]),!Ce&&Q.expandedNC1&&(De=Q.expandedNC1.r,Ce=G(Q.expandedNC1.l,Ae,Le)[0],Ce||(De=Q.expandedNC2.r,Ce=G(Q.expandedNC2.l,Ae,Le)[0])),Ce){var Pe=Ae.implicit;Ae=De.clone(),Pe&&"implicit"in De&&(Ae.implicit=!0),Ae=Ae.transform(function(M){return M.isSymbolNode&&je(Ce.placeholders,M.name)?Ce.placeholders[M.name].clone():M})}return Q.repeat&&Ae!==$&&(Ae=me(Ae,Q,re)),Ae}function de($,Q){var re=[],he,ye,Le=V($);if(I($,Q))for(var Ae=0;Ae<$.args.length;Ae++)ye=$.args.slice(0),ye.splice(Ae,1),he=ye.length===1?ye[0]:Le(ye),re.push(Le([$.args[Ae],he]));else for(var ct=1;ct<$.args.length;ct++){var xt=$.args[0];ct>1&&(xt=Le($.args.slice(0,ct))),ye=$.args.slice(ct),he=ye.length===1?ye[0]:Le(ye),re.push(Le([xt,he]))}return re}function Be($,Q){var re={placeholders:{}};if(!$.placeholders&&!Q.placeholders)return re;if($.placeholders){if(!Q.placeholders)return $}else return Q;for(var he in $.placeholders)if(je($.placeholders,he)&&(re.placeholders[he]=$.placeholders[he],je(Q.placeholders,he)&&!le($.placeholders[he],Q.placeholders[he])))return null;for(var ye in Q.placeholders)je(Q.placeholders,ye)&&(re.placeholders[ye]=Q.placeholders[ye]);return re}function we($,Q){var re=[];if($.length===0||Q.length===0)return re;for(var he,ye=0;ye<$.length;ye++)for(var Le=0;Le<Q.length;Le++)he=Be($[ye],Q[Le]),he&&re.push(he);return re}function U($){if($.length===0)return $;for(var Q=$.reduce(we),re=[],he={},ye=0;ye<Q.length;ye++){var Le=JSON.stringify(Q[ye]);he[Le]||(he[Le]=!0,re.push(Q[ye]))}return re}function G($,Q,re,he){var ye=[{placeholders:{}}];if($ instanceof C&&Q instanceof C||$ instanceof _&&Q instanceof _){if($ instanceof C){if($.op!==Q.op||$.fn!==Q.fn)return[]}else if($ instanceof _&&$.name!==Q.name)return[];if(Q.args.length===1&&$.args.length===1||!O(Q,re)&&Q.args.length===$.args.length||he){for(var Le=[],Ae=0;Ae<$.args.length;Ae++){var ct=G($.args[Ae],Q.args[Ae],re);if(ct.length===0)break;Le.push(ct)}if(Le.length!==$.args.length){if(!I(Q,re)||$.args.length===1)return[];if($.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var xt=G($.args[0],Q.args[1],re);if(xt.length===0)return[];var Ut=G($.args[1],Q.args[0],re);if(Ut.length===0)return[];Le=[xt,Ut]}ye=U(Le)}else if(Q.args.length>=2&&$.args.length===2){for(var Xt=de(Q,re),H=[],ne=0;ne<Xt.length;ne++){var pe=G($,Xt[ne],re,!0);H=H.concat(pe)}return H}else{if($.args.length>2)throw Error("Unexpected non-binary associative function: "+$.toString());return[]}}else if($ instanceof E){if($.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(K[$.name]){if($.name!==Q.name)return[]}else switch($.name[1]>="a"&&$.name[1]<="z"?$.name.substring(0,2):$.name[0]){case"n":case"_p":ye[0].placeholders[$.name]=Q;break;case"c":case"cl":if(bt(Q))ye[0].placeholders[$.name]=Q;else return[];break;case"v":if(!bt(Q))ye[0].placeholders[$.name]=Q;else return[];break;case"vl":if(Qt(Q))ye[0].placeholders[$.name]=Q;else return[];break;case"cd":if(bb(Q))ye[0].placeholders[$.name]=Q;else return[];break;case"vd":if(!bb(Q))ye[0].placeholders[$.name]=Q;else return[];break;case"ce":if(Al(Q))ye[0].placeholders[$.name]=Q;else return[];break;case"ve":if(!Al(Q))ye[0].placeholders[$.name]=Q;else return[];break;default:throw new Error("Invalid symbol in rule: "+$.name)}}else if($ instanceof x){if(!c($.value,Q.value))return[]}else return[];return ye}function le($,Q){if($ instanceof x&&Q instanceof x){if(!c($.value,Q.value))return!1}else if($ instanceof E&&Q instanceof E){if($.name!==Q.name)return!1}else if($ instanceof C&&Q instanceof C||$ instanceof _&&Q instanceof _){if($ instanceof C){if($.op!==Q.op||$.fn!==Q.fn)return!1}else if($ instanceof _&&$.name!==Q.name)return!1;if($.args.length!==Q.args.length)return!1;for(var re=0;re<$.args.length;re++)if(!le($.args[re],Q.args[re]))return!1}else return!1;return!0}return W});var fj="simplifyConstant",pj=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],Ab=S(fj,pj,r=>{var{typed:e,config:t,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:l,ArrayNode:u,ConstantNode:s,FunctionNode:c,IndexNode:f,ObjectNode:p,OperatorNode:m,SymbolNode:h}=r,{isCommutative:d,isAssociative:g,allChildren:v,createMakeNodeFunction:w}=Xs({FunctionNode:c,OperatorNode:m,SymbolNode:h}),y=e("simplifyConstant",{Node:R=>D(k(R,{})),"Node, Object":function(T,N){return D(k(T,N))}});function x(R){return pa(R)?R.valueOf():R instanceof Array?R.map(x):He(R)?i(x(R.valueOf())):R}function _(R,T,N){try{return n[R].apply(null,T)}catch(V){return T=T.map(x),A(n[R].apply(null,T),N)}}var b=e({Fraction:F,number:function(T){return T<0?E(new s(-T)):new s(T)},BigNumber:function(T){return T<0?E(new s(-T)):new s(T)},Complex:function(T){throw new Error("Cannot convert Complex number to Node")},string:function(T){return new s(T)},Matrix:function(T){return new u(T.valueOf().map(N=>b(N)))}});function D(R){return At(R)?R:b(R)}function C(R,T){var N=T&&T.exactFractions!==!1;if(N&&isFinite(R)&&a){var V=a(R),B=T&&typeof T.fractionsLimit=="number"?T.fractionsLimit:1/0;if(V.valueOf()===R&&V.n<B&&V.d<B)return V}return R}var A=e({"string, Object":function(T,N){if(t.number==="BigNumber")return o===void 0&&Gs(),o(T);if(t.number==="Fraction")return a===void 0&&rp(),a(T);var V=parseFloat(T);return C(V,N)},"Fraction, Object":function(T,N){return T},"BigNumber, Object":function(T,N){return T},"number, Object":function(T,N){return C(T,N)},"Complex, Object":function(T,N){return T.im!==0?T:C(T.re,N)},"Matrix, Object":function(T,N){return i(C(T.valueOf()))},"Array, Object":function(T,N){return T.map(C)}});function E(R){return new m("-","unaryMinus",[R])}function F(R){var T,N=R.s*R.n;return N<0?T=new m("-","unaryMinus",[new s(-N)]):T=new s(N),R.d===1?T:new m("/","divide",[T,new s(R.d)])}function I(R,T,N){if(!fi(T))return new l(D(R),D(T));if(on(R)||He(R)){for(var V=Array.from(T.dimensions);V.length>0;)if(bt(V[0])&&typeof V[0].value!="string"){var B=A(V.shift().value,N);on(R)?R=R.items[B-1]:(R=R.valueOf()[B-1],R instanceof Array&&(R=i(R)))}else if(V.length>1&&bt(V[1])&&typeof V[1].value!="string"){var X=A(V[1].value,N),ee=[],W=on(R)?R.items:R.valueOf();for(var P of W)if(on(P))ee.push(P.items[X-1]);else if(He(R))ee.push(P[X-1]);else break;if(ee.length===W.length)on(R)?R=new u(ee):R=i(ee),V.splice(1,1);else break}else break;return V.length===T.dimensions.length?new l(D(R),T):V.length>0?(T=new f(V),new l(D(R),T)):R}if(za(R)&&T.dimensions.length===1&&bt(T.dimensions[0])){var K=T.dimensions[0].value;return K in R.properties?R.properties[K]:new s}return new l(D(R),T)}function O(R,T,N,V){var B=T.shift(),X=T.reduce((ee,W)=>{if(!At(W)){var P=ee.pop();if(At(P))return[P,W];try{return ee.push(_(R,[P,W],V)),ee}catch(ve){ee.push(P)}}ee.push(D(ee.pop()));var K=ee.length===1?ee[0]:N(ee);return[N([K,D(W)])]},[B]);return X.length===1?X[0]:N([X[0],b(X[1])])}function k(R,T){switch(R.type){case"SymbolNode":return R;case"ConstantNode":switch(typeof R.value){case"number":return A(R.value,T);case"string":return R.value;default:if(!isNaN(R.value))return A(R.value,T)}return R;case"FunctionNode":if(n[R.name]&&n[R.name].rawArgs)return R;{var N=["add","multiply"];if(N.indexOf(R.name)===-1){var V=R.args.map(me=>k(me,T));if(!V.some(At))try{return _(R.name,V,T)}catch(me){}if(R.name==="size"&&V.length===1&&on(V[0])){for(var B=[],X=V[0];on(X);)B.push(X.items.length),X=X.items[0];return i(B)}return new c(R.name,V.map(D))}}case"OperatorNode":{var ee=R.fn.toString(),W,P,K=w(R);if(cr(R)&&R.isUnary())W=[k(R.args[0],T)],At(W[0])?P=K(W):P=_(ee,W,T);else if(g(R,T.context))if(W=v(R,T.context),W=W.map(me=>k(me,T)),d(ee,T.context)){for(var ve=[],ie=[],oe=0;oe<W.length;oe++)At(W[oe])?ie.push(W[oe]):ve.push(W[oe]);ve.length>1?(P=O(ee,ve,K,T),ie.unshift(P),P=O(ee,ie,K,T)):P=O(ee,W,K,T)}else P=O(ee,W,K,T);else W=R.args.map(me=>k(me,T)),P=O(ee,W,K,T);return P}case"ParenthesisNode":return k(R.content,T);case"AccessorNode":return I(k(R.object,T),k(R.index,T),T);case"ArrayNode":{var ge=R.items.map(me=>k(me,T));return ge.some(At)?new u(ge.map(D)):i(ge)}case"IndexNode":return new f(R.dimensions.map(me=>y(me,T)));case"ObjectNode":{var ue={};for(var ce in R.properties)ue[ce]=y(R.properties[ce],T);return new p(ue)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(R.type))}}return y});var ZO="simplifyCore",mj=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Db=S(ZO,mj,r=>{var{typed:e,parse:t,equal:n,isZero:i,add:a,subtract:o,multiply:l,divide:u,pow:s,AccessorNode:c,ArrayNode:f,ConstantNode:p,FunctionNode:m,IndexNode:h,ObjectNode:d,OperatorNode:g,ParenthesisNode:v,SymbolNode:w}=r,y=new p(0),x=new p(1),_=new p(!0),b=new p(!1);function D(F){return cr(F)&&["and","not","or"].includes(F.op)}var{hasProperty:C,isCommutative:A}=Xs({FunctionNode:m,OperatorNode:g,SymbolNode:w});function E(F){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=I?I.context:void 0;if(C(F,"trivial",O)){if(Nn(F)&&F.args.length===1)return E(F.args[0],I);var k=!1,R=0;if(F.forEach(ie=>{++R,R===1&&(k=E(ie,I))}),R===1)return k}var T=F;if(Nn(T)){var N=WM(T.name);if(N){if(T.args.length>2&&C(T,"associative",O))for(;T.args.length>2;){var V=T.args.pop(),B=T.args.pop();T.args.push(new g(N,T.name,[V,B]))}T=new g(N,T.name,T.args)}else return new m(E(T.fn),T.args.map(ie=>E(ie,I)))}if(cr(T)&&T.isUnary()){var X=E(T.args[0],I);if(T.op==="~"&&cr(X)&&X.isUnary()&&X.op==="~"||T.op==="not"&&cr(X)&&X.isUnary()&&X.op==="not"&&D(X.args[0]))return X.args[0];var ee=!0;if(T.op==="-"&&cr(X)&&(X.isBinary()&&X.fn==="subtract"&&(T=new g("-","subtract",[X.args[1],X.args[0]]),ee=!1),X.isUnary()&&X.op==="-"))return X.args[0];if(ee)return new g(T.op,T.fn,[X])}if(cr(T)&&T.isBinary()){var W=E(T.args[0],I),P=E(T.args[1],I);if(T.op==="+"){if(bt(W)&&i(W.value))return P;if(bt(P)&&i(P.value))return W;cr(P)&&P.isUnary()&&P.op==="-"&&(P=P.args[0],T=new g("-","subtract",[W,P]))}if(T.op==="-")return cr(P)&&P.isUnary()&&P.op==="-"?E(new g("+","add",[W,P.args[0]]),I):bt(W)&&i(W.value)?E(new g("-","unaryMinus",[P])):bt(P)&&i(P.value)?W:new g(T.op,T.fn,[W,P]);if(T.op==="*"){if(bt(W)){if(i(W.value))return y;if(n(W.value,1))return P}if(bt(P)){if(i(P.value))return y;if(n(P.value,1))return W;if(A(T,O))return new g(T.op,T.fn,[P,W],T.implicit)}return new g(T.op,T.fn,[W,P],T.implicit)}if(T.op==="/")return bt(W)&&i(W.value)?y:bt(P)&&n(P.value,1)?W:new g(T.op,T.fn,[W,P]);if(T.op==="^"&&bt(P)){if(i(P.value))return x;if(n(P.value,1))return W}if(T.op==="and"){if(bt(W))if(W.value){if(D(P))return P}else return b;if(bt(P))if(P.value){if(D(W))return W}else return b}if(T.op==="or"){if(bt(W)){if(W.value)return _;if(D(P))return P}if(bt(P)){if(P.value)return _;if(D(W))return W}}return new g(T.op,T.fn,[W,P])}if(cr(T))return new g(T.op,T.fn,T.args.map(ie=>E(ie,I)));if(on(T))return new f(T.items.map(ie=>E(ie,I)));if(Kn(T))return new c(E(T.object,I),E(T.index,I));if(fi(T))return new h(T.dimensions.map(ie=>E(ie,I)));if(za(T)){var K={};for(var ve in T.properties)K[ve]=E(T.properties[ve],I);return new d(K)}return T}return e(ZO,{Node:E,"Node,Object":E})});var dj="resolve",hj=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],Eb=S(dj,hj,r=>{var{typed:e,parse:t,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=r;function l(u,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!s)return u;if(Qt(u)){if(c.has(u.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var p=s.get(u.name);if(At(p)){var m=new Set(c);return m.add(u.name),l(p,s,m)}else return typeof p=="number"?t(String(p)):p!==void 0?new n(p):u}else if(cr(u)){var h=u.args.map(function(g){return l(g,s,c)});return new a(u.op,u.fn,h,u.implicit)}else{if(sn(u))return new o(l(u.content,s,c));if(Nn(u)){var d=u.args.map(function(g){return l(g,s,c)});return new i(u.name,d)}}return u.map(g=>l(g,s,c))}return e("resolve",{Node:l,"Node, Map | null | undefined":l,"Node, Object":(u,s)=>l(u,da(s)),"Array | Matrix":e.referToSelf(u=>s=>s.map(c=>u(c))),"Array | Matrix, null | undefined":e.referToSelf(u=>s=>s.map(c=>u(c))),"Array, Object":e.referTo("Array,Map",u=>(s,c)=>u(s,da(c))),"Matrix, Object":e.referTo("Matrix,Map",u=>(s,c)=>u(s,da(c))),"Array | Matrix, Map":e.referToSelf(u=>(s,c)=>s.map(f=>u(f,c)))})});var JO="symbolicEqual",gj=["parse","simplify","typed","OperatorNode"],Cb=S(JO,gj,r=>{var{parse:e,simplify:t,typed:n,OperatorNode:i}=r;function a(o,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=new i("-","subtract",[o,l]),c=t(s,{},u);return bt(c)&&!c.value}return n(JO,{"Node, Node":a,"Node, Node, Object":a})});var YO="derivative",vj=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],Sb=S(YO,vj,r=>{var{typed:e,config:t,parse:n,simplify:i,equal:a,isZero:o,numeric:l,ConstantNode:u,FunctionNode:s,OperatorNode:c,ParenthesisNode:f,SymbolNode:p}=r;function m(y,x){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},b={};g(b,y,x.name);var D=v(y,b);return _.simplify?i(D):D}e.addConversion({from:"identifier",to:"SymbolNode",convert:n});var h=e(YO,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m});e.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),h._simplify=!0,h.toTex=function(y){return d.apply(null,y.args)};var d=e("_derivTex",{"Node, SymbolNode":function(x,_){return bt(x)&&St(x.value)==="string"?d(n(x.value).toString(),_.toString(),1):d(x.toTex(),_.toString(),1)},"Node, ConstantNode":function(x,_){if(St(_.value)==="string")return d(x,n(_.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(x,_,b){return d(x.toString(),_.name,b.value)},"string, string, number":function(x,_,b){var D;return b===1?D="{d\\over d"+_+"}":D="{d^{"+b+"}\\over d"+_+"^{"+b+"}}",D+"\\left[".concat(x,"\\right]")}}),g=e("constTag",{"Object, ConstantNode, string":function(x,_){return x[_]=!0,!0},"Object, SymbolNode, string":function(x,_,b){return _.name!==b?(x[_]=!0,!0):!1},"Object, ParenthesisNode, string":function(x,_,b){return g(x,_.content,b)},"Object, FunctionAssignmentNode, string":function(x,_,b){return _.params.indexOf(b)===-1?(x[_]=!0,!0):g(x,_.expr,b)},"Object, FunctionNode | OperatorNode, string":function(x,_,b){if(_.args.length>0){for(var D=g(x,_.args[0],b),C=1;C<_.args.length;++C)D=g(x,_.args[C],b)&&D;if(D)return x[_]=!0,!0}return!1}}),v=e("_derivative",{"ConstantNode, Object":function(x){return w(0)},"SymbolNode, Object":function(x,_){return _[x]!==void 0?w(0):w(1)},"ParenthesisNode, Object":function(x,_){return new f(v(x.content,_))},"FunctionAssignmentNode, Object":function(x,_){return _[x]!==void 0?w(0):v(x.expr,_)},"FunctionNode, Object":function(x,_){if(_[x]!==void 0)return w(0);var b=x.args[0],D,C=!1,A=!1,E;switch(x.name){case"cbrt":C=!0,E=new c("*","multiply",[w(3),new c("^","pow",[b,new c("/","divide",[w(2),w(3)])])]);break;case"sqrt":case"nthRoot":if(x.args.length===1)C=!0,E=new c("*","multiply",[w(2),new s("sqrt",[b])]);else if(x.args.length===2)return D=new c("/","divide",[w(1),x.args[1]]),_[D]=_[x.args[1]],v(new c("^","pow",[b,D]),_);break;case"log10":D=w(10);case"log":if(!D&&x.args.length===1)E=b.clone(),C=!0;else if(x.args.length===1&&D||x.args.length===2&&_[x.args[1]]!==void 0)E=new c("*","multiply",[b.clone(),new s("log",[D||x.args[1]])]),C=!0;else if(x.args.length===2)return v(new c("/","divide",[new s("log",[b]),new s("log",[x.args[1]])]),_);break;case"pow":if(x.args.length===2)return _[D]=_[x.args[1]],v(new c("^","pow",[b,x.args[1]]),_);break;case"exp":E=new s("exp",[b.clone()]);break;case"sin":E=new s("cos",[b.clone()]);break;case"cos":E=new c("-","unaryMinus",[new s("sin",[b.clone()])]);break;case"tan":E=new c("^","pow",[new s("sec",[b.clone()]),w(2)]);break;case"sec":E=new c("*","multiply",[x,new s("tan",[b.clone()])]);break;case"csc":A=!0,E=new c("*","multiply",[x,new s("cot",[b.clone()])]);break;case"cot":A=!0,E=new c("^","pow",[new s("csc",[b.clone()]),w(2)]);break;case"asin":C=!0,E=new s("sqrt",[new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])])]);break;case"acos":C=!0,A=!0,E=new s("sqrt",[new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])])]);break;case"atan":C=!0,E=new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)]);break;case"asec":C=!0,E=new c("*","multiply",[new s("abs",[b.clone()]),new s("sqrt",[new c("-","subtract",[new c("^","pow",[b.clone(),w(2)]),w(1)])])]);break;case"acsc":C=!0,A=!0,E=new c("*","multiply",[new s("abs",[b.clone()]),new s("sqrt",[new c("-","subtract",[new c("^","pow",[b.clone(),w(2)]),w(1)])])]);break;case"acot":C=!0,A=!0,E=new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)]);break;case"sinh":E=new s("cosh",[b.clone()]);break;case"cosh":E=new s("sinh",[b.clone()]);break;case"tanh":E=new c("^","pow",[new s("sech",[b.clone()]),w(2)]);break;case"sech":A=!0,E=new c("*","multiply",[x,new s("tanh",[b.clone()])]);break;case"csch":A=!0,E=new c("*","multiply",[x,new s("coth",[b.clone()])]);break;case"coth":A=!0,E=new c("^","pow",[new s("csch",[b.clone()]),w(2)]);break;case"asinh":C=!0,E=new s("sqrt",[new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)])]);break;case"acosh":C=!0,E=new s("sqrt",[new c("-","subtract",[new c("^","pow",[b.clone(),w(2)]),w(1)])]);break;case"atanh":C=!0,E=new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])]);break;case"asech":C=!0,A=!0,E=new c("*","multiply",[b.clone(),new s("sqrt",[new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])])])]);break;case"acsch":C=!0,A=!0,E=new c("*","multiply",[new s("abs",[b.clone()]),new s("sqrt",[new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)])])]);break;case"acoth":C=!0,A=!0,E=new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])]);break;case"abs":E=new c("/","divide",[new s(new p("abs"),[b.clone()]),b.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+x.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var F,I;C?(F="/",I="divide"):(F="*",I="multiply");var O=v(b,_);return A&&(O=new c("-","unaryMinus",[O])),new c(F,I,[O,E])},"OperatorNode, Object":function(x,_){if(_[x]!==void 0)return w(0);if(x.op==="+")return new c(x.op,x.fn,x.args.map(function(R){return v(R,_)}));if(x.op==="-"){if(x.isUnary())return new c(x.op,x.fn,[v(x.args[0],_)]);if(x.isBinary())return new c(x.op,x.fn,[v(x.args[0],_),v(x.args[1],_)])}if(x.op==="*"){var b=x.args.filter(function(R){return _[R]!==void 0});if(b.length>0){var D=x.args.filter(function(R){return _[R]===void 0}),C=D.length===1?D[0]:new c("*","multiply",D),A=b.concat(v(C,_));return new c("*","multiply",A)}return new c("+","add",x.args.map(function(R){return new c("*","multiply",x.args.map(function(T){return T===R?v(T,_):T.clone()}))}))}if(x.op==="/"&&x.isBinary()){var E=x.args[0],F=x.args[1];return _[F]!==void 0?new c("/","divide",[v(E,_),F]):_[E]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[E]),new c("/","divide",[v(F,_),new c("^","pow",[F.clone(),w(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[v(E,_),F.clone()]),new c("*","multiply",[E.clone(),v(F,_)])]),new c("^","pow",[F.clone(),w(2)])])}if(x.op==="^"&&x.isBinary()){var I=x.args[0],O=x.args[1];if(_[I]!==void 0)return bt(I)&&(o(I.value)||a(I.value,1))?w(0):new c("*","multiply",[x,new c("*","multiply",[new s("log",[I.clone()]),v(O.clone(),_)])]);if(_[O]!==void 0){if(bt(O)){if(o(O.value))return w(0);if(a(O.value,1))return v(I,_)}var k=new c("^","pow",[I.clone(),new c("-","subtract",[O,w(1)])]);return new c("*","multiply",[O.clone(),new c("*","multiply",[v(I,_),k])])}return new c("*","multiply",[new c("^","pow",[I.clone(),O.clone()]),new c("+","add",[new c("*","multiply",[v(I,_),new c("/","divide",[O.clone(),I.clone()])]),new c("*","multiply",[v(O,_),new s("log",[I.clone()])])])])}throw new Error('Cannot process operator "'+x.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function w(y,x){return new u(l(y,x||t.number))}return h});var XO="rationalize",yj=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],Nb=S(XO,yj,r=>{var{config:e,typed:t,equal:n,isZero:i,add:a,subtract:o,multiply:l,divide:u,pow:s,parse:c,simplifyConstant:f,simplifyCore:p,simplify:m,fraction:h,bignumber:d,mathWithTransform:g,matrix:v,AccessorNode:w,ArrayNode:y,ConstantNode:x,FunctionNode:_,IndexNode:b,ObjectNode:D,OperatorNode:C,SymbolNode:A,ParenthesisNode:E}=r;function F(T){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,B=O(),X=I(T,N,!0,B.firstRules),ee=X.variables.length,W={exactFractions:!1},P={exactFractions:!0};if(T=X.expression,ee>=1){T=k(T);var K,ve,ie=!0,oe=!1;T=m(T,B.firstRules,{},W);for(var ge;ve=ie?B.distrDivRules:B.sucDivRules,T=m(T,ve,{},P),ie=!ie,ge=T.toString(),ge!==K;)oe=!0,K=ge;oe&&(T=m(T,B.firstRulesAgain,{},W)),T=m(T,B.finalRules,{},W)}var ue=[],ce={};return T.type==="OperatorNode"&&T.isBinary()&&T.op==="/"?(ee===1&&(T.args[0]=R(T.args[0],ue),T.args[1]=R(T.args[1])),V&&(ce.numerator=T.args[0],ce.denominator=T.args[1])):(ee===1&&(T=R(T,ue)),V&&(ce.numerator=T,ce.denominator=null)),V?(ce.coefficients=ue,ce.variables=X.variables,ce.expression=T,ce):T}return t(XO,{Node:F,"Node, boolean":(T,N)=>F(T,{},N),"Node, Object":F,"Node, Object, boolean":F});function I(T,N,V,B){var X=[],ee=m(T,B,N,{exactFractions:!1});V=!!V;var W="+-*"+(V?"/":"");K(ee);var P={};return P.expression=ee,P.variables=X,P;function K(ve){var ie=ve.type;if(ie==="FunctionNode")throw new Error("There is an unsolved function call");if(ie==="OperatorNode")if(ve.op==="^"){if(ve.args[1].type!=="ConstantNode"||!ze(parseFloat(ve.args[1].value)))throw new Error("There is a non-integer exponent");K(ve.args[0])}else{if(W.indexOf(ve.op)===-1)throw new Error("Operator "+ve.op+" invalid in polynomial expression");for(var oe=0;oe<ve.args.length;oe++)K(ve.args[oe])}else if(ie==="SymbolNode"){var ge=ve.name,ue=X.indexOf(ge);ue===-1&&X.push(ge)}else if(ie==="ParenthesisNode")K(ve.content);else if(ie!=="ConstantNode")throw new Error("type "+ie+" is not allowed in polynomial expression")}}function O(){var T=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],N=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],V=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],B=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],X={};return X.firstRules=T.concat(N,B),X.distrDivRules=V,X.sucDivRules=B,X.firstRulesAgain=T.concat(N),X.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],X}function k(T,N,V){var B=T.type,X=arguments.length>1;if(B==="OperatorNode"&&T.isBinary()){var ee=!1,W;if(T.op==="^"&&(T.args[0].type==="ParenthesisNode"||T.args[0].type==="OperatorNode")&&T.args[1].type==="ConstantNode"&&(W=parseFloat(T.args[1].value),ee=W>=2&&ze(W)),ee){if(W>2){var P=T.args[0],K=new C("^","pow",[T.args[0].cloneDeep(),new x(W-1)]);T=new C("*","multiply",[P,K])}else T=new C("*","multiply",[T.args[0],T.args[0].cloneDeep()]);X&&(V==="content"?N.content=T:N.args[V]=T)}}if(B==="ParenthesisNode")k(T.content,T,"content");else if(B!=="ConstantNode"&&B!=="SymbolNode")for(var ve=0;ve<T.args.length;ve++)k(T.args[ve],T,ve);if(!X)return T}function R(T,N){N===void 0&&(N=[]),N[0]=0;var V={};V.cte=1,V.oper="+",V.fire="";var B=0,X="";ge(T,null,V),B=N.length-1;for(var ee=!0,W,P=B;P>=0;P--)if(N[P]!==0){var K=new x(ee?N[P]:Math.abs(N[P])),ve=N[P]<0?"-":"+";if(P>0){var ie=new A(X);if(P>1){var oe=new x(P);ie=new C("^","pow",[ie,oe])}N[P]===-1&&ee?K=new C("-","unaryMinus",[ie]):Math.abs(N[P])===1?K=ie:K=new C("*","multiply",[K,ie])}ee?W=K:ve==="+"?W=new C("+","add",[W,K]):W=new C("-","subtract",[W,K]),ee=!1}if(ee)return new x(0);return W;function ge(ue,ce,me){var de=ue.type;if(de==="FunctionNode")throw new Error("There is an unsolved function call");if(de==="OperatorNode"){if("+-*^".indexOf(ue.op)===-1)throw new Error("Operator "+ue.op+" invalid");if(ce!==null){if((ue.fn==="unaryMinus"||ue.fn==="pow")&&ce.fn!=="add"&&ce.fn!=="subtract"&&ce.fn!=="multiply")throw new Error("Invalid "+ue.op+" placing");if((ue.fn==="subtract"||ue.fn==="add"||ue.fn==="multiply")&&ce.fn!=="add"&&ce.fn!=="subtract")throw new Error("Invalid "+ue.op+" placing");if((ue.fn==="subtract"||ue.fn==="add"||ue.fn==="unaryMinus")&&me.noFil!==0)throw new Error("Invalid "+ue.op+" placing")}(ue.op==="^"||ue.op==="*")&&(me.fire=ue.op);for(var Be=0;Be<ue.args.length;Be++)ue.fn==="unaryMinus"&&(me.oper="-"),(ue.op==="+"||ue.fn==="subtract")&&(me.fire="",me.cte=1,me.oper=Be===0?"+":ue.op),me.noFil=Be,ge(ue.args[Be],ue,me)}else if(de==="SymbolNode"){if(ue.name!==X&&X!=="")throw new Error("There is more than one variable");if(X=ue.name,ce===null){N[1]=1;return}if(ce.op==="^"&&me.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ce.op==="*"&&me.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(me.fire===""||me.fire==="*")&&(B<1&&(N[1]=0),N[1]+=me.cte*(me.oper==="+"?1:-1),B=Math.max(1,B))}else if(de==="ConstantNode"){var we=parseFloat(ue.value);if(ce===null){N[0]=we;return}if(ce.op==="^"){if(me.noFil!==1)throw new Error("Constant cannot be powered");if(!ze(we)||we<=0)throw new Error("Non-integer exponent is not allowed");for(var U=B+1;U<we;U++)N[U]=0;we>B&&(N[we]=0),N[we]+=me.cte*(me.oper==="+"?1:-1),B=Math.max(we,B);return}me.cte=we,me.fire===""&&(N[0]+=me.cte*(me.oper==="+"?1:-1))}else throw new Error("Type "+de+" is not allowed")}}});var QO="zpk2tf",xj=["typed","add","multiply","Complex","number"],Mb=S(QO,xj,r=>{var{typed:e,add:t,multiply:n,Complex:i,number:a}=r;return e(QO,{"Array,Array,number":function(s,c,f){return o(s,c,f)},"Array,Array":function(s,c){return o(s,c,1)},"Matrix,Matrix,number":function(s,c,f){return o(s.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(s,c){return o(s.valueOf(),c.valueOf(),1)}});function o(u,s,c){u.some(w=>w.type==="BigNumber")&&(u=u.map(w=>a(w))),s.some(w=>w.type==="BigNumber")&&(s=s.map(w=>a(w)));for(var f=[i(1,0)],p=[i(1,0)],m=0;m<u.length;m++){var h=u[m];typeof h=="number"&&(h=i(h,0)),f=l(f,[i(1,0),i(-h.re,-h.im)])}for(var d=0;d<s.length;d++){var g=s[d];typeof g=="number"&&(g=i(g,0)),p=l(p,[i(1,0),i(-g.re,-g.im)])}for(var v=0;v<f.length;v++)f[v]=n(f[v],c);return[f,p]}function l(u,s){for(var c=[],f=0;f<u.length+s.length-1;f++){c[f]=i(0,0);for(var p=0;p<u.length;p++)f-p>=0&&f-p<s.length&&(c[f]=t(c[f],n(u[p],s[f-p])))}return c}});var KO="freqz",bj=["typed","add","multiply","Complex","divide","matrix"],Tb=S(KO,bj,r=>{var{typed:e,add:t,multiply:n,Complex:i,divide:a,matrix:o}=r;return e(KO,{"Array, Array":function(c,f){var p=u(512);return l(c,f,p)},"Array, Array, Array":function(c,f,p){return l(c,f,p)},"Array, Array, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=u(p);return l(c,f,m)},"Matrix, Matrix":function(c,f){var p=u(512),{w:m,h}=l(c.valueOf(),f.valueOf(),p);return{w:o(m),h:o(h)}},"Matrix, Matrix, Matrix":function(c,f,p){var{h:m}=l(c.valueOf(),f.valueOf(),p.valueOf());return{h:o(m),w:o(p)}},"Matrix, Matrix, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=u(p),{h}=l(c.valueOf(),f.valueOf(),m);return{h:o(h),w:o(m)}}});function l(s,c,f){for(var p=[],m=[],h=0;h<f.length;h++){for(var d=i(0,0),g=i(0,0),v=0;v<s.length;v++)d=t(d,n(s[v],i(Math.cos(-v*f[h]),Math.sin(-v*f[h]))));for(var w=0;w<c.length;w++)g=t(g,n(c[w],i(Math.cos(-w*f[h]),Math.sin(-w*f[h]))));p.push(d),m.push(g)}for(var y=[],x=0;x<p.length;x++)y.push(a(p[x],m[x]));return{h:y,w:f}}function u(s){for(var c=[],f=0;f<s;f++)c.push(f/s*Math.PI);return c}});var wj="reviver",_j=["classes"],Fb=S(wj,_j,r=>{var{classes:e}=r;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var Aj="replacer",Dj=[],Ib=S(Aj,Dj,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:t});var eP="12.2.1";var Bb=S("true",[],()=>!0),Ob=S("false",[],()=>!1),Pb=S("null",[],()=>null),Rb=ti("Infinity",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1/0):1/0}),kb=ti("NaN",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(NaN):NaN}),Lb=ti("pi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?dl(t):PC}),Vb=ti("tau",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?nM(t):RC}),Ub=ti("e",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?tM(t):kC}),qb=ti("phi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?rM(t):LC}),zb=ti("LN2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),$b=ti("LN10",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),Hb=ti("LOG2E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),Gb=ti("LOG10E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),Wb=ti("SQRT1_2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),jb=ti("SQRT2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),Zb=ti("i",["Complex"],r=>{var{Complex:e}=r;return e.I});var Jb=S("version",[],()=>eP);function ti(r,e,t){return S(r,e,t,{recreateOnConfigChange:!0})}var Yb=Et("speedOfLight","299792458","m s^-1"),Xb=Et("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Qb=Et("planckConstant","6.62607015e-34","J s"),Kb=Et("reducedPlanckConstant","1.0545718176461565e-34","J s"),e1=Et("magneticConstant","1.25663706212e-6","N A^-2"),t1=Et("electricConstant","8.8541878128e-12","F m^-1"),r1=Et("vacuumImpedance","376.730313667","ohm"),n1=Et("coulomb","8.987551792261171e9","N m^2 C^-2"),i1=Et("elementaryCharge","1.602176634e-19","C"),a1=Et("bohrMagneton","9.2740100783e-24","J T^-1"),o1=Et("conductanceQuantum","7.748091729863649e-5","S"),s1=Et("inverseConductanceQuantum","12906.403729652257","ohm"),u1=Et("magneticFluxQuantum","2.0678338484619295e-15","Wb"),l1=Et("nuclearMagneton","5.0507837461e-27","J T^-1"),c1=Et("klitzing","25812.807459304513","ohm");var f1=Et("bohrRadius","5.29177210903e-11","m"),p1=Et("classicalElectronRadius","2.8179403262e-15","m"),m1=Et("electronMass","9.1093837015e-31","kg"),d1=Et("fermiCoupling","1.1663787e-5","GeV^-2"),h1=kp("fineStructure",.0072973525693),g1=Et("hartreeEnergy","4.3597447222071e-18","J"),v1=Et("protonMass","1.67262192369e-27","kg"),y1=Et("deuteronMass","3.3435830926e-27","kg"),x1=Et("neutronMass","1.6749271613e-27","kg"),b1=Et("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),w1=Et("rydberg","10973731.568160","m^-1"),_1=Et("thomsonCrossSection","6.6524587321e-29","m^2"),A1=kp("weakMixingAngle",.2229),D1=kp("efimovFactor",22.7),E1=Et("atomicMass","1.66053906660e-27","kg"),C1=Et("avogadro","6.02214076e23","mol^-1"),S1=Et("boltzmann","1.380649e-23","J K^-1"),N1=Et("faraday","96485.33212331001","C mol^-1"),M1=Et("firstRadiation","3.7417718521927573e-16","W m^2"),T1=Et("loschmidt","2.686780111798444e25","m^-3"),F1=Et("gasConstant","8.31446261815324","J K^-1 mol^-1"),I1=Et("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),B1=Et("molarVolume","0.022413969545014137","m^3 mol^-1"),O1=kp("sackurTetrode",-1.16487052358),P1=Et("secondRadiation","0.014387768775039337","m K"),R1=Et("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),k1=Et("wienDisplacement","2.897771955e-3","m K"),L1=Et("molarMass","0.99999999965e-3","kg mol^-1"),V1=Et("molarMassC12","11.9999999958e-3","kg mol^-1"),U1=Et("gravity","9.80665","m s^-2"),q1=Et("planckLength","1.616255e-35","m"),z1=Et("planckMass","2.176435e-8","kg"),$1=Et("planckTime","5.391245e-44","s"),H1=Et("planckCharge","1.87554603778e-18","C"),G1=Et("planckTemperature","1.416785e+32","K");function Et(r,e,t){var n=["config","Unit","BigNumber"];return S(r,n,i=>{var{config:a,Unit:o,BigNumber:l}=i,u=a.number==="BigNumber"?new l(e):parseFloat(e),s=new o(u,t);return s.fixPrefix=!0,s})}function kp(r,e){var t=["config","BigNumber"];return S(r,t,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}var Ej="apply",Cj=["typed","isInteger"],W1=S(Ej,Cj,r=>{var{typed:e,isInteger:t}=r,n=Ho({typed:e,isInteger:t});return e("apply",{"...any":function(a){var o=a[1];nt(o)?a[1]=o-1:tt(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(l){throw nr(l)}}})},{isTransformFunction:!0});var Sj="column",Nj=["typed","Index","matrix","range"],j1=S(Sj,Nj,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=il({typed:e,Index:t,matrix:n,range:i});return e("column",{"...any":function(l){var u=l.length-1,s=l[u];nt(s)&&(l[u]=s-1);try{return a.apply(null,l)}catch(c){throw nr(c)}}})},{isTransformFunction:!0});function Qs(r,e,t){var n=r.filter(function(l){return Qt(l)&&!(l.name in e)&&!t.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+r+'"');var i=n.name,a=Wo(t),o=r.compile();return function(u){return a.set(i,u),o.evaluate(a)}}var Mj="filter",Tj=["typed"],Z1=S(Mj,Tj,r=>{var{typed:e}=r;function t(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(Qt(i[1])||qi(i[1])?u=i[1].compile().evaluate(o):u=Qs(i[1],a,o)),n(l,u)}t.rawArgs=!0;var n=e("filter",{"Array, function":tP,"Matrix, function":function(a,o){return a.create(tP(a.toArray(),o))},"Array, RegExp":ks,"Matrix, RegExp":function(a,o){return a.create(ks(a.toArray(),o))}});return t},{isTransformFunction:!0});function tP(r,e){return kf(r,function(t,n,i){return hi(e,t,[n+1],i,"filter")})}var Fj="forEach",Ij=["typed"],J1=S(Fj,Ij,r=>{var{typed:e}=r;function t(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(Qt(i[1])||qi(i[1])?u=i[1].compile().evaluate(o):u=Qs(i[1],a,o)),n(l,u)}t.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(a,o){var l=function u(s,c){if(Array.isArray(s))$a(s,function(f,p){u(f,c.concat(p+1))});else return hi(o,s,c,a,"forEach")};l(a.valueOf(),[])}});return t},{isTransformFunction:!0});var Bj="index",Oj=["Index","getMatrixDataType"],Y1=S(Bj,Oj,r=>{var{Index:e,getMatrixDataType:t}=r;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var l=arguments[a];if(Os(l))l.start--,l.end-=l.step>0?0:2;else if(l&&l.isSet===!0)l=l.map(function(s){return s-1});else if(Tt(l)||He(l))t(l)!=="boolean"&&(l=l.map(function(s){return s-1}));else if(nt(l))l--;else if(tt(l))l=l.toNumber()-1;else if(typeof l!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=l}var u=new e;return e.apply(u,i),u}},{isTransformFunction:!0});var Pj="map",Rj=["typed"],X1=S(Pj,Rj,r=>{var{typed:e}=r;function t(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(Qt(i[1])||qi(i[1])?u=i[1].compile().evaluate(o):u=Qs(i[1],a,o)),n(l,u)}t.rawArgs=!0;var n=e("map",{"Array, function":function(a,o){return rP(a,o,a)},"Matrix, function":function(a,o){return a.create(rP(a.valueOf(),o,a))}});return t},{isTransformFunction:!0});function rP(r,e,t){function n(i,a){return Array.isArray(i)?Pn(i,function(o,l){return n(o,a.concat(l+1))}):hi(e,i,a,t,"map")}return n(r,[])}function xn(r){if(r.length===2&&Ar(r[0])){r=r.slice();var e=r[1];nt(e)?r[1]=e-1:tt(e)&&(r[1]=e.minus(1))}return r}var kj="max",Lj=["typed","config","numeric","larger"],Q1=S(kj,Lj,r=>{var{typed:e,config:t,numeric:n,larger:i}=r,a=pl({typed:e,config:t,numeric:n,larger:i});return e("max",{"...any":function(l){l=xn(l);try{return a.apply(null,l)}catch(u){throw nr(u)}}})},{isTransformFunction:!0});var Vj="mean",Uj=["typed","add","divide"],K1=S(Vj,Uj,r=>{var{typed:e,add:t,divide:n}=r,i=yl({typed:e,add:t,divide:n});return e("mean",{"...any":function(o){o=xn(o);try{return i.apply(null,o)}catch(l){throw nr(l)}}})},{isTransformFunction:!0});var qj="min",zj=["typed","config","numeric","smaller"],ew=S(qj,zj,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r,a=ml({typed:e,config:t,numeric:n,smaller:i});return e("min",{"...any":function(l){l=xn(l);try{return a.apply(null,l)}catch(u){throw nr(u)}}})},{isTransformFunction:!0});var $j="range",Hj=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],tw=S($j,Hj,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c}=r,f=sl({typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c});return e("range",{"...any":function(m){var h=m.length-1,d=m[h];return typeof d!="boolean"&&m.push(!0),f.apply(null,m)}})},{isTransformFunction:!0});var Gj="row",Wj=["typed","Index","matrix","range"],rw=S(Gj,Wj,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=ul({typed:e,Index:t,matrix:n,range:i});return e("row",{"...any":function(l){var u=l.length-1,s=l[u];nt(s)&&(l[u]=s-1);try{return a.apply(null,l)}catch(c){throw nr(c)}}})},{isTransformFunction:!0});var jj="subset",Zj=["typed","matrix","zeros","add"],nw=S(jj,Zj,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=ll({typed:e,matrix:t,zeros:n,add:i});return e("subset",{"...any":function(l){try{return a.apply(null,l)}catch(u){throw nr(u)}}})},{isTransformFunction:!0});var Jj="concat",Yj=["typed","matrix","isInteger"],iw=S(Jj,Yj,r=>{var{typed:e,matrix:t,isInteger:n}=r,i=nl({typed:e,matrix:t,isInteger:n});return e("concat",{"...any":function(o){var l=o.length-1,u=o[l];nt(u)?o[l]=u-1:tt(u)&&(o[l]=u.minus(1));try{return i.apply(null,o)}catch(s){throw nr(s)}}})},{isTransformFunction:!0});var nP="diff",Xj=["typed","matrix","subtract","number","bignumber"],aw=S(nP,Xj,r=>{var{typed:e,matrix:t,subtract:n,number:i,bignumber:a}=r,o=ol({typed:e,matrix:t,subtract:n,number:i,bignumber:a});return e(nP,{"...any":function(u){u=xn(u);try{return o.apply(null,u)}catch(s){throw nr(s)}}})},{isTransformFunction:!0});var Qj="std",Kj=["typed","map","sqrt","variance"],ow=S(Qj,Kj,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r,a=wl({typed:e,map:t,sqrt:n,variance:i});return e("std",{"...any":function(l){l=xn(l);try{return a.apply(null,l)}catch(u){throw nr(u)}}})},{isTransformFunction:!0});var iP="sum",eZ=["typed","config","add","numeric"],sw=S(iP,eZ,r=>{var{typed:e,config:t,add:n,numeric:i}=r,a=gl({typed:e,config:t,add:n,numeric:i});return e(iP,{"...any":function(l){l=xn(l);try{return a.apply(null,l)}catch(u){throw nr(u)}}})},{isTransformFunction:!0});var tZ="quantileSeq",rZ=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],uw=S(tZ,rZ,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:p}=r,m=bl({typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:p});return e("quantileSeq",{"Array | Matrix, number | BigNumber":m,"Array | Matrix, number | BigNumber, number":(d,g,v)=>m(d,g,h(v)),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(d,g,v,w)=>m(d,g,v,h(w)),"Array | Matrix, Array | Matrix":m,"Array | Matrix, Array | Matrix, number":(d,g,v)=>m(d,g,h(v)),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(d,g,v,w)=>m(d,g,v,h(w))});function h(d){return xn([[],d])[1]}},{isTransformFunction:!0});var aP="cumsum",nZ=["typed","add","unaryPlus"],lw=S(aP,nZ,r=>{var{typed:e,add:t,unaryPlus:n}=r,i=vl({typed:e,add:t,unaryPlus:n});return e(aP,{"...any":function(o){if(o.length===2&&Ar(o[0])){var l=o[1];nt(l)?o[1]=l-1:tt(l)&&(o[1]=l.minus(1))}try{return i.apply(null,o)}catch(u){throw nr(u)}}})},{isTransformFunction:!0});var oP="variance",iZ=["typed","add","subtract","multiply","divide","apply","isNaN"],cw=S(oP,iZ,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:l}=r,u=xl({typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:l});return e(oP,{"...any":function(c){c=xn(c);try{return u.apply(null,c)}catch(f){throw nr(f)}}})},{isTransformFunction:!0});var sP="print",aZ=["typed","matrix","zeros","add"],fw=S(sP,aZ,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=cl({typed:e,matrix:t,zeros:n,add:i});return e(sP,{"string, Object | Array":function(u,s){return a(o(u),s)},"string, Object | Array, number | Object":function(u,s,c){return a(o(u),s,c)}});function o(l){return l.replace(ip,u=>{var s=u.slice(1).split("."),c=s.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0});var oZ="and",sZ=["typed","matrix","zeros","add","equalScalar","not","concat"],pw=S(oZ,sZ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,l=fl({typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o});function u(s,c,f){var p=s[0].compile().evaluate(f);if(!Ar(p)&&!l(p,!0))return!1;var m=s[1].compile().evaluate(f);return l(p,m)}return u.rawArgs=!0,u},{isTransformFunction:!0});var uZ="or",lZ=["typed","matrix","equalScalar","DenseMatrix","concat"],mw=S(uZ,lZ,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=rl({typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a});function l(u,s,c){var f=u[0].compile().evaluate(c);if(!Ar(f)&&o(f,!1))return!0;var p=u[1].compile().evaluate(c);return o(f,p)}return l.rawArgs=!0,l},{isTransformFunction:!0});var cZ="bitAnd",fZ=["typed","matrix","zeros","add","equalScalar","not","concat"],dw=S(cZ,fZ,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,l=el({typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o});function u(s,c,f){var p=s[0].compile().evaluate(f);if(!Ar(p)){if(isNaN(p))return NaN;if(p===0||p===!1)return 0}var m=s[1].compile().evaluate(f);return l(p,m)}return u.rawArgs=!0,u},{isTransformFunction:!0});var pZ="bitOr",mZ=["typed","matrix","equalScalar","DenseMatrix","concat"],hw=S(pZ,mZ,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=tl({typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a});function l(u,s,c){var f=u[0].compile().evaluate(c);if(!Ar(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var p=u[1].compile().evaluate(c);return o(f,p)}return l.rawArgs=!0,l},{isTransformFunction:!0});var ke=Bh({config:xe}),ir=Ph({}),gw=Ub({BigNumber:ke,config:xe}),uP=Ob({}),lP=h1({BigNumber:ke,config:xe}),Ka=kh({}),vw=Zb({Complex:ir}),cP=Rb({BigNumber:ke,config:xe}),fP=$b({BigNumber:ke,config:xe}),pP=Gb({BigNumber:ke,config:xe}),Dl=Vh({}),mP=kb({BigNumber:ke,config:xe}),dP=Pb({}),hP=qb({BigNumber:ke,config:xe}),gP=Lh({}),yw=Ch({}),vP=Wb({BigNumber:ke,config:xe}),yP=O1({BigNumber:ke,config:xe}),xw=Vb({BigNumber:ke,config:xe}),xP=Bb({}),bP=Jb({}),Nt=Uh({Matrix:Dl}),wP=D1({BigNumber:ke,config:xe}),_P=zb({BigNumber:ke,config:xe}),Lp=Lb({BigNumber:ke,config:xe}),AP=Ib({}),DP=jb({BigNumber:ke,config:xe}),Z=Eh({BigNumber:ke,Complex:ir,DenseMatrix:Nt,Fraction:Ka}),Vp=lv({BigNumber:ke,config:xe,typed:Z}),EP=A1({BigNumber:ke,config:xe}),bn=cv({typed:Z}),CP=f0({Complex:ir,config:xe,typed:Z}),SP=m0({BigNumber:ke,typed:Z}),NP=h0({BigNumber:ke,Complex:ir,config:xe,typed:Z}),kr=fv({typed:Z}),MP=Uv({typed:Z}),TP=y0({BigNumber:ke,Complex:ir,config:xe,typed:Z}),FP=b0({typed:Z}),bw=w0({typed:Z}),IP=A0({Complex:ir,config:xe,typed:Z}),Vn=ev({BigNumber:ke,typed:Z}),BP=Lv({typed:Z}),OP=Kg({typed:Z}),PP=qh({typed:Z}),El=Xx({typed:Z}),Cl=tv({Complex:ir,typed:Z}),eo=qv({typed:Z}),Up=D0({typed:Z}),RP=C0({BigNumber:ke,typed:Z}),kP=N0({BigNumber:ke,typed:Z}),LP=gv({typed:Z}),Bt=Jg({config:xe,typed:Z}),VP=vy({typed:Z}),ww=vv({typed:Z}),UP=yv({Complex:ir,typed:Z}),qP=Jv({typed:Z}),zP=Xv({typed:Z}),Ks=wy({typed:Z}),qp=Qv({typed:Z}),$P=Dy({format:Ks,typed:Z}),zp=zv({typed:Z}),Mn=$h({typed:Z}),ba=zg({typed:Z}),to=Gg({typed:Z}),yi=Wg({typed:Z}),HP=Hb({BigNumber:ke,config:xe}),GP=eb({Complex:ir,typed:Z}),WP=Ev({Complex:ir,config:xe,typed:Z}),_w=Cv({Complex:ir,config:xe,typed:Z}),ro=ty({typed:Z}),Dr=Sv({typed:Z}),Sl=Hv({typed:Z}),ji=Xg({typed:Z}),jP=Ay({format:Ks,typed:Z}),ZP=pb({config:xe,typed:Z}),JP=cl({typed:Z}),YP=mb({config:xe,typed:Z}),$p=$v({typed:Z}),XP=T0({BigNumber:ke,typed:Z}),Aw=Tv({BigNumber:ke,Fraction:Ka,complex:Cl,typed:Z}),Nl=I0({typed:Z}),Zi=Yg({Matrix:Dl,equalScalar:Bt,typed:Z}),QP=sv({typed:Z}),KP=Iv({typed:Z}),e3=Qg({typed:Z}),ri=pv({typed:Z}),t3=O0({typed:Z}),Dw=Zg({typed:Z}),r3=p0({Complex:ir,config:xe,typed:Z}),n3=g0({BigNumber:ke,typed:Z}),Hp=Ho({isInteger:Mn,typed:Z}),i3=v0({BigNumber:ke,Complex:ir,config:xe,typed:Z}),a3=_y({format:Ks,typed:Z}),o3=Qx({typed:Z}),s3=E0({typed:Z}),u3=M0({BigNumber:ke,typed:Z}),eu=jg({typed:Z}),l3=Cy({typed:Z}),c3=db({config:xe,typed:Z}),f3=F0({BigNumber:ke,typed:Z}),p3=B0({typed:Z}),m3=l0({SparseMatrix:Zi,typed:Z}),xi=Fv({Complex:ir,config:xe,typed:Z}),d3=P0({typed:Z}),Bi=uv({typed:Z}),h3=d0({BigNumber:ke,Complex:ir,config:xe,typed:Z}),g3=S0({BigNumber:ke,typed:Z}),Zo=rv({Fraction:Ka,typed:Z}),no=$g({typed:Z}),Oe=nv({DenseMatrix:Nt,Matrix:Dl,SparseMatrix:Zi,typed:Z}),v3=iv({isZero:yi,matrix:Oe,typed:Z}),y3=xy({isNaN:eu,isNumeric:no,typed:Z}),bi=Sy({bignumber:Vn,fraction:Zo,number:ji}),Ew=by({config:xe,multiplyScalar:Dr,numeric:bi,typed:Z}),Cw=ny({isInteger:Mn,matrix:Oe,typed:Z}),Kr=sy({matrix:Oe,config:xe,typed:Z}),x3=uy({matrix:Oe,typed:Z}),tu=ly({matrix:Oe,typed:Z}),Sw=Ov({BigNumber:ke,config:xe,matrix:Oe,typed:Z}),en=fy({BigNumber:ke,config:xe,matrix:Oe,typed:Z}),b3=x0({Complex:ir,config:xe,typed:Z}),Nw=mv({BigNumber:ke,Complex:ir,Fraction:Ka,config:xe,isNegative:ba,matrix:Oe,typed:Z,unaryMinus:Bi}),Vt=nl({isInteger:Mn,matrix:Oe,typed:Z}),w3=Wv({prod:Ew,size:Kr,typed:Z}),Gp=cy({conj:eo,transpose:tu,typed:Z}),Mw=Zv({DenseMatrix:Nt,SparseMatrix:Zi,matrix:Oe,typed:Z}),yr=Ny({numeric:bi,typed:Z}),ru=Py({DenseMatrix:Nt,concat:Vt,divideScalar:yr,equalScalar:Bt,matrix:Oe,typed:Z}),ni=Wy({DenseMatrix:Nt,concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z}),nu=Yv({matrix:Oe,typed:Z}),_3=Hg({isNumeric:no,typed:Z}),wa=Kv({BigNumber:ke,DenseMatrix:Nt,SparseMatrix:Zi,config:xe,matrix:Oe,typed:Z}),A3=ey({matrix:Oe,multiplyScalar:Dr,typed:Z}),Ml=Xy({DenseMatrix:Nt,concat:Vt,config:xe,matrix:Oe,typed:Z}),D3=Uy({DenseMatrix:Nt,concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z,zeros:en}),Tw=Ry({DenseMatrix:Nt,divideScalar:yr,equalScalar:Bt,matrix:Oe,multiplyScalar:Dr,subtractScalar:ri,typed:Z}),Wp=ov({flatten:nu,matrix:Oe,size:Kr,typed:Z}),E3=Mv({BigNumber:ke,concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z}),C3=ry({BigNumber:ke,config:xe,matrix:Oe,typed:Z}),jp=Ax({addScalar:kr,complex:Cl,conj:eo,divideScalar:yr,equal:ni,identity:wa,isZero:yi,matrix:Oe,multiplyScalar:Dr,sign:Aw,sqrt:xi,subtractScalar:ri,typed:Z,unaryMinus:Bi,zeros:en}),S3=iy({config:xe,matrix:Oe}),N3=qy({DenseMatrix:Nt,concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z,zeros:en}),Jo=Ty({BigNumber:ke,DenseMatrix:Nt,equalScalar:Bt,matrix:Oe,typed:Z,zeros:en}),wn=Zy({DenseMatrix:Nt,concat:Vt,config:xe,matrix:Oe,typed:Z}),Er=Bv({DenseMatrix:Nt,concat:Vt,equalScalar:Bt,matrix:Oe,subtractScalar:ri,typed:Z,unaryMinus:Bi}),M3=Ey({concat:Vt,matrix:Oe,typed:Z}),T3=Ky({DenseMatrix:Nt,concat:Vt,config:xe,equalScalar:Bt,matrix:Oe,typed:Z}),Zp=ky({DenseMatrix:Nt,divideScalar:yr,equalScalar:Bt,matrix:Oe,multiplyScalar:Dr,subtractScalar:ri,typed:Z}),F3=Gv({DenseMatrix:Nt,concat:Vt,matrix:Oe,typed:Z}),Pt=W0({DenseMatrix:Nt,SparseMatrix:Zi,addScalar:kr,concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z}),I3=_0({BigNumber:ke,DenseMatrix:Nt,concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z}),B3=el({concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z}),O3=tl({DenseMatrix:Nt,concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z}),P3=Vv({DenseMatrix:Nt,concat:Vt,matrix:Oe,typed:Z}),R3=vb({addScalar:kr,combinations:El,divideScalar:yr,isInteger:Mn,isNegative:ba,multiplyScalar:Dr,typed:Z}),io=$y({BigNumber:ke,DenseMatrix:Nt,Fraction:Ka,concat:Vt,config:xe,equalScalar:Bt,matrix:Oe,typed:Z}),Fw=Gy({concat:Vt,matrix:Oe,typed:Z}),k3=vl({add:Pt,typed:Z,unaryPlus:Vp}),Jp=Qy({equal:ni,typed:Z}),L3=ol({matrix:Oe,number:ji,subtract:Er,typed:Z}),V3=Gx({abs:bn,addScalar:kr,deepEqual:Jp,divideScalar:yr,multiplyScalar:Dr,sqrt:xi,subtractScalar:ri,typed:Z}),Tl=J0({addScalar:kr,conj:eo,multiplyScalar:Dr,size:Kr,typed:Z}),U3=jy({compareText:Fw,isZero:yi,typed:Z}),Iw=Qu({DenseMatrix:Nt,config:xe,equalScalar:Bt,matrix:Oe,round:Jo,typed:Z,zeros:en}),q3=Av({BigNumber:ke,DenseMatrix:Nt,concat:Vt,config:xe,equalScalar:Bt,matrix:Oe,round:Jo,typed:Z,zeros:en}),z3=j0({abs:bn,addScalar:kr,divideScalar:yr,isPositive:to,multiplyScalar:Dr,smaller:wn,sqrt:xi,typed:Z}),Bw=r0({DenseMatrix:Nt,smaller:wn}),cn=n0({ImmutableDenseMatrix:Bw,getMatrixDataType:qp}),_n=Yy({DenseMatrix:Nt,concat:Vt,config:xe,matrix:Oe,typed:Z}),Yp=Fy({Complex:ir,config:xe,divideScalar:yr,typed:Z}),$3=Ly({DenseMatrix:Nt,divideScalar:yr,equalScalar:Bt,matrix:Oe,multiplyScalar:Dr,subtractScalar:ri,typed:Z}),H3=av({flatten:nu,matrix:Oe,size:Kr,typed:Z}),G3=ml({config:xe,numeric:bi,smaller:wn,typed:Z}),Ow=Ku({DenseMatrix:Nt,concat:Vt,config:xe,equalScalar:Bt,matrix:Oe,round:Jo,typed:Z,zeros:en}),Gt=Nv({addScalar:kr,dot:Tl,equalScalar:Bt,matrix:Oe,multiplyScalar:Dr,typed:Z}),W3=By({Complex:ir,config:xe,divideScalar:yr,typed:Z}),j3=rl({DenseMatrix:Nt,concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z}),Fl=e0({compare:io,isNaN:eu,isNumeric:no,typed:Z}),Z3=zy({DenseMatrix:Nt,concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z,zeros:en}),Pw=Ex({SparseMatrix:Zi,abs:bn,add:Pt,divideScalar:yr,larger:_n,largerEq:Ml,multiply:Gt,subtract:Er,transpose:tu,typed:Z}),Un=ll({add:Pt,matrix:Oe,typed:Z,zeros:en}),Xp=gl({add:Pt,config:xe,numeric:bi,typed:Z}),J3=Y0({add:Pt,matrix:Oe,typed:Z}),Rw=Vy({DenseMatrix:Nt,divideScalar:yr,equalScalar:Bt,matrix:Oe,multiplyScalar:Dr,subtractScalar:ri,typed:Z}),Y3=Mb({Complex:ir,add:Pt,multiply:Gt,number:ji,typed:Z}),Qp=hv({DenseMatrix:Nt,config:xe,equalScalar:Bt,matrix:Oe,round:Jo,typed:Z,zeros:en}),Oi=Hy({compare:io,typed:Z}),X3=yb({addScalar:kr,combinations:El,isInteger:Mn,isNegative:ba,isPositive:to,larger:_n,typed:Z}),Q3=jv({matrix:Oe,multiply:Gt,subtract:Er,typed:Z}),kw=Px({divideScalar:yr,isZero:yi,matrix:Oe,multiply:Gt,subtractScalar:ri,typed:Z,unaryMinus:Bi}),K3=Rv({concat:Vt,equalScalar:Bt,matrix:Oe,multiplyScalar:Dr,typed:Z}),Lw=i0({larger:_n,smaller:wn}),Vw=bv({Complex:ir,DenseMatrix:Nt,ceil:Qp,equalScalar:Bt,floor:Iw,matrix:Oe,typed:Z,zeros:en}),Uw=X0({Index:cn,typed:Z}),eR=Wx({abs:bn,add:Pt,addScalar:kr,config:xe,divideScalar:yr,equalScalar:Bt,flatten:nu,isNumeric:no,isZero:yi,matrix:Oe,multiply:Gt,multiplyScalar:Dr,smaller:wn,subtract:Er,typed:Z}),tR=Pv({BigNumber:ke,add:Pt,config:xe,equal:ni,isInteger:Mn,mod:Ow,smaller:wn,typed:Z,xgcd:Sw}),rR=Dv({concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z}),nR=Iy({Complex:ir,config:xe,divideScalar:yr,log:Yp,typed:Z}),Kp=pl({config:xe,larger:_n,numeric:bi,typed:Z}),iR=R0({DenseMatrix:Nt,Index:cn,compareNatural:Oi,size:Kr,subset:Un,typed:Z}),aR=L0({DenseMatrix:Nt,Index:cn,compareNatural:Oi,size:Kr,subset:Un,typed:Z}),oR=U0({Index:cn,compareNatural:Oi,size:Kr,subset:Un,typed:Z}),sR=z0({Index:cn,compareNatural:Oi,size:Kr,subset:Un,typed:Z}),Yo=Jy({DenseMatrix:Nt,concat:Vt,config:xe,matrix:Oe,typed:Z}),uR=t0({compare:io,compareNatural:Oi,matrix:Oe,typed:Z}),lR=fl({concat:Vt,equalScalar:Bt,matrix:Oe,not:Sl,typed:Z,zeros:en}),Xo=sl({bignumber:Vn,matrix:Oe,add:Pt,config:xe,isPositive:to,larger:_n,largerEq:Ml,smaller:wn,smallerEq:Yo,typed:Z}),cR=ul({Index:cn,matrix:Oe,range:Xo,typed:Z}),qw=k0({DenseMatrix:Nt,Index:cn,compareNatural:Oi,size:Kr,subset:Un,typed:Z}),fR=q0({Index:cn,compareNatural:Oi,size:Kr,subset:Un,typed:Z}),zw=H0({Index:cn,concat:Vt,setDifference:qw,size:Kr,subset:Un,typed:Z}),$w=a0({FibonacciHeap:Lw,addScalar:kr,equalScalar:Bt}),Hw=il({Index:cn,matrix:Oe,range:Xo,typed:Z}),ao=Rx({abs:bn,addScalar:kr,det:kw,divideScalar:yr,identity:wa,matrix:Oe,multiply:Gt,typed:Z,unaryMinus:Bi}),Gw=_x({DenseMatrix:Nt,Spa:$w,SparseMatrix:Zi,abs:bn,addScalar:kr,divideScalar:yr,equalScalar:Bt,larger:_n,matrix:Oe,multiplyScalar:Dr,subtractScalar:ri,typed:Z,unaryMinus:Bi}),pR=kx({Complex:ir,add:Pt,ctranspose:Gp,deepEqual:Jp,divideScalar:yr,dot:Tl,dotDivide:ru,equal:ni,inv:ao,matrix:Oe,multiply:Gt,typed:Z}),ii=My({Complex:ir,config:xe,fraction:Zo,identity:wa,inv:ao,matrix:Oe,multiply:Gt,number:ji,typed:Z}),Ww=V0({DenseMatrix:Nt,Index:cn,compareNatural:Oi,size:Kr,subset:Un,typed:Z}),mR=G0({Index:cn,concat:Vt,setIntersect:Ww,setSymDifference:zw,size:Kr,subset:Un,typed:Z}),dR=Ux({abs:bn,add:Pt,identity:wa,inv:ao,map:ro,max:Kp,multiply:Gt,size:Kr,sqrt:xi,subtract:Er,typed:Z}),dt=s0({BigNumber:ke,Complex:ir,Fraction:Ka,abs:bn,addScalar:kr,config:xe,divideScalar:yr,equal:ni,fix:Vw,format:Ks,isNumeric:no,multiplyScalar:Dr,number:ji,pow:ii,round:Jo,subtractScalar:ri}),hR=r1({BigNumber:ke,Unit:dt,config:xe}),gR=k1({BigNumber:ke,Unit:dt,config:xe}),vR=E1({BigNumber:ke,Unit:dt,config:xe}),yR=a1({BigNumber:ke,Unit:dt,config:xe}),xR=S1({BigNumber:ke,Unit:dt,config:xe}),bR=o1({BigNumber:ke,Unit:dt,config:xe}),wR=n1({BigNumber:ke,Unit:dt,config:xe}),_R=y1({BigNumber:ke,Unit:dt,config:xe}),AR=Oy({DenseMatrix:Nt,concat:Vt,equalScalar:Bt,matrix:Oe,pow:ii,typed:Z}),DR=t1({BigNumber:ke,Unit:dt,config:xe}),ER=i1({BigNumber:ke,Unit:dt,config:xe}),CR=Vx({abs:bn,add:Pt,identity:wa,inv:ao,multiply:Gt,typed:Z}),SR=N1({BigNumber:ke,Unit:dt,config:xe}),jw=py({addScalar:kr,ceil:Qp,conj:eo,divideScalar:yr,dotDivide:ru,exp:ww,i:vw,log2:_w,matrix:Oe,multiplyScalar:Dr,pow:ii,tau:xw,typed:Z}),em=Kx({BigNumber:ke,Complex:ir,config:xe,multiplyScalar:Dr,pow:ii,typed:Z}),NR=Xb({BigNumber:ke,Unit:dt,config:xe}),MR=g1({BigNumber:ke,Unit:dt,config:xe}),TR=my({conj:eo,dotDivide:ru,fft:jw,typed:Z}),FR=c1({BigNumber:ke,Unit:dt,config:xe}),IR=T1({BigNumber:ke,Unit:dt,config:xe}),BR=e1({BigNumber:ke,Unit:dt,config:xe}),OR=L1({BigNumber:ke,Unit:dt,config:xe}),PR=I1({BigNumber:ke,Unit:dt,config:xe}),RR=x1({BigNumber:ke,Unit:dt,config:xe}),kR=l1({BigNumber:ke,Unit:dt,config:xe}),LR=H1({BigNumber:ke,Unit:dt,config:xe}),VR=q1({BigNumber:ke,Unit:dt,config:xe}),UR=G1({BigNumber:ke,Unit:dt,config:xe}),qR=v1({BigNumber:ke,Unit:dt,config:xe}),zR=b1({BigNumber:ke,Unit:dt,config:xe}),$R=Kb({BigNumber:ke,Unit:dt,config:xe}),HR=w1({BigNumber:ke,Unit:dt,config:xe}),GR=P1({BigNumber:ke,Unit:dt,config:xe}),WR=Yb({BigNumber:ke,Unit:dt,config:xe}),jR=R1({BigNumber:ke,Unit:dt,config:xe}),ZR=_1({BigNumber:ke,Unit:dt,config:xe}),JR=C1({BigNumber:ke,Unit:dt,config:xe}),YR=f1({BigNumber:ke,Unit:dt,config:xe}),XR=c0({Unit:dt,typed:Z}),Gr=Hx({divideScalar:yr,equalScalar:Bt,inv:ao,matrix:Oe,multiply:Gt,typed:Z}),QR=m1({BigNumber:ke,Unit:dt,config:xe}),iu=tb({gamma:em,typed:Z}),KR=M1({BigNumber:ke,Unit:dt,config:xe}),ek=U1({BigNumber:ke,Unit:dt,config:xe}),tk=s1({BigNumber:ke,Unit:dt,config:xe}),Zw=Sx({DenseMatrix:Nt,lsolve:Tw,lup:Gw,matrix:Oe,slu:Pw,typed:Z,usolve:Zp}),rk=u1({BigNumber:ke,Unit:dt,config:xe}),nk=V1({BigNumber:ke,Unit:dt,config:xe}),ik=nb({add:Pt,divide:Gr,factorial:iu,isInteger:Mn,isPositive:to,multiply:Gt,typed:Z}),ak=ib({factorial:iu,typed:Z}),ok=z1({BigNumber:ke,Unit:dt,config:xe}),sk=Nx({add:Pt,cbrt:Nw,divide:Gr,equalScalar:Bt,im:zp,isZero:yi,multiply:Gt,re:$p,sqrt:xi,subtract:Er,typeOf:Dw,typed:Z,unaryMinus:Bi}),uk=$0({compareNatural:Oi,typed:Z}),lk=gy({abs:bn,add:Pt,bignumber:Vn,divide:Gr,isNegative:ba,isPositive:to,larger:_n,map:ro,matrix:Oe,max:Kp,multiply:Gt,smaller:wn,subtract:Er,typed:Z,unaryMinus:Bi}),Jw=hb({bignumber:Vn,addScalar:kr,combinations:El,divideScalar:yr,factorial:iu,isInteger:Mn,isNegative:ba,larger:_n,multiplyScalar:Dr,number:ji,pow:ii,subtractScalar:ri,typed:Z}),ck=u0({Unit:dt,typed:Z}),fk=gb({addScalar:kr,isInteger:Mn,isNegative:ba,stirlingS2:Jw,typed:Z}),Yw=Lx({abs:bn,add:Pt,addScalar:kr,atan:bw,bignumber:Vn,column:Hw,complex:Cl,config:xe,cos:Up,diag:Mw,divideScalar:yr,dot:Tl,equal:ni,flatten:nu,im:zp,inv:ao,larger:_n,matrix:Oe,matrixFromColumns:Wp,multiply:Gt,multiplyScalar:Dr,number:ji,qr:jp,re:$p,reshape:Cw,sin:Nl,size:Kr,smaller:wn,sqrt:xi,subtract:Er,typed:Z,usolve:Zp,usolveAll:Rw}),pk=d1({BigNumber:ke,Unit:dt,config:xe}),mk=F1({BigNumber:ke,Unit:dt,config:xe}),Xw=yl({add:Pt,divide:Gr,typed:Z}),dk=B1({BigNumber:ke,Unit:dt,config:xe}),hk=Qb({BigNumber:ke,Unit:dt,config:xe}),gk=bl({bignumber:Vn,add:Pt,compare:io,divide:Gr,isInteger:Mn,larger:_n,multiply:Gt,partitionSelect:Fl,smaller:wn,smallerEq:Yo,subtract:Er,typed:Z}),tm=xl({add:Pt,apply:Hp,divide:Gr,isNaN:eu,multiply:Gt,subtract:Er,typed:Z}),vk=p1({BigNumber:ke,Unit:dt,config:xe}),Qw=jx({add:Pt,compare:io,divide:Gr,partitionSelect:Fl,typed:Z}),yk=Yx({add:Pt,divide:Gr,matrix:Oe,mean:Xw,multiply:Gt,pow:ii,sqrt:xi,subtract:Er,sum:Xp,typed:Z}),xk=Tb({Complex:ir,add:Pt,divide:Gr,matrix:Oe,multiply:Gt,typed:Z}),bk=Zx({abs:bn,map:ro,median:Qw,subtract:Er,typed:Z}),wk=wl({map:ro,sqrt:xi,typed:Z,variance:tm}),_k=yy({BigNumber:ke,Complex:ir,add:Pt,config:xe,divide:Gr,equal:ni,factorial:iu,gamma:em,isNegative:ba,multiply:Gt,pi:Lp,pow:ii,sin:Nl,smallerEq:Yo,subtract:Er,typed:Z}),rm=Z0({abs:bn,add:Pt,conj:eo,ctranspose:Gp,eigs:Yw,equalScalar:Bt,larger:_n,matrix:Oe,multiply:Gt,pow:ii,smaller:wn,sqrt:xi,typed:Z}),Kw=oy({BigNumber:ke,DenseMatrix:Nt,SparseMatrix:Zi,addScalar:kr,config:xe,cos:Up,matrix:Oe,multiplyScalar:Dr,norm:rm,sin:Nl,typed:Z,unaryMinus:Bi}),Ak=rb({divide:Gr,dotDivide:ru,isNumeric:no,log:Yp,map:ro,matrix:Oe,multiply:Gt,sum:Xp,typed:Z}),Dk=$1({BigNumber:ke,Unit:dt,config:xe}),e_=zx({identity:wa,matrix:Oe,multiply:Gt,norm:rm,qr:jp,subtract:Er,typed:Z}),Ek=ay({multiply:Gt,rotationMatrix:Kw,typed:Z}),t_=qx({abs:bn,add:Pt,concat:Vt,identity:wa,index:Uw,lusolve:Zw,matrix:Oe,matrixFromColumns:Wp,multiply:Gt,range:Xo,schur:e_,subset:Un,subtract:Er,transpose:tu,typed:Z}),Ck=$x({matrix:Oe,multiply:Gt,sylvester:t_,transpose:tu,typed:Z});var au={},ou={},Sk={},An=Q0({mathWithTransform:ou}),su=cx({Node:An}),_a=fx({Node:An}),Qo=px({Node:An}),Nk=dx({Node:An}),uu=ex({Node:An}),Mk=rx({Node:An,ResultSet:yw}),Tk=nx({Node:An}),oo=sx({Node:An}),Fk=mx({Node:An}),dZ=Fb({classes:Sk}),r_=Tx({math:au,typed:Z}),Ik=ux({Node:An,typed:Z}),hZ=Ox({Chain:r_,typed:Z}),lu=lx({Node:An,size:Kr}),cu=K0({Node:An,subset:Un}),Bk=tx({matrix:Oe,Node:An,subset:Un}),so=hx({Unit:dt,Node:An,math:au}),uo=gx({Node:An,SymbolNode:so,math:au}),Pi=vx({AccessorNode:cu,ArrayNode:uu,AssignmentNode:Bk,BlockNode:Mk,ConditionalNode:Tk,ConstantNode:oo,FunctionAssignmentNode:Ik,FunctionNode:uo,IndexNode:lu,ObjectNode:su,OperatorNode:_a,ParenthesisNode:Qo,RangeNode:Fk,RelationalNode:Nk,SymbolNode:so,config:xe,numeric:bi,typed:Z}),Ok=Eb({ConstantNode:oo,FunctionNode:uo,OperatorNode:_a,ParenthesisNode:Qo,parse:Pi,typed:Z}),n_=Ab({bignumber:Vn,fraction:Zo,AccessorNode:cu,ArrayNode:uu,ConstantNode:oo,FunctionNode:uo,IndexNode:lu,ObjectNode:su,OperatorNode:_a,SymbolNode:so,config:xe,mathWithTransform:ou,matrix:Oe,typed:Z}),i_=yx({parse:Pi,typed:Z}),Pk=Mx({parse:Pi}),gZ=xb({parse:Pi,typed:Z}),a_=Db({AccessorNode:cu,ArrayNode:uu,ConstantNode:oo,FunctionNode:uo,IndexNode:lu,ObjectNode:su,OperatorNode:_a,ParenthesisNode:Qo,SymbolNode:so,add:Pt,divide:Gr,equal:ni,isZero:yi,multiply:Gt,parse:Pi,pow:ii,subtract:Er,typed:Z}),Rk=xx({parse:Pi,typed:Z}),vZ=Bx({Help:Pk,mathWithTransform:ou,typed:Z}),kk=bx({evaluate:Rk}),nm=_b({bignumber:Vn,fraction:Zo,AccessorNode:cu,ArrayNode:uu,ConstantNode:oo,FunctionNode:uo,IndexNode:lu,ObjectNode:su,OperatorNode:_a,ParenthesisNode:Qo,SymbolNode:so,add:Pt,config:xe,divide:Gr,equal:ni,isZero:yi,mathWithTransform:ou,matrix:Oe,multiply:Gt,parse:Pi,pow:ii,resolve:Ok,simplifyConstant:n_,simplifyCore:a_,subtract:Er,typed:Z}),yZ=Cb({OperatorNode:_a,parse:Pi,simplify:nm,typed:Z}),xZ=wx({Parser:kk,typed:Z}),bZ=Nb({bignumber:Vn,fraction:Zo,AccessorNode:cu,ArrayNode:uu,ConstantNode:oo,FunctionNode:uo,IndexNode:lu,ObjectNode:su,OperatorNode:_a,ParenthesisNode:Qo,SymbolNode:so,add:Pt,config:xe,divide:Gr,equal:ni,isZero:yi,mathWithTransform:ou,matrix:Oe,multiply:Gt,parse:Pi,pow:ii,simplify:nm,simplifyConstant:n_,simplifyCore:a_,subtract:Er,typed:Z}),wZ=Sb({ConstantNode:oo,FunctionNode:uo,OperatorNode:_a,ParenthesisNode:Qo,SymbolNode:so,config:xe,equal:ni,isZero:yi,numeric:bi,parse:Pi,simplify:nm,typed:Z});mr(au,{e:gw,false:uP,fineStructure:lP,i:vw,Infinity:cP,LN10:fP,LOG10E:pP,NaN:mP,null:dP,phi:hP,SQRT1_2:vP,sackurTetrode:yP,tau:xw,true:xP,E:gw,version:bP,efimovFactor:wP,LN2:_P,pi:Lp,replacer:AP,reviver:dZ,SQRT2:DP,typed:Z,unaryPlus:Vp,PI:Lp,weakMixingAngle:EP,abs:bn,acos:CP,acot:SP,acsc:NP,addScalar:kr,arg:MP,asech:TP,asinh:FP,atan:bw,atanh:IP,bignumber:Vn,bitNot:BP,boolean:OP,clone:PP,combinations:El,complex:Cl,conj:eo,cos:Up,cot:RP,csc:kP,cube:LP,equalScalar:Bt,erf:VP,exp:ww,expm1:UP,filter:qP,forEach:zP,format:Ks,getMatrixDataType:qp,hex:$P,im:zp,isInteger:Mn,isNegative:ba,isPositive:to,isZero:yi,LOG2E:HP,lgamma:GP,log10:WP,log2:_w,map:ro,multiplyScalar:Dr,not:Sl,number:ji,oct:jP,pickRandom:ZP,print:JP,random:YP,re:$p,sec:XP,sign:Aw,sin:Nl,splitUnit:QP,square:KP,string:e3,subtractScalar:ri,tan:t3,typeOf:Dw,acosh:r3,acsch:n3,apply:Hp,asec:i3,bin:a3,chain:hZ,combinationsWithRep:o3,cosh:s3,csch:u3,isNaN:eu,isPrime:l3,randomInt:c3,sech:f3,sinh:p3,sparse:m3,sqrt:xi,tanh:d3,unaryMinus:Bi,acoth:h3,coth:g3,fraction:Zo,isNumeric:no,matrix:Oe,matrixFromFunction:v3,mode:y3,numeric:bi,prod:Ew,reshape:Cw,size:Kr,squeeze:x3,transpose:tu,xgcd:Sw,zeros:en,asin:b3,cbrt:Nw,concat:Vt,count:w3,ctranspose:Gp,diag:Mw,divideScalar:yr,dotDivide:ru,equal:ni,flatten:nu,hasNumericValue:_3,identity:wa,kron:A3,largerEq:Ml,leftShift:D3,lsolve:Tw,matrixFromColumns:Wp,nthRoot:E3,ones:C3,qr:jp,resize:S3,rightArithShift:N3,round:Jo,smaller:wn,subtract:Er,to:M3,unequal:T3,usolve:Zp,xor:F3,add:Pt,atan2:I3,bitAnd:B3,bitOr:O3,bitXor:P3,catalan:R3,compare:io,compareText:Fw,cumsum:k3,deepEqual:Jp,diff:L3,distance:V3,dot:Tl,equalText:U3,floor:Iw,gcd:q3,hypot:z3,larger:_n,log:Yp,lsolveAll:$3,matrixFromRows:H3,min:G3,mod:Ow,multiply:Gt,nthRoots:W3,or:j3,partitionSelect:Fl,rightLogShift:Z3,slu:Pw,subset:Un,sum:Xp,trace:J3,usolveAll:Rw,zpk2tf:Y3,ceil:Qp,compareNatural:Oi,composition:X3,cross:Q3,det:kw,dotMultiply:K3,fix:Vw,index:Uw,intersect:eR,invmod:tR,lcm:rR,log1p:nR,max:Kp,setCartesian:iR,setDistinct:aR,setIsSubset:oR,setPowerset:sR,smallerEq:Yo,sort:uR,and:lR,range:Xo,row:cR,setDifference:qw,setMultiplicity:fR,setSymDifference:zw,column:Hw,inv:ao,lup:Gw,pinv:pR,pow:ii,setIntersect:Ww,setUnion:mR,sqrtm:dR,vacuumImpedance:hR,wienDisplacement:gR,atomicMass:vR,bohrMagneton:yR,boltzmann:xR,conductanceQuantum:bR,coulomb:wR,deuteronMass:_R,dotPow:AR,electricConstant:DR,elementaryCharge:ER,expm:CR,faraday:SR,fft:jw,gamma:em,gravitationConstant:NR,hartreeEnergy:MR,ifft:TR,klitzing:FR,loschmidt:IR,magneticConstant:BR,molarMass:OR,molarPlanckConstant:PR,neutronMass:RR,nuclearMagneton:kR,planckCharge:LR,planckLength:VR,planckTemperature:UR,protonMass:qR,quantumOfCirculation:zR,reducedPlanckConstant:$R,rydberg:HR,secondRadiation:GR,speedOfLight:WR,stefanBoltzmann:jR,thomsonCrossSection:ZR,avogadro:JR,bohrRadius:YR,createUnit:XR,divide:Gr,electronMass:QR,factorial:iu,firstRadiation:KR,gravity:ek,inverseConductanceQuantum:tk,lusolve:Zw,magneticFluxQuantum:rk,molarMassC12:nk,multinomial:ik,parse:Pi,permutations:ak,planckMass:ok,polynomialRoot:sk,resolve:Ok,setSize:uk,simplifyConstant:n_,solveODE:lk,stirlingS2:Jw,unit:ck,bellNumbers:fk,compile:i_,eigs:Yw,fermiCoupling:pk,gasConstant:mk,leafCount:gZ,mean:Xw,molarVolume:dk,planckConstant:hk,quantileSeq:gk,simplifyCore:a_,variance:tm,classicalElectronRadius:vk,evaluate:Rk,help:vZ,median:Qw,simplify:nm,symbolicEqual:yZ,corr:yk,freqz:xk,mad:bk,parser:xZ,rationalize:bZ,std:wk,zeta:_k,derivative:wZ,norm:rm,rotationMatrix:Kw,kldivergence:Ak,planckTime:Dk,schur:e_,rotate:Ek,sylvester:t_,lyap:Ck,config:xe});mr(ou,au,{filter:Z1({typed:Z}),forEach:J1({typed:Z}),map:X1({typed:Z}),apply:W1({isInteger:Mn,typed:Z}),or:mw({DenseMatrix:Nt,concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z}),and:pw({add:Pt,concat:Vt,equalScalar:Bt,matrix:Oe,not:Sl,typed:Z,zeros:en}),concat:iw({isInteger:Mn,matrix:Oe,typed:Z}),max:Q1({config:xe,larger:_n,numeric:bi,typed:Z}),print:fw({add:Pt,matrix:Oe,typed:Z,zeros:en}),bitAnd:dw({add:Pt,concat:Vt,equalScalar:Bt,matrix:Oe,not:Sl,typed:Z,zeros:en}),diff:aw({bignumber:Vn,matrix:Oe,number:ji,subtract:Er,typed:Z}),min:ew({config:xe,numeric:bi,smaller:wn,typed:Z}),subset:nw({add:Pt,matrix:Oe,typed:Z,zeros:en}),bitOr:hw({DenseMatrix:Nt,concat:Vt,equalScalar:Bt,matrix:Oe,typed:Z}),cumsum:lw({add:Pt,typed:Z,unaryPlus:Vp}),index:Y1({Index:cn,getMatrixDataType:qp}),sum:sw({add:Pt,config:xe,numeric:bi,typed:Z}),range:tw({bignumber:Vn,matrix:Oe,add:Pt,config:xe,isPositive:to,larger:_n,largerEq:Ml,smaller:wn,smallerEq:Yo,typed:Z}),row:rw({Index:cn,matrix:Oe,range:Xo,typed:Z}),column:j1({Index:cn,matrix:Oe,range:Xo,typed:Z}),mean:K1({add:Pt,divide:Gr,typed:Z}),quantileSeq:uw({add:Pt,bignumber:Vn,compare:io,divide:Gr,isInteger:Mn,larger:_n,multiply:Gt,partitionSelect:Fl,smaller:wn,smallerEq:Yo,subtract:Er,typed:Z}),variance:cw({add:Pt,apply:Hp,divide:Gr,isNaN:eu,multiply:Gt,subtract:Er,typed:Z}),std:ow({map:ro,sqrt:xi,typed:Z,variance:tm})});mr(Sk,{BigNumber:ke,Complex:ir,Fraction:Ka,Matrix:Dl,Node:An,ObjectNode:su,OperatorNode:_a,ParenthesisNode:Qo,Range:gP,RelationalNode:Nk,ResultSet:yw,ArrayNode:uu,BlockNode:Mk,ConditionalNode:Tk,ConstantNode:oo,DenseMatrix:Nt,RangeNode:Fk,Chain:r_,FunctionAssignmentNode:Ik,SparseMatrix:Zi,IndexNode:lu,ImmutableDenseMatrix:Bw,Index:cn,AccessorNode:cu,AssignmentNode:Bk,FibonacciHeap:Lw,Spa:$w,Unit:dt,SymbolNode:so,FunctionNode:uo,Help:Pk,Parser:kk});r_.createProxy(au);var im=class extends Ua{constructor(e){super(e),this.hidden=!1,this.hasError=!1}buildVariables(e){var i;let t=0;this.expressionStr="";let n=[];for(let a of(i=e.templateDeclaration)!=null?i:[])if(typeof a!="string"){let o={bindTargetDeclaration:a,inputSignal:new Pr(void 0),uuid:jt(),contextName:`MB_VAR_${t}`};n.push(o),this.expressionStr+=o.contextName,t+=1}else this.expressionStr+=a;return this.expression=i_(this.expressionStr),n}_render(e){}_update(e,t){this.hasError?e.addClass("mb-error"):e.removeClass("mb-error"),e.innerText=t}destroy(){}buildContext(e){var n;let t={};for(let i of e!=null?e:[])!i.contextName||!i.inputSignal||(t[i.contextName]=(n=i.inputSignal.get())!=null?n:"");return t}computeValue(e){if(this.hasError=!1,!this.expression)return this.handleComputeError(new ia({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:"expression is undefined"}));let t=this.buildContext(e);try{return this.expression.evaluate(t).toString()}catch(n){return n instanceof Error?this.handleComputeError(new ia({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:n,context:{expression:this.expressionStr,context:t}})):this.handleComputeError(new Error("failed to evaluate js expression because of: unexpected thrown value"))}}getDefaultDisplayValue(){return""}handleComputeError(e){return this.hasError=!0,console.warn(e),e.message}};var om=require("obsidian");var am=class extends Ua{constructor(e){super(e),this.renderMarkdown=!1,this.markdownComponent=new om.Component}buildVariables(e){var i;this.textParts=[];let t=0,n=[];for(let a of(i=e.templateDeclaration)!=null?i:[])if(typeof a!="string"){let o={bindTargetDeclaration:a,inputSignal:new Pr(void 0),uuid:jt(),contextName:`MB_VAR_${t}`};n.push(o),this.textParts.push(t),t+=1}else this.textParts.push(a);return n}_render(e){var t,n;this.renderMarkdown=(n=(t=this.renderChild.getArgument("renderMarkdown"))==null?void 0:t.value)!=null?n:!1,this.markdownComponent.load(),this.renderMarkdown&&e.addClass("mb-view-markdown")}async _update(e,t){this.renderMarkdown?(this.markdownComponent.unload(),this.markdownComponent.load(),await om.MarkdownRenderer.render(this.renderChild.plugin.app,t,e,this.renderChild.filePath,this.markdownComponent)):e.innerText=t}destroy(){this.markdownComponent.unload()}computeValue(e){if(!this.textParts)throw new ia({errorLevel:"CRITICAL",effect:"failed to evaluate text view field",cause:"content parts is undefined"});return this.textParts.map(t=>typeof t=="number"?zc(e[t].inputSignal.get(),this.renderChild.plugin.settings.viewFieldDisplayNullAsEmpty):t).join("")}getDefaultDisplayValue(){return""}};function _Z(r){let e,t;return e=new pf({props:{elements:r[0],$$slots:{default:[EZ,({element:n})=>({1:n}),({element:n})=>n?2:0]},$$scope:{ctx:r}}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.elements=n[0]),i&6&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function AZ(r){let e,t;return e=new Va({props:{mdLink:r[0][0]}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.mdLink=n[0][0]),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function DZ(r){let e;return{c(){e=j("span")},m(t,n){Y(t,e,n)},p:Se,i:Se,o:Se,d(t){t&&J(e)}}}function EZ(r){let e,t;return e=new Va({props:{mdLink:r[1]}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.mdLink=n[1]),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function CZ(r){let e,t,n,i,a=[DZ,AZ,_Z],o=[];function l(u,s){return u[0].length===0?0:u[0].length===1?1:2}return e=l(r,-1),t=o[e]=a[e](r),{c(){t.c(),n=or()},m(u,s){o[e].m(u,s),Y(u,n,s),i=!0},p(u,[s]){let c=e;e=l(u,s),e===c?o[e].p(u,s):(gt(),ae(o[c],1,1,()=>{o[c]=null}),vt(),t=o[e],t?t.p(u,s):(t=o[e]=a[e](u),t.c()),te(t,1),t.m(n.parentNode,n))},i(u){i||(te(t),i=!0)},o(u){ae(t),i=!1},d(u){u&&J(n),o[e].d(u)}}}function SZ(r,e,t){let{mdLinkList:n}=e;return r.$$set=i=>{"mdLinkList"in i&&t(0,n=i.mdLinkList)},[n]}var o_=class extends Ve{constructor(e){super(),qe(this,e,SZ,CZ,Ue,{mdLinkList:0})}},s_=o_;var sm=class extends Ua{constructor(e){super(e)}buildVariables(e){let t=e.templateDeclaration.filter(a=>typeof a=="string"?a:!0);if(t.length!==1)throw new xu({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});let n=t[0];if(typeof n=="string")throw new xu({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});return[{bindTargetDeclaration:n,inputSignal:new Pr(void 0),uuid:jt(),contextName:"MB_VAR_0"}]}_render(e){this.component=new s_({target:e,props:{mdLinkList:[]}})}async _update(e,t){let n=nn.parseLinkList(t);this.component=new s_({target:e,props:{mdLinkList:n}})}destroy(){var e;(e=this.component)==null||e.$destroy()}computeValue(e){if(e.length!==1)throw new ia({errorLevel:"CRITICAL",effect:"failed to evaluate link view field",cause:"there should be exactly one variable"});let n=e[0].inputSignal.get();return typeof n=="string"?this.convertToLink(n):Array.isArray(n)?n.filter(a=>typeof a=="string").map(a=>this.convertToLink(a)).filter(a=>a!=="").join(", "):""}convertToLink(e){return nn.isLink(e)?e:nn.isLink(`[[${e}]]`)?`[[${e}]]`:this.getUrl(e)?`[${this.getUrl(e).hostname}](${e})`:""}getUrl(e){try{return new URL(e)}catch(t){return}}getDefaultDisplayValue(){return""}};var um=class{constructor(e){this.plugin=e}createViewField(e,t){if(e==="math")return new im(t);if(e==="text")return new am(t);if(e==="link")return new sm(t)}};var lm=class{constructor(){this.buttons=new Map,this.buttonLoadListeners=new Map}registerButtonLoadListener(e,t,n){let i=this.getButton(e,t);i&&n(i),this.buttonLoadListeners.has(e)||this.buttonLoadListeners.set(e,new Map);let a=this.buttonLoadListeners.get(e);a.has(t)||a.set(t,new Map);let o=a.get(t),l=jt();return o.set(l,n),()=>this.removeButtonLoadListener(e,t,l)}notifyButtonLoadListeners(e,t){let n=this.getButton(e,t);if(!n)throw new Error(`ButtonManager | button with id ${t} does not exist`);let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);if(a)for(let[o,l]of a)l(n)}removeButtonLoadListener(e,t,n){let i=this.buttonLoadListeners.get(e);if(!i)return;let a=i.get(t);a&&(a.delete(n),i.size===0&&this.buttonLoadListeners.delete(e))}addButton(e,t){if(t.id===void 0)throw new Error("ButtonManager | button id is undefined");this.buttons.has(e)||this.buttons.set(e,new Map),this.buttons.get(e).set(t.id,t),this.notifyButtonLoadListeners(e,t.id)}getButtons(e){return this.buttons.get(e)}getButton(e,t){let n=this.buttons.get(e);if(n)return n.get(t)}removeButton(e,t){let n=this.buttons.get(e);n&&(n.delete(t),n.size===0&&this.buttons.delete(e))}};var cm=class{constructor(e){this.plugin=e}createDefaultAction(e){if(e==="command")return{type:"command",command:""};if(e==="open")return{type:"open",link:""};if(e==="js")return{type:"js",file:""};if(e==="input")return{type:"input",str:""};if(e==="sleep")return{type:"sleep",ms:0};if(e==="templaterCreateNote")return{type:"templaterCreateNote",templateFile:"",folderPath:"",fileName:"",openNote:!0};throw new Error(`Unknown button action type: ${e}`)}async runAction(e,t){if(e.type==="command"){await this.runCommandAction(e);return}else if(e.type==="js"){await this.runJSAction(e,t);return}else if(e.type==="open"){await this.runOpenAction(e,t);return}else if(e.type==="input"){await this.runInputAction(e);return}else if(e.type==="sleep"){await this.runSleepAction(e);return}else if(e.type==="templaterCreateNote"){await this.runTemplaterCreateNoteAction(e);return}throw new Error("Unknown button action type")}async runCommandAction(e){this.plugin.internal.executeCommandById(e.command)}async runJSAction(e,t){(await this.plugin.internal.jsEngineRunFile(e.file,t))()}async runOpenAction(e,t){let n=nn.parseLinkOrUrl(e.link);n.internal?this.plugin.internal.openFile(n.target,t):wt.open(n.target)}async runInputAction(e){let t=document.activeElement;t&&t instanceof HTMLInputElement&&(t.setRangeText(e.str,t.selectionStart,t.selectionEnd,"end"),t.trigger("input"))}async runSleepAction(e){await new Promise(t=>setTimeout(t,e.ms))}async runTemplaterCreateNoteAction(e){throw new Error("Not supported")}};var pm=require("obsidian"),fm=class extends cm{constructor(e){super(e),this.plugin=e}async runTemplaterCreateNoteAction(e){var a,o;let t=this.plugin.app.plugins.getPlugin("templater-obsidian");if(!t)throw new Error("Templater plugin not found");let n=t.templater,i=this.plugin.app.vault.getAbstractFileByPath(e.templateFile);if(!i||!(i instanceof pm.TFile))throw new Error(`Template file not found: ${e.templateFile}`);if(e.folderPath===void 0)await n.create_new_note_from_template(i,void 0,e.fileName,(a=e.openNote)!=null?a:!0);else{let l=this.plugin.app.vault.getAbstractFileByPath(e.folderPath);if(!l||!(l instanceof pm.TFolder))throw new Error(`Folder not found: ${e.folderPath}`);await n.create_new_note_from_template(i,l,e.fileName,(o=e.openNote)!=null?o:!0)}}};var Lk=require("obsidian");function u_(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(c){try{s(n.next(c))}catch(f){o(f)}}function u(c){try{s(n.throw(c))}catch(f){o(f)}}function s(c){c.done?a(c.value):i(c.value).then(l,u)}s((n=n.apply(r,e||[])).next())})}function NZ(r){Zr(r,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function MZ(r){let e,t,n,i;return{c(){e=j("button"),t=Re(r[3]),L(e,"class","mb-button-inner svelte-12xcpmj"),L(e,"aria-label",r[2]),e.disabled=r[0],_t(e,"mod-cta",r[1]==="primary"),_t(e,"mod-warning",r[1]==="destructive"),_t(e,"mod-plain",r[1]==="plain"),_t(e,"disabled",r[0]),_t(e,"mb-error",r[4])},m(a,o){Y(a,e,o),z(e,t),n||(i=be(e,"click",r[7]),n=!0)},p(a,[o]){o&8&&rt(t,a[3]),o&4&&L(e,"aria-label",a[2]),o&1&&(e.disabled=a[0]),o&2&&_t(e,"mod-cta",a[1]==="primary"),o&2&&_t(e,"mod-warning",a[1]==="destructive"),o&2&&_t(e,"mod-plain",a[1]==="plain"),o&1&&_t(e,"disabled",a[0]),o&16&&_t(e,"mb-error",a[4])},i:Se,o:Se,d(a){a&&J(e),n=!1,i()}}}function TZ(r,e,t){let{variant:n="default"}=e,{disabled:i=!1}=e,{tooltip:a=""}=e,{label:o=""}=e,{error:l=!1}=e,{onClick:u=()=>u_(void 0,void 0,void 0,function*(){})}=e;function s(){return u_(this,void 0,void 0,function*(){if(!i){t(0,i=!0);try{yield u()}catch(f){console.log("failed to run button component on click",f)}finally{t(0,i=!1)}}})}let c=()=>s();return r.$$set=f=>{"variant"in f&&t(1,n=f.variant),"disabled"in f&&t(0,i=f.disabled),"tooltip"in f&&t(2,a=f.tooltip),"label"in f&&t(3,o=f.label),"error"in f&&t(4,l=f.error),"onClick"in f&&t(6,u=f.onClick)},[i,n,a,o,l,s,u,c]}var l_=class extends Ve{constructor(e){super(),qe(this,e,TZ,MZ,Ue,{variant:1,disabled:0,tooltip:2,label:3,error:4,onClick:6},NZ)}},Il=l_;var lo=class extends mn{constructor(e,t,n,i,a){super(e,"block",n,i,a),this.content=t}createErrorIndicator(e){new Jn({target:e,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.content}})}async runAction(e){if(e.action)await this.plugin.api.buttonActionRunner.runAction(e.action,this.filePath);else if(e.actions)for(let t of e.actions)await this.plugin.api.buttonActionRunner.runAction(t,this.filePath);else console.error("meta-bind | ButtonMDRC >> no action defined")}onload(){console.log("meta-bind | ButtonMDRC >> onload"),this.containerEl.addClass("mb-button","mb-button-block"),this.plugin.mdrcManager.registerMDRC(this);let e=(0,Lk.parseYaml)(this.content),t=bA.safeParse(e);if(!t.success){this.errorCollection.add(new ec({errorLevel:"ERROR",effect:"can not parse button config",cause:"zod validation failed. Check your button syntax",positionContext:t.error.message,docs:[wt.linkToButtonConfig()]})),this.createErrorIndicator(this.containerEl);return}this.buttonConfig=t.data,this.buttonConfig.id&&this.plugin.api.buttonManager.addButton(this.filePath,this.buttonConfig),!this.buttonConfig.hidden&&(this.buttonComponent=new Il({target:this.containerEl,props:{variant:this.buttonConfig.style,label:this.buttonConfig.label,onClick:async()=>{await this.runAction(this.buttonConfig)}}}))}onunload(){var e,t;console.log("meta-bind | ButtonMDRC >> onunload"),(e=this.buttonConfig)!=null&&e.id&&this.plugin.api.buttonManager.removeButton(this.filePath,this.buttonConfig.id),(t=this.buttonComponent)==null||t.$destroy(),this.containerEl.empty(),this.containerEl.addClass("mb-error"),this.containerEl.innerText="unloaded meta bind button",this.plugin.mdrcManager.unregisterMDRC(this)}};var Bl=gr(ui());var Vk=gr(si()),FZ=Bl.P.sequenceMap((r,e)=>e,Bl.P.string("BUTTON"),Bl.P.manyNotOf("[],").separateBy(Bl.P.string(",").trim(Vk.P_UTILS.optionalWhitespace())).wrapString("[","]")),mm=class{static parseString(e){return Yr(FZ,e)}};var Uk=require("obsidian"),dm=class extends mn{constructor(e,t,n,i,a){super(e,"inline",n,i,a),this.content=t,this.callbackComponent=new Uk.Component}createErrorIndicator(e){new Jn({target:e,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.content}})}async runAction(e){if(e.action)await this.plugin.api.buttonActionRunner.runAction(e.action,this.filePath);else if(e.actions)for(let t of e.actions)await this.plugin.api.buttonActionRunner.runAction(t,this.filePath);else console.error("ButtonMDRC | no action defined")}render(e,t){t.empty(),this.buttonComponent=new Il({target:t,props:{variant:e.style,label:e.label,onClick:async()=>{await this.runAction(e)}}})}renderInitialButton(e){this.buttonComponent=new Il({target:e,props:{variant:"default",label:"Button ID not Found",error:!0,onClick:async()=>{}}})}onload(){console.log("meta-bind | InlineButtonMDRC >> onload"),this.containerEl.empty(),this.containerEl.addClass("mb-button-group"),this.plugin.mdrcManager.registerMDRC(this),this.callbackComponent.load();let e=[];try{e=mm.parseString(this.content)}catch(t){this.errorCollection.add(t),this.createErrorIndicator(this.containerEl);return}for(let t of e){let n=this.containerEl.createSpan();n.addClass("mb-button","mb-button-inline"),this.renderInitialButton(n),this.callbackComponent.register(this.plugin.api.buttonManager.registerButtonLoadListener(this.filePath,t,i=>this.render(i,n)))}}onunload(){var e;console.log("meta-bind | InlineButtonMDRC >> onunload"),this.callbackComponent.unload(),(e=this.buttonComponent)==null||e.$destroy(),this.containerEl.empty(),this.containerEl.addClass("mb-error"),this.containerEl.innerText="unloaded meta bind button",this.plugin.mdrcManager.unregisterMDRC(this)}};var Ol=gr(ui());var Cr=gr(si());var ht=class r{static sequence(...e){return Ol.P.sequenceMap((...t)=>t.flat(2).filter(n=>n!==void 0),...e)}static separateBy(e,t){return r.sequence(e,r.sequence(t,e).many()).optional([])}static highlight(e,t){return e.node((n,i)=>[new Pl(i,t)])}static highlightStr(e,t){return r.highlight(Ol.P.string(e),t)}},c_=ht.highlight(En,"ident"),hm=ht.highlight(En,"keyword"),f_=ht.highlightStr(",","control"),gm=ht.highlightStr("(","control"),vm=ht.highlightStr(")","control"),fu=ht.highlightStr("[","control"),pu=ht.highlightStr("]","control"),IZ=ht.highlight(Sd,"string"),BZ=ht.highlight(Nd,"ident"),OZ=Ol.P.or(BZ,IZ),PZ=ht.separateBy(OZ,f_.trim(Cr.P_UTILS.optionalWhitespace())),RZ=ht.sequence(hm,ht.sequence(gm,PZ.trim(Cr.P_UTILS.optionalWhitespace()),vm).optional()),p_=ht.separateBy(RZ,f_.trim(Cr.P_UTILS.optionalWhitespace())),mu=ht.sequence(ht.sequence(c_,ht.highlightStr("^","control")).optional(),ht.sequence(ht.highlight(Fu,"ident"),ht.highlightStr("#","control")).optional(),ht.highlight(Fd,"ident")),kZ=ht.sequence(hm.trim(Cr.P_UTILS.optionalWhitespace()),ht.sequence(gm,p_.trim(Cr.P_UTILS.optionalWhitespace()),vm).trim(Cr.P_UTILS.optionalWhitespace()).optional(),ht.sequence(ht.highlightStr(":","control").trim(Cr.P_UTILS.optionalWhitespace()),mu).trim(Cr.P_UTILS.optionalWhitespace()).optional()),LZ=ht.sequence(hm.trim(Cr.P_UTILS.optionalWhitespace()).optional(),ht.sequence(gm,p_.trim(Cr.P_UTILS.optionalWhitespace()),vm).trim(Cr.P_UTILS.optionalWhitespace()).optional(),ht.sequence(ht.highlightStr(":","control").trim(Cr.P_UTILS.optionalWhitespace()),mu).trim(Cr.P_UTILS.optionalWhitespace()).optional()),zk=Ol.P.or(ht.sequence(ht.highlightStr("INPUT","control"),fu,c_.trim(Cr.P_UTILS.optionalWhitespace()),pu.skip(Cr.P_UTILS.optionalWhitespace()),fu,LZ,pu),ht.sequence(ht.highlightStr("INPUT","control"),fu,kZ,pu)),qk=ht.highlight(Mc,"ident"),VZ=ht.sequence(ht.highlightStr("{","string"),mu,ht.highlightStr("}","string")),UZ=ht.sequence(qk,ht.sequence(VZ,qk).many()),qZ=ht.sequence(hm.trim(Cr.P_UTILS.optionalWhitespace()).optional(),ht.sequence(gm,p_.trim(Cr.P_UTILS.optionalWhitespace()).optional(),vm).trim(Cr.P_UTILS.optionalWhitespace()).optional(),ht.sequence(ht.highlightStr(":","control").trim(Cr.P_UTILS.optionalWhitespace()),mu).trim(Cr.P_UTILS.optionalWhitespace()).optional()),$k=ht.sequence(ht.highlightStr("VIEW","control"),fu,UZ,pu,ht.sequence(fu.skip(Cr.P_UTILS.optionalWhitespace()),qZ,pu).optional()),Hk=ht.sequence(ht.highlightStr("BUTTON","control"),fu,ht.separateBy(c_,f_.trim(Cr.P_UTILS.optionalWhitespace())),pu);var Gk=require("@codemirror/view");var Rl=class extends Gk.WidgetType{constructor(e,t,n,i){super(),this.content=e,this.filePath=t,this.parentComponent=n,this.plugin=i}eq(e){return e.content===this.content}toDOM(e){let t=document.createElement("span");return t.addClass("cm-inline-code"),this.renderChild=this.createRenderChild(t,this.parentComponent),t}destroy(e){var t;(t=this.renderChild)==null||t.unload(),super.destroy(e)}},ym=class extends Rl{createRenderChild(e,t){return Tn.createInlineInputFieldMDRC(this.content,this.filePath,e,t,this.plugin)}},xm=class extends Rl{createRenderChild(e,t){return Tn.createInlineViewFieldMDRC(this.content,this.filePath,e,t,this.plugin)}},bm=class extends Rl{createRenderChild(e,t){return Tn.createInlineButtonMDRC(this.content,this.filePath,e,t,this.plugin)}};var Tn=class r{static getDeclarationPrefix(e){if(e==="INPUT_FIELD")return"INPUT";if(e==="VIEW_FIELD")return"VIEW";if(e==="BUTTON")return"BUTTON";throw new fn({errorLevel:"CRITICAL",effect:"failed to get declaration prefix",cause:`Invalid inline mdrc type "${e}"`})}static isDeclaration(e,t){let n=r.getDeclarationPrefix(e)+"[",i="]";return t.startsWith(n)&&t.endsWith(i)}static isDeclarationAndGetMDRCType(e){if(e.endsWith("]"))for(let t of Object.values(wm)){let n=r.getDeclarationPrefix(t)+"[";if(e.startsWith(n))return t}}static constructMDRCWidget(e,t,n,i,a){if(e==="INPUT_FIELD")return new ym(t,n,i,a);if(e==="VIEW_FIELD")return new xm(t,n,i,a);if(e==="BUTTON")return new bm(t,n,i,a);throw new fn({errorLevel:"CRITICAL",effect:"failed to construct mdrc",cause:`Invalid inline mdrc type "${e}"`})}static constructMDRC(e,t,n,i,a,o){if(e==="INPUT_FIELD")return r.createInlineInputFieldMDRC(t,n,i,a,o);if(e==="VIEW_FIELD")return r.createInlineViewFieldMDRC(t,n,i,a,o);if(e==="BUTTON")return r.createInlineButtonMDRC(t,n,i,a,o);throw new fn({errorLevel:"CRITICAL",effect:"failed to construct mdrc",cause:`Invalid inline mdrc type "${e}"`})}static createInlineInputFieldMDRC(e,t,n,i,a){return a.api.createInputFieldFromString(e,"inline",t,n,i)}static createInlineViewFieldMDRC(e,t,n,i,a){return a.api.createViewFieldFromString(e,"inline",t,n,i)}static createInlineButtonMDRC(e,t,n,i,a){return a.api.createInlineButtonFromString(e,t,n,i)}},wm=(n=>(n.INPUT_FIELD="INPUT_FIELD",n.VIEW_FIELD="VIEW_FIELD",n.BUTTON="BUTTON",n))(wm||{});var Wk=gr(si()),Pl=class{constructor(e,t){this.range=e,this.tokenClass=t}},co=class{constructor(e,t,n){this.str=e,this.highlights=t.filter(i=>i.range.from.index!==i.range.to.index),this.parsingError=n}getHighlights(){if(this.parsingError===void 0)return this.highlights;let e;return this.str[this.parsingError.parseFailure.furthest.index]===`
`?e={index:this.parsingError.parseFailure.furthest.index+1,column:1,line:this.parsingError.parseFailure.furthest.line+1}:e={index:this.parsingError.parseFailure.furthest.index+1,column:this.parsingError.parseFailure.furthest.column+1,line:this.parsingError.parseFailure.furthest.line},[new Pl({from:this.parsingError.parseFailure.furthest,to:e},"error")]}},_m=class{constructor(e){this.plugin=e,this.api=e.api}highlightInputFieldDeclaration(e,t){return this.highlightWithParser(e,t,zk)}highlightViewFieldDeclaration(e,t){return this.highlightWithParser(e,t,$k)}highlightInlineButtonDeclaration(e,t){return this.highlightWithParser(e,t,Hk)}highlight(e,t,n){if(t==="INPUT_FIELD")return this.highlightInputFieldDeclaration(e,n);if(t==="VIEW_FIELD")return this.highlightViewFieldDeclaration(e,n);if(t==="BUTTON")return this.highlightInlineButtonDeclaration(e,n);throw new Error(`Unknown MDRCType ${t}`)}highlightBindTarget(e,t){return this.highlightWithParser(e,t,mu)}highlightWithParser(e,t,n){try{return t?new co(e,Yr(n.trim(Wk.P_UTILS.optionalWhitespace()).thenEof(),e)):new co(e,Yr(n.thenEof(),e))}catch(i){return i instanceof Iu?new co(e,[],i):(console.error(i),new co(e,[]))}}};var Am=class{constructor(e){this.plugin=e,this.inputField=new rf(this),this.inputFieldParser=new tf(this.plugin),this.viewFieldParser=new Oc(this.plugin),this.bindTargetParser=new Pc(this.plugin),this.inputFieldFactory=new Cf(this.plugin),this.viewFieldFactory=new um(this.plugin),this.buttonActionRunner=new fm(this.plugin),this.buttonManager=new lm,this.syntaxHighlighting=new _m(this.plugin)}createInputField(e,t,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let l=this.inputFieldParser.validateDeclaration(e,n,o),u=new Po(i,t,l,this.plugin,n,jt());return a.addChild(u),u}createInputFieldFromString(e,t,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let l=this.inputFieldParser.parseString(e,n,o),u=new Po(i,t,l,this.plugin,n,jt());return a.addChild(u),u}createViewFieldFromString(e,t,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let l=this.viewFieldParser.parseString(e,n,o),u=new Ms(i,t,l,this.plugin,n,jt());return a.addChild(u),u}createJsViewFieldFromString(e,t,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.viewFieldParser.parseJsString(e,n),l=new kc(i,t,o,this.plugin,n,jt());return a.addChild(l),l}createExcludedField(e,t,n){let i=new nf(e,"inline",this.plugin,t,jt());return n.addChild(i),i}createSignal(e){return new Pr(e)}listenToMetadata(e,t,n,i=!1,a){let o=jt(),l=this.plugin.metadataManager.subscribe(o,e,{storageType:"frontmatter",storagePath:t,storageProp:of(n),listenToChildren:i},a!=null?a:()=>{});return()=>{l.unsubscribe()}}createTable(e,t,n,i,a,o){let l=new sf(e,"inline",this.plugin,t,jt(),i,a,o);return n.addChild(l),l}createBindTarget(e,t){return this.bindTargetParser.parseAndValidateBindTarget(e,t)}createButtonFromString(e,t,n,i){if(this.plugin.isFilePathExcluded(t))return this.createExcludedField(n,t,i);let a=new lo(n,e,this.plugin,t,jt());return i.addChild(a),a}createInlineButtonFromString(e,t,n,i){if(this.plugin.isFilePathExcluded(t))return this.createExcludedField(n,t,i);let a=new dm(n,e,this.plugin,t,jt());return i.addChild(a),a}};var jk=require("obsidian");var m_=po[1];function Zk(r){m_=r}function d_(r){return R_[r]}function Jk(r,e){let t=(0,jk.moment)(new Date(e,r)).daysInMonth(),n=new Array(42).fill(0),i=zZ(new Date(e,r,1));for(let a=0;a<t;a++)n[a+i]=a+1;return n=n[n.length-7]?n:n.slice(0,-7),n=n[n.length-7]?n:n.slice(0,-7),n}function zZ(r){return hd(r.getDay()-m_.index,7)}function Yk(){return po.map(e=>({index:hd(e.index-m_.index,7),name:e.name,shortName:e.shortName})).sort((e,t)=>e.index-t.index).map(e=>e.shortName)}function Xk(){let r=0;return()=>++r}var es=require("@codemirror/view"),D_=require("@codemirror/language"),Sm=require("obsidian");var Qk=require("obsidian");var Aa=class{static checkSelectionOverlap(e,t,n){if(!e)return!1;for(let i of e.ranges)if(i.to>=t&&i.from<=n)return!0;return!1}static checkRangeOverlap(e,t,n,i){return e<=i&&n<=t}static getContent(e,t,n){return e.sliceDoc(t,n)}static getCurrentFile(e){return e.state.field(Qk.editorInfoField).file}static existsDecorationBetween(e,t,n){let i=!1;return e.between(t,n,()=>{i=!0}),i}static existsDecorationOfTypeBetween(e,t,n,i){let a=!1;return e.between(n,i,(o,l,u)=>{u.spec.mb_widgetType===t&&(a=!0)}),a}};var _r=class extends Error{},kl=class extends Error{};var h_=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(c){try{s(n.next(c))}catch(f){o(f)}}function u(c){try{s(n.throw(c))}catch(f){o(f)}}function s(c){c.done?a(c.value):i(c.value).then(l,u)}s((n=n.apply(r,e||[])).next())})},Ji=function(r){return this instanceof Ji?(this.v=r,this):new Ji(r)},tL=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||l(p,m)})})}function l(p,m){try{u(n[p](m))}catch(h){f(a[0][3],h)}}function u(p){p.value instanceof Ji?Promise.resolve(p.value.v).then(s,c):f(a[0][2],p)}function s(p){l("next",p)}function c(p){l("throw",p)}function f(p,m){p(m),a.shift(),a.length&&l(a[0][0],a[0][1])}},Ri;(function(r){r[r.SHORTEST=0]="SHORTEST",r[r.LONGEST=1]="LONGEST",r[r.STRICT_EQUAL=2]="STRICT_EQUAL"})(Ri||(Ri={}));function*g_(r,e,...t){if(t.length===0)return;let n=[];for(let i of t)n.push(rL(i));e:for(;;){let i=iL.map(n,u=>u.next()),a=[],o=!0,l=!1;for(let u of i){let s;u.done?(o=!1,s=e):(l=!0,s=u.value),a.push(s)}if(!o&&l)switch(r){case Ri.SHORTEST:break e;case Ri.STRICT_EQUAL:throw new kl("Iterators must have equal lengths")}if(!l)break;yield a}}function v_(r,e,...t){return tL(this,arguments,function*(){if(t.length===0)return yield Ji(void 0);let i=[];for(let a of t)i.push(nL(a));e:for(;;){let a=[];for(let s of i){let c=yield Ji(s.next());a.push(c)}let o=[],l=!0,u=!1;for(let s of a){let c;s.done?(l=!1,c=e):(u=!0,c=s.value),o.push(c)}if(!l&&u)switch(r){case Ri.SHORTEST:break e;case Ri.STRICT_EQUAL:throw new kl("Iterators must have equal lengths")}if(!u)break;yield yield Ji(o)}})}var Kk=class{constructor(e,t){this.parent=e,this.id=t}getId(){return this.id}valid(){return this.parent.valid(this)}next(){let e={value:this.current(),done:!this.valid()};return e.done||this.parent.next(this),e}current(){return this.parent.valid(this)?this.parent.current(this):void 0}*[Symbol.iterator](){for(;this.parent.valid(this);)yield this.parent.current(this),this.parent.next(this)}};var eL=class{constructor(e,t){this.parent=e,this.id=t}getId(){return this.id}valid(){return h_(this,void 0,void 0,function*(){return yield this.parent.valid(this)})}next(){return h_(this,void 0,void 0,function*(){let e={value:yield this.current(),done:!(yield this.valid())};return e.done||(yield this.parent.next(this)),e})}current(){return h_(this,void 0,void 0,function*(){return(yield this.parent.valid(this))?yield this.parent.current(this):void 0})}[Symbol.asyncIterator](){return tL(this,arguments,function*(){for(;yield Ji(this.parent.valid(this));)yield yield Ji(yield Ji(this.parent.current(this))),yield Ji(this.parent.next(this))})}};var aL=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(l,u){o=r[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(s){a({value:s,done:l})},o)}},Da=function(r){return this instanceof Da?(this.v=r,this):new Da(r)},oL=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||l(p,m)})})}function l(p,m){try{u(n[p](m))}catch(h){f(a[0][3],h)}}function u(p){p.value instanceof Da?Promise.resolve(p.value.v).then(s,c):f(a[0][2],p)}function s(p){l("next",p)}function c(p){l("throw",p)}function f(p,m){p(m),a.shift(),a.length&&l(a[0][0],a[0][1])}};function*sL(...r){for(let e of g_(Ri.SHORTEST,void 0,...r))yield e}function uL(...r){return oL(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,l=aL(v_(Ri.SHORTEST,void 0,...r)),u;u=yield Da(l.next()),t=u.done,!t;){a=u.value,o=!1;try{yield yield Da(a)}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=l.return)&&(yield Da(i.call(l)))}finally{if(n)throw n.error}}})}function*lL(...r){for(let e of g_(Ri.STRICT_EQUAL,void 0,...r))yield e}function cL(...r){return oL(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,l=aL(v_(Ri.STRICT_EQUAL,void 0,...r)),u;u=yield Da(l.next()),t=u.done,!t;){a=u.value,o=!1;try{yield yield Da(a)}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=l.return)&&(yield Da(i.call(l)))}finally{if(n)throw n.error}}})}var fL=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(c){try{s(n.next(c))}catch(f){o(f)}}function u(c){try{s(n.throw(c))}catch(f){o(f)}}function s(c){c.done?a(c.value):i(c.value).then(l,u)}s((n=n.apply(r,e||[])).next())})},$Z=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(l,u){o=r[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(s){a({value:s,done:l})},o)}};function HZ(r,e,t){let n=t;for(let i of Jt(r))n=e(n,i);return n}function GZ(r,e,t){var n,i,a,o;return fL(this,void 0,void 0,function*(){let l=t;try{for(var u=!0,s=$Z(Yt(r)),c;c=yield s.next(),n=c.done,!n;){o=c.value,u=!1;try{l=yield e(l,o)}finally{u=!0}}}catch(f){i={error:f}}finally{try{!u&&!n&&(a=s.return)&&(yield a.call(s))}finally{if(i)throw i.error}}return l})}function y_(r){switch(!0){case r instanceof Array:return r.length;case Yi(r):return r.length;case r instanceof Set:return r.size;case r instanceof Map:return r.size}return HZ(r,e=>e+1,0)}function pL(r){return fL(this,void 0,void 0,function*(){switch(!0){case r instanceof Array:case Yi(r):case r instanceof Set:case r instanceof Map:return y_(r)}return yield GZ(r,e=>e+1,0)})}var ki=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(c){try{s(n.next(c))}catch(f){o(f)}}function u(c){try{s(n.throw(c))}catch(f){o(f)}}function s(c){c.done?a(c.value):i(c.value).then(l,u)}s((n=n.apply(r,e||[])).next())})},Ea=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(l,u){o=r[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(s){a({value:s,done:l})},o)}};function mL(r,e){for(let t of Jt(r))if(!e(t))return!1;return!0}function dL(r,e){var t,n,i,a;return ki(this,void 0,void 0,function*(){try{for(var o=!0,l=Ea(Yt(r)),u;u=yield l.next(),t=u.done,!t;){a=u.value,o=!1;try{if(!(yield e(a)))return!1}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=l.return)&&(yield i.call(l))}finally{if(n)throw n.error}}return!0})}function hL(r){let e=new Set;for(let t of Jt(r)){if(e.has(t))return!1;e.add(t)}return!0}function gL(r){var e,t,n,i;return ki(this,void 0,void 0,function*(){let a=new Set;try{for(var o=!0,l=Ea(Yt(r)),u;u=yield l.next(),e=u.done,!e;){i=u.value,o=!1;try{let s=i;if(a.has(s))return!1;a.add(s)}finally{o=!0}}}catch(s){t={error:s}}finally{try{!o&&!e&&(n=l.return)&&(yield n.call(l))}finally{if(t)throw t.error}}return!0})}function vL(r,e){for(let t of Jt(r))if(e(t))return!0;return!1}function yL(r,e){var t,n,i,a;return ki(this,void 0,void 0,function*(){try{for(var o=!0,l=Ea(Yt(r)),u;u=yield l.next(),t=u.done,!t;){a=u.value,o=!1;try{if(yield e(a))return!0}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=l.return)&&(yield i.call(l))}finally{if(n)throw n.error}}return!1})}function xL(r,e,t){if(e<0)return!1;t===void 0&&(t=i=>!!i);let n=0;for(let i of Jt(r))if(t(i)&&(n++,n>e))return!1;return n===e}function bL(r,e,t){var n,i,a,o;return ki(this,void 0,void 0,function*(){if(e<0)return!1;t===void 0&&(t=f=>!!f);let l=0;try{for(var u=!0,s=Ea(Yt(r)),c;c=yield s.next(),n=c.done,!n;){o=c.value,u=!1;try{if((yield t(o))&&(l++,l>e))return!1}finally{u=!0}}}catch(f){i={error:f}}finally{try{!u&&!n&&(a=s.return)&&(yield a.call(s))}finally{if(i)throw i.error}}return l===e})}function wL(r){for(let e of Jt(r))return!1;return!0}function _L(r){var e,t,n,i;return ki(this,void 0,void 0,function*(){try{for(var a=!0,o=Ea(Yt(r)),l;l=yield o.next(),e=l.done,!e;){i=l.value,a=!1;try{let u=i;return!1}finally{a=!0}}}catch(u){t={error:u}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}return!0})}function qn(r){return r==null?!1:typeof r[Symbol.iterator]=="function"}function Ca(r){return r==null?!1:typeof r[Symbol.asyncIterator]=="function"}function wi(r){return r==null?!1:r.next!==void 0&&typeof r.next=="function"}function AL(r){for(let[e,t]of Ko(Jt(r)))if(e<t)return!1;return!0}function DL(r){var e,t,n,i;return ki(this,void 0,void 0,function*(){try{for(var a=!0,o=Ea(Vl(Yt(r))),l;l=yield o.next(),e=l.done,!e;){i=l.value,a=!1;try{let[u,s]=i;if(u<s)return!1}finally{a=!0}}}catch(u){t={error:u}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}return!0})}function EL(r){for(let[e,t]of Ko(Jt(r)))if(e>t)return!1;return!0}function CL(r){var e,t,n,i;return ki(this,void 0,void 0,function*(){try{for(var a=!0,o=Ea(Vl(Yt(r))),l;l=yield o.next(),e=l.done,!e;){i=l.value,a=!1;try{let[u,s]=i;if(u>s)return!1}finally{a=!0}}}catch(u){t={error:u}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}return!0})}function Yi(r){return typeof r=="string"||r instanceof String}function SL(r,e){for(let t of Jt(r))if(e(t))return!1;return!0}function NL(r,e){var t,n,i,a;return ki(this,void 0,void 0,function*(){try{for(var o=!0,l=Ea(Yt(r)),u;u=yield l.next(),t=u.done,!t;){a=u.value,o=!1;try{if(yield e(a))return!1}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=l.return)&&(yield i.call(l))}finally{if(n)throw n.error}}return!0})}function ML(...r){try{for(let e of lL(...r))for(let[t,n]of Ko(e))if(t!==n)return!1}catch(e){return!1}return!0}function TL(...r){var e,t,n,i;return ki(this,void 0,void 0,function*(){try{try{for(var a=!0,o=Ea(cL(...r)),l;l=yield o.next(),e=l.done,!e;){i=l.value,a=!1;try{let u=i;for(let[s,c]of Ko(u))if(s!==c)return!1}finally{a=!0}}}catch(u){t={error:u}}finally{try{!a&&!e&&(n=o.return)&&(yield n.call(o))}finally{if(t)throw t.error}}}catch(u){return!1}return!0})}function FL(...r){if(r.length<=1)return!0;let e=r.map(t=>y_(t));return new Set(e).size===1}function IL(...r){return ki(this,void 0,void 0,function*(){if(r.length<=1)return!0;let e=yield Dm(r,t=>ki(this,void 0,void 0,function*(){return yield pL(t)}));return new Set(yield Ll(e)).size===1})}var WZ=function(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(c){try{s(n.next(c))}catch(f){o(f)}}function u(c){try{s(n.throw(c))}catch(f){o(f)}}function s(c){c.done?a(c.value):i(c.value).then(l,u)}s((n=n.apply(r,e||[])).next())})},Xi=function(r){return this instanceof Xi?(this.v=r,this):new Xi(r)},x_=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||l(p,m)})})}function l(p,m){try{u(n[p](m))}catch(h){f(a[0][3],h)}}function u(p){p.value instanceof Xi?Promise.resolve(p.value.v).then(s,c):f(a[0][2],p)}function s(p){l("next",p)}function c(p){l("throw",p)}function f(p,m){p(m),a.shift(),a.length&&l(a[0][0],a[0][1])}},BL=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(l,u){o=r[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(s){a({value:s,done:l})},o)}};function Jt(r){if(qn(r))return r;if(wi(r))return{[Symbol.iterator](){return r}};if(typeof r=="object"&&r!==null)return function*(){for(let e in r)Object.prototype.hasOwnProperty.call(r,e)&&(yield[e,r[e]])}();throw new _r("Given collection is not iterable or iterator.")}function Yt(r){if(Ca(r))return r;if(wi(r))return{[Symbol.asyncIterator](){return x_(this,arguments,function*(){for(;;){let t=yield Xi(r.next());if(t.done)return yield Xi(void 0);yield yield Xi(t.value)}})}};if(typeof r=="object"&&r!==null&&(r=Jt(r)),qn(r))return{[Symbol.asyncIterator](){return x_(this,arguments,function*(){for(let t of r)yield yield Xi(t)})}};throw new _r("Given collection is not async iterable or iterator.")}function rL(r){if(wi(r))return r;if(qn(r))return function*(){for(let e of r)yield e}();throw new _r("Given collection is not iterable or iterator.")}function nL(r){if((wi(r)||qn(r))&&(r=Yt(r)),Ca(r))return function(){return x_(this,arguments,function*(){var e,t,n,i;try{for(var a=!0,o=BL(r),l;l=yield Xi(o.next()),e=l.done,!e;){i=l.value,a=!1;try{yield yield Xi(i)}finally{a=!0}}}catch(u){t={error:u}}finally{try{!a&&!e&&(n=o.return)&&(yield Xi(n.call(o)))}finally{if(t)throw t.error}}})}();throw new _r("Given collection is not iterable or iterator.")}function b_(r){let e=[];for(let t of Jt(r))e.push(t);return e}function Ll(r){var e,t,n,i;return WZ(this,void 0,void 0,function*(){let a=[];try{for(var o=!0,l=BL(Yt(r)),u;u=yield l.next(),e=u.done,!e;){i=u.value,o=!1;try{let s=i;a.push(s)}finally{o=!0}}}catch(s){t={error:s}}finally{try{!o&&!e&&(n=l.return)&&(yield n.call(l))}finally{if(t)throw t.error}}return a})}var fo=function(r){return this instanceof fo?(this.v=r,this):new fo(r)},jZ=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(l,u){o=r[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(s){a({value:s,done:l})},o)}},ZZ=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||l(p,m)})})}function l(p,m){try{u(n[p](m))}catch(h){f(a[0][3],h)}}function u(p){p.value instanceof fo?Promise.resolve(p.value.v).then(s,c):f(a[0][2],p)}function s(p){l("next",p)}function c(p){l("throw",p)}function f(p,m){p(m),a.shift(),a.length&&l(a[0][0],a[0][1])}};function*w_(r,e){let t=new Set;if(r instanceof Map){e===void 0&&(e=n=>n[1]);for(let n of r){let i=e(n);t.has(i)||(yield n,t.add(i))}}else{e===void 0&&(e=n=>n);for(let n of Jt(r)){let i=e(n);t.has(i)||(yield n,t.add(i))}}}function OL(r,e){return ZZ(this,arguments,function*(){var n,i,a,o;let l=new Set;if(r instanceof Map)for(let f of w_(r,e))yield yield fo(yield fo(f));else{e===void 0&&(e=f=>f);try{for(var u=!0,s=jZ(Yt(r)),c;c=yield fo(s.next()),n=c.done,!n;){o=c.value,u=!1;try{let f=o,p=e(f);l.has(p)||(yield yield fo(f),l.add(p))}finally{u=!0}}}catch(f){i={error:f}}finally{try{!u&&!n&&(a=s.return)&&(yield fo(a.call(s)))}finally{if(i)throw i.error}}}})}var Br=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof __values=="function"?__values(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(o){return new Promise(function(l,u){o=r[a](o),i(l,u,o.done,o.value)})}}function i(a,o,l,u){Promise.resolve(u).then(function(s){a({value:s,done:l})},o)}},Ge=function(r){return this instanceof Ge?(this.v=r,this):new Ge(r)},Wr=function(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){n[p]&&(i[p]=function(m){return new Promise(function(h,d){a.push([p,m,h,d])>1||l(p,m)})})}function l(p,m){try{u(n[p](m))}catch(h){f(a[0][3],h)}}function u(p){p.value instanceof Ge?Promise.resolve(p.value.v).then(s,c):f(a[0][2],p)}function s(p){l("next",p)}function c(p){l("throw",p)}function f(p,m){p(m),a.shift(),a.length&&l(a[0][0],a[0][1])}};function*PL(r,e){for(let t of Jt(r))yield e(t)}function Dm(r,e){return Wr(this,arguments,function*(){var n,i,a,o;try{for(var l=!0,u=Br(Yt(r)),s;s=yield Ge(u.next()),n=s.done,!n;){o=s.value,l=!1;try{yield yield Ge(yield Ge(e(o)))}finally{l=!0}}}catch(c){i={error:c}}finally{try{!l&&!n&&(a=u.return)&&(yield Ge(a.call(u)))}finally{if(i)throw i.error}}})}function*RL(r,e){for(let[t,n]of sL(r,e))n&&(yield t)}function kL(r,e){return Wr(this,arguments,function*(){var n,i,a,o;try{for(var l=!0,u=Br(uL(r,e)),s;s=yield Ge(u.next()),n=s.done,!n;){o=s.value,l=!1;try{let[c,f]=o;f&&(yield yield Ge(c))}finally{l=!0}}}catch(c){i={error:c}}finally{try{!l&&!n&&(a=u.return)&&(yield Ge(a.call(u)))}finally{if(i)throw i.error}}})}function*LL(r,e){let t=!0;for(let n of Jt(r)){if(t){if(!e(n)){t=!1,yield n;continue}continue}yield n}}function VL(r,e){return Wr(this,arguments,function*(){var n,i,a,o;let l=!0;try{for(var u=!0,s=Br(Yt(r)),c;c=yield Ge(s.next()),n=c.done,!n;){o=c.value,u=!1;try{let f=o;if(l){if(!(yield Ge(e(f)))){l=!1,yield yield Ge(f);continue}continue}yield yield Ge(f)}finally{u=!0}}}catch(f){i={error:f}}finally{try{!u&&!n&&(a=s.return)&&(yield Ge(a.call(s)))}finally{if(i)throw i.error}}})}function*UL(r,e){for(let t of Jt(r))if(e(t))yield t;else break}function qL(r,e){return Wr(this,arguments,function*(){var n,i,a,o;try{for(var l=!0,u=Br(Yt(r)),s;s=yield Ge(u.next()),n=s.done,!n;){o=s.value,l=!1;try{let c=o;if(yield Ge(e(c)))yield yield Ge(c);else break}finally{l=!0}}}catch(c){i={error:c}}finally{try{!l&&!n&&(a=u.return)&&(yield Ge(a.call(u)))}finally{if(i)throw i.error}}})}function*zL(r,e){if(e<0)throw new _r(`Number of repetitions cannot be negative: ${e}`);for(let t=e;t>0;--t)yield r}function $L(r,e){return Wr(this,arguments,function*(){if(e<0)throw new _r(`Number of repetitions cannot be negative: ${e}`);let n=yield Ge(r);for(let i=e;i>0;--i)yield yield Ge(n)})}function*HL(r,e){for(let t of Jt(r)){let n=e(t,e);if(qn(n))for(let i of Jt(n))yield i;else yield n}}function GL(r,e){return Wr(this,arguments,function*(){var n,i,a,o,l,u,s,c;try{for(var f=!0,p=Br(Yt(r)),m;m=yield Ge(p.next()),n=m.done,!n;){o=m.value,f=!1;try{let w=yield Ge(e(o,e));if(qn(w)||Ca(w))try{for(var h=!0,d=(u=void 0,Br(Yt(w))),g;g=yield Ge(d.next()),l=g.done,!l;){c=g.value,h=!1;try{yield yield Ge(c)}finally{h=!0}}}catch(y){u={error:y}}finally{try{!h&&!l&&(s=d.return)&&(yield Ge(s.call(d)))}finally{if(u)throw u.error}}else yield yield Ge(w)}finally{f=!0}}}catch(v){i={error:v}}finally{try{!f&&!n&&(a=p.return)&&(yield Ge(a.call(p)))}finally{if(i)throw i.error}}})}function*__(r,e=1/0){if(e<1){for(let t of Jt(r))r instanceof Map&&(t=t[1]),yield t;return}for(let t of Jt(r))if(r instanceof Map&&(t=t[1]),(qn(t)||wi(t))&&!Yi(t))for(let n of __(t,e-1))yield n;else yield t}function A_(r,e=1/0){return Wr(this,arguments,function*(){var n,i,a,o,l,u,s,c,f,p,m,h;if(e<1){try{for(var d=!0,g=Br(Yt(r)),v;v=yield Ge(g.next()),n=v.done,!n;){o=v.value,d=!1;try{let C=o;r instanceof Map&&(C=C[1]),yield yield Ge(C)}finally{d=!0}}}catch(C){i={error:C}}finally{try{!d&&!n&&(a=g.return)&&(yield Ge(a.call(g)))}finally{if(i)throw i.error}}return yield Ge(void 0)}try{for(var w=!0,y=Br(Yt(r)),x;x=yield Ge(y.next()),l=x.done,!l;){c=x.value,w=!1;try{let C=c;if(r instanceof Map&&(C=C[1]),(Ca(C)||qn(C)||wi(C))&&!Yi(C))try{for(var _=!0,b=(p=void 0,Br(A_(C,e-1))),D;D=yield Ge(b.next()),f=D.done,!f;){h=D.value,_=!1;try{yield yield Ge(h)}finally{_=!0}}}catch(A){p={error:A}}finally{try{!_&&!f&&(m=b.return)&&(yield Ge(m.call(b)))}finally{if(p)throw p.error}}else yield yield Ge(C)}finally{w=!0}}}catch(C){u={error:C}}finally{try{!w&&!l&&(s=y.return)&&(yield Ge(s.call(y)))}finally{if(u)throw u.error}}})}function*WL(r,e){for(let t of Jt(r))e(t)&&(yield t)}function jL(r,e){return Wr(this,arguments,function*(){var n,i,a,o;try{for(var l=!0,u=Br(Yt(r)),s;s=yield Ge(u.next()),n=s.done,!n;){o=s.value,l=!1;try{let c=o;(yield Ge(e(c)))&&(yield yield Ge(c))}finally{l=!0}}}catch(c){i={error:c}}finally{try{!l&&!n&&(a=u.return)&&(yield Ge(a.call(u)))}finally{if(i)throw i.error}}})}function*Em(r,e,t,n=!0){if(e<1)throw new _r(`Chunk size must be \u2265 1. Got ${e}`);if(t>=e)throw new _r("Overlap size must be less than chunk size");let i=[],a=!1;for(let o of Jt(r))a=!1,i.push(o),i.length===e&&(yield i,i=i.slice(e-t),a=!0);!a&&i.length>0&&n&&(yield i)}function Cm(r,e,t,n=!0){return Wr(this,arguments,function*(){var a,o,l,u;if(e<1)throw new _r(`Chunk size must be \u2265 1. Got ${e}`);if(t>=e)throw new _r("Overlap size must be less than chunk size");let s=[],c=!1;try{for(var f=!0,p=Br(Yt(r)),m;m=yield Ge(p.next()),a=m.done,!a;){u=m.value,f=!1;try{let h=u;c=!1,s.push(h),s.length===e&&(yield yield Ge(s),s=s.slice(e-t),c=!0)}finally{f=!0}}}catch(h){o={error:h}}finally{try{!f&&!a&&(l=p.return)&&(yield Ge(l.call(p)))}finally{if(o)throw o.error}}!c&&s.length>0&&n&&(yield yield Ge(s))})}function*ZL(r,e){for(let t of Em(r,e,0))yield t}function JL(r,e){return Wr(this,arguments,function*(){var n,i,a,o;try{for(var l=!0,u=Br(Cm(r,e,0)),s;s=yield Ge(u.next()),n=s.done,!n;){o=s.value,l=!1;try{yield yield Ge(o)}finally{l=!0}}}catch(c){i={error:c}}finally{try{!l&&!n&&(a=u.return)&&(yield Ge(a.call(u)))}finally{if(i)throw i.error}}})}function*Ko(r){let e=Em(r,2,1,!1);for(let t of e)yield t}function Vl(r){return Wr(this,arguments,function*(){var t,n,i,a;let o=Cm(r,2,1,!1);try{for(var l=!0,u=Br(o),s;s=yield Ge(u.next()),t=s.done,!t;){a=s.value,l=!1;try{yield yield Ge(a)}finally{l=!0}}}catch(c){n={error:c}}finally{try{!l&&!t&&(i=u.return)&&(yield Ge(i.call(u)))}finally{if(n)throw n.error}}})}function*YL(r,e){if(e<0)throw new _r(`Limit must be \u2265 0. Got ${e}`);let t=0;for(let n of Jt(r)){if(t>=e)return;yield n,++t}}function XL(r,e){return Wr(this,arguments,function*(){var n,i,a,o;if(e<0)throw new _r(`Limit must be \u2265 0. Got ${e}`);let l=0;try{for(var u=!0,s=Br(Yt(r)),c;c=yield Ge(s.next()),n=c.done,!n;){o=c.value,u=!1;try{let f=o;if(l>=e)return yield Ge(void 0);yield yield Ge(f),++l}finally{u=!0}}}catch(f){i={error:f}}finally{try{!u&&!n&&(a=s.return)&&(yield Ge(a.call(s)))}finally{if(i)throw i.error}}})}function*QL(r){let e=0;for(let t of Jt(r))yield[e++,t]}function KL(r){return Wr(this,arguments,function*(){var t,n,i,a;let o=0;try{for(var l=!0,u=Br(Yt(r)),s;s=yield Ge(u.next()),t=s.done,!t;){a=s.value,l=!1;try{let c=a;yield yield Ge([o++,c])}finally{l=!0}}}catch(c){n={error:c}}finally{try{!l&&!t&&(i=u.return)&&(yield Ge(i.call(u)))}finally{if(n)throw n.error}}})}function*e4(r,e=0,t,n=1){if(e<0)throw new _r("Parameter 'start' cannot be negative");if(t!==void 0&&t<0)throw new _r("Parameter 'count' cannot be negative");if(n<=0)throw new _r("Parameter 'step' must be positive");let i=0,a=0;for(let o of Jt(r))if(!(i++<e||(i-e-1)%n!==0)){if(a++===t&&t!==void 0)break;yield o}}function t4(r,e=0,t,n=1){return Wr(this,arguments,function*(){var a,o,l,u;if(e<0)throw new _r("Parameter 'start' cannot be negative");if(t!==void 0&&t<0)throw new _r("Parameter 'count' cannot be negative");if(n<=0)throw new _r("Parameter 'step' must be positive");let s=0,c=0;try{for(var f=!0,p=Br(Yt(r)),m;m=yield Ge(p.next()),a=m.done,!a;){u=m.value,f=!1;try{let h=u;if(s++<e||(s-e-1)%n!==0)continue;if(c++===t&&t!==void 0)break;yield yield Ge(h)}finally{f=!0}}}catch(h){o={error:h}}finally{try{!f&&!a&&(l=p.return)&&(yield Ge(l.call(p)))}finally{if(o)throw o.error}}})}function*r4(r){for(let[e]of Jt(r))yield e}function n4(r){return Wr(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,l=Br(Yt(r)),u;u=yield Ge(l.next()),t=u.done,!t;){a=u.value,o=!1;try{let[s]=a;yield yield Ge(s)}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=l.return)&&(yield Ge(i.call(l)))}finally{if(n)throw n.error}}})}function*i4(r,e,t=0){if(e<0||t<0)throw new _r;let n=-t;for(let i of Jt(r))(n<0||n>=e)&&(yield i),++n}function a4(r,e,t=0){return Wr(this,arguments,function*(){var i,a,o,l;if(e<0||t<0)throw new _r;let u=-t;try{for(var s=!0,c=Br(Yt(r)),f;f=yield Ge(c.next()),i=f.done,!i;){l=f.value,s=!1;try{let p=l;(u<0||u>=e)&&(yield yield Ge(p)),++u}finally{s=!0}}}catch(p){a={error:p}}finally{try{!s&&!i&&(o=c.return)&&(yield Ge(o.call(c)))}finally{if(a)throw a.error}}})}function*o4(r){for(let[,e]of Jt(r))yield e}function s4(r){return Wr(this,arguments,function*(){var t,n,i,a;try{for(var o=!0,l=Br(Yt(r)),u;u=yield Ge(l.next()),t=u.done,!t;){a=u.value,o=!1;try{let[,s]=a;yield yield Ge(s)}finally{o=!0}}}catch(s){n={error:s}}finally{try{!o&&!t&&(i=l.return)&&(yield Ge(i.call(l)))}finally{if(n)throw n.error}}})}function*u4(r,e,t){let n=new Map,i=a=>{n.has(a)||(t!==void 0?n.set(a,{}):n.set(a,[]))};for(let a of Jt(r)){let o=e(a),l=t!==void 0?t(a):void 0,u=(qn(o)||wi(o))&&!Yi(o)?o:[o];for(let s of w_(u))i(s),l===void 0?n.get(s).push(a):n.get(s)[l]=a}for(let a of n)yield a}function l4(r,e,t){return Wr(this,arguments,function*(){var i,a,o,l,u,s,c,f;let p=new Map,m=x=>{p.has(x)||(t!==void 0?p.set(x,{}):p.set(x,[]))};try{for(var h=!0,d=Br(Yt(r)),g;g=yield Ge(d.next()),i=g.done,!i;){l=g.value,h=!1;try{let x=l,_=yield Ge(e(x)),b=t!==void 0?yield Ge(t(x)):void 0,D=(Ca(_)||qn(_)||wi(_))&&!Yi(_)?_:[_];try{for(var v=!0,w=(s=void 0,Br(OL(D))),y;y=yield Ge(w.next()),u=y.done,!u;){f=y.value,v=!1;try{let C=f;m(C),b===void 0?p.get(C).push(x):p.get(C)[b]=x}finally{v=!0}}}catch(C){s={error:C}}finally{try{!v&&!u&&(c=w.return)&&(yield Ge(c.call(w)))}finally{if(s)throw s.error}}}finally{h=!0}}}catch(x){a={error:x}}finally{try{!h&&!i&&(o=d.return)&&(yield Ge(o.call(d)))}finally{if(a)throw a.error}}for(let x of p)yield yield Ge(x)})}function*c4(r,e){let t=b_(r);e!==void 0?t.sort(e):t.sort();for(let n of t)yield n}function f4(r,e){return Wr(this,arguments,function*(){let n=yield Ge(Ll(r));e!==void 0?n.sort(e):n.sort();for(let i of n)yield yield Ge(i)})}var iL={chunkwise:ZL,chunkwiseOverlap:Em,compress:RL,dropWhile:LL,enumerate:QL,filter:WL,flatMap:HL,flatten:__,groupBy:u4,keys:r4,limit:YL,map:PL,pairwise:Ko,repeat:zL,skip:i4,slice:e4,sort:c4,takeWhile:UL,values:o4,chunkwiseAsync:JL,chunkwiseOverlapAsync:Cm,compressAsync:kL,dropWhileAsync:VL,enumerateAsync:KL,filterAsync:jL,flatMapAsync:GL,flattenAsync:A_,groupByAsync:l4,keysAsync:n4,limitAsync:XL,mapAsync:Dm,pairwiseAsync:Vl,repeatAsync:$L,skipAsync:a4,sliceAsync:t4,sortAsync:f4,takeWhileAsync:qL,valuesAsync:s4};var p4={allMatch:mL,allUnique:hL,anyMatch:vL,exactlyN:xL,isEmpty:wL,isAsyncIterable:Ca,isIterable:qn,isIterator:wi,isReversed:AL,isSorted:EL,isString:Yi,noneMatch:SL,same:ML,sameCount:FL,allMatchAsync:dL,allUniqueAsync:gL,anyMatchAsync:yL,exactlyNAsync:bL,isEmptyAsync:_L,isReversedAsync:DL,isSortedAsync:CL,noneMatchAsync:NL,sameAsync:TL,sameCountAsync:IL};function m4(r){return es.ViewPlugin.fromClass(class{constructor(e){var t;this.component=new Sm.Component,this.component.load(),this.decorations=(t=this.renderWidgets(e))!=null?t:es.Decoration.none}isLivePreview(e){return e.field(Sm.editorLivePreviewField)}update(e){this.decorations=this.decorations.map(e.changes),this.updateWidgets(e.view)}updateWidgets(e){this.decorations=this.decorations.update({filter:(t,n,i)=>{var o,l;return p4.anyMatch(e.visibleRanges,u=>Aa.checkRangeOverlap(t,n,u.from,u.to))?!0:((l=(o=i.spec).mb_unload)==null||l.call(o),!1)}});for(let{from:t,to:n}of e.visibleRanges)(0,D_.syntaxTree)(e.state).iterate({from:t,to:n,enter:i=>{let a=i.node,o=this.getRenderInfo(e,a);o.widgetType===void 0||o.content===void 0||(o.shouldRender?(this.removeDecoration(a,"field"),this.addDecoration(a,e,"field",o.content,o.widgetType)):o.shouldHighlight?(this.removeDecoration(a,"highlight"),this.addDecoration(a,e,"highlight",o.content,o.widgetType)):this.removeDecoration(a))}})}removeDecoration(e,t){this.decorations.between(e.from-1,e.to+1,(n,i,a)=>{this.decorations=this.decorations.update({filterFrom:n,filterTo:i,filter:(o,l,u)=>{var s,c;return t&&u.spec.mb_widgetType===t?!0:((c=(s=u.spec).mb_unload)==null||c.call(s),!1)}})})}addDecoration(e,t,n,i,a){let o=e.from-1,l=e.to+1;if(Aa.existsDecorationOfTypeBetween(this.decorations,n,o,l))return;let u=Aa.getCurrentFile(t);if(!u)return;let s=this.renderWidget(e,a,n,i,u),c=Array.isArray(s)?s:[s];c.length!==0&&(this.decorations=this.decorations.update({add:c}))}getRenderInfo(e,t){var i;let n=new Set((i=t.type.name)==null?void 0:i.split("_"));if(n.has("inline-code")&&!n.has("formatting")){let a=e.state.selection,o=Aa.checkSelectionOverlap(a,t.from-1,t.to+1),l=this.readNode(e,t.from,t.to),u=this.isLivePreview(e.state);return{shouldRender:!o&&u,shouldHighlight:(o||!u)&&r.settings.enableSyntaxHighlighting,content:l.content,widgetType:l.widgetType}}return{shouldRender:!1,shouldHighlight:!1,content:void 0,widgetType:void 0}}readNode(e,t,n){let i=Aa.getContent(e.state,t,n);return{content:i,widgetType:Tn.isDeclarationAndGetMDRCType(i)}}renderWidgets(e){let t=Aa.getCurrentFile(e);if(!t)return;let n=[];for(let i of e.visibleRanges)(0,D_.syntaxTree)(e.state).iterate({from:i.from,to:i.to,enter:a=>{let o=a.node,l=this.getRenderInfo(e,o);if(!l.widgetType||!l.content)return;let u;l.shouldRender&&(u=this.renderWidget(o,l.widgetType,"field",l.content,t)),l.shouldHighlight&&(u=this.renderWidget(o,l.widgetType,"highlight",l.content,t)),u&&(Array.isArray(u)?n.push(...u):n.push(u))}});return es.Decoration.set(n,!0)}renderWidget(e,t,n,i,a){if(n==="field"){let o=Tn.constructMDRCWidget(t,i,a.path,this.component,r);return es.Decoration.replace({widget:o,mb_widgetType:"field",mb_unload:()=>{var l;(l=o.renderChild)==null||l.unload()}}).range(e.from-1,e.to+1)}else return r.api.syntaxHighlighting.highlight(i,t,!1).getHighlights().map(l=>es.Decoration.mark({class:`mb-highlight-${l.tokenClass}`}).range(e.from+l.range.from.index,e.from+l.range.to.index))}destroy(){this.component.unload()}},{decorations:e=>e.decorations})}var Nm=class{constructor(){this.activeMDRCs=new Map}unload(){for(let e of this.activeMDRCs.values())console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),e.unload()}registerMDRC(e){console.debug(`meta-bind | MDRCManager >> registered MDRC ${e.uuid}`),this.activeMDRCs.set(e.uuid,e)}unregisterMDRC(e){console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),this.activeMDRCs.delete(e.uuid)}};var d4=require("obsidian");var Mm=class{constructor(e){this.app=e.app,this.plugin=e}getMetadataAndExtraCache(e){var i,a;if(e.bindTarget===void 0)throw new xo({errorLevel:"CRITICAL",effect:"can not get metadata and extra cache",cause:"subscription bind target undefined"});let t=this.plugin.app.vault.getAbstractFileByPath(e.bindTarget.storagePath);if(!(t instanceof d4.TFile))throw new xo({errorLevel:"CRITICAL",effect:"can not get metadata and extra cache",cause:"bind target file path does not point to a tFile"});let n=(i=this.plugin.app.metadataCache.getFileCache(t))==null?void 0:i.frontmatter;return{extraCache:{file:t},metadata:(a=structuredClone(n))!=null?a:{}}}setManagerInstance(e){this.manager=e}async updateMetadata(e,t){let n=t.extraCache.file;await this.plugin.app.fileManager.processFrontMatter(n,i=>{t.changed=!1,Object.assign(i,t.metadata)})}load(){this.plugin.registerEvent(this.plugin.app.metadataCache.on("changed",(e,t,n)=>{var i,a;(a=this.manager)==null||a.updateCacheOnExternalFrontmatterUpdate(e.path,(i=n.frontmatter)!=null?i:{})})),this.plugin.registerEvent(this.plugin.app.vault.on("delete",e=>{var t;(t=this.manager)==null||t.deleteCacheInstantly(e.path)})),this.plugin.registerEvent(this.plugin.app.vault.on("rename",(e,t)=>{var n;(n=this.manager)==null||n.deleteCacheInstantly(t)})),this.manager!==void 0&&(this.interval=window.setInterval(()=>{var e;return(e=this.manager)==null?void 0:e.cycle()},this.plugin.settings.syncInterval))}unload(){this.interval!==void 0&&window.clearInterval(this.interval)}};var h4=require("obsidian");var E_=8,Ul=class extends mn{constructor(e,t,n,i,a,o){super(e,"block",n,i,a),this.content=t,this.depth=o}async parseContent(){let e=this.content.split(`
`).map(o=>o.trim()).filter(o=>o.length>0);if(e.length===0)return"";if(e.length>1)throw new ss({errorLevel:"ERROR",effect:"can not create embed",cause:"embed may only contain one link"});let t=e[0],n=nn.parseLink(t);if(!n.internal)throw new ss({errorLevel:"ERROR",effect:"can not create embed",cause:"embed link is not an internal link"});let i=this.plugin.app.metadataCache.getFirstLinkpathDest(n.target,this.filePath);if(i===null)throw new ss({errorLevel:"ERROR",effect:"can not create embed",cause:"link target not found"});return(await this.plugin.app.vault.cachedRead(i)).replace(/(```+|~~~+)meta-bind-embed.*/g,`$1meta-bind-embed-internal-${this.depth+1}`)}async onload(){if(this.plugin.mdrcManager.registerMDRC(this),this.depth>=E_)this.containerEl.empty(),this.containerEl.addClass("mb-error"),this.containerEl.innerText="Max embed depth reached";else{let e=await this.parseContent();await h4.MarkdownRenderer.render(this.plugin.app,e,this.containerEl,this.filePath,this)}}onunload(){this.plugin.mdrcManager.unregisterMDRC(this)}};var Na=require("obsidian");var ql=require("obsidian"),Tm=class extends ql.Modal{constructor(e,t,n,i,a,o,l){super(e),this.value=t,this.title=n,this.subTitle=i,this.description=a,this.onSubmit=o,this.onCancel=l}onOpen(){this.contentEl.empty(),this.contentEl.createEl("h2",{text:this.title});let e=new ql.Setting(this.contentEl);e.setName(this.subTitle),e.setDesc(this.description),e.addText(n=>{n.setValue(this.value),n.setPlaceholder(this.subTitle),n.onChange(i=>{this.value=i})});let t=new ql.Setting(this.contentEl);t.addButton(n=>{n.setButtonText("Apply"),n.setCta(),n.onClick(()=>{this.onSubmit(this.value),this.close()})}),t.addButton(n=>{n.setButtonText("Cancel"),n.onClick(()=>{this.onCancel(),this.close()})})}onClose(){super.onClose()}};var v4=require("obsidian");var g4=require("obsidian"),Fm=class extends g4.FuzzySuggestModal{constructor(e,t,n){super(e),this.options=t,this.onSelect=n}getItemText(e){return e.displayValue}getItems(){return this.options}onChooseItem(e,t){this.onSelect(e)}};var Sa=class{constructor(e,t){this.value=e,this.displayValue=t}valueAsString(){var e,t;return(t=(e=this.value)==null?void 0:e.toString())!=null?t:"null"}};function JZ(r,e,t,n,i){let a=[];for(let o of t)a.push(new Sa(o.value,o.name));if(n.length>0){if(!r)return new v4.Notice("meta-bind | dataview needs to be installed and enabled to use suggest option queries"),a;for(let o of n)r.pages(o.value,e).forEach(u=>{try{let s=u.file;i?a.push(new Sa(`[[${s.path}|${s.name}]]`,`file: ${s.name}`)):a.push(new Sa(s.name,`file: ${s.name}`))}catch(s){console.warn("meta-bind | error while computing suggest options",s)}})}return a}function YZ(r,e){let t=e.app,n=GD(t),i=r.base.getArguments("option"),a=r.base.getArguments("optionQuery"),o=r.base.getArgument("useLinks");return JZ(n,r.base.getFilePath(),i,a,o===void 0||o.value)}function y4(r,e,t){new Fm(t.app,YZ(r,t),e).open()}var zn=require("obsidian");var D4=require("obsidian");function XZ(r){Zr(r,"svelte-1m4qg39",".image-card-image.svelte-1m4qg39{width:100%;height:fit-content;max-height:500px;object-fit:contain}.image-card-text.svelte-1m4qg39{display:block;margin:var(--size-4-2);margin-bottom:var(--size-4-4)}")}function QZ(r){let e,t,n,i,a,o,l,u;return{c(){e=j("div"),t=j("img"),i=fe(),a=j("span"),o=Re(r[0]),L(t,"class","image-card-image svelte-1m4qg39"),rs(t.src,n=Bs(r[0]))||L(t,"src",n),L(t,"alt",r[0]),L(a,"class","image-card-text svelte-1m4qg39"),L(e,"class","image-card svelte-1m4qg39"),L(e,"role","button"),L(e,"tabindex","0")},m(s,c){Y(s,e,c),z(e,t),z(e,i),z(e,a),z(a,o),l||(u=[be(e,"click",r[3]),be(e,"keydown",r[4])],l=!0)},p(s,[c]){c&1&&!rs(t.src,n=Bs(s[0]))&&L(t,"src",n),c&1&&L(t,"alt",s[0]),c&1&&rt(o,s[0])},i:Se,o:Se,d(s){s&&J(e),l=!1,at(u)}}}function KZ(r,e,t){let{image:n}=e,{onSelect:i}=e;function a(u,s){u.key===" "&&i(s)}let o=()=>i(n),l=u=>a(u,n);return r.$$set=u=>{"image"in u&&t(0,n=u.image),"onSelect"in u&&t(1,i=u.onSelect)},[n,i,a,o,l]}var C_=class extends Ve{constructor(e){super(),qe(this,e,KZ,QZ,Ue,{image:0,onSelect:1},XZ)}},x4=C_;var _4=require("obsidian");function b4(r,e,t){let n=r.slice();return n[6]=e[t],n}function w4(r){let e,t;return e=new x4({props:{image:r[6].value,onSelect:r[0]}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i&4&&(a.image=n[6].value),i&1&&(a.onSelect=n[0]),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function eJ(r){let e,t,n,i,a,o,l,u=We(r[2]),s=[];for(let f=0;f<u.length;f+=1)s[f]=w4(b4(r,u,f));let c=f=>ae(s[f],1,1,()=>{s[f]=null});return{c(){e=j("div"),t=j("input"),n=fe(),i=j("div");for(let f=0;f<s.length;f+=1)s[f].c();L(t,"type","text"),L(t,"placeholder","Search Images..."),L(e,"class","mb-image-search-container"),L(i,"class","mb-image-card-grid")},m(f,p){Y(f,e,p),z(e,t),Xe(t,r[1]),Y(f,n,p),Y(f,i,p);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(i,null);a=!0,o||(l=be(t,"input",r[4]),o=!0)},p(f,[p]){if(p&2&&t.value!==f[1]&&Xe(t,f[1]),p&5){u=We(f[2]);let m;for(m=0;m<u.length;m+=1){let h=b4(f,u,m);s[m]?(s[m].p(h,p),te(s[m],1)):(s[m]=w4(h),s[m].c(),te(s[m],1),s[m].m(i,null))}for(gt(),m=u.length;m<s.length;m+=1)c(m);vt()}},i(f){if(!a){for(let p=0;p<u.length;p+=1)te(s[p]);a=!0}},o(f){s=s.filter(Boolean);for(let p=0;p<s.length;p+=1)ae(s[p]);a=!1},d(f){f&&(J(e),J(n),J(i)),Ct(s,f),o=!1,l()}}}function tJ(r,e,t){let{options:n}=e,{onSelect:i}=e,a="",o;function l(s){var c;if(!s){t(2,o=n);return}let f=(0,_4.prepareFuzzySearch)(s),p=[];for(let m of n)((c=f(m.value))===null||c===void 0?void 0:c.score)!==void 0&&p.push(m);t(2,o=p)}function u(){a=this.value,t(1,a)}return r.$$set=s=>{"options"in s&&t(3,n=s.options),"onSelect"in s&&t(0,i=s.onSelect)},r.$$.update=()=>{r.$$.dirty&2&&l(a)},[i,a,o,n,u]}var S_=class extends Ve{constructor(e){super(),qe(this,e,tJ,eJ,Ue,{options:3,onSelect:0})}},A4=S_;var Im=class extends D4.Modal{constructor(e,t,n){super(e),this.options=t,this.onSelect=n}onOpen(){this.modalEl.style.width="100%",new A4({target:this.contentEl,props:{options:this.options,onSelect:e=>{this.onSelect(e),this.close()}}})}};function E4(r){let e=[];for(let t of r.children)t instanceof zn.TFile&&C4(t.extension)&&e.push(new Sa(t.path,t.name)),t instanceof zn.TFolder&&e.push(...E4(t));return e}function rJ(r,e,t){let n=[];for(let i of e){let a=i.value;if(a.startsWith('"')&&a.endsWith('"'))a=a.substring(1,a.length-1);else{let l=new sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:"expected suggest option query for image suggester to start and end with double quotation marks"});new zn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}let o;if(a===""||a==="."?o=t.app.vault.getRoot():o=t.app.vault.getAbstractFileByPath(a),o==null){let l=new sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${a} for image suggester to exist`});new zn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!(o instanceof zn.TFolder)){let l=new sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${i.value} for image suggester to be a folder`});new zn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}n.push(...E4(o))}for(let i of r){let a=Ou(i.value);if(!a){let l=new sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} to be truthy`});new zn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}let o=t.app.vault.getAbstractFileByPath(a);if(!o){let l=new sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to exist`});new zn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!(o instanceof zn.TFile)){let l=new sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be a file`});new zn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!C4(o.extension)){let l=new sr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be an image file`});new zn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}n.push(new Sa(o.path,o.name))}return n}function C4(r){return["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp"].contains(r)}function nJ(r,e){let t=r.base.getArguments("option"),n=r.base.getArguments("optionQuery");return rJ(t,n,e)}function S4(r,e,t){new Im(t.app,nJ(r,t),e).open()}var B4=require("obsidian");var T4=require("obsidian");function iJ(r){Zr(r,"svelte-12l82wb",".calendar.svelte-12l82wb{margin-top:10px}.calendar-header.svelte-12l82wb{display:flex;justify-content:space-around;flex-wrap:wrap;gap:var(--size-4-1);background:var(--background-secondary);border-radius:var(--mb-border-radius);margin-bottom:var(--size-4-1)}.calendar-content.svelte-12l82wb{display:grid;flex-wrap:wrap;grid-template-columns:repeat(7, 1fr);gap:var(--size-4-1)}.cell.svelte-12l82wb{min-width:40px;padding:var(--size-4-2);display:flex;justify-content:center;align-items:center;border-radius:var(--mb-border-radius)}.content-cell.svelte-12l82wb{cursor:pointer}.cell-text.svelte-12l82wb{margin:auto;text-align:center}.selected.svelte-12l82wb{background:var(--interactive-accent);color:var(--text-on-accent)}.highlight.svelte-12l82wb:hover{background:var(--interactive-hover)}.selected.highlight.svelte-12l82wb:hover{background:var(--interactive-accent-hover)}")}function N4(r,e,t){let n=r.slice();return n[10]=e[t],n}function aJ(r,e,t){let n=r.slice();return n[13]=e[t],n}function oJ(r){let e,t,n;return{c(){e=j("div"),t=j("span"),t.textContent=`${r[13]}`,n=fe(),L(t,"class","cell-text svelte-12l82wb"),L(e,"class","cell header-cell svelte-12l82wb")},m(i,a){Y(i,e,a),z(e,t),z(e,n)},p:Se,d(i){i&&J(e)}}}function M4(r,e){let t,n,i=(e[10]||"")+"",a,o,l,u;function s(){return e[6](e[10])}function c(...f){return e[7](e[10],...f)}return{key:r,first:null,c(){var f,p,m;t=j("div"),n=j("span"),a=Re(i),o=fe(),L(n,"class","cell-text svelte-12l82wb"),L(t,"class","cell svelte-12l82wb"),L(t,"role","button"),L(t,"tabindex","0"),_t(t,"highlight",e[10]),_t(t,"content-cell",e[10]),_t(t,"selected",((f=e[0])==null?void 0:f.year())===e[2]&&((p=e[0])==null?void 0:p.month())===e[1]&&((m=e[0])==null?void 0:m.date())===e[10]),this.first=t},m(f,p){Y(f,t,p),z(t,n),z(n,a),z(t,o),l||(u=[be(t,"click",s),be(t,"keydown",c)],l=!0)},p(f,p){var m,h,d;e=f,p&8&&i!==(i=(e[10]||"")+"")&&rt(a,i),p&8&&_t(t,"highlight",e[10]),p&8&&_t(t,"content-cell",e[10]),p&15&&_t(t,"selected",((m=e[0])==null?void 0:m.year())===e[2]&&((h=e[0])==null?void 0:h.month())===e[1]&&((d=e[0])==null?void 0:d.date())===e[10])},d(f){f&&J(t),l=!1,at(u)}}}function sJ(r){let e,t,n,i,a=[],o=new Map,l=We(Yk()),u=[];for(let f=0;f<l.length;f+=1)u[f]=oJ(aJ(r,l,f));let s=We(r[3]),c=f=>Xk();for(let f=0;f<s.length;f+=1){let p=N4(r,s,f),m=c(p);o.set(m,a[f]=M4(m,p))}return{c(){e=j("div"),t=j("div");for(let f=0;f<u.length;f+=1)u[f].c();n=fe(),i=j("div");for(let f=0;f<a.length;f+=1)a[f].c();L(t,"class","calendar-header svelte-12l82wb"),L(i,"class","calendar-content svelte-12l82wb"),L(e,"class","calendar svelte-12l82wb")},m(f,p){Y(f,e,p),z(e,t);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(t,null);z(e,n),z(e,i);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(i,null)},p(f,[p]){p&63&&(s=We(f[3]),a=os(a,p,c,1,f,s,o,i,Z_,M4,null,N4))},i:Se,o:Se,d(f){f&&J(e),Ct(u,f);for(let p=0;p<a.length;p+=1)a[p].d()}}}function uJ(r,e,t){let n=yu(),{selectedDate:i}=e,{month:a}=e,{year:o}=e,l;function u(m){n("dateChange",(0,T4.moment)(new Date(o,a,m)))}function s(m){m&&u(m)}function c(m,h){m.key===" "&&s(h)}let f=m=>s(m),p=(m,h)=>c(h,m);return r.$$set=m=>{"selectedDate"in m&&t(0,i=m.selectedDate),"month"in m&&t(1,a=m.month),"year"in m&&t(2,o=m.year)},r.$$.update=()=>{r.$$.dirty&6&&t(3,l=Jk(a,o))},[i,a,o,l,s,c,f,p]}var N_=class extends Ve{constructor(e){super(),qe(this,e,uJ,sJ,Ue,{selectedDate:0,month:1,year:2},iJ)}},F4=N_;var M_=require("obsidian");function lJ(r){Zr(r,"svelte-berpp6",".date-picker.svelte-berpp6{display:block;padding:var(--size-4-4)}.date-picker-header.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:space-around}.date-picker-header-text.svelte-berpp6{flex:1;text-align:center;display:flex;gap:var(--size-4-2);align-items:center;justify-content:center;width:min-content}.date-picker-header-text-year.svelte-berpp6{width:60px;padding:var(--size-4-2)}.date-picker-header-text-month.svelte-berpp6{height:min-content}.month-switch-button.svelte-berpp6{margin:0}.date-picker-footer.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:center}.none-button.svelte-berpp6{margin:0}")}function cJ(r){let e,t,n,i,a,o,l=d_(r[1])+"",u,s,c,f,p,m,h,d,g,v,w,y,x,_;return d=new F4({props:{month:r[1],year:r[2],selectedDate:r[0]}}),d.$on("dateChange",r[6]),{c(){e=j("div"),t=j("div"),n=j("button"),n.textContent="Prev",i=fe(),a=j("div"),o=j("span"),u=Re(l),s=fe(),c=j("input"),p=fe(),m=j("button"),m.textContent="Next",h=fe(),Fe(d.$$.fragment),g=fe(),v=j("div"),w=j("button"),w.textContent="Set no Date",L(n,"class","month-switch-button svelte-berpp6"),L(o,"class","date-picker-header-text-month svelte-berpp6"),L(c,"class","date-picker-header-text-year svelte-berpp6"),L(c,"type","number"),c.value=f=r[2].toString(),L(a,"class","date-picker-header-text svelte-berpp6"),L(m,"class","month-switch-button svelte-berpp6"),L(t,"class","date-picker-header svelte-berpp6"),L(w,"class","none-button svelte-berpp6"),L(v,"class","date-picker-footer svelte-berpp6"),L(e,"class","date-picker svelte-berpp6")},m(b,D){Y(b,e,D),z(e,t),z(t,n),z(t,i),z(t,a),z(a,o),z(o,u),z(a,s),z(a,c),z(t,p),z(t,m),z(e,h),Me(d,e,null),z(e,g),z(e,v),z(v,w),y=!0,x||(_=[be(n,"click",r[4]),be(c,"input",r[5]),be(m,"click",r[3]),be(w,"click",r[7])],x=!0)},p(b,[D]){(!y||D&2)&&l!==(l=d_(b[1])+"")&&rt(u,l),(!y||D&4&&f!==(f=b[2].toString())&&c.value!==f)&&(c.value=f);let C={};D&2&&(C.month=b[1]),D&4&&(C.year=b[2]),D&1&&(C.selectedDate=b[0]),d.$set(C)},i(b){y||(te(d.$$.fragment,b),y=!0)},o(b){ae(d.$$.fragment,b),y=!1},d(b){b&&J(e),Te(d),x=!1,at(_)}}}function fJ(r,e,t){let{selectedDate:n=(0,M_.moment)()}=e,{dateChangeCallback:i}=e,a,o;function l(){if(a===11){t(1,a=0),t(2,o+=1);return}t(1,a=a+1)}function u(){if(a===0){t(1,a=11),t(2,o-=1);return}t(1,a-=1)}function s(p){let m=p.target.value,h=Number.parseInt(m);Number.isNaN(h)||t(2,o=h)}function c(p){t(0,n=p.detail),i(p.detail)}function f(){t(0,n=null),i(null)}return r.$$set=p=>{"selectedDate"in p&&t(0,n=p.selectedDate),"dateChangeCallback"in p&&t(8,i=p.dateChangeCallback)},r.$$.update=()=>{if(r.$$.dirty&1)if(n)t(1,a=n.month()),t(2,o=n.year());else{let p=(0,M_.moment)();t(1,a=p.month()),t(2,o=p.year())}},[n,a,o,l,u,s,c,f,i]}var T_=class extends Ve{constructor(e){super(),qe(this,e,fJ,cJ,Ue,{selectedDate:0,dateChangeCallback:8},lJ)}},I4=T_;var Bm=class extends B4.Modal{constructor(e,t){super(e),this.datePicker=t}onOpen(){this.datePickerInput=new I4({target:this.contentEl,props:{selectedDate:this.datePicker.getInternalValue(),dateChangeCallback:e=>{this.datePicker.setInternalValue(e),this.close()}}})}onClose(){var e;(e=this.datePickerInput)==null||e.$destroy()}};function O4(r){var e;return(e=r.plugins.getPlugin("js-engine"))==null?void 0:e.api}var Om=class{constructor(e){this.plugin=e,this.app=e.app}openDatePickerModal(e){new Bm(this.app,e).open()}openImageSuggesterModal(e,t){S4(e,t,this.plugin)}openSuggesterModal(e,t){y4(e,t,this.plugin)}openTextPromptModal(e,t,n,i,a,o){new Tm(this.app,e,t,n,i,a,o).open()}async renderMarkdown(e,t,n){let i=new Na.Component;return await Na.MarkdownRenderer.render(this.app,e,t,n,i),()=>i.unload()}executeCommandById(e){return this.app.commands.executeCommandById(e)}async jsEngineRunFile(e,t,n){let i=O4(this.app);if(!i)throw new Error("js-engine plugin not found");let a=this.app.vault.getAbstractFileByPath(t);if(!a||!(a instanceof Na.TFile))throw new Error(`calling file not found: ${t}`);let o=this.app.metadataCache.getFileCache(a),l=new Na.Component;return await i.internal.executeFile(e,{component:l,container:n,context:{metadata:o,file:a,line:0}}),()=>l.unload()}async jsEngineRunCode(e,t,n){let i=O4(this.app);if(!i)throw new Error("js-engine plugin not found");let a=this.app.vault.getAbstractFileByPath(t);if(!a||!(a instanceof Na.TFile))throw new Error(`calling file not found: ${t}`);let o=this.app.metadataCache.getFileCache(a),l=new Na.Component;return await i.internal.execute({code:e,component:l,container:n,context:{metadata:o,file:a,line:0}}),()=>l.unload()}openFile(e,t){this.app.workspace.openLinkText(e,t,!0)}getFilePathByName(e){var t;return(t=this.app.metadataCache.getFirstLinkpathDest(e,""))==null?void 0:t.path}};var Y4=require("obsidian");function pJ(r){Zr(r,"svelte-17mpvkc",".vertical.svelte-17mpvkc{flex-direction:column;align-items:flex-start;gap:var(--size-4-1)}.vertical-control.svelte-17mpvkc{flex-direction:column;align-items:flex-start;gap:var(--size-4-1);width:100%}")}function mJ(r){var d,g;let e,t,n,i=((d=r[0])!=null?d:"")+"",a,o,l,u=((g=r[1])!=null?g:"")+"",s,c,f,p,m=r[5].default,h=Qi(m,r,r[4],null);return{c(){e=j("div"),t=j("div"),n=j("div"),a=Re(i),o=fe(),l=j("div"),s=Re(u),c=fe(),f=j("div"),h&&h.c(),L(n,"class","setting-item-name"),L(l,"class","setting-item-description"),L(t,"class","setting-item-info"),L(f,"class","setting-item-control svelte-17mpvkc"),_t(f,"vertical-control",r[3]),L(e,"class","setting-item svelte-17mpvkc"),_t(e,"setting-item-heading",r[2]),_t(e,"vertical",r[3])},m(v,w){Y(v,e,w),z(e,t),z(t,n),z(n,a),z(t,o),z(t,l),z(l,s),z(e,c),z(e,f),h&&h.m(f,null),p=!0},p(v,[w]){var y,x;(!p||w&1)&&i!==(i=((y=v[0])!=null?y:"")+"")&&rt(a,i),(!p||w&2)&&u!==(u=((x=v[1])!=null?x:"")+"")&&rt(s,u),h&&h.p&&(!p||w&16)&&ea(h,m,v,v[4],p?Ki(m,v[4],w,null):ta(v[4]),null),(!p||w&8)&&_t(f,"vertical-control",v[3]),(!p||w&4)&&_t(e,"setting-item-heading",v[2]),(!p||w&8)&&_t(e,"vertical",v[3])},i(v){p||(te(h,v),p=!0)},o(v){ae(h,v),p=!1},d(v){v&&J(e),h&&h.d(v)}}}function dJ(r,e,t){let{$$slots:n={},$$scope:i}=e,{name:a=void 0}=e,{description:o=void 0}=e,{heading:l=!1}=e,{vertical:u=!1}=e;return r.$$set=s=>{"name"in s&&t(0,a=s.name),"description"in s&&t(1,o=s.description),"heading"in s&&t(2,l=s.heading),"vertical"in s&&t(3,u=s.vertical),"$$scope"in s&&t(4,i=s.$$scope)},[a,o,l,u,i,n]}var F_=class extends Ve{constructor(e){super(),qe(this,e,dJ,mJ,Ue,{name:0,description:1,heading:2,vertical:3},pJ)}},$n=F_;var Z4=require("obsidian");var P4=require("obsidian"),Pm=class extends P4.FuzzySuggestModal{constructor(e,t){super(e.app),this.plugin=e,this.selectCallback=t}getItems(){return this.app.commands.listCommands()}getItemText(e){return e.name}onChooseItem(e,t){this.selectCallback(e)}};var km=require("obsidian"),Rm=class extends km.FuzzySuggestModal{constructor(e,t){super(e.app),this.plugin=e,this.selectCallback=t}getItems(){return this.app.vault.getAllLoadedFiles().filter(e=>e instanceof km.TFolder)}getItemText(e){return e.path}onChooseItem(e,t){this.selectCallback(e)}};var Vm=require("obsidian"),Lm=class extends Vm.FuzzySuggestModal{constructor(e,t){super(e.app),this.plugin=e,this.selectCallback=t}getItems(){return this.app.vault.getAllLoadedFiles().filter(e=>e instanceof Vm.TFile)}getItemText(e){return e.path}onChooseItem(e,t){this.selectCallback(e)}};function hJ(r){let e,t,n,i;return{c(){e=j("div"),t=j("input"),L(t,"type","checkbox"),L(t,"tabindex","-1"),t.checked=r[0],L(e,"class","checkbox-container"),L(e,"role","switch"),L(e,"tabindex","0"),L(e,"aria-checked",r[0]),_t(e,"is-enabled",r[0])},m(a,o){Y(a,e,o),z(e,t),n||(i=be(e,"click",r[1]),n=!0)},p(a,[o]){o&1&&(t.checked=a[0]),o&1&&L(e,"aria-checked",a[0]),o&1&&_t(e,"is-enabled",a[0])},i:Se,o:Se,d(a){a&&J(e),n=!1,i()}}}function gJ(r,e,t){let{checked:n}=e,i=()=>t(0,n=!n);return r.$$set=a=>{"checked"in a&&t(0,n=a.checked)},[n,i]}var I_=class extends Ve{constructor(e){super(),qe(this,e,gJ,hJ,Ue,{checked:0})}},B_=I_;function R4(r,e,t){let n=r.slice();return n[36]=e[t],n[37]=e,n[38]=t,n}function k4(r,e,t){let n=r.slice();return n[39]=e[t],n}function L4(r,e,t){let n=r.slice();return n[39]=e[t],n}function vJ(r){let e,t,n;return{c(){e=j("input"),L(e,"type","text")},m(i,a){Y(i,e,a),Xe(e,r[1].label),t||(n=be(e,"input",r[10]),t=!0)},p(i,a){a[0]&2&&e.value!==i[1].label&&Xe(e,i[1].label)},d(i){i&&J(e),t=!1,n()}}}function V4(r){let e,t=r[39]+"",n,i;return{c(){e=j("option"),n=Re(t),e.__value=i=r[39],Xe(e,e.__value)},m(a,o){Y(a,e,o),z(e,n)},p:Se,d(a){a&&J(e)}}}function yJ(r){let e,t,n,i=We(Object.values(Oa)),a=[];for(let o=0;o<i.length;o+=1)a[o]=V4(L4(r,i,o));return{c(){e=j("select");for(let o=0;o<a.length;o+=1)a[o].c();L(e,"class","dropdown"),r[1].style===void 0&&Jr(()=>r[11].call(e))},m(o,l){Y(o,e,l);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);Sr(e,r[1].style,!0),t||(n=be(e,"change",r[11]),t=!0)},p(o,l){if(l&0){i=We(Object.values(Oa));let u;for(u=0;u<i.length;u+=1){let s=L4(o,i,u);a[u]?a[u].p(s,l):(a[u]=V4(s),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}l[0]&2&&Sr(e,o[1].style)},d(o){o&&J(e),Ct(a,o),t=!1,n()}}}function xJ(r){let e,t,n;return{c(){e=j("input"),L(e,"type","text")},m(i,a){Y(i,e,a),Xe(e,r[1].id),t||(n=be(e,"input",r[12]),t=!0)},p(i,a){a[0]&2&&e.value!==i[1].id&&Xe(e,i[1].id)},d(i){i&&J(e),t=!1,n()}}}function bJ(r){let e,t,n;function i(o){r[13](o)}let a={};return r[1].hidden!==void 0&&(a.checked=r[1].hidden),e=new B_({props:a}),Ir.push(()=>yo(e,"checked",i)),{c(){Fe(e.$$.fragment)},m(o,l){Me(e,o,l),n=!0},p(o,l){let u={};!t&&l[0]&2&&(t=!0,u.checked=o[1].hidden,go(()=>t=!1)),e.$set(u)},i(o){n||(te(e.$$.fragment,o),n=!0)},o(o){ae(e.$$.fragment,o),n=!1},d(o){Te(e,o)}}}function U4(r){let e,t=r[39]+"",n,i;return{c(){e=j("option"),n=Re(t),e.__value=i=r[39],Xe(e,e.__value)},m(a,o){Y(a,e,o),z(e,n)},p:Se,d(a){a&&J(e)}}}function wJ(r){let e;return{c(){e=Re("Add Action")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function q4(r){let e,t;return e=new $n({props:{name:"Command: "+(r[36].command||"none"),description:"The command to execute when this action runs.",$$slots:{default:[DJ]},$$scope:{ctx:r}}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i[0]&2&&(a.name="Command: "+(n[36].command||"none")),i[0]&2|i[1]&8192&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function _J(r){let e;return{c(){e=Re("Change")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function AJ(r){let e,t;return e=new ur({props:{iconName:"x"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function DJ(r){let e,t,n,i;function a(){return r[16](r[36])}e=new qt({props:{variant:"primary",$$slots:{default:[_J]},$$scope:{ctx:r}}}),e.$on("click",a);function o(){return r[17](r[38])}return n=new qt({props:{variant:"destructive",$$slots:{default:[AJ]},$$scope:{ctx:r}}}),n.$on("click",o),{c(){Fe(e.$$.fragment),t=fe(),Fe(n.$$.fragment)},m(l,u){Me(e,l,u),Y(l,t,u),Me(n,l,u),i=!0},p(l,u){r=l;let s={};u[1]&8192&&(s.$$scope={dirty:u,ctx:r}),e.$set(s);let c={};u[1]&8192&&(c.$$scope={dirty:u,ctx:r}),n.$set(c)},i(l){i||(te(e.$$.fragment,l),te(n.$$.fragment,l),i=!0)},o(l){ae(e.$$.fragment,l),ae(n.$$.fragment,l),i=!1},d(l){l&&J(t),Te(e,l),Te(n,l)}}}function z4(r){let e,t;return e=new $n({props:{name:"Link",description:"The link to open.",$$slots:{default:[CJ]},$$scope:{ctx:r}}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i[0]&2|i[1]&8192&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function EJ(r){let e,t;return e=new ur({props:{iconName:"x"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function CJ(r){let e,t,n,i,a,o;function l(){r[18].call(e,r[37],r[38])}function u(){return r[19](r[38])}return n=new qt({props:{variant:"destructive",$$slots:{default:[EJ]},$$scope:{ctx:r}}}),n.$on("click",u),{c(){e=j("input"),t=fe(),Fe(n.$$.fragment),L(e,"type","text"),L(e,"placeholder","[[Some Note]] or https://www.example.com")},m(s,c){Y(s,e,c),Xe(e,r[36].link),Y(s,t,c),Me(n,s,c),i=!0,a||(o=be(e,"input",l),a=!0)},p(s,c){r=s,c[0]&2&&e.value!==r[36].link&&Xe(e,r[36].link);let f={};c[1]&8192&&(f.$$scope={dirty:c,ctx:r}),n.$set(f)},i(s){i||(te(n.$$.fragment,s),i=!0)},o(s){ae(n.$$.fragment,s),i=!1},d(s){s&&(J(e),J(t)),Te(n,s),a=!1,o()}}}function $4(r){let e,t;return e=new $n({props:{name:"JS File",description:"The JavaScript file to run.",$$slots:{default:[NJ]},$$scope:{ctx:r}}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i[0]&2|i[1]&8192&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function SJ(r){let e,t;return e=new ur({props:{iconName:"x"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function NJ(r){let e,t,n,i,a,o;function l(){r[20].call(e,r[37],r[38])}function u(){return r[21](r[38])}return n=new qt({props:{variant:"destructive",$$slots:{default:[SJ]},$$scope:{ctx:r}}}),n.$on("click",u),{c(){e=j("input"),t=fe(),Fe(n.$$.fragment),L(e,"type","text"),L(e,"placeholder","someJsFile.js")},m(s,c){Y(s,e,c),Xe(e,r[36].file),Y(s,t,c),Me(n,s,c),i=!0,a||(o=be(e,"input",l),a=!0)},p(s,c){r=s,c[0]&2&&e.value!==r[36].file&&Xe(e,r[36].file);let f={};c[1]&8192&&(f.$$scope={dirty:c,ctx:r}),n.$set(f)},i(s){i||(te(n.$$.fragment,s),i=!0)},o(s){ae(n.$$.fragment,s),i=!1},d(s){s&&(J(e),J(t)),Te(n,s),a=!1,o()}}}function H4(r){let e,t;return e=new $n({props:{name:"Text",description:"The text to input at the cursor.",$$slots:{default:[TJ]},$$scope:{ctx:r}}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i[0]&2|i[1]&8192&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function MJ(r){let e,t;return e=new ur({props:{iconName:"x"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function TJ(r){let e,t,n,i,a,o;function l(){r[22].call(e,r[37],r[38])}function u(){return r[23](r[38])}return n=new qt({props:{variant:"destructive",$$slots:{default:[MJ]},$$scope:{ctx:r}}}),n.$on("click",u),{c(){e=j("input"),t=fe(),Fe(n.$$.fragment),L(e,"type","text"),L(e,"placeholder","some text")},m(s,c){Y(s,e,c),Xe(e,r[36].str),Y(s,t,c),Me(n,s,c),i=!0,a||(o=be(e,"input",l),a=!0)},p(s,c){r=s,c[0]&2&&e.value!==r[36].str&&Xe(e,r[36].str);let f={};c[1]&8192&&(f.$$scope={dirty:c,ctx:r}),n.$set(f)},i(s){i||(te(n.$$.fragment,s),i=!0)},o(s){ae(n.$$.fragment,s),i=!1},d(s){s&&(J(e),J(t)),Te(n,s),a=!1,o()}}}function G4(r){let e,t;return e=new $n({props:{name:"Sleep Time",description:"The time to sleep in milliseconds.",$$slots:{default:[IJ]},$$scope:{ctx:r}}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p(n,i){let a={};i[0]&2|i[1]&8192&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function FJ(r){let e,t;return e=new ur({props:{iconName:"x"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function IJ(r){let e,t,n,i,a,o;function l(){r[24].call(e,r[37],r[38])}function u(){return r[25](r[38])}return n=new qt({props:{variant:"destructive",$$slots:{default:[FJ]},$$scope:{ctx:r}}}),n.$on("click",u),{c(){e=j("input"),t=fe(),Fe(n.$$.fragment),L(e,"type","number"),L(e,"placeholder","100 ms")},m(s,c){Y(s,e,c),Xe(e,r[36].ms),Y(s,t,c),Me(n,s,c),i=!0,a||(o=be(e,"input",l),a=!0)},p(s,c){r=s,c[0]&2&&ai(e.value)!==r[36].ms&&Xe(e,r[36].ms);let f={};c[1]&8192&&(f.$$scope={dirty:c,ctx:r}),n.$set(f)},i(s){i||(te(n.$$.fragment,s),i=!0)},o(s){ae(n.$$.fragment,s),i=!1},d(s){s&&(J(e),J(t)),Te(n,s),a=!1,o()}}}function W4(r){let e,t,n,i,a,o,l,u,s,c,f,p;function m(){return r[26](r[38])}return n=new qt({props:{variant:"destructive",$$slots:{default:[BJ]},$$scope:{ctx:r}}}),n.$on("click",m),a=new $n({props:{name:"Template File: "+(r[36].templateFile||"none"),description:"The template file to create a new note of.",$$slots:{default:[PJ]},$$scope:{ctx:r}}}),l=new $n({props:{name:"Folder: "+(r[36].folderPath||"none"),description:"The folder to create a new note in.",$$slots:{default:[kJ]},$$scope:{ctx:r}}}),s=new $n({props:{name:"File Name: "+(r[36].fileName||"default"),description:"The file name of the new note.",$$slots:{default:[LJ]},$$scope:{ctx:r}}}),f=new $n({props:{name:"Open Note",description:"Whether to open the new note after this action ran.",$$slots:{default:[VJ]},$$scope:{ctx:r}}}),{c(){e=j("p"),t=Re(`Remove Action
			`),Fe(n.$$.fragment),i=fe(),Fe(a.$$.fragment),o=fe(),Fe(l.$$.fragment),u=fe(),Fe(s.$$.fragment),c=fe(),Fe(f.$$.fragment)},m(h,d){Y(h,e,d),z(e,t),Me(n,e,null),Y(h,i,d),Me(a,h,d),Y(h,o,d),Me(l,h,d),Y(h,u,d),Me(s,h,d),Y(h,c,d),Me(f,h,d),p=!0},p(h,d){r=h;let g={};d[1]&8192&&(g.$$scope={dirty:d,ctx:r}),n.$set(g);let v={};d[0]&2&&(v.name="Template File: "+(r[36].templateFile||"none")),d[0]&2|d[1]&8192&&(v.$$scope={dirty:d,ctx:r}),a.$set(v);let w={};d[0]&2&&(w.name="Folder: "+(r[36].folderPath||"none")),d[0]&2|d[1]&8192&&(w.$$scope={dirty:d,ctx:r}),l.$set(w);let y={};d[0]&2&&(y.name="File Name: "+(r[36].fileName||"default")),d[0]&2|d[1]&8192&&(y.$$scope={dirty:d,ctx:r}),s.$set(y);let x={};d[0]&2|d[1]&8192&&(x.$$scope={dirty:d,ctx:r}),f.$set(x)},i(h){p||(te(n.$$.fragment,h),te(a.$$.fragment,h),te(l.$$.fragment,h),te(s.$$.fragment,h),te(f.$$.fragment,h),p=!0)},o(h){ae(n.$$.fragment,h),ae(a.$$.fragment,h),ae(l.$$.fragment,h),ae(s.$$.fragment,h),ae(f.$$.fragment,h),p=!1},d(h){h&&(J(e),J(i),J(o),J(u),J(c)),Te(n),Te(a,h),Te(l,h),Te(s,h),Te(f,h)}}}function BJ(r){let e,t;return e=new ur({props:{iconName:"x"}}),{c(){Fe(e.$$.fragment)},m(n,i){Me(e,n,i),t=!0},p:Se,i(n){t||(te(e.$$.fragment,n),t=!0)},o(n){ae(e.$$.fragment,n),t=!1},d(n){Te(e,n)}}}function OJ(r){let e;return{c(){e=Re("Change")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function PJ(r){let e,t;function n(){return r[27](r[36])}return e=new qt({props:{variant:"primary",$$slots:{default:[OJ]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){Fe(e.$$.fragment)},m(i,a){Me(e,i,a),t=!0},p(i,a){r=i;let o={};a[1]&8192&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(i){t||(te(e.$$.fragment,i),t=!0)},o(i){ae(e.$$.fragment,i),t=!1},d(i){Te(e,i)}}}function RJ(r){let e;return{c(){e=Re("Change")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function kJ(r){let e,t;function n(){return r[28](r[36])}return e=new qt({props:{variant:"primary",$$slots:{default:[RJ]},$$scope:{ctx:r}}}),e.$on("click",n),{c(){Fe(e.$$.fragment)},m(i,a){Me(e,i,a),t=!0},p(i,a){r=i;let o={};a[1]&8192&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(i){t||(te(e.$$.fragment,i),t=!0)},o(i){ae(e.$$.fragment,i),t=!1},d(i){Te(e,i)}}}function LJ(r){let e,t,n;function i(){r[29].call(e,r[37],r[38])}return{c(){e=j("input"),L(e,"type","text"),L(e,"placeholder","some name")},m(a,o){Y(a,e,o),Xe(e,r[36].fileName),t||(n=be(e,"input",i),t=!0)},p(a,o){r=a,o[0]&2&&e.value!==r[36].fileName&&Xe(e,r[36].fileName)},d(a){a&&J(e),t=!1,n()}}}function VJ(r){let e,t,n;function i(o){r[30](o,r[36])}let a={};return r[36].openNote!==void 0&&(a.checked=r[36].openNote),e=new B_({props:a}),Ir.push(()=>yo(e,"checked",i)),{c(){Fe(e.$$.fragment)},m(o,l){Me(e,o,l),n=!0},p(o,l){r=o;let u={};!t&&l[0]&2&&(t=!0,u.checked=r[36].openNote,go(()=>t=!1)),e.$set(u)},i(o){n||(te(e.$$.fragment,o),n=!0)},o(o){ae(e.$$.fragment,o),n=!1},d(o){Te(e,o)}}}function j4(r,e){let t,n=e[9](e[36].type)+"",i,a,o,l,u,s,c,f,p,m=e[36].type==="command"&&q4(e),h=e[36].type==="open"&&z4(e),d=e[36].type==="js"&&$4(e),g=e[36].type==="input"&&H4(e),v=e[36].type==="sleep"&&G4(e),w=e[36].type==="templaterCreateNote"&&W4(e);return{key:r,first:null,c(){t=j("h5"),i=Re(n),a=fe(),m&&m.c(),o=fe(),h&&h.c(),l=fe(),d&&d.c(),u=fe(),g&&g.c(),s=fe(),v&&v.c(),c=fe(),w&&w.c(),f=or(),this.first=t},m(y,x){Y(y,t,x),z(t,i),Y(y,a,x),m&&m.m(y,x),Y(y,o,x),h&&h.m(y,x),Y(y,l,x),d&&d.m(y,x),Y(y,u,x),g&&g.m(y,x),Y(y,s,x),v&&v.m(y,x),Y(y,c,x),w&&w.m(y,x),Y(y,f,x),p=!0},p(y,x){e=y,(!p||x[0]&2)&&n!==(n=e[9](e[36].type)+"")&&rt(i,n),e[36].type==="command"?m?(m.p(e,x),x[0]&2&&te(m,1)):(m=q4(e),m.c(),te(m,1),m.m(o.parentNode,o)):m&&(gt(),ae(m,1,1,()=>{m=null}),vt()),e[36].type==="open"?h?(h.p(e,x),x[0]&2&&te(h,1)):(h=z4(e),h.c(),te(h,1),h.m(l.parentNode,l)):h&&(gt(),ae(h,1,1,()=>{h=null}),vt()),e[36].type==="js"?d?(d.p(e,x),x[0]&2&&te(d,1)):(d=$4(e),d.c(),te(d,1),d.m(u.parentNode,u)):d&&(gt(),ae(d,1,1,()=>{d=null}),vt()),e[36].type==="input"?g?(g.p(e,x),x[0]&2&&te(g,1)):(g=H4(e),g.c(),te(g,1),g.m(s.parentNode,s)):g&&(gt(),ae(g,1,1,()=>{g=null}),vt()),e[36].type==="sleep"?v?(v.p(e,x),x[0]&2&&te(v,1)):(v=G4(e),v.c(),te(v,1),v.m(c.parentNode,c)):v&&(gt(),ae(v,1,1,()=>{v=null}),vt()),e[36].type==="templaterCreateNote"?w?(w.p(e,x),x[0]&2&&te(w,1)):(w=W4(e),w.c(),te(w,1),w.m(f.parentNode,f)):w&&(gt(),ae(w,1,1,()=>{w=null}),vt())},i(y){p||(te(m),te(h),te(d),te(g),te(v),te(w),p=!0)},o(y){ae(m),ae(h),ae(d),ae(g),ae(v),ae(w),p=!1},d(y){y&&(J(t),J(a),J(o),J(l),J(u),J(s),J(c),J(f)),m&&m.d(y),h&&h.d(y),d&&d.d(y),g&&g.d(y),v&&v.d(y),w&&w.d(y)}}}function UJ(r){let e;return{c(){e=Re("Copy to Clipboard")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function qJ(r){let e;return{c(){e=Re("Cancel")},m(t,n){Y(t,e,n)},d(t){t&&J(e)}}}function zJ(r){let e,t,n,i;return e=new qt({props:{variant:"primary",$$slots:{default:[UJ]},$$scope:{ctx:r}}}),e.$on("click",r[32]),n=new qt({props:{variant:"default",$$slots:{default:[qJ]},$$scope:{ctx:r}}}),n.$on("click",r[33]),{c(){Fe(e.$$.fragment),t=fe(),Fe(n.$$.fragment)},m(a,o){Me(e,a,o),Y(a,t,o),Me(n,a,o),i=!0},p(a,o){let l={};o[1]&8192&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let u={};o[1]&8192&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(te(e.$$.fragment,a),te(n.$$.fragment,a),i=!0)},o(a){ae(e.$$.fragment,a),ae(n.$$.fragment,a),i=!1},d(a){a&&J(t),Te(e,a),Te(n,a)}}}function $J(r){let e,t,n,i,a,o,l,u,s,c,f,p,m,h,d,g,v=[],w=new Map,y,x,_,b,D,C,A,E,F;n=new $n({props:{name:"Label",description:"The label shown on the button.",$$slots:{default:[vJ]},$$scope:{ctx:r}}}),a=new $n({props:{name:"Style",description:"The style variant of the button",$$slots:{default:[yJ]},$$scope:{ctx:r}}}),l=new $n({props:{name:"ID",description:"An ID that allows the button to be referenced in inline buttons.",$$slots:{default:[xJ]},$$scope:{ctx:r}}}),s=new $n({props:{name:"Hidden",description:"Whether to not render this button. This can be useful when using inline buttons.",$$slots:{default:[bJ]},$$scope:{ctx:r}}});let I=We(Object.values(Du)),O=[];for(let T=0;T<I.length;T+=1)O[T]=U4(k4(r,I,T));d=new qt({props:{variant:"primary",$$slots:{default:[wJ]},$$scope:{ctx:r}}}),d.$on("click",r[15]);let k=We(r[1].actions),R=T=>T[38];for(let T=0;T<k.length;T+=1){let N=R4(r,k,T),V=R(N);w.set(V,v[T]=j4(V,N))}return C=new ls({props:{$$slots:{default:[zJ]},$$scope:{ctx:r}}}),{c(){e=j("h2"),e.textContent="Meta Bind Button Builder",t=fe(),Fe(n.$$.fragment),i=fe(),Fe(a.$$.fragment),o=fe(),Fe(l.$$.fragment),u=fe(),Fe(s.$$.fragment),c=fe(),f=j("h4"),f.textContent="Actions",p=Re(`

Add action of type
`),m=j("select");for(let T=0;T<O.length;T+=1)O[T].c();h=fe(),Fe(d.$$.fragment),g=fe();for(let T=0;T<v.length;T+=1)v[T].c();y=fe(),x=j("h4"),x.textContent="Preview",_=fe(),b=j("div"),D=fe(),Fe(C.$$.fragment),L(m,"class","dropdown"),r[3]===void 0&&Jr(()=>r[14].call(m))},m(T,N){Y(T,e,N),Y(T,t,N),Me(n,T,N),Y(T,i,N),Me(a,T,N),Y(T,o,N),Me(l,T,N),Y(T,u,N),Me(s,T,N),Y(T,c,N),Y(T,f,N),Y(T,p,N),Y(T,m,N);for(let V=0;V<O.length;V+=1)O[V]&&O[V].m(m,null);Sr(m,r[3],!0),Y(T,h,N),Me(d,T,N),Y(T,g,N);for(let V=0;V<v.length;V+=1)v[V]&&v[V].m(T,N);Y(T,y,N),Y(T,x,N),Y(T,_,N),Y(T,b,N),r[31](b),Y(T,D,N),Me(C,T,N),A=!0,E||(F=be(m,"change",r[14]),E=!0)},p(T,N){let V={};N[0]&2|N[1]&8192&&(V.$$scope={dirty:N,ctx:T}),n.$set(V);let B={};N[0]&2|N[1]&8192&&(B.$$scope={dirty:N,ctx:T}),a.$set(B);let X={};N[0]&2|N[1]&8192&&(X.$$scope={dirty:N,ctx:T}),l.$set(X);let ee={};if(N[0]&2|N[1]&8192&&(ee.$$scope={dirty:N,ctx:T}),s.$set(ee),N&0){I=We(Object.values(Du));let K;for(K=0;K<I.length;K+=1){let ve=k4(T,I,K);O[K]?O[K].p(ve,N):(O[K]=U4(ve),O[K].c(),O[K].m(m,null))}for(;K<O.length;K+=1)O[K].d(1);O.length=I.length}N[0]&8&&Sr(m,T[3]);let W={};N[1]&8192&&(W.$$scope={dirty:N,ctx:T}),d.$set(W),N[0]&994&&(k=We(T[1].actions),gt(),v=os(v,N,R,1,T,k,w,y.parentNode,Kl,j4,y,R4),vt());let P={};N[0]&3|N[1]&8192&&(P.$$scope={dirty:N,ctx:T}),C.$set(P)},i(T){if(!A){te(n.$$.fragment,T),te(a.$$.fragment,T),te(l.$$.fragment,T),te(s.$$.fragment,T),te(d.$$.fragment,T);for(let N=0;N<k.length;N+=1)te(v[N]);te(C.$$.fragment,T),A=!0}},o(T){ae(n.$$.fragment,T),ae(a.$$.fragment,T),ae(l.$$.fragment,T),ae(s.$$.fragment,T),ae(d.$$.fragment,T);for(let N=0;N<v.length;N+=1)ae(v[N]);ae(C.$$.fragment,T),A=!1},d(T){T&&(J(e),J(t),J(i),J(o),J(u),J(c),J(f),J(p),J(m),J(h),J(g),J(y),J(x),J(_),J(b),J(D)),Te(n,T),Te(a,T),Te(l,T),Te(s,T),Ct(O,T),Te(d,T);for(let N=0;N<v.length;N+=1)v[N].d(T);r[31](null),Te(C,T),E=!1,F()}}}function HJ(r,e,t){let{modal:n}=e,i={label:"This is a button",hidden:!1,id:"",style:"default",actions:[]},a,o,l;mo(()=>{o==null||o.unload()});function u(P,K){o==null||o.unload(),K&&(K.empty(),o=new lo(K,(0,Z4.stringifyYaml)(P),n.plugin,"",jt()),o.load())}function s(){var P;(P=i.actions)===null||P===void 0||P.push(n.plugin.api.buttonActionRunner.createDefaultAction(l)),t(1,i)}function c(P){i.actions.splice(P,1),t(1,i)}function f(P){new Pm(n.plugin,K=>{P.command=K.id,t(1,i)}).open()}function p(P){new Lm(n.plugin,K=>{P.templateFile=K.path,t(1,i)}).open()}function m(P){new Rm(n.plugin,K=>{P.folderPath=K.path,t(1,i)}).open()}function h(P){return P==="command"?"Run a Command":P==="open"?"Open a Link":P==="js"?"Run a JavaScript File":P==="input"?"Insert Text at Cursor":P==="sleep"?"Sleep for Some Time":P==="templaterCreateNote"?"Create a New Note Using Templater":"CHANGE ME"}function d(){i.label=this.value,t(1,i)}function g(){i.style=Wn(this),t(1,i)}function v(){i.id=this.value,t(1,i)}function w(P){r.$$.not_equal(i.hidden,P)&&(i.hidden=P,t(1,i))}function y(){l=Wn(this),t(3,l)}let x=()=>s(),_=P=>f(P),b=P=>c(P);function D(P,K){P[K].link=this.value,t(1,i)}let C=P=>c(P);function A(P,K){P[K].file=this.value,t(1,i)}let E=P=>c(P);function F(P,K){P[K].str=this.value,t(1,i)}let I=P=>c(P);function O(P,K){P[K].ms=ai(this.value),t(1,i)}let k=P=>c(P),R=P=>c(P),T=P=>p(P),N=P=>m(P);function V(P,K){P[K].fileName=this.value,t(1,i)}function B(P,K){r.$$.not_equal(K.openNote,P)&&(K.openNote=P,t(1,i))}function X(P){Ir[P?"unshift":"push"](()=>{a=P,t(2,a)})}let ee=()=>n.okay(i),W=()=>n.cancel();return r.$$set=P=>{"modal"in P&&t(0,n=P.modal)},r.$$.update=()=>{r.$$.dirty[0]&6&&u(i,a)},[n,i,a,l,s,c,f,p,m,h,d,g,v,w,y,x,_,b,D,C,A,E,F,I,O,k,R,T,N,V,B,X,ee,W]}var O_=class extends Ve{constructor(e){super(),qe(this,e,HJ,$J,Ue,{modal:0},null,[-1,-1])}},J4=O_;var Um=class extends Y4.Modal{constructor(e,t){super(e.app),this.plugin=e,this.onOkay=t}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new J4({target:this.contentEl,props:{modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}okay(e){this.close(),this.onOkay(e)}cancel(){this.close()}};var GJ=["true","false","on","off","yes","no"],WJ=new RegExp("\\b(("+GJ.join(")|(")+"))$","i"),zl={name:"yaml",token:function(r,e){var t=r.peek(),n=e.escaped;if(e.escaped=!1,t=="#"&&(r.pos==0||/\s/.test(r.string.charAt(r.pos-1))))return r.skipToEnd(),"comment";if(r.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(e.literal&&r.indentation()>e.keyCol)return r.skipToEnd(),"string";if(e.literal&&(e.literal=!1),r.sol()){if(e.keyCol=0,e.pair=!1,e.pairStart=!1,r.match("---")||r.match("..."))return"def";if(r.match(/^\s*-\s+/))return"meta"}if(r.match(/^(\{|\}|\[|\])/))return t=="{"?e.inlinePairs++:t=="}"?e.inlinePairs--:t=="["?e.inlineList++:e.inlineList--,"meta";if(e.inlineList>0&&!n&&t==",")return r.next(),"meta";if(e.inlinePairs>0&&!n&&t==",")return e.keyCol=0,e.pair=!1,e.pairStart=!1,r.next(),"meta";if(e.pairStart){if(r.match(/^\s*(\||\>)\s*/))return e.literal=!0,"meta";if(r.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable";if(e.inlinePairs==0&&r.match(/^\s*-?[0-9\.\,]+\s?$/)||e.inlinePairs>0&&r.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(r.match(WJ))return"keyword"}return!e.pair&&r.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(e.pair=!0,e.keyCol=r.indentation(),"atom"):e.pair&&r.match(/^:\s*/)?(e.pairStart=!0,"meta"):(e.pairStart=!1,e.escaped=t=="\\",r.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}},languageData:{commentTokens:{line:"#"}}};function X4(r){if(!r.settings.enableSyntaxHighlighting)return;window.CodeMirror.defineMode("meta-bind-button",t=>({startState:()=>{var i,a;return(a=(i=zl).startState)==null?void 0:a.call(i,4)},blankLine:i=>{var a,o;return(o=(a=zl).blankLine)==null?void 0:o.call(a,i,4)},copyState:i=>{var a,o;return(o=(a=zl).startState)==null?void 0:o.call(a,4)},token:(i,a)=>{var o,l;return`line-HyperMD-codeblock ${(l=(o=zl).token)==null?void 0:l.call(o,i,a)}`}}));let e=/^\s*(```+|~~~+)/;window.CodeMirror.defineMode("meta-bind",t=>({startState:()=>({str:void 0,mdrcType:void 0,highlights:void 0,line:1}),token:(i,a)=>{if(a.str===void 0){let u=[i.string],s=1,c=i.lookAhead(s);for(;c!==void 0&&!e.test(c)&&(u.push(c),s+=1,c=i.lookAhead(s),!(s>100)););a.str=u.filter(p=>p.trim()!=="").join(`
`);let f=Tn.isDeclarationAndGetMDRCType(a.str.trim());f===void 0?a.highlights=new co(a.str,[]):(a.mdrcType=f,a.highlights=r.api.syntaxHighlighting.highlight(a.str,a.mdrcType,!0))}let l=a.highlights.getHighlights().filter(u=>u.range.from.line===a.line).find(u=>u.range.from.column===i.pos+1);return l===void 0?(i.next(),i.eol()&&(a.line+=1),"line-HyperMD-codeblock"):(i.eatWhile(()=>i.pos+1<l.range.to.column)||i.next(),i.eol()&&(a.line+=1),`line-HyperMD-codeblock mb-highlight-${l.tokenClass}`)}}))}var pd=(n=>(n.DEV="dev",n.CANARY="canary",n.RELEASE="release",n))(pd||{}),qm=class extends zm.Plugin{async onload(){console.log("meta-bind | Main >> load"),this.build=this.determineBuild(),await this.loadSettings(),await this.saveSettings(),this.addSettingTab(new dc(this.app,this)),this.api=new Am(this),this.internal=new Om(this),this.mdrcManager=new Nm;let e=new Mm(this);this.metadataManager=new yc(e),this.loadTemplates(),this.addPostProcessors(),this.registerEditorExtension(m4(this)),this.addCommands(),X4(this),this.registerView(Oo,t=>new mc(t,this)),this.addStatusBarBuildIndicator()}onunload(){console.log("meta-bind | Main >> unload"),this.mdrcManager.unload(),this.metadataManager.unload()}determineBuild(){return this.manifest.version.includes("canary")?"canary":"release"}addPostProcessors(){this.registerMarkdownPostProcessor((e,t)=>{let n=e.querySelectorAll("code");for(let i=0;i<n.length;i++){let a=n.item(i);if(a.hasClass("mb-none"))continue;let o=a.innerText,l=Tn.isDeclarationAndGetMDRCType(o);l!==void 0&&Tn.constructMDRC(l,o,t.sourcePath,a,t,this)}},1),this.registerMarkdownCodeBlockProcessor("meta-bind",(e,t,n)=>{let i=t,a=e.trim(),o=Tn.isDeclarationAndGetMDRCType(a);o==="INPUT_FIELD"&&this.api.createInputFieldFromString(a,"block",n.sourcePath,i,n,void 0),o==="VIEW_FIELD"&&this.api.createViewFieldFromString(a,"block",n.sourcePath,i,n),o==="BUTTON"&&this.api.createInlineButtonFromString(a,n.sourcePath,i,n)}),this.registerMarkdownCodeBlockProcessor("meta-bind-js-view",(e,t,n)=>{this.api.createJsViewFieldFromString(e,"block",n.sourcePath,t,n)}),this.registerMarkdownCodeBlockProcessor("meta-bind-embed",(e,t,n)=>{let i=new Ul(t,e,this,n.sourcePath,jt(),0);n.addChild(i)});for(let e=1;e<=E_;e++)this.registerMarkdownCodeBlockProcessor(`meta-bind-embed-internal-${e}`,(t,n,i)=>{let a=new Ul(n,t,this,i.sourcePath,jt(),e);i.addChild(a)});this.registerMarkdownCodeBlockProcessor("meta-bind-button",(e,t,n)=>{let i=new lo(t,e,this,n.sourcePath,jt());n.addChild(i)})}addCommands(){this.addCommand({id:"open-docs",name:"Open Meta Bind Docs",callback:()=>{window.open("https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/","_blank")}}),this.addCommand({id:"open-faq",name:"Open Meta Bind FAQ",callback:()=>{this.activateView(Oo)}}),this.addCommand({id:"open-help",name:"Open Meta Bind Help",callback:()=>{this.activateView(Oo)}}),this.addCommand({id:"open-button-builder",name:"Open Button Builder",callback:()=>{new Um(this,e=>{window.navigator.clipboard.writeText(`\`\`\`meta-bind-button
${(0,zm.stringifyYaml)(e)}
\`\`\``)}).open()}})}addStatusBarBuildIndicator(){if(this.build==="dev"){let e=this.addStatusBarItem();e.setText("Meta Bind Dev Build"),e.addClass("mb-error"),this.register(()=>e.remove())}if(this.build==="canary"){let e=this.addStatusBarItem();e.setText(`Meta Bind Canary Build (${this.manifest.version})`),e.addClass("mb-error"),this.register(()=>e.remove())}}loadTemplates(){let e=this.api.inputFieldParser.parseTemplates(this.settings.inputFieldTemplates);e.hasErrors()&&console.warn("meta-bind | failed to parse templates",e)}isFilePathExcluded(e){for(let t of this.settings.excludedFolders)if(e.startsWith(t))return!0;return!1}async loadSettings(){console.log("meta-bind | Main >> settings load");let e=await this.loadData();e=this.applyTemplatesMigration(Object.assign({},Ai,e)),this.settings=e,await this.saveSettings()}async saveSettings(){console.log("meta-bind | Main >> settings save"),Ur.dateFormat=this.settings.preferredDateFormat,Zk(this.settings.firstWeekday),await this.saveData(this.settings)}applyTemplatesMigration(e){return e}async activateView(e){let{workspace:t}=this.app,n,i=t.getLeavesOfType(e);i.length>0?n=i[0]:(n=t.getLeaf("tab"),await n.setViewState({type:e,active:!0})),t.revealLeaf(n)}};
/*! Bundled license information:

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.3.0 20/08/2023
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2023, Robert Eisele (robert@raw.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
