/*
-------------------------------------------
Meta Bind Plugin - Release Build
-------------------------------------------
By: Moritz Jung (https://mprojectscode.github.io/)
Time: Sat, 25 Nov 2023 22:38:34 GMT
Version: 0.9.0
-------------------------------------------
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";var Q8=Object.create;var Vu=Object.defineProperty;var K8=Object.getOwnPropertyDescriptor;var e6=Object.getOwnPropertyNames;var t6=Object.getPrototypeOf,r6=Object.prototype.hasOwnProperty;var n6=(r,e,t)=>e in r?Vu(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Lr=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),i6=(r,e)=>{for(var t in e)Vu(r,t,{get:e[t],enumerable:!0})},wE=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of e6(e))!r6.call(r,i)&&i!==t&&Vu(r,i,{get:()=>e[i],enumerable:!(n=K8(e,i))||n.enumerable});return r};var Fr=(r,e,t)=>(t=r!=null?Q8(t6(r)):{},wE(e||!r||!r.__esModule?Vu(t,"default",{value:r,enumerable:!0}):t,r)),a6=r=>wE(Vu({},"__esModule",{value:!0}),r);var Xr=(r,e,t)=>(n6(r,typeof e!="symbol"?e+"":e,t),t);var qc=Lr(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.P_HELPERS=Pn.ParserHelpers=Pn.validateRegexFlags=Pn.validateRange=Pn.getIndex=Pn.arrayUnion=void 0;var Ld=zc();function g7(r,e){if(!(r===void 0&&e===void 0)){if(r===void 0)return e;if(e===void 0)return r;for(let t of e)r.includes(t)||r.push(t);return r}}Pn.arrayUnion=g7;function v7(r){return r===void 0?-1:r.index}Pn.getIndex=v7;function y7(r,e){if(e<r)throw new Error(`Invalid Range: max might not be smaller than min. Received [${r}, ${e}].`);if(r<0||e<0)throw new Error(`Invalid Range: max and min might not be smaller than 0. Received [${r}, ${e}].`);if(r===1/0||e===1/0)throw new Error(`Invalid Range: max and min might not be infinity. Received [${r}, ${e}].`);if(!Number.isInteger(r)||!Number.isInteger(e))throw new Error(`Invalid Range: max and min must be integers. Received [${r}, ${e}].`)}Pn.validateRange=y7;function x7(r){for(let e of r)if(e!=="i"&&e!=="m"&&e!=="s"&&e!=="u")throw new Error(`RegExp flag '${e}' is not allowed. The only allowed flags are 'i', 'm', 's' and 'u'.`)}Pn.validateRegexFlags=x7;var Uc=class{followedBy(e){return new Ld.Parser(function(n){return e.p(n.copy())})}notFollowedBy(e){return new Ld.Parser(function(n){let i=n.copy(),a=e.p(i),o=n.sliceTo(i.position.index);return a.success?n.fail("not '"+o+"'"):n.succeed(void 0)})}test(e){return new Ld.Parser(function(n){let i=n.input[n.position.index];return!n.atEOF()&&e(i)?n.succeedOffset(1,i):n.fail(`a character matching ${e}`)})}};Pn.ParserHelpers=Uc;Pn.P_HELPERS=new Uc});var OC=Lr($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.ParserContext=void 0;var Vd=qc(),Ud=class r{constructor(e,t){this.input=e,this.position=t}moveToPosition(e){return this.position=e,this}copy(){return new r(this.input,{index:this.position.index,column:this.position.column,line:this.position.line})}getPosition(){return{index:this.position.index,column:this.position.column,line:this.position.line}}atEOF(){return this.position.index>=this.input.length}advanceTo(e){if(e<this.position.index)throw new Error(`Can not advance backwards. Current pos ${this.position.index}. Advance target index ${e}.`);if(e!==this.position.index){for(let t=this.position.index;t<e;t++)this.input[t]===`
`?(this.position.line+=1,this.position.column=1):this.position.column+=1;this.position.index=e}}sliceTo(e){return this.input.slice(this.position.index,e)}succeedOffset(e,t){return this.succeedAt(this.position.index+e,t)}failOffset(e,t){return this.failAt(this.position.index+e,t)}succeed(e){return this.succeedAt(this.position.index,e)}fail(e){return this.failAt(this.position.index,e)}succeedAt(e,t){return this.advanceTo(e),{success:!0,value:t,furthest:void 0,expected:void 0}}failAt(e,t){return this.advanceTo(e),{success:!1,value:void 0,furthest:this.position,expected:Array.isArray(t)?t:[t]}}merge(e,t){if(e===void 0)return t;let n=(0,Vd.getIndex)(e.furthest),i=(0,Vd.getIndex)(t.furthest);if(i>n)return t;let a=i===n?(0,Vd.arrayUnion)(e.expected,t.expected):e.expected;return t.furthest=e.furthest,t.expected=a,t}};$c.ParserContext=Ud});var ga=Lr(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.P_UTILS=void 0;var Hc=zc(),cr=Zi(),qd=class r{static position(){return new Hc.Parser(e=>e.succeed(e.getPosition()))}static any(){return new Hc.Parser(e=>e.atEOF()?e.fail("any character"):e.succeedOffset(1,e.input[e.position.index]))}static remaining(){return new Hc.Parser(e=>e.succeedAt(e.input.length,e.input.slice(e.position.index)))}static eof(){return new Hc.Parser(e=>e.atEOF()?e.succeed(void 0):e.fail("eof"))}static digit(){return cr.P.regexp(/^[0-9]/).describe("a digit")}static digits(){return cr.P.regexp(/^[0-9]+/).describe("multiple digits")}static letter(){return cr.P.regexp(/^[a-z]/i).describe("a letter")}static letters(){return cr.P.regexp(/^[a-z]+/i).describe("multiple letters")}static unicodeLetter(){return cr.P.regexp(/^\p{L}/iu).describe("a unicode letter")}static unicodeLetters(){return cr.P.regexp(/^\p{L}+/iu).describe("multiple unicode letters")}static unicodeAlphanumeric(){return cr.P.regexp(/^[\p{L}\p{N}]/iu).describe("a unicode alphanumeric character")}static unicodeAlphanumerics(){return cr.P.regexp(/^[\p{L}\p{N}]+/iu).describe("multiple unicode alphanumeric characters")}static optionalWhitespace(){return cr.P.regexp(/^\s*/).describe("optional whitespace")}static whitespace(){return cr.P.regexp(/^\s+/).describe("whitespace")}static cr(){return cr.P.string("\r")}static lf(){return cr.P.string(`
`)}static crlf(){return cr.P.string(`\r
`)}static newline(){return cr.P.or(this.crlf(),this.lf(),this.cr()).describe("newline")}static prefix(e,t,n){return cr.P.sequenceMap((i,a)=>i.reduce((o,l)=>n(l,o),a),e.many(),t)}static postfix(e,t,n){return cr.P.sequenceMap((i,a)=>a.reduce((o,l)=>n(l,o),i),t,e.many())}static binaryRight(e,t,n){return cr.P.sequenceMap((i,a)=>i.reverse().reduce((o,l)=>{let[u,s]=l;return n(u,s,o)},a),cr.P.sequence(t,e.trim(this.optionalWhitespace())).many(),t)}static binaryLeft(e,t,n){return cr.P.sequenceMap((i,a)=>a.reduce((o,l)=>{let[u,s]=l;return n(o,u,s)},i),t,cr.P.sequence(e.trim(this.optionalWhitespace()),t).many())}static binaryRightRange(e,t,n){return cr.P.sequenceMap((i,a,o)=>i.reverse().reduce((l,u)=>{let[s,c,f]=u;return n({from:s,to:o},c,f,l)},a),cr.P.sequence(r.position(),t,e.trim(this.optionalWhitespace())).many(),t,r.position())}static binaryLeftRange(e,t,n){return cr.P.sequenceMap((i,a,o)=>o.reduce((l,u)=>{let[s,c,f]=u;return n({from:i,to:f},l,s,c)},a),r.position(),t,cr.P.sequence(e.trim(this.optionalWhitespace()),t,r.position()).many())}static func(e,t,n){let i=typeof e=="string"?cr.P.string(e):e;return cr.P.sequenceMap((a,o,l,u,s,c)=>n(a,u),i,cr.P.string("("),this.optionalWhitespace(),t,this.optionalWhitespace(),cr.P.string(")"))}};Wc.P_UTILS=qd});var PC=Lr(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.ParsingError=ks.createParsingErrorMessage=void 0;function kC(r,e,t){let n=`Expected ${e.expected.sort().join(" or ")}`,i=`Parse Failure: ${n} at index ${e.furthest.index}, line ${e.furthest.line}, column ${e.furthest.column}.`;if(t){let o=r.split(`
`)[e.furthest.line-1],l=`${e.furthest.line} |   `;i+=`

${l}${o}`,i+=`
${" ".repeat(e.furthest.column-1+l.length)}^ (${n})`}return i}ks.createParsingErrorMessage=kC;var zd=class extends Error{constructor(e,t){super(kC(e,t,!0))}};ks.ParsingError=zd});var zc=Lr(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.Parser=void 0;var b7=OC(),li=Zi(),$d=qc(),Ps=ga(),D7=PC(),Hd=class r{constructor(e){this.p=e}tryParse(e){return this.p(new b7.ParserContext(e,{index:0,line:1,column:1}))}parse(e){let t=this.tryParse(e);if(t.success)return t.value;throw new D7.ParsingError(e,t)}or(e){return li.P.or(this,e)}trim(e){return this.wrap(e,e)}trimString(e){return this.trim(li.P.string(e))}wrap(e,t){let n=this;return new r(function(a){let o=e.p(a);if(!o.success)return o;let l=a.merge(o,n.p(a));if(!l.success)return l;let u=a.merge(l,t.p(a));return u.success?a.merge(u,a.succeed(l.value)):u})}wrapString(e,t){return this.wrap(li.P.string(e),li.P.string(t))}then(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success,o})}skip(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let o=i.merge(a,e.p(i));return o.success?i.merge(o,i.succeed(a.value)):o})}and(e){return li.P.sequence(this,e)}many(){let e=this;return new r(function(n){let i,a=n.position.index,o=[];for(;;){let l=n.copy(),u=e.p(l);if(i=n.merge(i,u),i.success){if(l.position.index===a)throw new Error("infinite loop in many() parser detected");n.moveToPosition(l.position),o.push(i.value)}else return n.merge(i,n.succeed(o))}})}repeat(e,t){(0,$d.validateRange)(e,t);let n=this;return new r(function(a){let o,l,u=[],s=0;for(;s<e;s++)if(o=n.p(a),l=a.merge(l,o),o.success)u.push(o.value);else return l;for(;s<t;s++){let c=a.copy();if(o=n.p(c),l=a.merge(l,o),o.success)a.moveToPosition(c.position),u.push(o.value);else break}return a.merge(l,a.succeed(u))})}atMost(e){return this.repeat(0,e)}atLeast(e){return li.P.sequenceMap((t,n)=>t.concat(n),this.repeat(e,e),this.many())}separateBy(e){return li.P.separateBy(this,e)}separateByNotEmpty(e){return li.P.separateByNotEmpty(this,e)}result(e){return this.map(()=>e)}map(e){let t=this;return new r(function(i){let a=t.p(i);return a.success&&(a.value=e(a.value)),a})}marker(){return li.P.sequenceMap(function(t,n,i){return{value:n,range:{from:t,to:i}}},Ps.P_UTILS.position(),this,Ps.P_UTILS.position())}namedMarker(e){return li.P.sequenceMap(function(n,i,a){return{value:i,name:e,range:{from:n,to:a}}},Ps.P_UTILS.position(),this,Ps.P_UTILS.position())}node(e){return li.P.sequenceMap(function(n,i,a){return e(i,{from:n,to:a})},Ps.P_UTILS.position(),this,Ps.P_UTILS.position())}followedBy(e){return this.skip($d.P_HELPERS.followedBy(e))}notFollowedBy(e){return this.skip($d.P_HELPERS.notFollowedBy(e))}describe(e){typeof e=="string"&&(e=[e]);let t=this;return new r(function(i){let a=t.p(i);return a.expected!==void 0&&a.expected.length!==0&&(a.expected=e),a})}box(e){let t=this;return new r(function(i){var a;let o=t.p(i);return o.expected!==void 0&&o.expected.length!==0&&(o.expected=[`(${(a=o.expected)===null||a===void 0?void 0:a.join(" or ")} as part of ${e})`]),o})}optional(e){return this.or(li.P.succeed(e))}chain(e){let t=this;return new r(function(i){let a=t.p(i);if(!a.success)return a;let l=e(a.value).p(i);return i.merge(a,l)})}thenEof(){let e=this;return new r(function(n){let i=e.p(n);return i.success?n.atEOF()?i:n.merge(i,n.fail("eof")):i})}memorize(){let e=this,t="",n=new Map,i=new Map;return new r(function(o){let l=o.position.index;if(o.input!==t)t=o.input,n.clear(),i.clear();else{let s=n.get(l),c=i.get(l);if(s!==void 0&&c!==void 0)return o.moveToPosition(Object.assign({},c)),Object.assign({},s)}let u=e.p(o);return n.set(l,Object.assign({},u)),i.set(l,o.getPosition()),u})}};Gc.Parser=Hd});var Zi=Lr(Zc=>{"use strict";Object.defineProperty(Zc,"__esModule",{value:!0});Zc.P=void 0;var Zn=zc(),jc=qc(),Wd=class r{static sequence(...e){if(e.length===0)throw new Error("sequence must have at least one parser argument");return new Zn.Parser(function(n){let i,a=new Array(e.length);for(let o=0;o<e.length;o++){let u=e[o].p(n);if(i=n.merge(i,u),!i.success)return i;a[o]=i.value}return i.value=a,i})}static sequenceMap(e,...t){if(t.length===0)throw new Error("sequenceMap must have at least one parser argument");return new Zn.Parser(function(i){let a,o=new Array(t.length);for(let l=0;l<t.length;l++){let s=t[l].p(i);if(a=i.merge(a,s),!a.success)return a;o[l]=a.value}return a.value=e(...o),a})}static createLanguage(e){let t={},n={},i={};for(let a in e)i[a]=r.reference(()=>e[a](t,i)),Object.defineProperty(n,a,{get:()=>{if(t[a]!==void 0)return t[a];throw new Error(`Can not access rule '${a}' in language. Rule is not yet defined. Try to access it via 'ref'.`)}});for(let a in e)t[a]=e[a](n,i);return t}static or(...e){if(e.length===0)throw new Error("or must have at least one alternative");return new Zn.Parser(function(n){let i;for(let a of e){let o=a,l=n.copy(),u=o.p(l);if(i=n.merge(i,u),i.success)return n.moveToPosition(l.position),i}return i})}static separateBy(e,t){return this.separateByNotEmpty(e,t).or(r.succeed([]))}static separateByNotEmpty(e,t){return this.sequenceMap(function(i,a){return a.unshift(i),a},e,t.then(e).many())}static string(e){let t="'"+e+"'";return new Zn.Parser(function(i){for(let a=0;a<e.length;a++)if(i.input[i.position.index+a]!==e[a])return i.fail(t);return i.succeedAt(i.position.index+e.length,e)})}static regexp(e,t){(0,jc.validateRegexFlags)(e.flags);let n=e.source;return t!==void 0?new Zn.Parser(function(a){let o=a.input.slice(a.position.index),l=e.exec(o);if(l!==null){let u=t!=null?t:0;if(u>=0&&u<=l.length){let c=l[0],f=l[u];return a.succeedOffset(c.length,f)}let s="expected valid match group (0 to "+l.length+") in "+n;return a.fail(s)}else return a.fail(n)}):new Zn.Parser(function(a){let o=a.input.slice(a.position.index),l=e.exec(o);if(l!==null){let u=l[0];return a.succeedOffset(u.length,u)}else return a.fail(n)})}static succeed(e){return new Zn.Parser(function(n){return n.succeed(e)})}static fail(e){return new Zn.Parser(function(n){return n.fail(e)})}static oneOf(e){return jc.P_HELPERS.test(function(n){return e.includes(n)}).describe(`one character of '${e}'`)}static noneOf(e){return jc.P_HELPERS.test(function(n){return!e.includes(n)}).describe(`no character of '${e}'`)}static oneStringOf(e){return this.or(...e.map(t=>this.string(t))).describe(e.map(t=>`'${t}'`).join(" or "))}static manyOf(e){return new Zn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static manyNotOf(e){return new Zn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&!e.includes(n.input[i]);i++);return n.succeedAt(i,n.sliceTo(i))})}static custom(e){return new Zn.Parser(e)}static range(e,t){let n=e.charCodeAt(0),i=t.charCodeAt(0);return jc.P_HELPERS.test(function(o){let l=o.charCodeAt(0);return n<=l&&l<=i}).describe(`${e}-${t}`)}static takeWhile(e){return new Zn.Parser(function(n){let i=n.position.index;for(;i<n.input.length&&e(n.input[i]);)i++;return n.succeedAt(i,n.input.slice(n.position.index,i))})}static reference(e){return new Zn.Parser(function(n){return e().p(n)})}};Zc.P=Wd});var Mh=Lr((Nh,_h)=>{(function(r,e){typeof Nh=="object"&&typeof _h!="undefined"?_h.exports=e():typeof define=="function"&&define.amd?define(e):(r=typeof globalThis!="undefined"?globalThis:r||self,r["'typed'"]=e())})(Nh,function(){"use strict";function r(){return!0}function e(){return!1}function t(){}let n="Argument is not a typed-function.";function i(){function o(W){return typeof W=="object"&&W!==null&&W.constructor===Object}let l=[{name:"number",test:function(W){return typeof W=="number"}},{name:"string",test:function(W){return typeof W=="string"}},{name:"boolean",test:function(W){return typeof W=="boolean"}},{name:"Function",test:function(W){return typeof W=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(W){return W instanceof Date}},{name:"RegExp",test:function(W){return W instanceof RegExp}},{name:"Object",test:o},{name:"null",test:function(W){return W===null}},{name:"undefined",test:function(W){return W===void 0}}],u={name:"any",test:r,isAny:!0},s,c,f=0,p={createCount:0};function m(W){let ne=s.get(W);if(ne)return ne;let pe='Unknown type "'+W+'"',Ae=W.toLowerCase(),Me;for(Me of c)if(Me.toLowerCase()===Ae){pe+='. Did you mean "'+Me+'" ?';break}throw new TypeError(pe)}function h(W){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any",pe=ne?m(ne).index:c.length,Ae=[];for(let Se=0;Se<W.length;++Se){if(!W[Se]||typeof W[Se].name!="string"||typeof W[Se].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");let Ne=W[Se].name;if(s.has(Ne))throw new TypeError('Duplicate type name "'+Ne+'"');Ae.push(Ne),s.set(Ne,{name:Ne,test:W[Se].test,isAny:W[Se].isAny,index:pe+Se,conversionsTo:[]})}let Me=c.slice(pe);c=c.slice(0,pe).concat(Ae).concat(Me);for(let Se=pe+Ae.length;Se<c.length;++Se)s.get(c[Se]).index=Se}function d(){s=new Map,c=[],f=0,h([u],!1)}d(),h(l);function g(){let W;for(W of c)s.get(W).conversionsTo=[];f=0}function y(W){let ne=c.filter(pe=>{let Ae=s.get(pe);return!Ae.isAny&&Ae.test(W)});return ne.length?ne:["any"]}function w(W){return W&&typeof W=="function"&&"_typedFunctionData"in W}function v(W,ne,pe){if(!w(W))throw new TypeError(n);let Ae=pe&&pe.exact,Me=Array.isArray(ne)?ne.join(","):ne,Se=A(Me),Ne=b(Se);if(!Ae||Ne in W.signatures){let R=W._typedFunctionData.signatureMap.get(Ne);if(R)return R}let Oe=Se.length,_;if(Ae){_=[];let R;for(R in W.signatures)_.push(W._typedFunctionData.signatureMap.get(R))}else _=W._typedFunctionData.signatures;for(let R=0;R<Oe;++R){let Z=Se[R],se=[],ye;for(ye of _){let _e=L(ye.params,R);if(!(!_e||Z.restParam&&!_e.restParam)){if(!_e.hasAny){let Re=E(_e);if(Z.types.some(lt=>!Re.has(lt.name)))continue}se.push(ye)}}if(_=se,_.length===0)break}let N;for(N of _)if(N.params.length<=Oe)return N;throw new TypeError("Signature not found (signature: "+(W.name||"unnamed")+"("+b(Se,", ")+"))")}function x(W,ne,pe){return v(W,ne,pe).implementation}function D(W,ne){let pe=m(ne);if(pe.test(W))return W;let Ae=pe.conversionsTo;if(Ae.length===0)throw new Error("There are no conversions to "+ne+" defined.");for(let Me=0;Me<Ae.length;Me++)if(m(Ae[Me].from).test(W))return Ae[Me].convert(W);throw new Error("Cannot convert "+W+" to "+ne)}function b(W){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return W.map(pe=>pe.name).join(ne)}function C(W){let ne=W.indexOf("...")===0,Ae=(ne?W.length>3?W.slice(3):"any":W).split("|").map(Oe=>m(Oe.trim())),Me=!1,Se=ne?"...":"";return{types:Ae.map(function(Oe){return Me=Oe.isAny||Me,Se+=Oe.name+"|",{name:Oe.name,typeIndex:Oe.index,test:Oe.test,isAny:Oe.isAny,conversion:null,conversionIndex:-1}}),name:Se.slice(0,-1),hasAny:Me,hasConversion:!1,restParam:ne}}function S(W){let ne=W.types.map(Ne=>Ne.name),pe=V(ne),Ae=W.hasAny,Me=W.name,Se=pe.map(function(Ne){let Oe=m(Ne.from);return Ae=Oe.isAny||Ae,Me+="|"+Ne.from,{name:Ne.from,typeIndex:Oe.index,test:Oe.test,isAny:Oe.isAny,conversion:Ne,conversionIndex:Ne.index}});return{types:W.types.concat(Se),name:Me,hasAny:Ae,hasConversion:Se.length>0,restParam:W.restParam}}function E(W){return W.typeSet||(W.typeSet=new Set,W.types.forEach(ne=>W.typeSet.add(ne.name))),W.typeSet}function A(W){let ne=[];if(typeof W!="string")throw new TypeError("Signatures must be strings");let pe=W.trim();if(pe==="")return ne;let Ae=pe.split(",");for(let Me=0;Me<Ae.length;++Me){let Se=C(Ae[Me].trim());if(Se.restParam&&Me!==Ae.length-1)throw new SyntaxError('Unexpected rest parameter "'+Ae[Me]+'": only allowed for the last parameter');if(Se.types.length===0)return null;ne.push(Se)}return ne}function M(W){let ne=U(W);return ne?ne.restParam:!1}function I(W){if(!W||W.types.length===0)return r;if(W.types.length===1)return m(W.types[0].name).test;if(W.types.length===2){let ne=m(W.types[0].name).test,pe=m(W.types[1].name).test;return function(Me){return ne(Me)||pe(Me)}}else{let ne=W.types.map(function(pe){return m(pe.name).test});return function(Ae){for(let Me=0;Me<ne.length;Me++)if(ne[Me](Ae))return!0;return!1}}}function k(W){let ne,pe,Ae;if(M(W)){ne=we(W).map(I);let Me=ne.length,Se=I(U(W)),Ne=function(Oe){for(let _=Me;_<Oe.length;_++)if(!Se(Oe[_]))return!1;return!0};return function(_){for(let N=0;N<ne.length;N++)if(!ne[N](_[N]))return!1;return Ne(_)&&_.length>=Me+1}}else return W.length===0?function(Se){return Se.length===0}:W.length===1?(pe=I(W[0]),function(Se){return pe(Se[0])&&Se.length===1}):W.length===2?(pe=I(W[0]),Ae=I(W[1]),function(Se){return pe(Se[0])&&Ae(Se[1])&&Se.length===2}):(ne=W.map(I),function(Se){for(let Ne=0;Ne<ne.length;Ne++)if(!ne[Ne](Se[Ne]))return!1;return Se.length===ne.length})}function L(W,ne){return ne<W.length?W[ne]:M(W)?U(W):null}function P(W,ne){let pe=L(W,ne);return pe?E(pe):new Set}function B(W){return W.conversion===null||W.conversion===void 0}function T(W,ne){let pe=new Set;return W.forEach(Ae=>{let Me=P(Ae.params,ne),Se;for(Se of Me)pe.add(Se)}),pe.has("any")?["any"]:Array.from(pe)}function z(W,ne,pe){let Ae,Me,Se=W||"unnamed",Ne=pe,Oe;for(Oe=0;Oe<ne.length;Oe++){let Z=[];if(Ne.forEach(se=>{let ye=L(se.params,Oe),_e=I(ye);(Oe<se.params.length||M(se.params))&&_e(ne[Oe])&&Z.push(se)}),Z.length===0){if(Me=T(Ne,Oe),Me.length>0){let se=y(ne[Oe]);return Ae=new TypeError("Unexpected type of argument in function "+Se+" (expected: "+Me.join(" or ")+", actual: "+se.join(" | ")+", index: "+Oe+")"),Ae.data={category:"wrongType",fn:Se,index:Oe,actual:se,expected:Me},Ae}}else Ne=Z}let _=Ne.map(function(Z){return M(Z.params)?1/0:Z.params.length});if(ne.length<Math.min.apply(null,_))return Me=T(Ne,Oe),Ae=new TypeError("Too few arguments in function "+Se+" (expected: "+Me.join(" or ")+", index: "+ne.length+")"),Ae.data={category:"tooFewArgs",fn:Se,index:ne.length,expected:Me},Ae;let N=Math.max.apply(null,_);if(ne.length>N)return Ae=new TypeError("Too many arguments in function "+Se+" (expected: "+N+", actual: "+ne.length+")"),Ae.data={category:"tooManyArgs",fn:Se,index:ne.length,expectedLength:N},Ae;let R=[];for(let Z=0;Z<ne.length;++Z)R.push(y(ne[Z]).join("|"));return Ae=new TypeError('Arguments of type "'+R.join(", ")+'" do not match any of the defined signatures of function '+Se+"."),Ae.data={category:"mismatch",actual:R},Ae}function O(W){let ne=c.length+1;for(let pe=0;pe<W.types.length;pe++)B(W.types[pe])&&(ne=Math.min(ne,W.types[pe].typeIndex));return ne}function J(W){let ne=f+1;for(let pe=0;pe<W.types.length;pe++)B(W.types[pe])||(ne=Math.min(ne,W.types[pe].conversionIndex));return ne}function ee(W,ne){if(W.hasAny){if(!ne.hasAny)return 1}else if(ne.hasAny)return-1;if(W.restParam){if(!ne.restParam)return 1}else if(ne.restParam)return-1;if(W.hasConversion){if(!ne.hasConversion)return 1}else if(ne.hasConversion)return-1;let pe=O(W)-O(ne);if(pe<0)return-1;if(pe>0)return 1;let Ae=J(W)-J(ne);return Ae<0?-1:Ae>0?1:0}function j(W,ne){let pe=W.params,Ae=ne.params,Me=U(pe),Se=U(Ae),Ne=M(pe),Oe=M(Ae);if(Ne&&Me.hasAny){if(!Oe||!Se.hasAny)return 1}else if(Oe&&Se.hasAny)return-1;let _=0,N=0,R;for(R of pe)R.hasAny&&++_,R.hasConversion&&++N;let Z=0,se=0;for(R of Ae)R.hasAny&&++Z,R.hasConversion&&++se;if(_!==Z)return _-Z;if(Ne&&Me.hasConversion){if(!Oe||!Se.hasConversion)return 1}else if(Oe&&Se.hasConversion)return-1;if(N!==se)return N-se;if(Ne){if(!Oe)return 1}else if(Oe)return-1;let ye=(pe.length-Ae.length)*(Ne?-1:1);if(ye!==0)return ye;let _e=[],Re=0;for(let Jt=0;Jt<pe.length;++Jt){let Rr=ee(pe[Jt],Ae[Jt]);_e.push(Rr),Re+=Rr}if(Re!==0)return Re;let lt;for(lt of _e)if(lt!==0)return lt;return 0}function V(W){if(W.length===0)return[];let ne=W.map(m);W.length>1&&ne.sort((Me,Se)=>Me.index-Se.index);let pe=ne[0].conversionsTo;if(W.length===1)return pe;pe=pe.concat([]);let Ae=new Set(W);for(let Me=1;Me<ne.length;++Me){let Se;for(Se of ne[Me].conversionsTo)Ae.has(Se.from)||(pe.push(Se),Ae.add(Se.from))}return pe}function re(W,ne){let pe=ne;if(W.some(Me=>Me.hasConversion)){let Me=M(W),Se=W.map(xe);pe=function(){let Oe=[],_=Me?arguments.length-1:arguments.length;for(let N=0;N<_;N++)Oe[N]=Se[N](arguments[N]);return Me&&(Oe[_]=arguments[_].map(Se[_])),ne.apply(this,Oe)}}let Ae=pe;if(M(W)){let Me=W.length-1;Ae=function(){return pe.apply(this,H(arguments,0,Me).concat([H(arguments,Me)]))}}return Ae}function xe(W){let ne,pe,Ae,Me,Se=[],Ne=[];switch(W.types.forEach(function(Oe){Oe.conversion&&(Se.push(m(Oe.conversion.from).test),Ne.push(Oe.conversion.convert))}),Ne.length){case 0:return function(_){return _};case 1:return ne=Se[0],Ae=Ne[0],function(_){return ne(_)?Ae(_):_};case 2:return ne=Se[0],pe=Se[1],Ae=Ne[0],Me=Ne[1],function(_){return ne(_)?Ae(_):pe(_)?Me(_):_};default:return function(_){for(let N=0;N<Ne.length;N++)if(Se[N](_))return Ne[N](_);return _}}}function oe(W){function ne(pe,Ae,Me){if(Ae<pe.length){let Se=pe[Ae],Ne=[];if(Se.restParam){let Oe=Se.types.filter(B);Oe.length<Se.types.length&&Ne.push({types:Oe,name:"..."+Oe.map(_=>_.name).join("|"),hasAny:Oe.some(_=>_.isAny),hasConversion:!1,restParam:!0}),Ne.push(Se)}else Ne=Se.types.map(function(Oe){return{types:[Oe],name:Oe.name,hasAny:Oe.isAny,hasConversion:Oe.conversion,restParam:!1}});return $(Ne,function(Oe){return ne(pe,Ae+1,Me.concat([Oe]))})}else return[Me]}return ne(W,0,[])}function le(W,ne){let pe=Math.max(W.length,ne.length);for(let Oe=0;Oe<pe;Oe++){let _=P(W,Oe),N=P(ne,Oe),R=!1,Z;for(Z of N)if(_.has(Z)){R=!0;break}if(!R)return!1}let Ae=W.length,Me=ne.length,Se=M(W),Ne=M(ne);return Se?Ne?Ae===Me:Me>=Ae:Ne?Ae>=Me:Ae===Me}function ve(W){return W.map(ne=>Pe(ne)?he(ne.referToSelf.callback):be(ne)?te(ne.referTo.references,ne.referTo.callback):ne)}function ue(W,ne,pe){let Ae=[],Me;for(Me of W){let Se=pe[Me];if(typeof Se!="number")throw new TypeError('No definition for referenced signature "'+Me+'"');if(Se=ne[Se],typeof Se!="function")return!1;Ae.push(Se)}return Ae}function ce(W,ne,pe){let Ae=ve(W),Me=new Array(Ae.length).fill(!1),Se=!0;for(;Se;){Se=!1;let Ne=!0;for(let Oe=0;Oe<Ae.length;++Oe){if(Me[Oe])continue;let _=Ae[Oe];if(Pe(_))Ae[Oe]=_.referToSelf.callback(pe),Ae[Oe].referToSelf=_.referToSelf,Me[Oe]=!0,Ne=!1;else if(be(_)){let N=ue(_.referTo.references,Ae,ne);N?(Ae[Oe]=_.referTo.callback.apply(this,N),Ae[Oe].referTo=_.referTo,Me[Oe]=!0,Ne=!1):Se=!0}}if(Ne&&Se)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Ae}function me(W){let ne=/\bthis(\(|\.signatures\b)/;Object.keys(W).forEach(pe=>{let Ae=W[pe];if(ne.test(Ae.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function de(W,ne){if(p.createCount++,Object.keys(ne).length===0)throw new SyntaxError("No signatures provided");p.warnAgainstDeprecatedThis&&me(ne);let pe=[],Ae=[],Me={},Se=[],Ne;for(Ne in ne){if(!Object.prototype.hasOwnProperty.call(ne,Ne))continue;let ur=A(Ne);if(!ur)continue;pe.forEach(function(Lu){if(le(Lu,ur))throw new TypeError('Conflicting signatures "'+b(Lu)+'" and "'+b(ur)+'".')}),pe.push(ur);let In=Ae.length;Ae.push(ne[Ne]);let J8=ur.map(S),ac;for(ac of oe(J8)){let Lu=b(ac);Se.push({params:ac,name:Lu,fn:In}),ac.every(X8=>!X8.hasConversion)&&(Me[Lu]=In)}}Se.sort(j);let Oe=ce(Ae,Me,Ru),_;for(_ in Me)Object.prototype.hasOwnProperty.call(Me,_)&&(Me[_]=Oe[Me[_]]);let N=[],R=new Map;for(_ of Se)R.has(_.name)||(_.fn=Oe[_.fn],N.push(_),R.set(_.name,_));let Z=N[0]&&N[0].params.length<=2&&!M(N[0].params),se=N[1]&&N[1].params.length<=2&&!M(N[1].params),ye=N[2]&&N[2].params.length<=2&&!M(N[2].params),_e=N[3]&&N[3].params.length<=2&&!M(N[3].params),Re=N[4]&&N[4].params.length<=2&&!M(N[4].params),lt=N[5]&&N[5].params.length<=2&&!M(N[5].params),Jt=Z&&se&&ye&&_e&&Re&&lt;for(let ur=0;ur<N.length;++ur)N[ur].test=k(N[ur].params);let Rr=Z?I(N[0].params[0]):e,$r=se?I(N[1].params[0]):e,Ci=ye?I(N[2].params[0]):e,En=_e?I(N[3].params[0]):e,Ai=Re?I(N[4].params[0]):e,Oa=lt?I(N[5].params[0]):e,sd=Z?I(N[0].params[1]):e,Pr=se?I(N[1].params[1]):e,ka=ye?I(N[2].params[1]):e,Pa=_e?I(N[3].params[1]):e,ua=Re?I(N[4].params[1]):e,Ra=lt?I(N[5].params[1]):e;for(let ur=0;ur<N.length;++ur)N[ur].implementation=re(N[ur].params,N[ur].fn);let La=Z?N[0].implementation:t,O8=se?N[1].implementation:t,k8=ye?N[2].implementation:t,P8=_e?N[3].implementation:t,R8=Re?N[4].implementation:t,L8=lt?N[5].implementation:t,V8=Z?N[0].params.length:-1,U8=se?N[1].params.length:-1,q8=ye?N[2].params.length:-1,z8=_e?N[3].params.length:-1,$8=Re?N[4].params.length:-1,H8=lt?N[5].params.length:-1,W8=Jt?6:0,G8=N.length,j8=N.map(ur=>ur.test),Z8=N.map(ur=>ur.implementation),Y8=function(){for(let In=W8;In<G8;In++)if(j8[In](arguments))return Z8[In].apply(this,arguments);return p.onMismatch(W,arguments,N)};function Ru(ur,In){return arguments.length===V8&&Rr(ur)&&sd(In)?La.apply(this,arguments):arguments.length===U8&&$r(ur)&&Pr(In)?O8.apply(this,arguments):arguments.length===q8&&Ci(ur)&&ka(In)?k8.apply(this,arguments):arguments.length===z8&&En(ur)&&Pa(In)?P8.apply(this,arguments):arguments.length===$8&&Ai(ur)&&ua(In)?R8.apply(this,arguments):arguments.length===H8&&Oa(ur)&&Ra(In)?L8.apply(this,arguments):Y8.apply(this,arguments)}try{Object.defineProperty(Ru,"name",{value:W})}catch(ur){}return Ru.signatures=Me,Ru._typedFunctionData={signatures:N,signatureMap:R},Ru}function Be(W,ne,pe){throw z(W,ne,pe)}function we(W){return H(W,0,W.length-1)}function U(W){return W[W.length-1]}function H(W,ne,pe){return Array.prototype.slice.call(W,ne,pe)}function fe(W,ne){for(let pe=0;pe<W.length;pe++)if(ne(W[pe]))return W[pe]}function $(W,ne){return Array.prototype.concat.apply([],W.map(ne))}function Q(){let W=we(arguments).map(pe=>b(A(pe))),ne=U(arguments);if(typeof ne!="function")throw new TypeError("Callback function expected as last argument");return te(W,ne)}function te(W,ne){return{referTo:{references:W,callback:ne}}}function he(W){if(typeof W!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:W}}}function be(W){return W&&typeof W.referTo=="object"&&Array.isArray(W.referTo.references)&&typeof W.referTo.callback=="function"}function Pe(W){return W&&typeof W.referToSelf=="object"&&typeof W.referToSelf.callback=="function"}function Fe(W,ne){if(!W)return ne;if(ne&&ne!==W){let pe=new Error("Function names do not match (expected: "+W+", actual: "+ne+")");throw pe.data={actual:ne,expected:W},pe}return W}function mt(W){let ne;for(let pe in W)Object.prototype.hasOwnProperty.call(W,pe)&&(w(W[pe])||typeof W[pe].signature=="string")&&(ne=Fe(ne,W[pe].name));return ne}function gt(W,ne){let pe;for(pe in ne)if(Object.prototype.hasOwnProperty.call(ne,pe)){if(pe in W&&ne[pe]!==W[pe]){let Ae=new Error('Signature "'+pe+'" is defined twice');throw Ae.data={signature:pe,sourceFunction:ne[pe],destFunction:W[pe]},Ae}W[pe]=ne[pe]}}let Lt=p;p=function(W){let ne=typeof W=="string",pe=ne?1:0,Ae=ne?W:"",Me={};for(let Se=pe;Se<arguments.length;++Se){let Ne=arguments[Se],Oe={},_;if(typeof Ne=="function"?(_=Ne.name,typeof Ne.signature=="string"?Oe[Ne.signature]=Ne:w(Ne)&&(Oe=Ne.signatures)):o(Ne)&&(Oe=Ne,ne||(_=mt(Ne))),Object.keys(Oe).length===0){let N=new TypeError("Argument to 'typed' at index "+Se+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw N.data={index:Se,argument:Ne},N}ne||(Ae=Fe(Ae,_)),gt(Me,Oe)}return de(Ae||"",Me)},p.create=i,p.createCount=Lt.createCount,p.onMismatch=Be,p.throwMismatchError=Be,p.createError=z,p.clear=d,p.clearConversions=g,p.addTypes=h,p._findType=m,p.referTo=Q,p.referToSelf=he,p.convert=D,p.findSignature=v,p.find=x,p.isTypedFunction=w,p.warnAgainstDeprecatedThis=!0,p.addType=function(W,ne){let pe="any";ne!==!1&&s.has("Object")&&(pe="Object"),p.addTypes([W],pe)};function Yt(W){if(!W||typeof W.from!="string"||typeof W.to!="string"||typeof W.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(W.to===W.from)throw new SyntaxError('Illegal to define conversion from "'+W.from+'" to itself.')}return p.addConversion=function(W){Yt(W);let ne=m(W.to);if(ne.conversionsTo.every(function(pe){return pe.from!==W.from}))ne.conversionsTo.push({from:W.from,convert:W.convert,index:f++});else throw new Error('There is already a conversion from "'+W.from+'" to "'+ne.name+'"')},p.addConversions=function(W){W.forEach(p.addConversion)},p.removeConversion=function(W){Yt(W);let ne=m(W.to),pe=fe(ne.conversionsTo,Me=>Me.from===W.from);if(!pe)throw new Error("Attempt to remove nonexistent conversion from "+W.from+" to "+W.to);if(pe.convert!==W.convert)throw new Error("Conversion to remove does not match existing conversion");let Ae=ne.conversionsTo.indexOf(pe);ne.conversionsTo.splice(Ae,1)},p.resolve=function(W,ne){if(!w(W))throw new TypeError(n);let pe=W._typedFunctionData.signatures;for(let Ae=0;Ae<pe.length;++Ae)if(pe[Ae].test(ne))return pe[Ae];return null},p}var a=i();return a})});var gF=Lr((Qh,hF)=>{(function(r){"use strict";var e=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},t=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},n=function(s){var c=Math.PI/4;if(-c>s||s>c)return Math.cos(s)-1;var f=s*s;return f*(f*(f*(f*(f*(f*(f*(f/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},i=function(s,c){var f=Math.abs(s),p=Math.abs(c);return f<3e3&&p<3e3?Math.sqrt(f*f+p*p):(f<p?(f=p,p=s/c):p=c/s,f*Math.sqrt(1+p*p))},a=function(){throw SyntaxError("Invalid Param")};function o(s,c){var f=Math.abs(s),p=Math.abs(c);return s===0?Math.log(p):c===0?Math.log(f):f<3e3&&p<3e3?Math.log(s*s+c*c)*.5:(s=s/2,c=c/2,.5*Math.log(s*s+c*c)+Math.LN2)}var l=function(s,c){var f={re:0,im:0};if(s==null)f.re=f.im=0;else if(c!==void 0)f.re=s,f.im=c;else switch(typeof s){case"object":if("im"in s&&"re"in s)f.re=s.re,f.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return u.INFINITY;f.re=s.abs*Math.cos(s.arg),f.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return u.INFINITY;f.re=s.r*Math.cos(s.phi),f.im=s.r*Math.sin(s.phi)}else s.length===2?(f.re=s[0],f.im=s[1]):a();break;case"string":f.im=f.re=0;var p=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,h=0;p===null&&a();for(var d=0;d<p.length;d++){var g=p[d];g===" "||g==="	"||g===`
`||(g==="+"?m++:g==="-"?h++:g==="i"||g==="I"?(m+h===0&&a(),p[d+1]!==" "&&!isNaN(p[d+1])?(f.im+=parseFloat((h%2?"-":"")+p[d+1]),d++):f.im+=parseFloat((h%2?"-":"")+"1"),m=h=0):((m+h===0||isNaN(g))&&a(),p[d+1]==="i"||p[d+1]==="I"?(f.im+=parseFloat((h%2?"-":"")+g),d++):f.re+=parseFloat((h%2?"-":"")+g),m=h=0))}m+h>0&&a();break;case"number":f.im=0,f.re=s;break;default:a()}return isNaN(f.re)||isNaN(f.im),f};function u(s,c){if(!(this instanceof u))return new u(s,c);var f=l(s,c);this.re=f.re,this.im=f.im}u.prototype={re:0,im:0,sign:function(){var s=this.abs();return new u(this.re/s,this.im/s)},add:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re+f.re,this.im+f.im)},sub:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:new u(this.re-f.re,this.im-f.im)},mul:function(s,c){var f=new u(s,c);return this.isInfinite()&&f.isZero()||this.isZero()&&f.isInfinite()?u.NAN:this.isInfinite()||f.isInfinite()?u.INFINITY:f.im===0&&this.im===0?new u(this.re*f.re,0):new u(this.re*f.re-this.im*f.im,this.re*f.im+this.im*f.re)},div:function(s,c){var f=new u(s,c);if(this.isZero()&&f.isZero()||this.isInfinite()&&f.isInfinite())return u.NAN;if(this.isInfinite()||f.isZero())return u.INFINITY;if(this.isZero()||f.isInfinite())return u.ZERO;s=this.re,c=this.im;var p=f.re,m=f.im,h,d;return m===0?new u(s/p,c/p):Math.abs(p)<Math.abs(m)?(d=p/m,h=p*d+m,new u((s*d+c)/h,(c*d-s)/h)):(d=m/p,h=m*d+p,new u((s+c*d)/h,(c-s*d)/h))},pow:function(s,c){var f=new u(s,c);if(s=this.re,c=this.im,f.isZero())return u.ONE;if(f.im===0){if(c===0&&s>0)return new u(Math.pow(s,f.re),0);if(s===0)switch((f.re%4+4)%4){case 0:return new u(Math.pow(c,f.re),0);case 1:return new u(0,Math.pow(c,f.re));case 2:return new u(-Math.pow(c,f.re),0);case 3:return new u(0,-Math.pow(c,f.re))}}if(s===0&&c===0&&f.re>0&&f.im>=0)return u.ZERO;var p=Math.atan2(c,s),m=o(s,c);return s=Math.exp(f.re*m-f.im*p),c=f.im*m+f.re*p,new u(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){var s=this.re,c=this.im,f=this.abs(),p,m;if(s>=0){if(c===0)return new u(Math.sqrt(s),0);p=.5*Math.sqrt(2*(f+s))}else p=Math.abs(c)/Math.sqrt(2*(f-s));return s<=0?m=.5*Math.sqrt(2*(f-s)):m=Math.abs(c)/Math.sqrt(2*(f+s)),new u(p,c<0?-m:m)},exp:function(){var s=Math.exp(this.re);return this.im,new u(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,c=this.im;return new u(Math.expm1(s)*Math.cos(c)+n(c),Math.exp(s)*Math.sin(c))},log:function(){var s=this.re,c=this.im;return c===0&&s>0,new u(o(s,c),Math.atan2(c,s))},abs:function(){return i(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,c=this.im;return new u(Math.sin(s)*e(c),Math.cos(s)*t(c))},cos:function(){var s=this.re,c=this.im;return new u(Math.cos(s)*e(c),-Math.sin(s)*t(c))},tan:function(){var s=2*this.re,c=2*this.im,f=Math.cos(s)+e(c);return new u(Math.sin(s)/f,t(c)/f)},cot:function(){var s=2*this.re,c=2*this.im,f=Math.cos(s)-e(c);return new u(-Math.sin(s)/f,t(c)/f)},sec:function(){var s=this.re,c=this.im,f=.5*e(2*c)+.5*Math.cos(2*s);return new u(Math.cos(s)*e(c)/f,Math.sin(s)*t(c)/f)},csc:function(){var s=this.re,c=this.im,f=.5*e(2*c)-.5*Math.cos(2*s);return new u(Math.sin(s)*e(c)/f,-Math.cos(s)*t(c)/f)},asin:function(){var s=this.re,c=this.im,f=new u(c*c-s*s+1,-2*s*c).sqrt(),p=new u(f.re-c,f.im+s).log();return new u(p.im,-p.re)},acos:function(){var s=this.re,c=this.im,f=new u(c*c-s*s+1,-2*s*c).sqrt(),p=new u(f.re-c,f.im+s).log();return new u(Math.PI/2-p.im,p.re)},atan:function(){var s=this.re,c=this.im;if(s===0){if(c===1)return new u(0,1/0);if(c===-1)return new u(0,-1/0)}var f=s*s+(1-c)*(1-c),p=new u((1-c*c-s*s)/f,-2*s/f).log();return new u(-.5*p.im,.5*p.re)},acot:function(){var s=this.re,c=this.im;if(c===0)return new u(Math.atan2(1,s),0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).atan():new u(s!==0?s/0:0,c!==0?-c/0:0).atan()},asec:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(0,1/0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).acos():new u(s!==0?s/0:0,c!==0?-c/0:0).acos()},acsc:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(Math.PI/2,1/0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).asin():new u(s!==0?s/0:0,c!==0?-c/0:0).asin()},sinh:function(){var s=this.re,c=this.im;return new u(t(s)*Math.cos(c),e(s)*Math.sin(c))},cosh:function(){var s=this.re,c=this.im;return new u(e(s)*Math.cos(c),t(s)*Math.sin(c))},tanh:function(){var s=2*this.re,c=2*this.im,f=e(s)+Math.cos(c);return new u(t(s)/f,Math.sin(c)/f)},coth:function(){var s=2*this.re,c=2*this.im,f=e(s)-Math.cos(c);return new u(t(s)/f,-Math.sin(c)/f)},csch:function(){var s=this.re,c=this.im,f=Math.cos(2*c)-e(2*s);return new u(-2*t(s)*Math.cos(c)/f,2*e(s)*Math.sin(c)/f)},sech:function(){var s=this.re,c=this.im,f=Math.cos(2*c)+e(2*s);return new u(2*e(s)*Math.cos(c)/f,-2*t(s)*Math.sin(c)/f)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var c=this.asin();return this.re=-this.im,this.im=s,s=c.re,c.re=-c.im,c.im=s,c},acosh:function(){var s=this.acos();if(s.im<=0){var c=s.re;s.re=-s.im,s.im=c}else{var c=s.im;s.im=-s.re,s.re=c}return s},atanh:function(){var s=this.re,c=this.im,f=s>1&&c===0,p=1-s,m=1+s,h=p*p+c*c,d=h!==0?new u((m*p-c*c)/h,(c*p+m*c)/h):new u(s!==-1?s/0:0,c!==0?c/0:0),g=d.re;return d.re=o(d.re,d.im)/2,d.im=Math.atan2(d.im,g)/2,f&&(d.im=-d.im),d},acoth:function(){var s=this.re,c=this.im;if(s===0&&c===0)return new u(0,Math.PI/2);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).atanh():new u(s!==0?s/0:0,c!==0?-c/0:0).atanh()},acsch:function(){var s=this.re,c=this.im;if(c===0)return new u(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var f=s*s+c*c;return f!==0?new u(s/f,-c/f).asinh():new u(s!==0?s/0:0,c!==0?-c/0:0).asinh()},asech:function(){var s=this.re,c=this.im;if(this.isZero())return u.INFINITY;var f=s*s+c*c;return f!==0?new u(s/f,-c/f).acosh():new u(s!==0?s/0:0,c!==0?-c/0:0).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var s=this.re,c=this.im,f=s*s+c*c;return new u(s/f,-c/f)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new u(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new u(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new u(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,c){var f=new u(s,c);return Math.abs(f.re-this.re)<=u.EPSILON&&Math.abs(f.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var s=this.re,c=this.im,f="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<u.EPSILON&&(s=0),Math.abs(c)<u.EPSILON&&(c=0),c===0?f+s:(s!==0?(f+=s,f+=" ",c<0?(c=-c,f+="-"):f+="+",f+=" "):c<0&&(c=-c,f+="-"),c!==1&&(f+=c),f+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-15,typeof define=="function"&&define.amd?define([],function(){return u}):typeof Qh=="object"?(Object.defineProperty(u,"__esModule",{value:!0}),u.default=u,u.Complex=u,hF.exports=u):r.Complex=u})(Qh)});var yF=Lr((eg,vF)=>{(function(r){"use strict";var e=2e3,t={s:1,n:0,d:1};function n(d,g){if(isNaN(d=parseInt(d,10)))throw m();return d*g}function i(d,g){if(g===0)throw p();var y=Object.create(f.prototype);y.s=d<0?-1:1,d=d<0?-d:d;var w=c(d,g);return y.n=d/w,y.d=g/w,y}function a(d){for(var g={},y=d,w=2,v=4;v<=y;){for(;y%w===0;)y/=w,g[w]=(g[w]||0)+1;v+=1+2*w++}return y!==d?y>1&&(g[y]=(g[y]||0)+1):g[d]=(g[d]||0)+1,g}var o=function(d,g){var y=0,w=1,v=1,x=0,D=0,b=0,C=1,S=1,E=0,A=1,M=1,I=1,k=1e7,L;if(d!=null)if(g!==void 0){if(y=d,w=g,v=y*w,y%1!==0||w%1!==0)throw h()}else switch(typeof d){case"object":{if("d"in d&&"n"in d)y=d.n,w=d.d,"s"in d&&(y*=d.s);else if(0 in d)y=d[0],1 in d&&(w=d[1]);else throw m();v=y*w;break}case"number":{if(d<0&&(v=d,d=-d),d%1===0)y=d;else if(d>0){for(d>=1&&(S=Math.pow(10,Math.floor(1+Math.log(d)/Math.LN10)),d/=S);A<=k&&I<=k;)if(L=(E+M)/(A+I),d===L){A+I<=k?(y=E+M,w=A+I):I>A?(y=M,w=I):(y=E,w=A);break}else d>L?(E+=M,A+=I):(M+=E,I+=A),A>k?(y=M,w=I):(y=E,w=A);y*=S}else(isNaN(d)||isNaN(g))&&(w=y=NaN);break}case"string":{if(A=d.match(/\d+|./g),A===null)throw m();if(A[E]==="-"?(v=-1,E++):A[E]==="+"&&E++,A.length===E+1?D=n(A[E++],v):A[E+1]==="."||A[E]==="."?(A[E]!=="."&&(x=n(A[E++],v)),E++,(E+1===A.length||A[E+1]==="("&&A[E+3]===")"||A[E+1]==="'"&&A[E+3]==="'")&&(D=n(A[E],v),C=Math.pow(10,A[E].length),E++),(A[E]==="("&&A[E+2]===")"||A[E]==="'"&&A[E+2]==="'")&&(b=n(A[E+1],v),S=Math.pow(10,A[E+1].length)-1,E+=3)):A[E+1]==="/"||A[E+1]===":"?(D=n(A[E],v),C=n(A[E+2],1),E+=3):A[E+3]==="/"&&A[E+1]===" "&&(x=n(A[E],v),D=n(A[E+2],v),C=n(A[E+4],1),E+=5),A.length<=E){w=C*S,v=y=b+w*x+S*D;break}}default:throw m()}if(w===0)throw p();t.s=v<0?-1:1,t.n=Math.abs(y),t.d=Math.abs(w)};function l(d,g,y){for(var w=1;g>0;d=d*d%y,g>>=1)g&1&&(w=w*d%y);return w}function u(d,g){for(;g%2===0;g/=2);for(;g%5===0;g/=5);if(g===1)return 0;for(var y=10%g,w=1;y!==1;w++)if(y=y*10%g,w>e)return 0;return w}function s(d,g,y){for(var w=1,v=l(10,y,g),x=0;x<300;x++){if(w===v)return x;w=w*10%g,v=v*10%g}return 0}function c(d,g){if(!d)return g;if(!g)return d;for(;;){if(d%=g,!d)return g;if(g%=d,!g)return d}}function f(d,g){if(o(d,g),this instanceof f)d=c(t.d,t.n),this.s=t.s,this.n=t.n/d,this.d=t.d/d;else return i(t.s*t.n,t.d)}var p=function(){return new Error("Division by Zero")},m=function(){return new Error("Invalid argument")},h=function(){return new Error("Parameters must be integer")};f.prototype={s:1,n:0,d:1,abs:function(){return i(this.n,this.d)},neg:function(){return i(-this.s*this.n,this.d)},add:function(d,g){return o(d,g),i(this.s*this.n*t.d+t.s*this.d*t.n,this.d*t.d)},sub:function(d,g){return o(d,g),i(this.s*this.n*t.d-t.s*this.d*t.n,this.d*t.d)},mul:function(d,g){return o(d,g),i(this.s*t.s*this.n*t.n,this.d*t.d)},div:function(d,g){return o(d,g),i(this.s*t.s*this.n*t.d,this.d*t.n)},clone:function(){return i(this.s*this.n,this.d)},mod:function(d,g){if(isNaN(this.n)||isNaN(this.d))return new f(NaN);if(d===void 0)return i(this.s*this.n%this.d,1);if(o(d,g),t.n===0&&this.d===0)throw p();return i(this.s*(t.d*this.n)%(t.n*this.d),t.d*this.d)},gcd:function(d,g){return o(d,g),i(c(t.n,this.n)*c(t.d,this.d),t.d*this.d)},lcm:function(d,g){return o(d,g),t.n===0&&this.n===0?i(0,1):i(t.n*this.n,c(t.n,this.n)*c(t.d,this.d))},ceil:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.ceil(d*this.s*this.n/this.d),d)},floor:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.floor(d*this.s*this.n/this.d),d)},round:function(d){return d=Math.pow(10,d||0),isNaN(this.n)||isNaN(this.d)?new f(NaN):i(Math.round(d*this.s*this.n/this.d),d)},inverse:function(){return i(this.s*this.d,this.n)},pow:function(d,g){if(o(d,g),t.d===1)return t.s<0?i(Math.pow(this.s*this.d,t.n),Math.pow(this.n,t.n)):i(Math.pow(this.s*this.n,t.n),Math.pow(this.d,t.n));if(this.s<0)return null;var y=a(this.n),w=a(this.d),v=1,x=1;for(var D in y)if(D!=="1"){if(D==="0"){v=0;break}if(y[D]*=t.n,y[D]%t.d===0)y[D]/=t.d;else return null;v*=Math.pow(D,y[D])}for(var D in w)if(D!=="1"){if(w[D]*=t.n,w[D]%t.d===0)w[D]/=t.d;else return null;x*=Math.pow(D,w[D])}return t.s<0?i(x,v):i(v,x)},equals:function(d,g){return o(d,g),this.s*this.n*t.d===t.s*t.n*this.d},compare:function(d,g){o(d,g);var y=this.s*this.n*t.d-t.s*t.n*this.d;return(0<y)-(y<0)},simplify:function(d){if(isNaN(this.n)||isNaN(this.d))return this;d=d||.001;for(var g=this.abs(),y=g.toContinued(),w=1;w<y.length;w++){for(var v=i(y[w-1],1),x=w-2;x>=0;x--)v=v.inverse().add(y[x]);if(Math.abs(v.sub(g).valueOf())<d)return v.mul(this.s)}return this},divisible:function(d,g){return o(d,g),!(!(t.n*this.d)||this.n*t.d%(t.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(d){var g,y="",w=this.n,v=this.d;return this.s<0&&(y+="-"),v===1?y+=w:(d&&(g=Math.floor(w/v))>0&&(y+=g,y+=" ",w%=v),y+=w,y+="/",y+=v),y},toLatex:function(d){var g,y="",w=this.n,v=this.d;return this.s<0&&(y+="-"),v===1?y+=w:(d&&(g=Math.floor(w/v))>0&&(y+=g,w%=v),y+="\\frac{",y+=w,y+="}{",y+=v,y+="}"),y},toContinued:function(){var d,g=this.n,y=this.d,w=[];if(isNaN(g)||isNaN(y))return w;do w.push(Math.floor(g/y)),d=g%y,g=y,y=d;while(g!==1);return w},toString:function(d){var g=this.n,y=this.d;if(isNaN(g)||isNaN(y))return"NaN";d=d||15;var w=u(g,y),v=s(g,y,w),x=this.s<0?"-":"";if(x+=g/y|0,g%=y,g*=10,g&&(x+="."),w){for(var D=v;D--;)x+=g/y|0,g%=y,g*=10;x+="(";for(var D=w;D--;)x+=g/y|0,g%=y,g*=10;x+=")"}else for(var D=d;g&&D--;)x+=g/y|0,g%=y,g*=10;return x}},typeof eg=="object"?(Object.defineProperty(f,"__esModule",{value:!0}),f.default=f,f.Fraction=f,vF.exports=f):r.Fraction=f})(eg)});var B_=Lr((i1e,I_)=>{I_.exports=function r(e,t){"use strict";var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,a=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,o=/^0x[0-9a-f]+$/i,l=/^0/,u=function(v){return r.insensitive&&(""+v).toLowerCase()||""+v},s=u(e).replace(i,"")||"",c=u(t).replace(i,"")||"",f=s.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(s.match(o),16)||f.length!==1&&s.match(a)&&Date.parse(s),h=parseInt(c.match(o),16)||m&&c.match(a)&&Date.parse(c)||null,d,g;if(h){if(m<h)return-1;if(m>h)return 1}for(var y=0,w=Math.max(f.length,p.length);y<w;y++){if(d=!(f[y]||"").match(l)&&parseFloat(f[y])||f[y]||0,g=!(p[y]||"").match(l)&&parseFloat(p[y])||p[y]||0,isNaN(d)!==isNaN(g))return isNaN(d)?1:-1;if(typeof d!=typeof g&&(d+="",g+=""),d<g)return-1;if(d>g)return 1}return 0}});var P2=Lr((DAe,k2)=>{"use strict";var Sx=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},XW={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},QW={"\u2013":"\\--","\u2014":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},KW=function(e,t){return Sx({},e,t)};k2.exports=function(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.preserveFormatting,n=t===void 0?!1:t,i=e.escapeMapFn,a=i===void 0?KW:i,o=String(r),l="",u=a(Sx({},XW),n?Sx({},QW):{}),s=Object.keys(u),c=function(){var p=!1;s.forEach(function(m,h){p||o.length>=m.length&&o.slice(0,m.length)===m&&(l+=u[s[h]],o=o.slice(m.length,o.length),p=!0)}),p||(l+=o.slice(0,1),o=o.slice(1,o.length))};o;)c();return l}});var pO=Lr((fO,Fb)=>{(function(r,e,t){function n(l){var u=this,s=o();u.next=function(){var c=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=c-(u.c=c|0)},u.c=1,u.s0=s(" "),u.s1=s(" "),u.s2=s(" "),u.s0-=s(l),u.s0<0&&(u.s0+=1),u.s1-=s(l),u.s1<0&&(u.s1+=1),u.s2-=s(l),u.s2<0&&(u.s2+=1),s=null}function i(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var s=new n(l),c=u&&u.state,f=s.next;return f.int32=function(){return s.next()*4294967296|0},f.double=function(){return f()+(f()*2097152|0)*11102230246251565e-32},f.quick=f,c&&(typeof c=="object"&&i(c,s),f.state=function(){return i(s,{})}),f}function o(){var l=4022871197,u=function(s){s=String(s);for(var c=0;c<s.length;c++){l+=s.charCodeAt(c);var f=.02519603282416938*l;l=f>>>0,f-=l,f*=l,l=f>>>0,f-=l,l+=f*4294967296}return(l>>>0)*23283064365386963e-26};return u}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.alea=a})(fO,typeof Fb=="object"&&Fb,typeof define=="function"&&define)});var dO=Lr((mO,Nb)=>{(function(r,e,t){function n(o){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var c=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^c^c>>>8},o===(o|0)?l.x=o:u+=o;for(var s=0;s<u.length+64;s++)l.x^=u.charCodeAt(s)|0,l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor128=a})(mO,typeof Nb=="object"&&Nb,typeof define=="function"&&define)});var gO=Lr((hO,_b)=>{(function(r,e,t){function n(o){var l=this,u="";l.next=function(){var c=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(c^c<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:u+=o;for(var s=0;s<u.length+64;s++)l.x^=u.charCodeAt(s)|0,s==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorwow=a})(hO,typeof _b=="object"&&_b,typeof define=="function"&&define)});var yO=Lr((vO,Mb)=>{(function(r,e,t){function n(o){var l=this;l.next=function(){var s=l.x,c=l.i,f,p,m;return f=s[c],f^=f>>>7,p=f^f<<24,f=s[c+1&7],p^=f^f>>>10,f=s[c+3&7],p^=f^f>>>3,f=s[c+4&7],p^=f^f<<7,f=s[c+7&7],f=f^f<<13,p^=f^f<<9,s[c]=p,l.i=c+1&7,p};function u(s,c){var f,p,m=[];if(c===(c|0))p=m[0]=c;else for(c=""+c,f=0;f<c.length;++f)m[f&7]=m[f&7]<<15^c.charCodeAt(f)+m[f+1&7]<<13;for(;m.length<8;)m.push(0);for(f=0;f<8&&m[f]===0;++f);for(f==8?p=m[7]=-1:p=m[f],s.x=m,s.i=0,f=256;f>0;--f)s.next()}u(l,o)}function i(o,l){return l.x=o.x.slice(),l.i=o.i,l}function a(o,l){o==null&&(o=+new Date);var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=u.next,c.quick=c,s&&(s.x&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xorshift7=a})(vO,typeof Mb=="object"&&Mb,typeof define=="function"&&define)});var bO=Lr((xO,Tb)=>{(function(r,e,t){function n(o){var l=this;l.next=function(){var s=l.w,c=l.X,f=l.i,p,m;return l.w=s=s+1640531527|0,m=c[f+34&127],p=c[f=f+1&127],m^=m<<13,p^=p<<17,m^=m>>>15,p^=p>>>12,m=c[f]=m^p,l.i=f,m+(s^s>>>16)|0};function u(s,c){var f,p,m,h,d,g=[],y=128;for(c===(c|0)?(p=c,c=null):(c=c+"\0",p=0,y=Math.max(y,c.length)),m=0,h=-32;h<y;++h)c&&(p^=c.charCodeAt((h+32)%c.length)),h===0&&(d=p),p^=p<<10,p^=p>>>15,p^=p<<4,p^=p>>>13,h>=0&&(d=d+1640531527|0,f=g[h&127]^=p+d,m=f==0?m+1:0);for(m>=128&&(g[(c&&c.length||0)&127]=-1),m=127,h=4*128;h>0;--h)p=g[m+34&127],f=g[m=m+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,g[m]=p^f;s.w=d,s.X=g,s.i=m}u(l,o)}function i(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function a(o,l){o==null&&(o=+new Date);var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=u.next,c.quick=c,s&&(s.X&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.xor4096=a})(xO,typeof Tb=="object"&&Tb,typeof define=="function"&&define)});var wO=Lr((DO,Ib)=>{(function(r,e,t){function n(o){var l=this,u="";l.next=function(){var c=l.b,f=l.c,p=l.d,m=l.a;return c=c<<25^c>>>7^f,f=f-p|0,p=p<<24^p>>>8^m,m=m-c|0,l.b=c=c<<20^c>>>12^f,l.c=f=f-p|0,l.d=p<<16^f>>>16^m,l.a=m-c|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):u+=o;for(var s=0;s<u.length+20;s++)l.b^=u.charCodeAt(s)|0,l.next()}function i(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function a(o,l){var u=new n(o),s=l&&l.state,c=function(){return(u.next()>>>0)/4294967296};return c.double=function(){do var f=u.next()>>>11,p=(u.next()>>>0)/4294967296,m=(f+p)/(1<<21);while(m===0);return m},c.int32=u.next,c.quick=c,s&&(typeof s=="object"&&i(s,u),c.state=function(){return i(u,{})}),c}e&&e.exports?e.exports=a:t&&t.amd?t(function(){return a}):this.tychei=a})(DO,typeof Ib=="object"&&Ib,typeof define=="function"&&define)});var CO=Lr((EO,tm)=>{(function(r,e,t){var n=256,i=6,a=52,o="random",l=t.pow(n,i),u=t.pow(2,a),s=u*2,c=n-1,f;function p(v,x,D){var b=[];x=x==!0?{entropy:!0}:x||{};var C=g(d(x.entropy?[v,w(e)]:v==null?y():v,3),b),S=new m(b),E=function(){for(var A=S.g(i),M=l,I=0;A<u;)A=(A+I)*n,M*=n,I=S.g(1);for(;A>=s;)A/=2,M/=2,I>>>=1;return(A+I)/M};return E.int32=function(){return S.g(4)|0},E.quick=function(){return S.g(4)/4294967296},E.double=E,g(w(S.S),e),(x.pass||D||function(A,M,I,k){return k&&(k.S&&h(k,S),A.state=function(){return h(S,{})}),I?(t[o]=A,M):A})(E,C,"global"in x?x.global:this==t,x.state)}function m(v){var x,D=v.length,b=this,C=0,S=b.i=b.j=0,E=b.S=[];for(D||(v=[D++]);C<n;)E[C]=C++;for(C=0;C<n;C++)E[C]=E[S=c&S+v[C%D]+(x=E[C])],E[S]=x;(b.g=function(A){for(var M,I=0,k=b.i,L=b.j,P=b.S;A--;)M=P[k=c&k+1],I=I*n+P[c&(P[k]=P[L=c&L+M])+(P[L]=M)];return b.i=k,b.j=L,I})(n)}function h(v,x){return x.i=v.i,x.j=v.j,x.S=v.S.slice(),x}function d(v,x){var D=[],b=typeof v,C;if(x&&b=="object")for(C in v)try{D.push(d(v[C],x-1))}catch(S){}return D.length?D:b=="string"?v:v+"\0"}function g(v,x){for(var D=v+"",b,C=0;C<D.length;)x[c&C]=c&(b^=x[c&C]*19)+D.charCodeAt(C++);return w(x)}function y(){try{var v;return f&&(v=f.randomBytes)?v=v(n):(v=new Uint8Array(n),(r.crypto||r.msCrypto).getRandomValues(v)),w(v)}catch(b){var x=r.navigator,D=x&&x.plugins;return[+new Date,r,D,r.screen,w(e)]}}function w(v){return String.fromCharCode.apply(0,v)}if(g(t.random(),e),typeof tm=="object"&&tm.exports){tm.exports=p;try{f=require("crypto")}catch(v){}}else typeof define=="function"&&define.amd?define(function(){return p}):t["seed"+o]=p})(typeof self!="undefined"?self:EO,[],Math)});var SO=Lr((VRe,AO)=>{var gj=pO(),vj=dO(),yj=gO(),xj=yO(),bj=bO(),Dj=wO(),us=CO();us.alea=gj;us.xor128=vj;us.xorwow=yj;us.xorshift7=xj;us.xor4096=bj;us.tychei=Dj;AO.exports=us});var c8=Lr(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});require("obsidian");var Ta=class extends Error{},Uw=class extends Ta{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}},qw=class extends Ta{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}},zw=class extends Ta{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}},gs=class extends Ta{},$m=class extends Ta{constructor(e){super(`Invalid unit ${e}`)}},$n=class extends Ta{},aa=class extends Ta{constructor(){super("Zone is an abstract class")}},Ye="numeric",Wi="short",oi="long",Hm={year:Ye,month:Ye,day:Ye},fL={year:Ye,month:Wi,day:Ye},WZ={year:Ye,month:Wi,day:Ye,weekday:Wi},pL={year:Ye,month:oi,day:Ye},mL={year:Ye,month:oi,day:Ye,weekday:oi},dL={hour:Ye,minute:Ye},hL={hour:Ye,minute:Ye,second:Ye},gL={hour:Ye,minute:Ye,second:Ye,timeZoneName:Wi},vL={hour:Ye,minute:Ye,second:Ye,timeZoneName:oi},yL={hour:Ye,minute:Ye,hourCycle:"h23"},xL={hour:Ye,minute:Ye,second:Ye,hourCycle:"h23"},bL={hour:Ye,minute:Ye,second:Ye,hourCycle:"h23",timeZoneName:Wi},DL={hour:Ye,minute:Ye,second:Ye,hourCycle:"h23",timeZoneName:oi},wL={year:Ye,month:Ye,day:Ye,hour:Ye,minute:Ye},EL={year:Ye,month:Ye,day:Ye,hour:Ye,minute:Ye,second:Ye},CL={year:Ye,month:Wi,day:Ye,hour:Ye,minute:Ye},AL={year:Ye,month:Wi,day:Ye,hour:Ye,minute:Ye,second:Ye},GZ={year:Ye,month:Wi,day:Ye,weekday:Wi,hour:Ye,minute:Ye},SL={year:Ye,month:oi,day:Ye,hour:Ye,minute:Ye,timeZoneName:Wi},FL={year:Ye,month:oi,day:Ye,hour:Ye,minute:Ye,second:Ye,timeZoneName:Wi},NL={year:Ye,month:oi,day:Ye,weekday:oi,hour:Ye,minute:Ye,timeZoneName:oi},_L={year:Ye,month:oi,day:Ye,weekday:oi,hour:Ye,minute:Ye,second:Ye,timeZoneName:oi},ys=class{get type(){throw new aa}get name(){throw new aa}get ianaName(){return this.name}get isUniversal(){throw new aa}offsetName(e,t){throw new aa}formatOffset(e,t){throw new aa}offset(e){throw new aa}equals(e){throw new aa}get isValid(){throw new aa}},Iw=null,Wm=class r extends ys{static get instance(){return Iw===null&&(Iw=new r),Iw}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return TL(e,t,n)}formatOffset(e,t){return Kl(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}},qm={};function jZ(r){return qm[r]||(qm[r]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:r,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),qm[r]}var ZZ={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function YZ(r,e){let t=r.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,a,o,l,u,s,c]=n;return[o,i,a,l,u,s,c]}function JZ(r,e){let t=r.formatToParts(e),n=[];for(let i=0;i<t.length;i++){let{type:a,value:o}=t[i],l=ZZ[a];a==="era"?n[l]=o:Zt(l)||(n[l]=parseInt(o,10))}return n}var Rm={},Ao=class r extends ys{static create(e){return Rm[e]||(Rm[e]=new r(e)),Rm[e]}static resetCache(){Rm={},qm={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=r.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:n}){return TL(e,t,n,this.name)}formatOffset(e,t){return Kl(this.offset(e),t)}offset(e){let t=new Date(e);if(isNaN(t))return NaN;let n=jZ(this.name),[i,a,o,l,u,s,c]=n.formatToParts?JZ(n,t):YZ(n,t);l==="BC"&&(i=-Math.abs(i)+1);let p=uE({year:i,month:a,day:o,hour:u===24?0:u,minute:s,second:c,millisecond:0}),m=+t,h=m%1e3;return m-=h>=0?h:1e3+h,(p-m)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}},P4={};function XZ(r,e={}){let t=JSON.stringify([r,e]),n=P4[t];return n||(n=new Intl.ListFormat(r,e),P4[t]=n),n}var $w={};function Hw(r,e={}){let t=JSON.stringify([r,e]),n=$w[t];return n||(n=new Intl.DateTimeFormat(r,e),$w[t]=n),n}var Ww={};function QZ(r,e={}){let t=JSON.stringify([r,e]),n=Ww[t];return n||(n=new Intl.NumberFormat(r,e),Ww[t]=n),n}var Gw={};function KZ(r,e={}){let{base:t,...n}=e,i=JSON.stringify([r,n]),a=Gw[i];return a||(a=new Intl.RelativeTimeFormat(r,e),Gw[i]=a),a}var Xl=null;function eY(){return Xl||(Xl=new Intl.DateTimeFormat().resolvedOptions().locale,Xl)}function tY(r){let e=r.indexOf("-x-");e!==-1&&(r=r.substring(0,e));let t=r.indexOf("-u-");if(t===-1)return[r];{let n,i;try{n=Hw(r).resolvedOptions(),i=r}catch(l){let u=r.substring(0,t);n=Hw(u).resolvedOptions(),i=u}let{numberingSystem:a,calendar:o}=n;return[i,a,o]}}function rY(r,e,t){return(t||e)&&(r.includes("-u-")||(r+="-u"),t&&(r+=`-ca-${t}`),e&&(r+=`-nu-${e}`)),r}function nY(r){let e=[];for(let t=1;t<=12;t++){let n=Rt.utc(2016,t,1);e.push(r(n))}return e}function iY(r){let e=[];for(let t=1;t<=7;t++){let n=Rt.utc(2016,11,13+t);e.push(r(n))}return e}function Lm(r,e,t,n,i){let a=r.listingMode(t);return a==="error"?null:a==="en"?n(e):i(e)}function aY(r){return r.numberingSystem&&r.numberingSystem!=="latn"?!1:r.numberingSystem==="latn"||!r.locale||r.locale.startsWith("en")||new Intl.DateTimeFormat(r.intl).resolvedOptions().numberingSystem==="latn"}var jw=class{constructor(e,t,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:i,floor:a,...o}=n;if(!t||Object.keys(o).length>0){let l={useGrouping:!1,...n};n.padTo>0&&(l.minimumIntegerDigits=n.padTo),this.inf=QZ(e,l)}}format(e){if(this.inf){let t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{let t=this.floor?Math.floor(e):sE(e,3);return zr(t,this.padTo)}}},Zw=class{constructor(e,t,n){this.opts=n;let i;if(e.zone.isUniversal){let o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Ao.create(l).valid?(i=l,this.dt=e):(i="UTC",n.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Rt.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);let a={...this.opts};a.timeZone=a.timeZone||i,this.dtf=Hw(t,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},Yw=class{constructor(e,t,n){this.opts={style:"long",...n},!t&&ML()&&(this.rtf=KZ(e,n))}format(e,t){return this.rtf?this.rtf.format(e,t):DY(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}},kr=class r{static fromOpts(e){return r.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,n,i=!1){let a=e||Or.defaultLocale,o=a||(i?"en-US":eY()),l=t||Or.defaultNumberingSystem,u=n||Or.defaultOutputCalendar;return new r(o,l,u,a)}static resetCache(){Xl=null,$w={},Ww={},Gw={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:n}={}){return r.create(e,t,n)}constructor(e,t,n,i){let[a,o,l]=tY(e);this.locale=a,this.numberingSystem=t||o||null,this.outputCalendar=n||l||null,this.intl=rY(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=aY(this)),this.fastNumbersCached}listingMode(){let e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:r.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1,n=!0){return Lm(this,e,n,OL,()=>{let i=t?{month:e,day:"numeric"}:{month:e},a=t?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=nY(o=>this.extract(o,i,"month"))),this.monthsCache[a][e]})}weekdays(e,t=!1,n=!0){return Lm(this,e,n,RL,()=>{let i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=t?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=iY(o=>this.extract(o,i,"weekday"))),this.weekdaysCache[a][e]})}meridiems(e=!0){return Lm(this,void 0,e,()=>LL,()=>{if(!this.meridiemCache){let t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Rt.utc(2016,11,13,9),Rt.utc(2016,11,13,19)].map(n=>this.extract(n,t,"dayperiod"))}return this.meridiemCache})}eras(e,t=!0){return Lm(this,e,t,VL,()=>{let n={era:e};return this.eraCache[e]||(this.eraCache[e]=[Rt.utc(-40,1,1),Rt.utc(2017,1,1)].map(i=>this.extract(i,n,"era"))),this.eraCache[e]})}extract(e,t,n){let i=this.dtFormatter(e,t),a=i.formatToParts(),o=a.find(l=>l.type.toLowerCase()===n);return o?o.value:null}numberFormatter(e={}){return new jw(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new Zw(e,this.intl,t)}relFormatter(e={}){return new Yw(this.intl,this.isEnglish(),e)}listFormatter(e={}){return XZ(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}},Bw=null,Ei=class r extends ys{static get utcInstance(){return Bw===null&&(Bw=new r(0)),Bw}static instance(e){return e===0?r.utcInstance:new r(e)}static parseSpecifier(e){if(e){let t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new r(Km(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Kl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Kl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return Kl(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}},Jw=class extends ys{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Co(r,e){if(Zt(r)||r===null)return e;if(r instanceof ys)return r;if(oY(r)){let t=r.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Wm.instance:t==="utc"||t==="gmt"?Ei.utcInstance:Ei.parseSpecifier(t)||Ao.create(r)}else return vs(r)?Ei.instance(r):typeof r=="object"&&r.offset&&typeof r.offset=="number"?r:new Jw(r)}var R4=()=>Date.now(),L4="system",V4=null,U4=null,q4=null,z4=60,$4,Or=class{static get now(){return R4}static set now(e){R4=e}static set defaultZone(e){L4=e}static get defaultZone(){return Co(L4,Wm.instance)}static get defaultLocale(){return V4}static set defaultLocale(e){V4=e}static get defaultNumberingSystem(){return U4}static set defaultNumberingSystem(e){U4=e}static get defaultOutputCalendar(){return q4}static set defaultOutputCalendar(e){q4=e}static get twoDigitCutoffYear(){return z4}static set twoDigitCutoffYear(e){z4=e%100}static get throwOnInvalid(){return $4}static set throwOnInvalid(e){$4=e}static resetCaches(){kr.resetCache(),Ao.resetCache()}};function Zt(r){return typeof r=="undefined"}function vs(r){return typeof r=="number"}function Qm(r){return typeof r=="number"&&r%1===0}function oY(r){return typeof r=="string"}function sY(r){return Object.prototype.toString.call(r)==="[object Date]"}function ML(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(r){return!1}}function uY(r){return Array.isArray(r)?r:[r]}function H4(r,e,t){if(r.length!==0)return r.reduce((n,i)=>{let a=[e(i),i];return n&&t(n[0],a[0])===n[0]?n:a},null)[1]}function lY(r,e){return e.reduce((t,n)=>(t[n]=r[n],t),{})}function Iu(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function Ma(r,e,t){return Qm(r)&&r>=e&&r<=t}function cY(r,e){return r-e*Math.floor(r/e)}function zr(r,e=2){let t=r<0,n;return t?n="-"+(""+-r).padStart(e,"0"):n=(""+r).padStart(e,"0"),n}function Eo(r){if(!(Zt(r)||r===null||r===""))return parseInt(r,10)}function ds(r){if(!(Zt(r)||r===null||r===""))return parseFloat(r)}function oE(r){if(!(Zt(r)||r===null||r==="")){let e=parseFloat("0."+r)*1e3;return Math.floor(e)}}function sE(r,e,t=!1){let n=10**e;return(t?Math.trunc:Math.round)(r*n)/n}function rc(r){return r%4===0&&(r%100!==0||r%400===0)}function Ql(r){return rc(r)?366:365}function Gm(r,e){let t=cY(e-1,12)+1,n=r+(e-t)/12;return t===2?rc(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function uE(r){let e=Date.UTC(r.year,r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond);return r.year<100&&r.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function jm(r){let e=(r+Math.floor(r/4)-Math.floor(r/100)+Math.floor(r/400))%7,t=r-1,n=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||n===3?53:52}function Xw(r){return r>99?r:r>Or.twoDigitCutoffYear?1900+r:2e3+r}function TL(r,e,t,n=null){let i=new Date(r),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);let o={timeZoneName:e,...a},l=new Intl.DateTimeFormat(t,o).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return l?l.value:null}function Km(r,e){let t=parseInt(r,10);Number.isNaN(t)&&(t=0);let n=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-n:n;return t*60+i}function IL(r){let e=Number(r);if(typeof r=="boolean"||r===""||Number.isNaN(e))throw new $n(`Invalid unit value ${r}`);return e}function Zm(r,e){let t={};for(let n in r)if(Iu(r,n)){let i=r[n];if(i==null)continue;t[e(n)]=IL(i)}return t}function Kl(r,e){let t=Math.trunc(Math.abs(r/60)),n=Math.trunc(Math.abs(r%60)),i=r>=0?"+":"-";switch(e){case"short":return`${i}${zr(t,2)}:${zr(n,2)}`;case"narrow":return`${i}${t}${n>0?`:${n}`:""}`;case"techie":return`${i}${zr(t,2)}${zr(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function ed(r){return lY(r,["hour","minute","second","millisecond"])}var fY=["January","February","March","April","May","June","July","August","September","October","November","December"],BL=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pY=["J","F","M","A","M","J","J","A","S","O","N","D"];function OL(r){switch(r){case"narrow":return[...pY];case"short":return[...BL];case"long":return[...fY];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var kL=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],PL=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],mY=["M","T","W","T","F","S","S"];function RL(r){switch(r){case"narrow":return[...mY];case"short":return[...PL];case"long":return[...kL];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var LL=["AM","PM"],dY=["Before Christ","Anno Domini"],hY=["BC","AD"],gY=["B","A"];function VL(r){switch(r){case"narrow":return[...gY];case"short":return[...hY];case"long":return[...dY];default:return null}}function vY(r){return LL[r.hour<12?0:1]}function yY(r,e){return RL(e)[r.weekday-1]}function xY(r,e){return OL(e)[r.month-1]}function bY(r,e){return VL(e)[r.year<0?0:1]}function DY(r,e,t="always",n=!1){let i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(r)===-1;if(t==="auto"&&a){let f=r==="days";switch(e){case 1:return f?"tomorrow":`next ${i[r][0]}`;case-1:return f?"yesterday":`last ${i[r][0]}`;case 0:return f?"today":`this ${i[r][0]}`}}let o=Object.is(e,-0)||e<0,l=Math.abs(e),u=l===1,s=i[r],c=n?u?s[1]:s[2]||s[1]:u?i[r][0]:r;return o?`${l} ${c} ago`:`in ${l} ${c}`}function W4(r,e){let t="";for(let n of r)n.literal?t+=n.val:t+=e(n.val);return t}var wY={D:Hm,DD:fL,DDD:pL,DDDD:mL,t:dL,tt:hL,ttt:gL,tttt:vL,T:yL,TT:xL,TTT:bL,TTTT:DL,f:wL,ff:CL,fff:SL,ffff:NL,F:EL,FF:AL,FFF:FL,FFFF:_L},ii=class r{static create(e,t={}){return new r(e,t)}static parseFormat(e){let t=null,n="",i=!1,a=[];for(let o=0;o<e.length;o++){let l=e.charAt(o);l==="'"?(n.length>0&&a.push({literal:i,val:n}),t=null,n="",i=!i):i||l===t?n+=l:(n.length>0&&a.push({literal:!1,val:n}),n=l,t=l)}return n.length>0&&a.push({literal:i,val:n}),a}static macroTokenToFormatOpts(e){return wY[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).formatToParts()}formatInterval(e,t={}){return this.loc.dtFormatter(e.start,{...this.opts,...t}).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return zr(e,t);let n={...this.opts};return t>0&&(n.padTo=t),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){let n=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(m,h)=>this.loc.extract(e,m,h),o=m=>e.isOffsetFixed&&e.offset===0&&m.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,m.format):"",l=()=>n?vY(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(m,h)=>n?xY(e,m):a(h?{month:m}:{month:m,day:"numeric"},"month"),s=(m,h)=>n?yY(e,m):a(h?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),c=m=>{let h=r.macroTokenToFormatOpts(m);return h?this.formatWithSystemDefault(e,h):m},f=m=>n?bY(e,m):a({era:m},"era"),p=m=>{switch(m){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return s("short",!0);case"cccc":return s("long",!0);case"ccccc":return s("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return s("short",!1);case"EEEE":return s("long",!1);case"EEEEE":return s("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return f("short");case"GG":return f("long");case"GGGGG":return f("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(m)}};return W4(r.parseFormat(t),p)}formatDurationFromString(e,t){let n=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>s=>{let c=n(s);return c?this.num(u.get(c),s.length):s},a=r.parseFormat(t),o=a.reduce((u,{literal:s,val:c})=>s?u:u.concat(c),[]),l=e.shiftTo(...o.map(n).filter(u=>u));return W4(a,i(l))}},ai=class{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}},UL=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Bu(...r){let e=r.reduce((t,n)=>t+n.source,"");return RegExp(`^${e}$`)}function Ou(...r){return e=>r.reduce(([t,n,i],a)=>{let[o,l,u]=a(e,i);return[{...t,...o},l||n,u]},[{},null,1]).slice(0,2)}function ku(r,...e){if(r==null)return[null,null];for(let[t,n]of e){let i=t.exec(r);if(i)return n(i)}return[null,null]}function qL(...r){return(e,t)=>{let n={},i;for(i=0;i<r.length;i++)n[r[i]]=Eo(e[t+i]);return[n,null,t+i]}}var zL=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,EY=`(?:${zL.source}?(?:\\[(${UL.source})\\])?)?`,lE=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,$L=RegExp(`${lE.source}${EY}`),cE=RegExp(`(?:T${$L.source})?`),CY=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,AY=/(\d{4})-?W(\d\d)(?:-?(\d))?/,SY=/(\d{4})-?(\d{3})/,FY=qL("weekYear","weekNumber","weekDay"),NY=qL("year","ordinal"),_Y=/(\d{4})-(\d\d)-(\d\d)/,HL=RegExp(`${lE.source} ?(?:${zL.source}|(${UL.source}))?`),MY=RegExp(`(?: ${HL.source})?`);function Mu(r,e,t){let n=r[e];return Zt(n)?t:Eo(n)}function TY(r,e){return[{year:Mu(r,e),month:Mu(r,e+1,1),day:Mu(r,e+2,1)},null,e+3]}function Pu(r,e){return[{hours:Mu(r,e,0),minutes:Mu(r,e+1,0),seconds:Mu(r,e+2,0),milliseconds:oE(r[e+3])},null,e+4]}function nc(r,e){let t=!r[e]&&!r[e+1],n=Km(r[e+1],r[e+2]),i=t?null:Ei.instance(n);return[{},i,e+3]}function ic(r,e){let t=r[e]?Ao.create(r[e]):null;return[{},t,e+1]}var IY=RegExp(`^T?${lE.source}$`),BY=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function OY(r){let[e,t,n,i,a,o,l,u,s]=r,c=e[0]==="-",f=u&&u[0]==="-",p=(m,h=!1)=>m!==void 0&&(h||m&&c)?-m:m;return[{years:p(ds(t)),months:p(ds(n)),weeks:p(ds(i)),days:p(ds(a)),hours:p(ds(o)),minutes:p(ds(l)),seconds:p(ds(u),u==="-0"),milliseconds:p(oE(s),f)}]}var kY={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fE(r,e,t,n,i,a,o){let l={year:e.length===2?Xw(Eo(e)):Eo(e),month:BL.indexOf(t)+1,day:Eo(n),hour:Eo(i),minute:Eo(a)};return o&&(l.second=Eo(o)),r&&(l.weekday=r.length>3?kL.indexOf(r)+1:PL.indexOf(r)+1),l}var PY=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function RY(r){let[,e,t,n,i,a,o,l,u,s,c,f]=r,p=fE(e,i,n,t,a,o,l),m;return u?m=kY[u]:s?m=0:m=Km(c,f),[p,new Ei(m)]}function LY(r){return r.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var VY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,UY=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,qY=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function G4(r){let[,e,t,n,i,a,o,l]=r;return[fE(e,i,n,t,a,o,l),Ei.utcInstance]}function zY(r){let[,e,t,n,i,a,o,l]=r;return[fE(e,l,t,n,i,a,o),Ei.utcInstance]}var $Y=Bu(CY,cE),HY=Bu(AY,cE),WY=Bu(SY,cE),GY=Bu($L),WL=Ou(TY,Pu,nc,ic),jY=Ou(FY,Pu,nc,ic),ZY=Ou(NY,Pu,nc,ic),YY=Ou(Pu,nc,ic);function JY(r){return ku(r,[$Y,WL],[HY,jY],[WY,ZY],[GY,YY])}function XY(r){return ku(LY(r),[PY,RY])}function QY(r){return ku(r,[VY,G4],[UY,G4],[qY,zY])}function KY(r){return ku(r,[BY,OY])}var eJ=Ou(Pu);function tJ(r){return ku(r,[IY,eJ])}var rJ=Bu(_Y,MY),nJ=Bu(HL),iJ=Ou(Pu,nc,ic);function aJ(r){return ku(r,[rJ,WL],[nJ,iJ])}var oJ="Invalid Duration",GL={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},sJ={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...GL},Di=146097/400,Fu=146097/4800,uJ={years:{quarters:4,months:12,weeks:Di/7,days:Di,hours:Di*24,minutes:Di*24*60,seconds:Di*24*60*60,milliseconds:Di*24*60*60*1e3},quarters:{months:3,weeks:Di/28,days:Di/4,hours:Di*24/4,minutes:Di*24*60/4,seconds:Di*24*60*60/4,milliseconds:Di*24*60*60*1e3/4},months:{weeks:Fu/7,days:Fu,hours:Fu*24,minutes:Fu*24*60,seconds:Fu*24*60*60,milliseconds:Fu*24*60*60*1e3},...GL},hs=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],lJ=hs.slice(0).reverse();function wo(r,e,t=!1){let n={values:t?e.values:{...r.values,...e.values||{}},loc:r.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||r.conversionAccuracy,matrix:e.matrix||r.matrix};return new ht(n)}function cJ(r){return r<0?Math.floor(r):Math.ceil(r)}function jL(r,e,t,n,i){let a=r[i][t],o=e[t]/a,l=Math.sign(o)===Math.sign(n[i]),u=!l&&n[i]!==0&&Math.abs(o)<=1?cJ(o):Math.trunc(o);n[i]+=u,e[t]-=u*a}function fJ(r,e){lJ.reduce((t,n)=>Zt(e[n])?t:(t&&jL(r,e,t,e,n),n),null)}function pJ(r){let e={};for(let[t,n]of Object.entries(r))n!==0&&(e[t]=n);return e}var ht=class r{constructor(e){let t=e.conversionAccuracy==="longterm"||!1,n=t?uJ:sJ;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||kr.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,t){return r.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new $n(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new r({values:Zm(e,r.normalizeUnit),loc:kr.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(vs(e))return r.fromMillis(e);if(r.isDuration(e))return e;if(typeof e=="object")return r.fromObject(e);throw new $n(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){let[n]=KY(e);return n?r.fromObject(n,t):r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){let[n]=tJ(e);return n?r.fromObject(n,t):r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new $n("need to specify a reason the Duration is invalid");let n=e instanceof ai?e:new ai(e,t);if(Or.throwOnInvalid)throw new zw(n);return new r({invalid:n})}static normalizeUnit(e){let t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new $m(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){let n={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?ii.create(this.loc,n).formatDurationFromString(this,e):oJ}toHuman(e={}){let t=hs.map(n=>{let i=this.values[n];return Zt(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(i)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=sE(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;let t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};let n=this.shiftTo("hours","minutes","seconds","milliseconds"),i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||n.milliseconds!==0)&&(i+=".SSS"));let a=n.toFormat(i);return e.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;let t=r.fromDurationLike(e),n={};for(let i of hs)(Iu(t.values,i)||Iu(this.values,i))&&(n[i]=t.get(i)+this.get(i));return wo(this,{values:n},!0)}minus(e){if(!this.isValid)return this;let t=r.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;let t={};for(let n of Object.keys(this.values))t[n]=IL(e(this.values[n],n));return wo(this,{values:t},!0)}get(e){return this[r.normalizeUnit(e)]}set(e){if(!this.isValid)return this;let t={...this.values,...Zm(e,r.normalizeUnit)};return wo(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:n,matrix:i}={}){let o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:i,conversionAccuracy:n};return wo(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;let e=this.toObject();return fJ(this.matrix,e),wo(this,{values:e},!0)}rescale(){if(!this.isValid)return this;let e=pJ(this.normalize().shiftToAll().toObject());return wo(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>r.normalizeUnit(o));let t={},n={},i=this.toObject(),a;for(let o of hs)if(e.indexOf(o)>=0){a=o;let l=0;for(let s in n)l+=this.matrix[s][o]*n[s],n[s]=0;vs(i[o])&&(l+=i[o]);let u=Math.trunc(l);t[o]=u,n[o]=(l*1e3-u*1e3)/1e3;for(let s in i)hs.indexOf(s)>hs.indexOf(o)&&jL(this.matrix,i,s,t,o)}else vs(i[o])&&(n[o]=i[o]);for(let o in n)n[o]!==0&&(t[a]+=o===a?n[o]:n[o]/this.matrix[a][o]);return wo(this,{values:t},!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;let e={};for(let t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return wo(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(n,i){return n===void 0||n===0?i===void 0||i===0:n===i}for(let n of hs)if(!t(this.values[n],e.values[n]))return!1;return!0}},Nu="Invalid Interval";function mJ(r,e){return!r||!r.isValid?Tu.invalid("missing or invalid start"):!e||!e.isValid?Tu.invalid("missing or invalid end"):e<r?Tu.invalid("end before start",`The end of an interval must be after its start, but you had start=${r.toISO()} and end=${e.toISO()}`):null}var Tu=class r{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new $n("need to specify a reason the Interval is invalid");let n=e instanceof ai?e:new ai(e,t);if(Or.throwOnInvalid)throw new qw(n);return new r({invalid:n})}static fromDateTimes(e,t){let n=Yl(e),i=Yl(t),a=mJ(n,i);return a==null?new r({start:n,end:i}):a}static after(e,t){let n=ht.fromDurationLike(t),i=Yl(e);return r.fromDateTimes(i,i.plus(n))}static before(e,t){let n=ht.fromDurationLike(t),i=Yl(e);return r.fromDateTimes(i.minus(n),i)}static fromISO(e,t){let[n,i]=(e||"").split("/",2);if(n&&i){let a,o;try{a=Rt.fromISO(n,t),o=a.isValid}catch(s){o=!1}let l,u;try{l=Rt.fromISO(i,t),u=l.isValid}catch(s){u=!1}if(o&&u)return r.fromDateTimes(a,l);if(o){let s=ht.fromISO(i,t);if(s.isValid)return r.after(a,s)}else if(u){let s=ht.fromISO(n,t);if(s.isValid)return r.before(l,s)}}return r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;let t=this.start.startOf(e),n=this.end.startOf(e);return Math.floor(n.diff(t,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?r.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];let t=e.map(Yl).filter(o=>this.contains(o)).sort(),n=[],{s:i}=this,a=0;for(;i<this.e;){let o=t[a]||this.e,l=+o>+this.e?this.e:o;n.push(r.fromDateTimes(i,l)),i=l,a+=1}return n}splitBy(e){let t=ht.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:n}=this,i=1,a,o=[];for(;n<this.e;){let l=this.start.plus(t.mapUnits(u=>u*i));a=+l>+this.e?this.e:l,o.push(r.fromDateTimes(n,a)),n=a,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;let t=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return t>=n?null:r.fromDateTimes(t,n)}union(e){if(!this.isValid)return this;let t=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return r.fromDateTimes(t,n)}static merge(e){let[t,n]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],o)=>a?a.overlaps(o)||a.abutsStart(o)?[i,a.union(o)]:[i.concat([a]),o]:[i,o],[[],null]);return n&&t.push(n),t}static xor(e){let t=null,n=0,i=[],a=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),o=Array.prototype.concat(...a),l=o.sort((u,s)=>u.time-s.time);for(let u of l)n+=u.type==="s"?1:-1,n===1?t=u.time:(t&&+t!=+u.time&&i.push(r.fromDateTimes(t,u.time)),t=null);return r.merge(i)}difference(...e){return r.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Nu}toLocaleString(e=Hm,t={}){return this.isValid?ii.create(this.s.loc.clone(t),e).formatInterval(this):Nu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Nu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Nu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Nu}toFormat(e,{separator:t=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Nu}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):ht.invalid(this.invalidReason)}mapEndpoints(e){return r.fromDateTimes(e(this.s),e(this.e))}},_u=class{static hasDST(e=Or.defaultZone){let t=Rt.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Ao.isValidZone(e)}static normalizeZone(e){return Co(e,Or.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||kr.create(t,n,a)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||kr.create(t,n,a)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||kr.create(t,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:n=null,locObj:i=null}={}){return(i||kr.create(t,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return kr.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return kr.create(t,null,"gregory").eras(e)}static features(){return{relative:ML()}}};function j4(r,e){let t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=t(e)-t(r);return Math.floor(ht.fromMillis(n).as("days"))}function dJ(r,e,t){let n=[["years",(u,s)=>s.year-u.year],["quarters",(u,s)=>s.quarter-u.quarter+(s.year-u.year)*4],["months",(u,s)=>s.month-u.month+(s.year-u.year)*12],["weeks",(u,s)=>{let c=j4(u,s);return(c-c%7)/7}],["days",j4]],i={},a=r,o,l;for(let[u,s]of n)t.indexOf(u)>=0&&(o=u,i[u]=s(r,e),l=a.plus(i),l>e?(i[u]--,r=a.plus(i)):r=l);return[r,i,l,o]}function hJ(r,e,t,n){let[i,a,o,l]=dJ(r,e,t),u=e-i,s=t.filter(f=>["hours","minutes","seconds","milliseconds"].indexOf(f)>=0);s.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(a[l]=(a[l]||0)+u/(o-i)));let c=ht.fromObject(a,n);return s.length>0?ht.fromMillis(u,n).shiftTo(...s).plus(c):c}var pE={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Z4={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},gJ=pE.hanidec.replace(/[\[|\]]/g,"").split("");function vJ(r){let e=parseInt(r,10);if(isNaN(e)){e="";for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(r[t].search(pE.hanidec)!==-1)e+=gJ.indexOf(r[t]);else for(let i in Z4){let[a,o]=Z4[i];n>=a&&n<=o&&(e+=n-a)}}return parseInt(e,10)}else return e}function zi({numberingSystem:r},e=""){return new RegExp(`${pE[r||"latn"]}${e}`)}var yJ="missing Intl.DateTimeFormat.formatToParts support";function rr(r,e=t=>t){return{regex:r,deser:([t])=>e(vJ(t))}}var xJ="\xA0",ZL=`[ ${xJ}]`,YL=new RegExp(ZL,"g");function bJ(r){return r.replace(/\./g,"\\.?").replace(YL,ZL)}function Y4(r){return r.replace(/\./g,"").replace(YL," ").toLowerCase()}function $i(r,e){return r===null?null:{regex:RegExp(r.map(bJ).join("|")),deser:([t])=>r.findIndex(n=>Y4(t)===Y4(n))+e}}function J4(r,e){return{regex:r,deser:([,t,n])=>Km(t,n),groups:e}}function Ow(r){return{regex:r,deser:([e])=>e}}function DJ(r){return r.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function wJ(r,e){let t=zi(e),n=zi(e,"{2}"),i=zi(e,"{3}"),a=zi(e,"{4}"),o=zi(e,"{6}"),l=zi(e,"{1,2}"),u=zi(e,"{1,3}"),s=zi(e,"{1,6}"),c=zi(e,"{1,9}"),f=zi(e,"{2,4}"),p=zi(e,"{4,6}"),m=g=>({regex:RegExp(DJ(g.val)),deser:([y])=>y,literal:!0}),d=(g=>{if(r.literal)return m(g);switch(g.val){case"G":return $i(e.eras("short",!1),0);case"GG":return $i(e.eras("long",!1),0);case"y":return rr(s);case"yy":return rr(f,Xw);case"yyyy":return rr(a);case"yyyyy":return rr(p);case"yyyyyy":return rr(o);case"M":return rr(l);case"MM":return rr(n);case"MMM":return $i(e.months("short",!0,!1),1);case"MMMM":return $i(e.months("long",!0,!1),1);case"L":return rr(l);case"LL":return rr(n);case"LLL":return $i(e.months("short",!1,!1),1);case"LLLL":return $i(e.months("long",!1,!1),1);case"d":return rr(l);case"dd":return rr(n);case"o":return rr(u);case"ooo":return rr(i);case"HH":return rr(n);case"H":return rr(l);case"hh":return rr(n);case"h":return rr(l);case"mm":return rr(n);case"m":return rr(l);case"q":return rr(l);case"qq":return rr(n);case"s":return rr(l);case"ss":return rr(n);case"S":return rr(u);case"SSS":return rr(i);case"u":return Ow(c);case"uu":return Ow(l);case"uuu":return rr(t);case"a":return $i(e.meridiems(),0);case"kkkk":return rr(a);case"kk":return rr(f,Xw);case"W":return rr(l);case"WW":return rr(n);case"E":case"c":return rr(t);case"EEE":return $i(e.weekdays("short",!1,!1),1);case"EEEE":return $i(e.weekdays("long",!1,!1),1);case"ccc":return $i(e.weekdays("short",!0,!1),1);case"cccc":return $i(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return J4(new RegExp(`([+-]${l.source})(?::(${n.source}))?`),2);case"ZZZ":return J4(new RegExp(`([+-]${l.source})(${n.source})?`),2);case"z":return Ow(/[a-z_+-/]{1,256}?/i);default:return m(g)}})(r)||{invalidReason:yJ};return d.token=r,d}var EJ={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function CJ(r,e){let{type:t,value:n}=r;if(t==="literal")return{literal:!0,val:n};let i=e[t],a=EJ[t];if(typeof a=="object"&&(a=a[i]),a)return{literal:!1,val:a}}function AJ(r){return[`^${r.map(t=>t.regex).reduce((t,n)=>`${t}(${n.source})`,"")}$`,r]}function SJ(r,e,t){let n=r.match(e);if(n){let i={},a=1;for(let o in t)if(Iu(t,o)){let l=t[o],u=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(n.slice(a,a+u))),a+=u}return[n,i]}else return[n,{}]}function FJ(r){let e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},t=null,n;return Zt(r.z)||(t=Ao.create(r.z)),Zt(r.Z)||(t||(t=new Ei(r.Z)),n=r.Z),Zt(r.q)||(r.M=(r.q-1)*3+1),Zt(r.h)||(r.h<12&&r.a===1?r.h+=12:r.h===12&&r.a===0&&(r.h=0)),r.G===0&&r.y&&(r.y=-r.y),Zt(r.u)||(r.S=oE(r.u)),[Object.keys(r).reduce((a,o)=>{let l=e(o);return l&&(a[l]=r[o]),a},{}),t,n]}var kw=null;function NJ(){return kw||(kw=Rt.fromMillis(1555555555555)),kw}function _J(r,e){if(r.literal)return r;let t=ii.macroTokenToFormatOpts(r.val),n=QL(t,e);return n==null||n.includes(void 0)?r:n}function JL(r,e){return Array.prototype.concat(...r.map(t=>_J(t,e)))}function XL(r,e,t){let n=JL(ii.parseFormat(t),r),i=n.map(o=>wJ(o,r)),a=i.find(o=>o.invalidReason);if(a)return{input:e,tokens:n,invalidReason:a.invalidReason};{let[o,l]=AJ(i),u=RegExp(o,"i"),[s,c]=SJ(e,u,l),[f,p,m]=c?FJ(c):[null,null,void 0];if(Iu(c,"a")&&Iu(c,"H"))throw new gs("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:n,regex:u,rawMatches:s,matches:c,result:f,zone:p,specificOffset:m}}}function MJ(r,e,t){let{result:n,zone:i,specificOffset:a,invalidReason:o}=XL(r,e,t);return[n,i,a,o]}function QL(r,e){return r?ii.create(e,r).formatDateTimeParts(NJ()).map(i=>CJ(i,r)):null}var KL=[0,31,59,90,120,151,181,212,243,273,304,334],e8=[0,31,60,91,121,152,182,213,244,274,305,335];function wi(r,e){return new ai("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${r}, which is invalid`)}function t8(r,e,t){let n=new Date(Date.UTC(r,e-1,t));r<100&&r>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let i=n.getUTCDay();return i===0?7:i}function r8(r,e,t){return t+(rc(r)?e8:KL)[e-1]}function n8(r,e){let t=rc(r)?e8:KL,n=t.findIndex(a=>a<e),i=e-t[n];return{month:n+1,day:i}}function Qw(r){let{year:e,month:t,day:n}=r,i=r8(e,t,n),a=t8(e,t,n),o=Math.floor((i-a+10)/7),l;return o<1?(l=e-1,o=jm(l)):o>jm(e)?(l=e+1,o=1):l=e,{weekYear:l,weekNumber:o,weekday:a,...ed(r)}}function X4(r){let{weekYear:e,weekNumber:t,weekday:n}=r,i=t8(e,1,4),a=Ql(e),o=t*7+n-i-3,l;o<1?(l=e-1,o+=Ql(l)):o>a?(l=e+1,o-=Ql(e)):l=e;let{month:u,day:s}=n8(l,o);return{year:l,month:u,day:s,...ed(r)}}function Pw(r){let{year:e,month:t,day:n}=r,i=r8(e,t,n);return{year:e,ordinal:i,...ed(r)}}function Q4(r){let{year:e,ordinal:t}=r,{month:n,day:i}=n8(e,t);return{year:e,month:n,day:i,...ed(r)}}function TJ(r){let e=Qm(r.weekYear),t=Ma(r.weekNumber,1,jm(r.weekYear)),n=Ma(r.weekday,1,7);return e?t?n?!1:wi("weekday",r.weekday):wi("week",r.week):wi("weekYear",r.weekYear)}function IJ(r){let e=Qm(r.year),t=Ma(r.ordinal,1,Ql(r.year));return e?t?!1:wi("ordinal",r.ordinal):wi("year",r.year)}function i8(r){let e=Qm(r.year),t=Ma(r.month,1,12),n=Ma(r.day,1,Gm(r.year,r.month));return e?t?n?!1:wi("day",r.day):wi("month",r.month):wi("year",r.year)}function a8(r){let{hour:e,minute:t,second:n,millisecond:i}=r,a=Ma(e,0,23)||e===24&&t===0&&n===0&&i===0,o=Ma(t,0,59),l=Ma(n,0,59),u=Ma(i,0,999);return a?o?l?u?!1:wi("millisecond",i):wi("second",n):wi("minute",t):wi("hour",e)}var Rw="Invalid DateTime",K4=864e13;function Vm(r){return new ai("unsupported zone",`the zone "${r.name}" is not supported`)}function Lw(r){return r.weekData===null&&(r.weekData=Qw(r.c)),r.weekData}function jl(r,e){let t={ts:r.ts,zone:r.zone,c:r.c,o:r.o,loc:r.loc,invalid:r.invalid};return new Rt({...t,...e,old:t})}function o8(r,e,t){let n=r-e*60*1e3,i=t.offset(n);if(e===i)return[n,e];n-=(i-e)*60*1e3;let a=t.offset(n);return i===a?[n,i]:[r-Math.min(i,a)*60*1e3,Math.max(i,a)]}function eL(r,e){r+=e*60*1e3;let t=new Date(r);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function zm(r,e,t){return o8(uE(r),e,t)}function tL(r,e){let t=r.o,n=r.c.year+Math.trunc(e.years),i=r.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...r.c,year:n,month:i,day:Math.min(r.c.day,Gm(n,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=ht.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=uE(a),[u,s]=o8(l,t,r.zone);return o!==0&&(u+=o,s=r.zone.offset(u)),{ts:u,o:s}}function Zl(r,e,t,n,i,a){let{setZone:o,zone:l}=t;if(r&&Object.keys(r).length!==0){let u=e||l,s=Rt.fromObject(r,{...t,zone:u,specificOffset:a});return o?s:s.setZone(l)}else return Rt.invalid(new ai("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Um(r,e,t=!0){return r.isValid?ii.create(kr.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(r,e):null}function Vw(r,e){let t=r.c.year>9999||r.c.year<0,n="";return t&&r.c.year>=0&&(n+="+"),n+=zr(r.c.year,t?6:4),e?(n+="-",n+=zr(r.c.month),n+="-",n+=zr(r.c.day)):(n+=zr(r.c.month),n+=zr(r.c.day)),n}function rL(r,e,t,n,i,a){let o=zr(r.c.hour);return e?(o+=":",o+=zr(r.c.minute),(r.c.second!==0||!t)&&(o+=":")):o+=zr(r.c.minute),(r.c.second!==0||!t)&&(o+=zr(r.c.second),(r.c.millisecond!==0||!n)&&(o+=".",o+=zr(r.c.millisecond,3))),i&&(r.isOffsetFixed&&r.offset===0&&!a?o+="Z":r.o<0?(o+="-",o+=zr(Math.trunc(-r.o/60)),o+=":",o+=zr(Math.trunc(-r.o%60))):(o+="+",o+=zr(Math.trunc(r.o/60)),o+=":",o+=zr(Math.trunc(r.o%60)))),a&&(o+="["+r.zone.ianaName+"]"),o}var s8={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},BJ={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},OJ={ordinal:1,hour:0,minute:0,second:0,millisecond:0},u8=["year","month","day","hour","minute","second","millisecond"],kJ=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],PJ=["year","ordinal","hour","minute","second","millisecond"];function nL(r){let e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[r.toLowerCase()];if(!e)throw new $m(r);return e}function iL(r,e){let t=Co(e.zone,Or.defaultZone),n=kr.fromObject(e),i=Or.now(),a,o;if(Zt(r.year))a=i;else{for(let s of u8)Zt(r[s])&&(r[s]=s8[s]);let l=i8(r)||a8(r);if(l)return Rt.invalid(l);let u=t.offset(i);[a,o]=zm(r,u,t)}return new Rt({ts:a,zone:t,loc:n,o})}function aL(r,e,t){let n=Zt(t.round)?!0:t.round,i=(o,l)=>(o=sE(o,n||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(o,l)),a=o=>t.calendary?e.hasSame(r,o)?0:e.startOf(o).diff(r.startOf(o),o).get(o):e.diff(r,o).get(o);if(t.unit)return i(a(t.unit),t.unit);for(let o of t.units){let l=a(o);if(Math.abs(l)>=1)return i(l,o)}return i(r>e?-0:0,t.units[t.units.length-1])}function oL(r){let e={},t;return r.length>0&&typeof r[r.length-1]=="object"?(e=r[r.length-1],t=Array.from(r).slice(0,r.length-1)):t=Array.from(r),[e,t]}var Rt=class r{constructor(e){let t=e.zone||Or.defaultZone,n=e.invalid||(Number.isNaN(e.ts)?new ai("invalid input"):null)||(t.isValid?null:Vm(t));this.ts=Zt(e.ts)?Or.now():e.ts;let i=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,a]=[e.old.c,e.old.o];else{let l=t.offset(this.ts);i=eL(this.ts,l),n=Number.isNaN(i.year)?new ai("invalid input"):null,i=n?null:i,a=n?null:l}this._zone=t,this.loc=e.loc||kr.create(),this.invalid=n,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new r({})}static local(){let[e,t]=oL(arguments),[n,i,a,o,l,u,s]=t;return iL({year:n,month:i,day:a,hour:o,minute:l,second:u,millisecond:s},e)}static utc(){let[e,t]=oL(arguments),[n,i,a,o,l,u,s]=t;return e.zone=Ei.utcInstance,iL({year:n,month:i,day:a,hour:o,minute:l,second:u,millisecond:s},e)}static fromJSDate(e,t={}){let n=sY(e)?e.valueOf():NaN;if(Number.isNaN(n))return r.invalid("invalid input");let i=Co(t.zone,Or.defaultZone);return i.isValid?new r({ts:n,zone:i,loc:kr.fromObject(t)}):r.invalid(Vm(i))}static fromMillis(e,t={}){if(vs(e))return e<-K4||e>K4?r.invalid("Timestamp out of range"):new r({ts:e,zone:Co(t.zone,Or.defaultZone),loc:kr.fromObject(t)});throw new $n(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(vs(e))return new r({ts:e*1e3,zone:Co(t.zone,Or.defaultZone),loc:kr.fromObject(t)});throw new $n("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};let n=Co(t.zone,Or.defaultZone);if(!n.isValid)return r.invalid(Vm(n));let i=Or.now(),a=Zt(t.specificOffset)?n.offset(i):t.specificOffset,o=Zm(e,nL),l=!Zt(o.ordinal),u=!Zt(o.year),s=!Zt(o.month)||!Zt(o.day),c=u||s,f=o.weekYear||o.weekNumber,p=kr.fromObject(t);if((c||l)&&f)throw new gs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&l)throw new gs("Can't mix ordinal dates with month/day");let m=f||o.weekday&&!c,h,d,g=eL(i,a);m?(h=kJ,d=BJ,g=Qw(g)):l?(h=PJ,d=OJ,g=Pw(g)):(h=u8,d=s8);let y=!1;for(let S of h){let E=o[S];Zt(E)?y?o[S]=d[S]:o[S]=g[S]:y=!0}let w=m?TJ(o):l?IJ(o):i8(o),v=w||a8(o);if(v)return r.invalid(v);let x=m?X4(o):l?Q4(o):o,[D,b]=zm(x,a,n),C=new r({ts:D,zone:n,o:b,loc:p});return o.weekday&&c&&e.weekday!==C.weekday?r.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${C.toISO()}`):C}static fromISO(e,t={}){let[n,i]=JY(e);return Zl(n,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){let[n,i]=XY(e);return Zl(n,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){let[n,i]=QY(e);return Zl(n,i,t,"HTTP",t)}static fromFormat(e,t,n={}){if(Zt(e)||Zt(t))throw new $n("fromFormat requires an input string and a format");let{locale:i=null,numberingSystem:a=null}=n,o=kr.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[l,u,s,c]=MJ(o,e,t);return c?r.invalid(c):Zl(l,u,n,`format ${t}`,e,s)}static fromString(e,t,n={}){return r.fromFormat(e,t,n)}static fromSQL(e,t={}){let[n,i]=aJ(e);return Zl(n,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new $n("need to specify a reason the DateTime is invalid");let n=e instanceof ai?e:new ai(e,t);if(Or.throwOnInvalid)throw new Uw(n);return new r({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){let n=QL(e,kr.fromObject(t));return n?n.map(i=>i?i.val:null).join(""):null}static expandFormat(e,t={}){return JL(ii.parseFormat(e),kr.fromObject(t)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Lw(this).weekYear:NaN}get weekNumber(){return this.isValid?Lw(this).weekNumber:NaN}get weekday(){return this.isValid?Lw(this).weekday:NaN}get ordinal(){return this.isValid?Pw(this.c).ordinal:NaN}get monthShort(){return this.isValid?_u.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?_u.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?_u.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?_u.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return rc(this.year)}get daysInMonth(){return Gm(this.year,this.month)}get daysInYear(){return this.isValid?Ql(this.year):NaN}get weeksInWeekYear(){return this.isValid?jm(this.weekYear):NaN}resolvedLocaleOptions(e={}){let{locale:t,numberingSystem:n,calendar:i}=ii.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:n,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(Ei.instance(e),t)}toLocal(){return this.setZone(Or.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:n=!1}={}){if(e=Co(e,Or.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||n){let a=e.offset(this.ts),o=this.toObject();[i]=zm(o,a,e)}return jl(this,{ts:i,zone:e})}else return r.invalid(Vm(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:n}={}){let i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:n});return jl(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;let t=Zm(e,nL),n=!Zt(t.weekYear)||!Zt(t.weekNumber)||!Zt(t.weekday),i=!Zt(t.ordinal),a=!Zt(t.year),o=!Zt(t.month)||!Zt(t.day),l=a||o,u=t.weekYear||t.weekNumber;if((l||i)&&u)throw new gs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new gs("Can't mix ordinal dates with month/day");let s;n?s=X4({...Qw(this.c),...t}):Zt(t.ordinal)?(s={...this.toObject(),...t},Zt(t.day)&&(s.day=Math.min(Gm(s.year,s.month),s.day))):s=Q4({...Pw(this.c),...t});let[c,f]=zm(s,this.o,this.zone);return jl(this,{ts:c,o:f})}plus(e){if(!this.isValid)return this;let t=ht.fromDurationLike(e);return jl(this,tL(this,t))}minus(e){if(!this.isValid)return this;let t=ht.fromDurationLike(e).negate();return jl(this,tL(this,t))}startOf(e){if(!this.isValid)return this;let t={},n=ht.normalizeUnit(e);switch(n){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(n==="weeks"&&(t.weekday=1),n==="quarters"){let i=Math.ceil(this.month/3);t.month=(i-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?ii.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Rw}toLocaleString(e=Hm,t={}){return this.isValid?ii.create(this.loc.clone(t),e).formatDateTime(this):Rw}toLocaleParts(e={}){return this.isValid?ii.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:n=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;let o=e==="extended",l=Vw(this,o);return l+="T",l+=rL(this,o,t,n,i,a),l}toISODate({format:e="extended"}={}){return this.isValid?Vw(this,e==="extended"):null}toISOWeekDate(){return Um(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:n=!0,includePrefix:i=!1,extendedZone:a=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+rL(this,o==="extended",t,e,n,a):null}toRFC2822(){return Um(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Um(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Vw(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:n=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(n&&(i+=" "),t?i+="z":e&&(i+="ZZ")),Um(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Rw}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};let t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",n={}){if(!this.isValid||!e.isValid)return ht.invalid("created by diffing an invalid DateTime");let i={locale:this.locale,numberingSystem:this.numberingSystem,...n},a=uY(t).map(ht.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,u=o?e:this,s=hJ(l,u,a,i);return o?s.negate():s}diffNow(e="milliseconds",t={}){return this.diff(r.now(),e,t)}until(e){return this.isValid?Tu.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;let n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t)<=n&&n<=i.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;let t=e.base||r.fromObject({},{zone:this.zone}),n=e.padding?this<t?-e.padding:e.padding:0,i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),aL(t,this.plus(n),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?aL(e.base||r.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(r.isDateTime))throw new $n("min requires all arguments be DateTimes");return H4(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(r.isDateTime))throw new $n("max requires all arguments be DateTimes");return H4(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,n={}){let{locale:i=null,numberingSystem:a=null}=n,o=kr.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return XL(o,e,t)}static fromStringExplain(e,t,n={}){return r.fromFormatExplain(e,t,n)}static get DATE_SHORT(){return Hm}static get DATE_MED(){return fL}static get DATE_MED_WITH_WEEKDAY(){return WZ}static get DATE_FULL(){return pL}static get DATE_HUGE(){return mL}static get TIME_SIMPLE(){return dL}static get TIME_WITH_SECONDS(){return hL}static get TIME_WITH_SHORT_OFFSET(){return gL}static get TIME_WITH_LONG_OFFSET(){return vL}static get TIME_24_SIMPLE(){return yL}static get TIME_24_WITH_SECONDS(){return xL}static get TIME_24_WITH_SHORT_OFFSET(){return bL}static get TIME_24_WITH_LONG_OFFSET(){return DL}static get DATETIME_SHORT(){return wL}static get DATETIME_SHORT_WITH_SECONDS(){return EL}static get DATETIME_MED(){return CL}static get DATETIME_MED_WITH_SECONDS(){return AL}static get DATETIME_MED_WITH_WEEKDAY(){return GZ}static get DATETIME_FULL(){return SL}static get DATETIME_FULL_WITH_SECONDS(){return FL}static get DATETIME_HUGE(){return NL}static get DATETIME_HUGE_WITH_SECONDS(){return _L}};function Yl(r){if(Rt.isDateTime(r))return r;if(r&&r.valueOf&&vs(r.valueOf()))return Rt.fromJSDate(r);if(r&&typeof r=="object")return Rt.fromObject(r);throw new $n(`Unknown datetime argument: ${r}, of type ${typeof r}`)}var mE={renderNullAs:"\\-",taskCompletionTracking:!1,taskCompletionUseEmojiShorthand:!1,taskCompletionText:"completion",taskCompletionDateFormat:"yyyy-MM-dd",recursiveSubTaskCompletion:!1,warnOnEmptyResult:!0,refreshEnabled:!0,refreshInterval:2500,defaultDateFormat:"MMMM dd, yyyy",defaultDateTimeFormat:"h:mm a - MMMM dd, yyyy",maxRecursiveRenderDepth:4,tableIdColumnName:"File",tableGroupColumnName:"Group",showResultCount:!0},RJ={allowHtml:!0};({...mE,...RJ});var Kw=class r{constructor(e){this.value=e,this.successful=!0}map(e){return new r(e(this.value))}flatMap(e){return e(this.value)}mapErr(e){return this}bimap(e,t){return this.map(e)}orElse(e){return this.value}cast(){return this}orElseThrow(e){return this.value}},eE=class r{constructor(e){this.error=e,this.successful=!1}map(e){return this}flatMap(e){return this}mapErr(e){return new r(e(this.error))}bimap(e,t){return this.mapErr(t)}orElse(e){return e}cast(){return this}orElseThrow(e){throw e?new Error(e(this.error)):new Error(""+this.error)}},Ym;(function(r){function e(a){return new Kw(a)}r.success=e;function t(a){return new eE(a)}r.failure=t;function n(a,o,l){return a.successful?o.successful?l(a.value,o.value):t(o.error):t(a.error)}r.flatMap2=n;function i(a,o,l){return n(a,o,(u,s)=>e(l(u,s)))}r.map2=i})(Ym||(Ym={}));var LJ=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},K={exports:{}};(function(r,e){(function(t,n){r.exports=n()})(typeof self!="undefined"?self:LJ,function(){return function(t){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=n,i.d=function(a,o,l){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:l})},i.r=function(a){Object.defineProperty(a,"__esModule",{value:!0})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=0)}([function(t,n,i){function a(N){if(!(this instanceof a))return new a(N);this._=N}var o=a.prototype;function l(N,R){for(var Z=0;Z<N;Z++)R(Z)}function u(N,R,Z){return function(se,ye){l(ye.length,function(_e){se(ye[_e],_e,ye)})}(function(se,ye,_e){R=N(R,se,ye,_e)},Z),R}function s(N,R){return u(function(Z,se,ye,_e){return Z.concat([N(se,ye,_e)])},[],R)}function c(N,R){var Z={v:0,buf:R};return l(N,function(){var se;Z={v:Z.v<<1|(se=Z.buf,se[0]>>7),buf:function(ye){var _e=u(function(Re,lt,Jt,Rr){return Re.concat(Jt===Rr.length-1?Buffer.from([lt,0]).readUInt16BE(0):Rr.readUInt16BE(Jt))},[],ye);return Buffer.from(s(function(Re){return(Re<<1&65535)>>8},_e))}(Z.buf)}}),Z}function f(){return typeof Buffer!="undefined"}function p(){if(!f())throw new Error("Buffer global does not exist; please use webpack if you need to parse Buffers in the browser.")}function m(N){p();var R=u(function(_e,Re){return _e+Re},0,N);if(R%8!=0)throw new Error("The bits ["+N.join(", ")+"] add up to "+R+" which is not an even number of bytes; the total should be divisible by 8");var Z,se=R/8,ye=(Z=function(_e){return _e>48},u(function(_e,Re){return _e||(Z(Re)?Re:_e)},null,N));if(ye)throw new Error(ye+" bit range requested exceeds 48 bit (6 byte) Number max.");return new a(function(_e,Re){var lt=se+Re;return lt>_e.length?S(Re,se.toString()+" bytes"):C(lt,u(function(Jt,Rr){var $r=c(Rr,Jt.buf);return{coll:Jt.coll.concat($r.v),buf:$r.buf}},{coll:[],buf:_e.slice(Re,lt)},N).coll)})}function h(N,R){return new a(function(Z,se){return p(),se+R>Z.length?S(se,R+" bytes for "+N):C(se+R,Z.slice(se,se+R))})}function d(N,R){if(typeof(Z=R)!="number"||Math.floor(Z)!==Z||R<0||R>6)throw new Error(N+" requires integer length in range [0, 6].");var Z}function g(N){return d("uintBE",N),h("uintBE("+N+")",N).map(function(R){return R.readUIntBE(0,N)})}function y(N){return d("uintLE",N),h("uintLE("+N+")",N).map(function(R){return R.readUIntLE(0,N)})}function w(N){return d("intBE",N),h("intBE("+N+")",N).map(function(R){return R.readIntBE(0,N)})}function v(N){return d("intLE",N),h("intLE("+N+")",N).map(function(R){return R.readIntLE(0,N)})}function x(N){return N instanceof a}function D(N){return{}.toString.call(N)==="[object Array]"}function b(N){return f()&&Buffer.isBuffer(N)}function C(N,R){return{status:!0,index:N,value:R,furthest:-1,expected:[]}}function S(N,R){return D(R)||(R=[R]),{status:!1,index:-1,value:null,furthest:N,expected:R}}function E(N,R){if(!R||N.furthest>R.furthest)return N;var Z=N.furthest===R.furthest?function(se,ye){if(function(){if(a._supportsSet!==void 0)return a._supportsSet;var Ai=typeof Set!="undefined";return a._supportsSet=Ai,Ai}()&&Array.from){for(var _e=new Set(se),Re=0;Re<ye.length;Re++)_e.add(ye[Re]);var lt=Array.from(_e);return lt.sort(),lt}for(var Jt={},Rr=0;Rr<se.length;Rr++)Jt[se[Rr]]=!0;for(var $r=0;$r<ye.length;$r++)Jt[ye[$r]]=!0;var Ci=[];for(var En in Jt)({}).hasOwnProperty.call(Jt,En)&&Ci.push(En);return Ci.sort(),Ci}(N.expected,R.expected):R.expected;return{status:N.status,index:N.index,value:N.value,furthest:R.furthest,expected:Z}}var A={};function M(N,R){if(b(N))return{offset:R,line:-1,column:-1};N in A||(A[N]={});for(var Z=A[N],se=0,ye=0,_e=0,Re=R;Re>=0;){if(Re in Z){se=Z[Re].line,_e===0&&(_e=Z[Re].lineStart);break}(N.charAt(Re)===`
`||N.charAt(Re)==="\r"&&N.charAt(Re+1)!==`
`)&&(ye++,_e===0&&(_e=Re+1)),Re--}var lt=se+ye,Jt=R-_e;return Z[R]={line:lt,lineStart:_e},{offset:R,line:lt+1,column:Jt+1}}function I(N){if(!x(N))throw new Error("not a parser: "+N)}function k(N,R){return typeof N=="string"?N.charAt(R):N[R]}function L(N){if(typeof N!="number")throw new Error("not a number: "+N)}function P(N){if(typeof N!="function")throw new Error("not a function: "+N)}function B(N){if(typeof N!="string")throw new Error("not a string: "+N)}var T=2,z=3,O=8,J=5*O,ee=4*O,j="  ";function V(N,R){return new Array(R+1).join(N)}function re(N,R,Z){var se=R-N.length;return se<=0?N:V(Z,se)+N}function xe(N,R,Z,se){return{from:N-R>0?N-R:0,to:N+Z>se?se:N+Z}}function oe(N,R){var Z,se,ye,_e,Re,lt=R.index,Jt=lt.offset,Rr=1;if(Jt===N.length)return"Got the end of the input";if(b(N)){var $r=Jt-Jt%O,Ci=Jt-$r,En=xe($r,J,ee+O,N.length),Ai=s(function(Pr){return s(function(ka){return re(ka.toString(16),2,"0")},Pr)},function(Pr,ka){var Pa=Pr.length,ua=[],Ra=0;if(Pa<=ka)return[Pr.slice()];for(var La=0;La<Pa;La++)ua[Ra]||ua.push([]),ua[Ra].push(Pr[La]),(La+1)%ka==0&&Ra++;return ua}(N.slice(En.from,En.to).toJSON().data,O));_e=function(Pr){return Pr.from===0&&Pr.to===1?{from:Pr.from,to:Pr.to}:{from:Pr.from/O,to:Math.floor(Pr.to/O)}}(En),se=$r/O,Z=3*Ci,Ci>=4&&(Z+=1),Rr=2,ye=s(function(Pr){return Pr.length<=4?Pr.join(" "):Pr.slice(0,4).join(" ")+"  "+Pr.slice(4).join(" ")},Ai),(Re=(8*(_e.to>0?_e.to-1:_e.to)).toString(16).length)<2&&(Re=2)}else{var Oa=N.split(/\r\n|[\n\r\u2028\u2029]/);Z=lt.column-1,se=lt.line-1,_e=xe(se,T,z,Oa.length),ye=Oa.slice(_e.from,_e.to),Re=_e.to.toString().length}var sd=se-_e.from;return b(N)&&(Re=(8*(_e.to>0?_e.to-1:_e.to)).toString(16).length)<2&&(Re=2),u(function(Pr,ka,Pa){var ua,Ra=Pa===sd,La=Ra?"> ":j;return ua=b(N)?re((8*(_e.from+Pa)).toString(16),Re,"0"):re((_e.from+Pa+1).toString(),Re," "),[].concat(Pr,[La+ua+" | "+ka],Ra?[j+V(" ",Re)+" | "+re("",Z," ")+V("^",Rr)]:[])},[],ye).join(`
`)}function le(N,R){return[`
`,"-- PARSING FAILED "+V("-",50),`

`,oe(N,R),`

`,(Z=R.expected,Z.length===1?`Expected:

`+Z[0]:`Expected one of the following: 

`+Z.join(", ")),`
`].join("");var Z}function ve(N){return N.flags!==void 0?N.flags:[N.global?"g":"",N.ignoreCase?"i":"",N.multiline?"m":"",N.unicode?"u":"",N.sticky?"y":""].join("")}function ue(){for(var N=[].slice.call(arguments),R=N.length,Z=0;Z<R;Z+=1)I(N[Z]);return a(function(se,ye){for(var _e,Re=new Array(R),lt=0;lt<R;lt+=1){if(!(_e=E(N[lt]._(se,ye),_e)).status)return _e;Re[lt]=_e.value,ye=_e.index}return E(C(ye,Re),_e)})}function ce(){var N=[].slice.call(arguments);if(N.length===0)throw new Error("seqMap needs at least one argument");var R=N.pop();return P(R),ue.apply(null,N).map(function(Z){return R.apply(null,Z)})}function me(){var N=[].slice.call(arguments),R=N.length;if(R===0)return fe("zero alternates");for(var Z=0;Z<R;Z+=1)I(N[Z]);return a(function(se,ye){for(var _e,Re=0;Re<N.length;Re+=1)if((_e=E(N[Re]._(se,ye),_e)).status)return _e;return _e})}function de(N,R){return Be(N,R).or(H([]))}function Be(N,R){return I(N),I(R),ce(N,R.then(N).many(),function(Z,se){return[Z].concat(se)})}function we(N){B(N);var R="'"+N+"'";return a(function(Z,se){var ye=se+N.length,_e=Z.slice(se,ye);return _e===N?C(ye,_e):S(se,R)})}function U(N,R){(function(ye){if(!(ye instanceof RegExp))throw new Error("not a regexp: "+ye);for(var _e=ve(ye),Re=0;Re<_e.length;Re++){var lt=_e.charAt(Re);if(lt!=="i"&&lt!=="m"&&lt!=="u"&&lt!=="s")throw new Error('unsupported regexp flag "'+lt+'": '+ye)}})(N),arguments.length>=2?L(R):R=0;var Z=function(ye){return RegExp("^(?:"+ye.source+")",ve(ye))}(N),se=""+N;return a(function(ye,_e){var Re=Z.exec(ye.slice(_e));if(Re){if(0<=R&&R<=Re.length){var lt=Re[0],Jt=Re[R];return C(_e+lt.length,Jt)}return S(_e,"valid match group (0 to "+Re.length+") in "+se)}return S(_e,se)})}function H(N){return a(function(R,Z){return C(Z,N)})}function fe(N){return a(function(R,Z){return S(Z,N)})}function $(N){if(x(N))return a(function(R,Z){var se=N._(R,Z);return se.index=Z,se.value="",se});if(typeof N=="string")return $(we(N));if(N instanceof RegExp)return $(U(N));throw new Error("not a string, regexp, or parser: "+N)}function Q(N){return I(N),a(function(R,Z){var se=N._(R,Z),ye=R.slice(Z,se.index);return se.status?S(Z,'not "'+ye+'"'):C(Z,null)})}function te(N){return P(N),a(function(R,Z){var se=k(R,Z);return Z<R.length&&N(se)?C(Z+1,se):S(Z,"a character/byte matching "+N)})}function he(N,R){arguments.length<2&&(R=N,N=void 0);var Z=a(function(se,ye){return Z._=R()._,Z._(se,ye)});return N?Z.desc(N):Z}function be(){return fe("fantasy-land/empty")}o.parse=function(N){if(typeof N!="string"&&!b(N))throw new Error(".parse must be called with a string or Buffer as its argument");var R,Z=this.skip(gt)._(N,0);return R=Z.status?{status:!0,value:Z.value}:{status:!1,index:M(N,Z.furthest),expected:Z.expected},delete A[N],R},o.tryParse=function(N){var R=this.parse(N);if(R.status)return R.value;var Z=le(N,R),se=new Error(Z);throw se.type="ParsimmonError",se.result=R,se},o.assert=function(N,R){return this.chain(function(Z){return N(Z)?H(Z):fe(R)})},o.or=function(N){return me(this,N)},o.trim=function(N){return this.wrap(N,N)},o.wrap=function(N,R){return ce(N,this,R,function(Z,se){return se})},o.thru=function(N){return N(this)},o.then=function(N){return I(N),ue(this,N).map(function(R){return R[1]})},o.many=function(){var N=this;return a(function(R,Z){for(var se=[],ye=void 0;;){if(!(ye=E(N._(R,Z),ye)).status)return E(C(Z,se),ye);if(Z===ye.index)throw new Error("infinite loop detected in .many() parser --- calling .many() on a parser which can accept zero characters is usually the cause");Z=ye.index,se.push(ye.value)}})},o.tieWith=function(N){return B(N),this.map(function(R){if(function(ye){if(!D(ye))throw new Error("not an array: "+ye)}(R),R.length){B(R[0]);for(var Z=R[0],se=1;se<R.length;se++)B(R[se]),Z+=N+R[se];return Z}return""})},o.tie=function(){return this.tieWith("")},o.times=function(N,R){var Z=this;return arguments.length<2&&(R=N),L(N),L(R),a(function(se,ye){for(var _e=[],Re=void 0,lt=void 0,Jt=0;Jt<N;Jt+=1){if(lt=E(Re=Z._(se,ye),lt),!Re.status)return lt;ye=Re.index,_e.push(Re.value)}for(;Jt<R&&(lt=E(Re=Z._(se,ye),lt),Re.status);Jt+=1)ye=Re.index,_e.push(Re.value);return E(C(ye,_e),lt)})},o.result=function(N){return this.map(function(){return N})},o.atMost=function(N){return this.times(0,N)},o.atLeast=function(N){return ce(this.times(N),this.many(),function(R,Z){return R.concat(Z)})},o.map=function(N){P(N);var R=this;return a(function(Z,se){var ye=R._(Z,se);return ye.status?E(C(ye.index,N(ye.value)),ye):ye})},o.contramap=function(N){P(N);var R=this;return a(function(Z,se){var ye=R.parse(N(Z.slice(se)));return ye.status?C(se+Z.length,ye.value):ye})},o.promap=function(N,R){return P(N),P(R),this.contramap(N).map(R)},o.skip=function(N){return ue(this,N).map(function(R){return R[0]})},o.mark=function(){return ce(Pe,this,Pe,function(N,R,Z){return{start:N,value:R,end:Z}})},o.node=function(N){return ce(Pe,this,Pe,function(R,Z,se){return{name:N,value:Z,start:R,end:se}})},o.sepBy=function(N){return de(this,N)},o.sepBy1=function(N){return Be(this,N)},o.lookahead=function(N){return this.skip($(N))},o.notFollowedBy=function(N){return this.skip(Q(N))},o.desc=function(N){D(N)||(N=[N]);var R=this;return a(function(Z,se){var ye=R._(Z,se);return ye.status||(ye.expected=N),ye})},o.fallback=function(N){return this.or(H(N))},o.ap=function(N){return ce(N,this,function(R,Z){return R(Z)})},o.chain=function(N){var R=this;return a(function(Z,se){var ye=R._(Z,se);return ye.status?E(N(ye.value)._(Z,ye.index),ye):ye})},o.concat=o.or,o.empty=be,o.of=H,o["fantasy-land/ap"]=o.ap,o["fantasy-land/chain"]=o.chain,o["fantasy-land/concat"]=o.concat,o["fantasy-land/empty"]=o.empty,o["fantasy-land/of"]=o.of,o["fantasy-land/map"]=o.map;var Pe=a(function(N,R){return C(R,M(N,R))}),Fe=a(function(N,R){return R>=N.length?S(R,"any character/byte"):C(R+1,k(N,R))}),mt=a(function(N,R){return C(N.length,N.slice(R))}),gt=a(function(N,R){return R<N.length?S(R,"EOF"):C(R,null)}),Lt=U(/[0-9]/).desc("a digit"),Yt=U(/[0-9]*/).desc("optional digits"),W=U(/[a-z]/i).desc("a letter"),ne=U(/[a-z]*/i).desc("optional letters"),pe=U(/\s*/).desc("optional whitespace"),Ae=U(/\s+/).desc("whitespace"),Me=we("\r"),Se=we(`
`),Ne=we(`\r
`),Oe=me(Ne,Se,Me).desc("newline"),_=me(Oe,gt);a.all=mt,a.alt=me,a.any=Fe,a.cr=Me,a.createLanguage=function(N){var R={};for(var Z in N)({}).hasOwnProperty.call(N,Z)&&function(se){R[se]=he(function(){return N[se](R)})}(Z);return R},a.crlf=Ne,a.custom=function(N){return a(N(C,S))},a.digit=Lt,a.digits=Yt,a.empty=be,a.end=_,a.eof=gt,a.fail=fe,a.formatError=le,a.index=Pe,a.isParser=x,a.lazy=he,a.letter=W,a.letters=ne,a.lf=Se,a.lookahead=$,a.makeFailure=S,a.makeSuccess=C,a.newline=Oe,a.noneOf=function(N){return te(function(R){return N.indexOf(R)<0}).desc("none of '"+N+"'")},a.notFollowedBy=Q,a.of=H,a.oneOf=function(N){for(var R=N.split(""),Z=0;Z<R.length;Z++)R[Z]="'"+R[Z]+"'";return te(function(se){return N.indexOf(se)>=0}).desc(R)},a.optWhitespace=pe,a.Parser=a,a.range=function(N,R){return te(function(Z){return N<=Z&&Z<=R}).desc(N+"-"+R)},a.regex=U,a.regexp=U,a.sepBy=de,a.sepBy1=Be,a.seq=ue,a.seqMap=ce,a.seqObj=function(){for(var N,R={},Z=0,se=(N=arguments,Array.prototype.slice.call(N)),ye=se.length,_e=0;_e<ye;_e+=1){var Re=se[_e];if(!x(Re)){if(D(Re)&&Re.length===2&&typeof Re[0]=="string"&&x(Re[1])){var lt=Re[0];if(Object.prototype.hasOwnProperty.call(R,lt))throw new Error("seqObj: duplicate key "+lt);R[lt]=!0,Z++;continue}throw new Error("seqObj arguments must be parsers or [string, parser] array pairs.")}}if(Z===0)throw new Error("seqObj expects at least one named parser, found zero");return a(function(Jt,Rr){for(var $r,Ci={},En=0;En<ye;En+=1){var Ai,Oa;if(D(se[En])?(Ai=se[En][0],Oa=se[En][1]):(Ai=null,Oa=se[En]),!($r=E(Oa._(Jt,Rr),$r)).status)return $r;Ai&&(Ci[Ai]=$r.value),Rr=$r.index}return E(C(Rr,Ci),$r)})},a.string=we,a.succeed=H,a.takeWhile=function(N){return P(N),a(function(R,Z){for(var se=Z;se<R.length&&N(k(R,se));)se++;return C(se,R.slice(Z,se))})},a.test=te,a.whitespace=Ae,a["fantasy-land/empty"]=be,a["fantasy-land/of"]=H,a.Binary={bitSeq:m,bitSeqObj:function(N){p();var R={},Z=0,se=s(function(_e){if(D(_e)){var Re=_e;if(Re.length!==2)throw new Error("["+Re.join(", ")+"] should be length 2, got length "+Re.length);if(B(Re[0]),L(Re[1]),Object.prototype.hasOwnProperty.call(R,Re[0]))throw new Error("duplicate key in bitSeqObj: "+Re[0]);return R[Re[0]]=!0,Z++,Re}return L(_e),[null,_e]},N);if(Z<1)throw new Error("bitSeqObj expects at least one named pair, got ["+N.join(", ")+"]");var ye=s(function(_e){return _e[0]},se);return m(s(function(_e){return _e[1]},se)).map(function(_e){return u(function(Re,lt){return lt[0]!==null&&(Re[lt[0]]=lt[1]),Re},{},s(function(Re,lt){return[Re,_e[lt]]},ye))})},byte:function(N){if(p(),L(N),N>255)throw new Error("Value specified to byte constructor ("+N+"=0x"+N.toString(16)+") is larger in value than a single byte.");var R=(N>15?"0x":"0x0")+N.toString(16);return a(function(Z,se){var ye=k(Z,se);return ye===N?C(se+1,ye):S(se,R)})},buffer:function(N){return h("buffer",N).map(function(R){return Buffer.from(R)})},encodedString:function(N,R){return h("string",R).map(function(Z){return Z.toString(N)})},uintBE:g,uint8BE:g(1),uint16BE:g(2),uint32BE:g(4),uintLE:y,uint8LE:y(1),uint16LE:y(2),uint32LE:y(4),intBE:w,int8BE:w(1),int16BE:w(2),int32BE:w(4),intLE:v,int8LE:v(1),int16LE:v(2),int32LE:v(4),floatBE:h("floatBE",4).map(function(N){return N.readFloatBE(0)}),floatLE:h("floatLE",4).map(function(N){return N.readFloatLE(0)}),doubleBE:h("doubleBE",8).map(function(N){return N.readDoubleBE(0)}),doubleLE:h("doubleLE",8).map(function(N){return N.readDoubleLE(0)})},t.exports=a}])})})(K);var dE=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g;function l8(r){return r==null?r:r.shiftToAll().normalize()}function sL(r){return r.includes("/")&&(r=r.substring(r.lastIndexOf("/")+1)),r.endsWith(".md")&&(r=r.substring(0,r.length-3)),r}K.exports.alt(K.exports.regex(new RegExp(dE(),"")),K.exports.regex(/[0-9\p{Letter}_-]+/u).map(r=>r.toLocaleLowerCase()),K.exports.whitespace.map(r=>"-"),K.exports.any.map(r=>"")).many().map(r=>r.join(""));var VJ=K.exports.alt(K.exports.regex(new RegExp(dE(),"")),K.exports.regex(/[0-9\p{Letter}_-]+/u),K.exports.whitespace.map(r=>" "),K.exports.any.map(r=>" ")).many().map(r=>r.join("").split(/\s+/).join(" ").trim());function UJ(r){return VJ.tryParse(r)}function qJ(r){return r=l8(r),r=ht.fromObject(Object.fromEntries(Object.entries(r.toObject()).filter(([,e])=>e>0))),r.toHuman()}var ec;(function(r){function e(x,D=mE,b=!1){let C=t(x);if(!C)return D.renderNullAs;switch(C.type){case"null":return D.renderNullAs;case"string":return C.value;case"number":case"boolean":return""+C.value;case"html":return C.value.outerHTML;case"widget":return C.value.markdown();case"link":return C.value.markdown();case"function":return"<function>";case"array":let S="";return b&&(S+="["),S+=C.value.map(E=>e(E,D,!0)).join(", "),b&&(S+="]"),S;case"object":return"{ "+Object.entries(C.value).map(E=>E[0]+": "+e(E[1],D,!0)).join(", ")+" }";case"date":return C.value.second==0&&C.value.hour==0&&C.value.minute==0?C.value.toFormat(D.defaultDateFormat):C.value.toFormat(D.defaultDateTimeFormat);case"duration":return qJ(C.value)}}r.toString=e;function t(x){return p(x)?{type:"null",value:x}:s(x)?{type:"number",value:x}:u(x)?{type:"string",value:x}:h(x)?{type:"boolean",value:x}:f(x)?{type:"duration",value:x}:c(x)?{type:"date",value:x}:g(x)?{type:"widget",value:x}:m(x)?{type:"array",value:x}:d(x)?{type:"link",value:x}:v(x)?{type:"function",value:x}:y(x)?{type:"html",value:x}:w(x)?{type:"object",value:x}:void 0}r.wrapValue=t;function n(x,D){if(w(x)){let b={};for(let[C,S]of Object.entries(x))b[C]=n(S,D);return b}else if(m(x)){let b=[];for(let C of x)b.push(n(C,D));return b}else return D(x)}r.mapLeaves=n;function i(x,D,b){var C,S;if(x===void 0&&(x=null),D===void 0&&(D=null),x===null&&D===null)return 0;if(x===null)return-1;if(D===null)return 1;let E=t(x),A=t(D);if(E===void 0&&A===void 0)return 0;if(E===void 0)return-1;if(A===void 0)return 1;if(E.type!=A.type)return E.type.localeCompare(A.type);if(E.value===A.value)return 0;switch(E.type){case"string":return E.value.localeCompare(A.value);case"number":return E.value<A.value?-1:E.value==A.value?0:1;case"null":return 0;case"boolean":return E.value==A.value?0:E.value?1:-1;case"link":let M=E.value,I=A.value,k=b!=null?b:V=>V,L=k(M.path).localeCompare(k(I.path));if(L!=0)return L;let P=M.type.localeCompare(I.type);return P!=0?P:M.subpath&&!I.subpath?1:!M.subpath&&I.subpath?-1:!M.subpath&&!I.subpath?0:((C=M.subpath)!==null&&C!==void 0?C:"").localeCompare((S=I.subpath)!==null&&S!==void 0?S:"");case"date":return E.value<A.value?-1:E.value.equals(A.value)?0:1;case"duration":return E.value<A.value?-1:E.value.equals(A.value)?0:1;case"array":let B=E.value,T=A.value;for(let V=0;V<Math.min(B.length,T.length);V++){let re=i(B[V],T[V]);if(re!=0)return re}return B.length-T.length;case"object":let z=E.value,O=A.value,J=Array.from(Object.keys(z)),ee=Array.from(Object.keys(O));J.sort(),ee.sort();let j=i(J,ee);if(j!=0)return j;for(let V of J){let re=i(z[V],O[V]);if(re!=0)return re}return 0;case"widget":case"html":case"function":return 0}}r.compareValue=i;function a(x){var D;return(D=t(x))===null||D===void 0?void 0:D.type}r.typeOf=a;function o(x){let D=t(x);if(!D)return!1;switch(D.type){case"number":return D.value!=0;case"string":return D.value.length>0;case"boolean":return D.value;case"link":return!!D.value.path;case"date":return D.value.toMillis()!=0;case"duration":return D.value.as("seconds")!=0;case"object":return Object.keys(D.value).length>0;case"array":return D.value.length>0;case"null":return!1;case"html":case"widget":case"function":return!0}}r.isTruthy=o;function l(x){if(x==null)return x;if(r.isArray(x))return[].concat(x.map(D=>l(D)));if(r.isObject(x)){let D={};for(let[b,C]of Object.entries(x))D[b]=l(C);return D}else return x}r.deepCopy=l;function u(x){return typeof x=="string"}r.isString=u;function s(x){return typeof x=="number"}r.isNumber=s;function c(x){return x instanceof Rt}r.isDate=c;function f(x){return x instanceof ht}r.isDuration=f;function p(x){return x==null}r.isNull=p;function m(x){return Array.isArray(x)}r.isArray=m;function h(x){return typeof x=="boolean"}r.isBoolean=h;function d(x){return x instanceof Jm}r.isLink=d;function g(x){return x instanceof tc}r.isWidget=g;function y(x){return typeof HTMLElement!="undefined"?x instanceof HTMLElement:!1}r.isHtml=y;function w(x){return typeof x=="object"&&!y(x)&&!g(x)&&!m(x)&&!f(x)&&!c(x)&&!d(x)&&x!==void 0&&!p(x)}r.isObject=w;function v(x){return typeof x=="function"}r.isFunction=v})(ec||(ec={}));var uL;(function(r){function e(i){return ec.isObject(i)&&Object.keys(i).length==2&&"key"in i&&"rows"in i}r.isElementGroup=e;function t(i){for(let a of i)if(!e(a))return!1;return!0}r.isGrouping=t;function n(i){if(t(i)){let a=0;for(let o of i)a+=n(o.rows);return a}else return i.length}r.count=n})(uL||(uL={}));var Jm=class r{constructor(e){Object.assign(this,e)}static file(e,t=!1,n){return new r({path:e,embed:t,display:n,subpath:void 0,type:"file"})}static infer(e,t=!1,n){if(e.includes("#^")){let i=e.split("#^");return r.block(i[0],i[1],t,n)}else if(e.includes("#")){let i=e.split("#");return r.header(i[0],i[1],t,n)}else return r.file(e,t,n)}static header(e,t,n,i){return new r({path:e,embed:n,display:i,subpath:UJ(t),type:"header"})}static block(e,t,n,i){return new r({path:e,embed:n,display:i,subpath:t,type:"block"})}static fromObject(e){return new r(e)}equals(e){return e==null||e==null?!1:this.path==e.path&&this.type==e.type&&this.subpath==e.subpath}toString(){return this.markdown()}toObject(){return{path:this.path,type:this.type,subpath:this.subpath,display:this.display,embed:this.embed}}withPath(e){return new r(Object.assign({},this,{path:e}))}withDisplay(e){return new r(Object.assign({},this,{display:e}))}withHeader(e){return r.header(this.path,e,this.embed,this.display)}toFile(){return r.file(this.path,this.embed,this.display)}toEmbed(){if(this.embed)return this;{let e=new r(this);return e.embed=!0,e}}fromEmbed(){if(this.embed){let e=new r(this);return e.embed=!1,e}else return this}markdown(){let e=(this.embed?"!":"")+"[["+this.obsidianLink();return this.display?e+="|"+this.display:(e+="|"+sL(this.path),(this.type=="header"||this.type=="block")&&(e+=" > "+this.subpath)),e+="]]",e}obsidianLink(){var e,t;let n=this.path.replace("|","\\|");return this.type=="header"?n+"#"+((e=this.subpath)===null||e===void 0?void 0:e.replace("|","\\|")):this.type=="block"?n+"#^"+((t=this.subpath)===null||t===void 0?void 0:t.replace("|","\\|")):n}fileName(){return sL(this.path).replace(".md","")}},tc=class{constructor(e){this.$widget=e}},tE=class extends tc{constructor(e,t){super("dataview:list-pair"),this.key=e,this.value=t}markdown(){return`${ec.toString(this.key)}: ${ec.toString(this.value)}`}},rE=class extends tc{constructor(e,t){super("dataview:external-link"),this.url=e,this.display=t}markdown(){var e;return`[${(e=this.display)!==null&&e!==void 0?e:this.url}](${this.url})`}},lL;(function(r){function e(o,l){return new tE(o,l)}r.listPair=e;function t(o,l){return new rE(o,l)}r.externalLink=t;function n(o){return o.$widget==="dataview:list-pair"}r.isListPair=n;function i(o){return o.$widget==="dataview:external-link"}r.isExternalLink=i;function a(o){return n(o)||i(o)}r.isBuiltin=a})(lL||(lL={}));var Br;(function(r){function e(p){return{type:"variable",name:p}}r.variable=e;function t(p){return{type:"literal",value:p}}r.literal=t;function n(p,m,h){return{type:"binaryop",left:p,op:m,right:h}}r.binaryOp=n;function i(p,m){return{type:"index",object:p,index:m}}r.index=i;function a(p){let m=p.split("."),h=r.variable(m[0]);for(let d=1;d<m.length;d++)h=r.index(h,r.literal(m[d]));return h}r.indexVariable=a;function o(p,m){return{type:"lambda",arguments:p,value:m}}r.lambda=o;function l(p,m){return{type:"function",func:p,arguments:m}}r.func=l;function u(p){return{type:"list",values:p}}r.list=u;function s(p){return{type:"object",values:p}}r.object=s;function c(p){return{type:"negated",child:p}}r.negate=c;function f(p){return p=="<="||p=="<"||p==">"||p==">="||p=="!="||p=="="}r.isCompareOp=f,r.NULL=r.literal(null)})(Br||(Br={}));var oa;(function(r){function e(c){return{type:"tag",tag:c}}r.tag=e;function t(c){return{type:"csv",path:c}}r.csv=t;function n(c){return{type:"folder",folder:c}}r.folder=n;function i(c,f){return{type:"link",file:c,direction:f?"incoming":"outgoing"}}r.link=i;function a(c,f,p){return{type:"binaryop",left:c,op:f,right:p}}r.binaryOp=a;function o(c,f){return{type:"binaryop",left:c,op:"&",right:f}}r.and=o;function l(c,f){return{type:"binaryop",left:c,op:"|",right:f}}r.or=l;function u(c){return{type:"negate",child:c}}r.negate=u;function s(){return{type:"empty"}}r.empty=s})(oa||(oa={}));var cL=new RegExp(dE(),""),nE={year:ht.fromObject({years:1}),years:ht.fromObject({years:1}),yr:ht.fromObject({years:1}),yrs:ht.fromObject({years:1}),month:ht.fromObject({months:1}),months:ht.fromObject({months:1}),mo:ht.fromObject({months:1}),mos:ht.fromObject({months:1}),week:ht.fromObject({weeks:1}),weeks:ht.fromObject({weeks:1}),wk:ht.fromObject({weeks:1}),wks:ht.fromObject({weeks:1}),w:ht.fromObject({weeks:1}),day:ht.fromObject({days:1}),days:ht.fromObject({days:1}),d:ht.fromObject({days:1}),hour:ht.fromObject({hours:1}),hours:ht.fromObject({hours:1}),hr:ht.fromObject({hours:1}),hrs:ht.fromObject({hours:1}),h:ht.fromObject({hours:1}),minute:ht.fromObject({minutes:1}),minutes:ht.fromObject({minutes:1}),min:ht.fromObject({minutes:1}),mins:ht.fromObject({minutes:1}),m:ht.fromObject({minutes:1}),second:ht.fromObject({seconds:1}),seconds:ht.fromObject({seconds:1}),sec:ht.fromObject({seconds:1}),secs:ht.fromObject({seconds:1}),s:ht.fromObject({seconds:1})},iE={now:()=>Rt.local(),today:()=>Rt.local().startOf("day"),yesterday:()=>Rt.local().startOf("day").minus(ht.fromObject({days:1})),tomorrow:()=>Rt.local().startOf("day").plus(ht.fromObject({days:1})),sow:()=>Rt.local().startOf("week"),"start-of-week":()=>Rt.local().startOf("week"),eow:()=>Rt.local().endOf("week"),"end-of-week":()=>Rt.local().endOf("week"),soy:()=>Rt.local().startOf("year"),"start-of-year":()=>Rt.local().startOf("year"),eoy:()=>Rt.local().endOf("year"),"end-of-year":()=>Rt.local().endOf("year"),som:()=>Rt.local().startOf("month"),"start-of-month":()=>Rt.local().startOf("month"),eom:()=>Rt.local().endOf("month"),"end-of-month":()=>Rt.local().endOf("month")},aE=["FROM","WHERE","LIMIT","GROUP","FLATTEN"];function zJ(r){let e=-1;for(;(e=r.indexOf("|",e+1))>=0;)if(!(e>0&&r[e-1]=="\\"))return[r.substring(0,e).replace(/\\\|/g,"|"),r.substring(e+1)];return[r.replace(/\\\|/g,"|"),void 0]}function $J(r){let[e,t]=zJ(r);return Jm.infer(e,!1,t)}function Jl(r,e,t){return K.exports.seqMap(r,K.exports.seq(K.exports.optWhitespace,e,K.exports.optWhitespace,r).many(),(n,i)=>{if(i.length==0)return n;let a=t(n,i[0][1],i[0][3]);for(let o=1;o<i.length;o++)a=t(a,i[o][1],i[o][3]);return a})}function HJ(r,...e){return K.exports.custom((t,n)=>(i,a)=>{let o=r._(i,a);if(!o.status)return o;for(let l of e){let u=l(o.value)._(i,o.index);if(!u.status)return o;o=u}return o})}var Hi=K.exports.createLanguage({number:r=>K.exports.regexp(/-?[0-9]+(\.[0-9]+)?/).map(e=>Number.parseFloat(e)).desc("number"),string:r=>K.exports.string('"').then(K.exports.alt(r.escapeCharacter,K.exports.noneOf('"\\')).atLeast(0).map(e=>e.join(""))).skip(K.exports.string('"')).desc("string"),escapeCharacter:r=>K.exports.string("\\").then(K.exports.any).map(e=>e==='"'?'"':e==="\\"?"\\":"\\"+e),bool:r=>K.exports.regexp(/true|false|True|False/).map(e=>e.toLowerCase()=="true").desc("boolean ('true' or 'false')"),tag:r=>K.exports.seqMap(K.exports.string("#"),K.exports.alt(K.exports.regexp(/[^\u2000-\u206F\u2E00-\u2E7F'!"#$%&()*+,.:;<=>?@^`{|}~\[\]\\\s]/).desc("text")).many(),(e,t)=>e+t.join("")).desc("tag ('#hello/stuff')"),identifier:r=>K.exports.seqMap(K.exports.alt(K.exports.regexp(/\p{Letter}/u),K.exports.regexp(cL).desc("text")),K.exports.alt(K.exports.regexp(/[0-9\p{Letter}_-]/u),K.exports.regexp(cL).desc("text")).many(),(e,t)=>e+t.join("")).desc("variable identifier"),link:r=>K.exports.regexp(/\[\[([^\[\]]*?)\]\]/u,1).map(e=>$J(e)).desc("file link"),embedLink:r=>K.exports.seqMap(K.exports.string("!").atMost(1),r.link,(e,t)=>(e.length>0&&(t.embed=!0),t)).desc("file link"),binaryPlusMinus:r=>K.exports.regexp(/\+|-/).map(e=>e).desc("'+' or '-'"),binaryMulDiv:r=>K.exports.regexp(/\*|\/|%/).map(e=>e).desc("'*' or '/' or '%'"),binaryCompareOp:r=>K.exports.regexp(/>=|<=|!=|>|<|=/).map(e=>e).desc("'>=' or '<=' or '!=' or '=' or '>' or '<'"),binaryBooleanOp:r=>K.exports.regexp(/and|or|&|\|/i).map(e=>e.toLowerCase()=="and"?"&":e.toLowerCase()=="or"?"|":e).desc("'and' or 'or'"),rootDate:r=>K.exports.seqMap(K.exports.regexp(/\d{4}/),K.exports.string("-"),K.exports.regexp(/\d{2}/),(e,t,n)=>Rt.fromObject({year:Number.parseInt(e),month:Number.parseInt(n)})).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),dateShorthand:r=>K.exports.alt(...Object.keys(iE).sort((e,t)=>t.length-e.length).map(K.exports.string)),date:r=>HJ(r.rootDate,e=>K.exports.seqMap(K.exports.string("-"),K.exports.regexp(/\d{2}/),(t,n)=>e.set({day:Number.parseInt(n)})),e=>K.exports.seqMap(K.exports.string("T"),K.exports.regexp(/\d{2}/),(t,n)=>e.set({hour:Number.parseInt(n)})),e=>K.exports.seqMap(K.exports.string(":"),K.exports.regexp(/\d{2}/),(t,n)=>e.set({minute:Number.parseInt(n)})),e=>K.exports.seqMap(K.exports.string(":"),K.exports.regexp(/\d{2}/),(t,n)=>e.set({second:Number.parseInt(n)})),e=>K.exports.alt(K.exports.seqMap(K.exports.string("."),K.exports.regexp(/\d{3}/),(t,n)=>e.set({millisecond:Number.parseInt(n)})),K.exports.succeed(e)),e=>K.exports.alt(K.exports.seqMap(K.exports.string("+").or(K.exports.string("-")),K.exports.regexp(/\d{1,2}(:\d{2})?/),(t,n)=>e.setZone("UTC"+t+n,{keepLocalTime:!0})),K.exports.seqMap(K.exports.string("Z"),()=>e.setZone("utc",{keepLocalTime:!0})),K.exports.seqMap(K.exports.string("["),K.exports.regexp(/[0-9A-Za-z+-\/]+/u),K.exports.string("]"),(t,n,i)=>e.setZone(n,{keepLocalTime:!0})))).assert(e=>e.isValid,"valid date").desc("date in format YYYY-MM[-DDTHH-MM-SS.MS]"),datePlus:r=>K.exports.alt(r.dateShorthand.map(e=>iE[e]()),r.date).desc("date in format YYYY-MM[-DDTHH-MM-SS.MS] or in shorthand"),durationType:r=>K.exports.alt(...Object.keys(nE).sort((e,t)=>t.length-e.length).map(K.exports.string)),duration:r=>K.exports.seqMap(r.number,K.exports.optWhitespace,r.durationType,(e,t,n)=>nE[n].mapUnits(i=>i*e)).sepBy1(K.exports.string(",").trim(K.exports.optWhitespace).or(K.exports.optWhitespace)).map(e=>e.reduce((t,n)=>t.plus(n))).desc("duration like 4hr2min"),rawNull:r=>K.exports.string("null"),tagSource:r=>r.tag.map(e=>oa.tag(e)),csvSource:r=>K.exports.seqMap(K.exports.string("csv(").skip(K.exports.optWhitespace),r.string,K.exports.string(")"),(e,t,n)=>oa.csv(t)),linkIncomingSource:r=>r.link.map(e=>oa.link(e.path,!0)),linkOutgoingSource:r=>K.exports.seqMap(K.exports.string("outgoing(").skip(K.exports.optWhitespace),r.link,K.exports.string(")"),(e,t,n)=>oa.link(t.path,!1)),folderSource:r=>r.string.map(e=>oa.folder(e)),parensSource:r=>K.exports.seqMap(K.exports.string("("),K.exports.optWhitespace,r.source,K.exports.optWhitespace,K.exports.string(")"),(e,t,n,i,a)=>n),negateSource:r=>K.exports.seqMap(K.exports.alt(K.exports.string("-"),K.exports.string("!")),r.atomSource,(e,t)=>oa.negate(t)),atomSource:r=>K.exports.alt(r.parensSource,r.negateSource,r.linkOutgoingSource,r.linkIncomingSource,r.folderSource,r.tagSource,r.csvSource),binaryOpSource:r=>Jl(r.atomSource,r.binaryBooleanOp.map(e=>e),oa.binaryOp),source:r=>r.binaryOpSource,variableField:r=>r.identifier.chain(e=>aE.includes(e.toUpperCase())?K.exports.fail("Variable fields cannot be a keyword ("+aE.join(" or ")+")"):K.exports.succeed(Br.variable(e))).desc("variable"),numberField:r=>r.number.map(e=>Br.literal(e)).desc("number"),stringField:r=>r.string.map(e=>Br.literal(e)).desc("string"),boolField:r=>r.bool.map(e=>Br.literal(e)).desc("boolean"),dateField:r=>K.exports.seqMap(K.exports.string("date("),K.exports.optWhitespace,r.datePlus,K.exports.optWhitespace,K.exports.string(")"),(e,t,n,i,a)=>Br.literal(n)).desc("date"),durationField:r=>K.exports.seqMap(K.exports.string("dur("),K.exports.optWhitespace,r.duration,K.exports.optWhitespace,K.exports.string(")"),(e,t,n,i,a)=>Br.literal(n)).desc("duration"),nullField:r=>r.rawNull.map(e=>Br.NULL),linkField:r=>r.link.map(e=>Br.literal(e)),listField:r=>r.field.sepBy(K.exports.string(",").trim(K.exports.optWhitespace)).wrap(K.exports.string("[").skip(K.exports.optWhitespace),K.exports.optWhitespace.then(K.exports.string("]"))).map(e=>Br.list(e)).desc("list ('[1, 2, 3]')"),objectField:r=>K.exports.seqMap(r.identifier.or(r.string),K.exports.string(":").trim(K.exports.optWhitespace),r.field,(e,t,n)=>({name:e,value:n})).sepBy(K.exports.string(",").trim(K.exports.optWhitespace)).wrap(K.exports.string("{").skip(K.exports.optWhitespace),K.exports.optWhitespace.then(K.exports.string("}"))).map(e=>{let t={};for(let n of e)t[n.name]=n.value;return Br.object(t)}).desc("object ('{ a: 1, b: 2 }')"),atomInlineField:r=>K.exports.alt(r.date,r.duration.map(e=>l8(e)),r.string,r.tag,r.embedLink,r.bool,r.number,r.rawNull),inlineFieldList:r=>r.atomInlineField.sepBy(K.exports.string(",").trim(K.exports.optWhitespace).lookahead(r.atomInlineField)),inlineField:r=>K.exports.alt(K.exports.seqMap(r.atomInlineField,K.exports.string(",").trim(K.exports.optWhitespace),r.inlineFieldList,(e,t,n)=>[e].concat(n)),r.atomInlineField),atomField:r=>K.exports.alt(r.embedLink.map(e=>Br.literal(e)),r.negatedField,r.linkField,r.listField,r.objectField,r.lambdaField,r.parensField,r.boolField,r.numberField,r.stringField,r.dateField,r.durationField,r.nullField,r.variableField),indexField:r=>K.exports.seqMap(r.atomField,K.exports.alt(r.dotPostfix,r.indexPostfix,r.functionPostfix).many(),(e,t)=>{let n=e;for(let i of t)switch(i.type){case"dot":n=Br.index(n,Br.literal(i.field));break;case"index":n=Br.index(n,i.field);break;case"function":n=Br.func(n,i.fields);break}return n}),negatedField:r=>K.exports.seqMap(K.exports.string("!"),r.indexField,(e,t)=>Br.negate(t)).desc("negated field"),parensField:r=>K.exports.seqMap(K.exports.string("("),K.exports.optWhitespace,r.field,K.exports.optWhitespace,K.exports.string(")"),(e,t,n,i,a)=>n),lambdaField:r=>K.exports.seqMap(r.identifier.sepBy(K.exports.string(",").trim(K.exports.optWhitespace)).wrap(K.exports.string("(").trim(K.exports.optWhitespace),K.exports.string(")").trim(K.exports.optWhitespace)),K.exports.string("=>").trim(K.exports.optWhitespace),r.field,(e,t,n)=>({type:"lambda",arguments:e,value:n})),dotPostfix:r=>K.exports.seqMap(K.exports.string("."),r.identifier,(e,t)=>({type:"dot",field:t})),indexPostfix:r=>K.exports.seqMap(K.exports.string("["),K.exports.optWhitespace,r.field,K.exports.optWhitespace,K.exports.string("]"),(e,t,n,i,a)=>({type:"index",field:n})),functionPostfix:r=>K.exports.seqMap(K.exports.string("("),K.exports.optWhitespace,r.field.sepBy(K.exports.string(",").trim(K.exports.optWhitespace)),K.exports.optWhitespace,K.exports.string(")"),(e,t,n,i,a)=>({type:"function",fields:n})),binaryMulDivField:r=>Jl(r.indexField,r.binaryMulDiv,Br.binaryOp),binaryPlusMinusField:r=>Jl(r.binaryMulDivField,r.binaryPlusMinus,Br.binaryOp),binaryCompareField:r=>Jl(r.binaryPlusMinusField,r.binaryCompareOp,Br.binaryOp),binaryBooleanField:r=>Jl(r.binaryCompareField,r.binaryBooleanOp,Br.binaryOp),binaryOpField:r=>r.binaryBooleanField,field:r=>r.binaryOpField});function WJ(r){try{return Ym.success(Hi.field.tryParse(r))}catch(e){return Ym.failure(""+e)}}var Xm;(function(r){function e(n,i){return{name:n,field:i}}r.named=e;function t(n,i){return{field:n,direction:i}}r.sortBy=t})(Xm||(Xm={}));function GJ(r){return K.exports.custom((e,t)=>(n,i)=>{let a=r._(n,i);return a.status?Object.assign({},a,{value:[a.value,n.substring(i,a.index)]}):a})}function jJ(r){return r.split(/[\r\n]+/).map(e=>e.trim()).join("")}var ZJ=K.exports.createLanguage({queryType:r=>K.exports.alt(K.exports.regexp(/TABLE|LIST|TASK|CALENDAR/i)).map(e=>e.toLowerCase()).desc("query type ('TABLE', 'LIST', 'TASK', or 'CALENDAR')"),explicitNamedField:r=>K.exports.seqMap(Hi.field.skip(K.exports.whitespace),K.exports.regexp(/AS/i).skip(K.exports.whitespace),Hi.identifier.or(Hi.string),(e,t,n)=>Xm.named(n,e)),namedField:r=>K.exports.alt(r.explicitNamedField,GJ(Hi.field).map(([e,t])=>Xm.named(jJ(t),e))),sortField:r=>K.exports.seqMap(Hi.field.skip(K.exports.optWhitespace),K.exports.regexp(/ASCENDING|DESCENDING|ASC|DESC/i).atMost(1),(e,t)=>{let n=t.length==0?"ascending":t[0].toLowerCase();return n=="desc"&&(n="descending"),n=="asc"&&(n="ascending"),{field:e,direction:n}}),headerClause:r=>r.queryType.skip(K.exports.whitespace).chain(e=>{switch(e){case"table":return K.exports.seqMap(K.exports.regexp(/WITHOUT\s+ID/i).skip(K.exports.optWhitespace).atMost(1),K.exports.sepBy(r.namedField,K.exports.string(",").trim(K.exports.optWhitespace)),(t,n)=>({type:"table",fields:n,showId:t.length==0}));case"list":return K.exports.seqMap(K.exports.regexp(/WITHOUT\s+ID/i).skip(K.exports.optWhitespace).atMost(1),Hi.field.atMost(1),(t,n)=>({type:"list",format:n.length==1?n[0]:void 0,showId:t.length==0}));case"task":return K.exports.succeed({type:"task"});case"calendar":return K.exports.seqMap(r.namedField,t=>({type:"calendar",showId:!0,field:t}));default:return K.exports.fail(`Unrecognized query type '${e}'`)}}).desc("TABLE or LIST or TASK or CALENDAR"),fromClause:r=>K.exports.seqMap(K.exports.regexp(/FROM/i),K.exports.whitespace,Hi.source,(e,t,n)=>n),whereClause:r=>K.exports.seqMap(K.exports.regexp(/WHERE/i),K.exports.whitespace,Hi.field,(e,t,n)=>({type:"where",clause:n})).desc("WHERE <expression>"),sortByClause:r=>K.exports.seqMap(K.exports.regexp(/SORT/i),K.exports.whitespace,r.sortField.sepBy1(K.exports.string(",").trim(K.exports.optWhitespace)),(e,t,n)=>({type:"sort",fields:n})).desc("SORT field [ASC/DESC]"),limitClause:r=>K.exports.seqMap(K.exports.regexp(/LIMIT/i),K.exports.whitespace,Hi.field,(e,t,n)=>({type:"limit",amount:n})).desc("LIMIT <value>"),flattenClause:r=>K.exports.seqMap(K.exports.regexp(/FLATTEN/i).skip(K.exports.whitespace),r.namedField,(e,t)=>({type:"flatten",field:t})).desc("FLATTEN <value> [AS <name>]"),groupByClause:r=>K.exports.seqMap(K.exports.regexp(/GROUP BY/i).skip(K.exports.whitespace),r.namedField,(e,t)=>({type:"group",field:t})).desc("GROUP BY <value> [AS <name>]"),clause:r=>K.exports.alt(r.fromClause,r.whereClause,r.sortByClause,r.limitClause,r.groupByClause,r.flattenClause),query:r=>K.exports.seqMap(r.headerClause.trim(K.exports.optWhitespace),r.fromClause.trim(K.exports.optWhitespace).atMost(1),r.clause.trim(K.exports.optWhitespace).many(),(e,t,n)=>({header:e,source:t.length==0?oa.folder(""):t[0],operations:n,settings:mE}))}),YJ=r=>{var e;return r?(e=r.plugins.plugins.dataview)===null||e===void 0?void 0:e.api:window.DataviewAPI},JJ=r=>r.plugins.enabledPlugins.has("dataview");sa.DATE_SHORTHANDS=iE;sa.DURATION_TYPES=nE;sa.EXPRESSION=Hi;sa.KEYWORDS=aE;sa.QUERY_LANGUAGE=ZJ;sa.getAPI=YJ;sa.isPluginEnabled=JJ;sa.parseField=WJ});var vX={};i6(vX,{default:()=>od});module.exports=a6(vX);var B8=require("obsidian");var On=require("obsidian");var EE=["January","February","March","April","May","June","July","August","September","October","November","December"],So=[{index:0,name:"Sunday",shortName:"Su"},{index:1,name:"Monday",shortName:"Mo"},{index:2,name:"Tuesday",shortName:"Tu"},{index:3,name:"Wednesday",shortName:"We"},{index:4,name:"Thursday",shortName:"Th"},{index:5,name:"Friday",shortName:"Fr"},{index:6,name:"Saturday",shortName:"Sa"}],Si={devMode:!1,ignoreCodeBlockRestrictions:!1,preferredDateFormat:"YYYY-MM-DD",useUsDateInputOrder:!1,firstWeekday:So[1],syncInterval:200,minSyncInterval:50,maxSyncInterval:1e3,enableJs:!1,viewFieldDisplayNullAsEmpty:!1,inputFieldTemplates:[],excludedFolders:["templates"],inputTemplates:void 0};var dC=require("obsidian");function ke(){}function o6(r,e){for(let t in e)r[t]=e[t];return r}function ud(r){return r()}function sc(){return Object.create(null)}function st(r){r.forEach(ud)}function uc(r){return typeof r=="function"}function He(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}var oc;function xs(r,e){return r===e?!0:(oc||(oc=document.createElement("a")),oc.href=e,r===oc.href)}function CE(r){return Object.keys(r).length===0}function Fo(r,e,t,n){if(r){let i=AE(r,e,t,n);return r[0](i)}}function AE(r,e,t,n){return r[1]&&n?o6(t.ctx.slice(),r[1](n(e))):t.ctx}function No(r,e,t,n){if(r[2]&&n){let i=r[2](n(t));if(e.dirty===void 0)return i;if(typeof i=="object"){let a=[],o=Math.max(e.dirty.length,i.length);for(let l=0;l<o;l+=1)a[l]=e.dirty[l]|i[l];return a}return e.dirty|i}return e.dirty}function _o(r,e,t,n,i,a){if(i){let o=AE(e,t,n,a);r.p(o,i)}}function Mo(r){if(r.ctx.length>32){let e=[],t=r.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}var Uu=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;var lc=class r{constructor(e){Xr(this,"_listeners","WeakMap"in Uu?new WeakMap:void 0);Xr(this,"_observer");Xr(this,"options");this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){var e;return(e=this._observer)!=null?e:this._observer=new ResizeObserver(t=>{var n;for(let i of t)r.entries.set(i.target,i),(n=this._listeners.get(i.target))==null||n(i)})}};lc.entries="WeakMap"in Uu?new WeakMap:void 0;var SE=!1;function FE(){SE=!0}function NE(){SE=!1}function G(r,e){r.appendChild(e)}function pn(r,e,t){let n=_E(r);if(!n.getElementById(e)){let i=X("style");i.id=e,i.textContent=t,l6(n,i)}}function _E(r){if(!r)return document;let e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function l6(r,e){return G(r.head||r,e),e.sheet}function ae(r,e,t){r.insertBefore(e,t||null)}function ie(r){r.parentNode&&r.parentNode.removeChild(r)}function Mt(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function X(r){return document.createElement(r)}function Wn(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function We(r){return document.createTextNode(r)}function Ee(){return We(" ")}function mr(){return We("")}function Te(r,e,t,n){return r.addEventListener(e,t,n),()=>r.removeEventListener(e,t,n)}function q(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function la(r){return r===""?null:+r}function ME(r){return Array.from(r.childNodes)}function ct(r,e){e=""+e,r.data!==e&&(r.data=e)}function bt(r,e){r.value=e==null?"":e}function bs(r,e,t,n){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,n?"important":"")}function tn(r,e,t){for(let n=0;n<r.options.length;n+=1){let i=r.options[n];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function Gi(r){let e=r.querySelector(":checked");return e&&e.__value}function Wt(r,e,t){r.classList.toggle(e,!!t)}function cc(r,e,{bubbles:t=!1,cancelable:n=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:n})}function TE(r){let e={};return r.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var Va;function ca(r){Va=r}function fc(){if(!Va)throw new Error("Function called outside component initialization");return Va}function rn(r){fc().$$.on_mount.push(r)}function qu(r){fc().$$.on_destroy.push(r)}function zu(){let r=fc();return(e,t,{cancelable:n=!1}={})=>{let i=r.$$.callbacks[e];if(i){let a=cc(e,t,{cancelable:n});return i.slice().forEach(o=>{o.call(r,a)}),!a.defaultPrevented}return!0}}function IE(r,e){let t=r.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}var To=[];var nn=[],ws=[],cd=[],h6=Promise.resolve(),fd=!1;function BE(){fd||(fd=!0,h6.then(mc))}function Cn(r){ws.push(r)}function pc(r){cd.push(r)}var ld=new Set,Ds=0;function mc(){if(Ds!==0)return;let r=Va;do{try{for(;Ds<To.length;){let e=To[Ds];Ds++,ca(e),g6(e.$$)}}catch(e){throw To.length=0,Ds=0,e}for(ca(null),To.length=0,Ds=0;nn.length;)nn.pop()();for(let e=0;e<ws.length;e+=1){let t=ws[e];ld.has(t)||(ld.add(t),t())}ws.length=0}while(To.length);for(;cd.length;)cd.pop()();fd=!1,ld.clear(),ca(r)}function g6(r){if(r.fragment!==null){r.update(),st(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Cn)}}function OE(r){let e=[],t=[];ws.forEach(n=>r.indexOf(n)===-1?e.push(n):t.push(n)),t.forEach(n=>n()),ws=e}var dc=new Set,Io;function Bt(){Io={r:0,c:[],p:Io}}function Ot(){Io.r||st(Io.c),Io=Io.p}function ge(r,e){r&&r.i&&(dc.delete(r),r.i(e))}function De(r,e,t,n){if(r&&r.o){if(dc.has(r))return;dc.add(r),Io.c.push(()=>{dc.delete(r),n&&(t&&r.d(1),n())}),r.o(e)}else n&&n()}function Ke(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function kE(r,e){r.d(1),e.delete(r.key)}function PE(r,e){De(r,1,1,()=>{e.delete(r.key)})}function hc(r,e,t,n,i,a,o,l,u,s,c,f){let p=r.length,m=a.length,h=p,d={};for(;h--;)d[r[h].key]=h;let g=[],y=new Map,w=new Map,v=[];for(h=m;h--;){let C=f(i,a,h),S=t(C),E=o.get(S);E?n&&v.push(()=>E.p(C,e)):(E=s(S,C),E.c()),y.set(S,g[h]=E),S in d&&w.set(S,Math.abs(h-d[S]))}let x=new Set,D=new Set;function b(C){ge(C,1),C.m(l,c),o.set(C.key,C),c=C.first,m--}for(;p&&m;){let C=g[m-1],S=r[p-1],E=C.key,A=S.key;C===S?(c=C.first,p--,m--):y.has(A)?!o.has(E)||x.has(E)?b(C):D.has(A)?p--:w.get(E)>w.get(A)?(D.add(E),b(C)):(x.add(A),p--):(u(S,o),p--)}for(;p--;){let C=r[p];y.has(C.key)||u(C,o)}for(;m;)b(g[m-1]);return st(v),g}var v6=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],y6=new Set([...v6]);function gc(r,e,t){let n=r.$$.props[e];n!==void 0&&(r.$$.bound[n]=t,t(r.$$.ctx[n]))}function Qe(r){r&&r.c()}function Je(r,e,t){let{fragment:n,after_update:i}=r.$$;n&&n.m(e,t),Cn(()=>{let a=r.$$.on_mount.map(ud).filter(uc);r.$$.on_destroy?r.$$.on_destroy.push(...a):st(a),r.$$.on_mount=[]}),i.forEach(Cn)}function Xe(r,e){let t=r.$$;t.fragment!==null&&(OE(t.after_update),st(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function b6(r,e){r.$$.dirty[0]===-1&&(To.push(r),BE(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function Ge(r,e,t,n,i,a,o=null,l=[-1]){let u=Va;ca(r);let s=r.$$={fragment:null,ctx:[],props:a,update:ke,not_equal:i,bound:sc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:sc(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};o&&o(s.root);let c=!1;if(s.ctx=t?t(r,e.props||{},(f,p,...m)=>{let h=m.length?m[0]:p;return s.ctx&&i(s.ctx[f],s.ctx[f]=h)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](h),c&&b6(r,f)),p}):[],s.update(),c=!0,st(s.before_update),s.fragment=n?n(s.ctx):!1,e.target){if(e.hydrate){FE();let f=ME(e.target);s.fragment&&s.fragment.l(f),f.forEach(ie)}else s.fragment&&s.fragment.c();e.intro&&ge(r.$$.fragment),Je(r,e.target,e.anchor),NE(),mc()}ca(u)}var D6;typeof HTMLElement=="function"&&(D6=class extends HTMLElement{constructor(e,t,n){super();Xr(this,"$$ctor");Xr(this,"$$s");Xr(this,"$$c");Xr(this,"$$cn",!1);Xr(this,"$$d",{});Xr(this,"$$r",!1);Xr(this,"$$p_d",{});Xr(this,"$$l",{});Xr(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){let i=this.$$c.$on(e,t);this.$$l_u.set(t,i)}super.addEventListener(e,t,n)}removeEventListener(e,t,n){if(super.removeEventListener(e,t,n),this.$$c){let i=this.$$l_u.get(t);i&&(i(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let e=function(a){return()=>{let o;return{c:function(){o=X("slot"),a!=="default"&&q(o,"name",a)},m:function(s,c){ae(s,o,c)},d:function(s){s&&ie(o)}}}};if(await Promise.resolve(),!this.$$cn)return;let t={},n=TE(this);for(let a of this.$$s)a in n&&(t[a]=[e(a)]);for(let a of this.attributes){let o=this.$$g_p(a.name);o in this.$$d||(this.$$d[o]=pd(o,a.value,this.$$p_d,"toProp"))}this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:t,$$scope:{ctx:[]}}});let i=()=>{this.$$r=!0;for(let a in this.$$p_d)if(this.$$d[a]=this.$$c.$$.ctx[this.$$c.$$.props[a]],this.$$p_d[a].reflect){let o=pd(a,this.$$d[a],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[a].attribute||a):this.setAttribute(this.$$p_d[a].attribute||a,o)}this.$$r=!1};this.$$c.$$.after_update.push(i),i();for(let a in this.$$l)for(let o of this.$$l[a]){let l=this.$$c.$on(a,o);this.$$l_u.set(o,l)}this.$$l={}}}attributeChangedCallback(e,t,n){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=pd(e,n,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{this.$$cn||(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function pd(r,e,t,n){var a;let i=(a=t[r])==null?void 0:a.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!n||!t[r])return e;if(n==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e==null?null:e;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var ze=class{constructor(){Xr(this,"$$");Xr(this,"$$set")}$destroy(){Xe(this,1),this.$destroy=ke}$on(e,t){if(!uc(t))return ke;let n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{let i=n.indexOf(t);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!CE(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var RE="4";typeof window!="undefined"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(RE);var Hr=class extends Error{constructor(t){super("");this.errorLevel=t.errorLevel,this.effect=t.effect,this.cause=t.cause,this.tip=t.tip,this.docs=t.docs,this.context=t.context,this.positionContext=t.positionContext,this.updateMessage()}updateMessage(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"`}log(){console.log(this.message,this.stack,this.context)}},Fi=class extends Hr{getErrorType(){return"MB_INTERNAL"}},fa=class extends Hr{getErrorType(){return"MB_PARSING"}},$u=class extends Hr{getErrorType(){return"MB_VALIDATION"}},Bo=class extends Hr{getErrorType(){return"MB_BIND_TARGET"}};var lr=class extends Hr{getErrorType(){return"MB_ARGUMENT"}},Oo=class extends Hr{getErrorType(){return"MB_JS"}},pa=class extends Hr{getErrorType(){return"MB_EXPRESSION"}};var Hu=class extends Hr{getErrorType(){return"MB_EXAMPLE"}},Es=class extends Hr{getErrorType(){return"MB_EMBED"}},vc=class extends Hr{getErrorType(){return"MB_BUTTON"}};function LE(r,e,t){let n=r.slice();return n[1]=e[t],n}function w6(r){let e,t,n,i=r[0].stack+"",a;return{c(){e=X("div"),t=X("pre"),n=X("code"),a=We(i),q(n,"class","language-none mb-none"),q(t,"class","mb-pre"),q(e,"class","mb-card")},m(o,l){ae(o,e,l),G(e,t),G(t,n),G(n,a)},p(o,l){l&1&&i!==(i=o[0].stack+"")&&ct(a,i)},d(o){o&&ie(e)}}}function E6(r){let e,t,n,i=r[0].errorLevel+"",a,o,l=r[0].getErrorType()+"",u,s,c,f,p=r[0].effect+"",m,h,d,g,y,w,v,x,D,b=r[0].cause+"",C,S,E,A,M,I,k=r[0].effect+"",L,P,B,T,z=r[0].positionContext&&VE(r),O=r[0].tip&&UE(r),J=r[0].docs&&qE(r),ee=r[0].context&&$E(r);return{c(){e=X("div"),t=X("h6"),n=X("span"),a=We(i),o=We(`
				[`),u=We(l),s=We("]"),f=We(`
			- `),m=We(p),h=Ee(),z&&z.c(),d=Ee(),g=X("table"),y=X("tbody"),w=X("tr"),v=X("td"),v.textContent="Cause",x=Ee(),D=X("td"),C=We(b),S=Ee(),E=X("tr"),A=X("td"),A.textContent="Effect",M=Ee(),I=X("td"),L=We(k),P=Ee(),O&&O.c(),B=Ee(),J&&J.c(),T=Ee(),ee&&ee.c(),q(n,"class",c=r[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text"),q(e,"class","mb-card mb-card-full-width markdown-rendered")},m(j,V){ae(j,e,V),G(e,t),G(t,n),G(n,a),G(n,o),G(n,u),G(n,s),G(t,f),G(t,m),G(e,h),z&&z.m(e,null),G(e,d),G(e,g),G(g,y),G(y,w),G(w,v),G(w,x),G(w,D),G(D,C),G(y,S),G(y,E),G(E,A),G(E,M),G(E,I),G(I,L),G(y,P),O&&O.m(y,null),G(y,B),J&&J.m(y,null),G(y,T),ee&&ee.m(y,null)},p(j,V){V&1&&i!==(i=j[0].errorLevel+"")&&ct(a,i),V&1&&l!==(l=j[0].getErrorType()+"")&&ct(u,l),V&1&&c!==(c=j[0].errorLevel==="WARNING"?"mb-warning-text":"mb-error-text")&&q(n,"class",c),V&1&&p!==(p=j[0].effect+"")&&ct(m,p),j[0].positionContext?z?z.p(j,V):(z=VE(j),z.c(),z.m(e,d)):z&&(z.d(1),z=null),V&1&&b!==(b=j[0].cause+"")&&ct(C,b),V&1&&k!==(k=j[0].effect+"")&&ct(L,k),j[0].tip?O?O.p(j,V):(O=UE(j),O.c(),O.m(y,B)):O&&(O.d(1),O=null),j[0].docs?J?J.p(j,V):(J=qE(j),J.c(),J.m(y,T)):J&&(J.d(1),J=null),j[0].context?ee?ee.p(j,V):(ee=$E(j),ee.c(),ee.m(y,null)):ee&&(ee.d(1),ee=null)},d(j){j&&ie(e),z&&z.d(),O&&O.d(),J&&J.d(),ee&&ee.d()}}}function VE(r){let e,t,n=r[0].positionContext+"",i;return{c(){e=X("pre"),t=X("code"),i=We(n),q(t,"class","language-none mb-none"),q(e,"class","mb-pre")},m(a,o){ae(a,e,o),G(e,t),G(t,i)},p(a,o){o&1&&n!==(n=a[0].positionContext+"")&&ct(i,n)},d(a){a&&ie(e)}}}function UE(r){let e,t,n,i,a=r[0].tip+"",o;return{c(){e=X("tr"),t=X("td"),t.textContent="Tip",n=Ee(),i=X("td"),o=We(a)},m(l,u){ae(l,e,u),G(e,t),G(e,n),G(e,i),G(i,o)},p(l,u){u&1&&a!==(a=l[0].tip+"")&&ct(o,a)},d(l){l&&ie(e)}}}function qE(r){let e,t,n,i,a=Ke(r[0].docs),o=[];for(let l=0;l<a.length;l+=1)o[l]=zE(LE(r,a,l));return{c(){e=X("tr"),t=X("td"),t.textContent="Docs",n=Ee(),i=X("td");for(let l=0;l<o.length;l+=1)o[l].c()},m(l,u){ae(l,e,u),G(e,t),G(e,n),G(e,i);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(i,null)},p(l,u){if(u&1){a=Ke(l[0].docs);let s;for(s=0;s<a.length;s+=1){let c=LE(l,a,s);o[s]?o[s].p(c,u):(o[s]=zE(c),o[s].c(),o[s].m(i,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d(l){l&&ie(e),Mt(o,l)}}}function zE(r){let e,t=r[1]+"",n,i,a;return{c(){e=X("a"),n=We(t),a=X("br"),q(e,"href",i=r[1])},m(o,l){ae(o,e,l),G(e,n),ae(o,a,l)},p(o,l){l&1&&t!==(t=o[1]+"")&&ct(n,t),l&1&&i!==(i=o[1])&&q(e,"href",i)},d(o){o&&(ie(e),ie(a))}}}function $E(r){let e,t,n,i,a,o,l=JSON.stringify(r[0].context,null,4)+"",u;return{c(){e=X("tr"),t=X("td"),t.textContent="Context",n=Ee(),i=X("td"),a=X("pre"),o=X("code"),u=We(l),q(o,"class","language-none mb-none"),q(a,"class","mb-pre")},m(s,c){ae(s,e,c),G(e,t),G(e,n),G(e,i),G(i,a),G(a,o),G(o,u)},p(s,c){c&1&&l!==(l=JSON.stringify(s[0].context,null,4)+"")&&ct(u,l)},d(s){s&&ie(e)}}}function C6(r){let e;function t(a,o){return a[0]instanceof Hr?E6:w6}let n=t(r,-1),i=n(r);return{c(){i.c(),e=mr()},m(a,o){i.m(a,o),ae(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:ke,o:ke,d(a){a&&ie(e),i.d(a)}}}function A6(r,e,t){let{error:n}=e;return r.$$set=i=>{"error"in i&&t(0,n=i.error)},[n]}var md=class extends ze{constructor(e){super(),Ge(this,e,A6,C6,He,{error:0})}},dd=md;function HE(r,e,t){let n=r.slice();return n[2]=e[t],n}function WE(r,e,t){let n=r.slice();return n[5]=e[t],n}function GE(r){let e,t,n;return{c(){e=X("p"),t=X("code"),n=We(r[1]),q(t,"class","language-none meta-bind-none")},m(i,a){ae(i,e,a),G(e,t),G(t,n)},p(i,a){a&2&&ct(n,i[1])},d(i){i&&ie(e)}}}function jE(r){let e,t,n,i,a,o,l=Ke(r[0].getErrors()),u=[];for(let c=0;c<l.length;c+=1)u[c]=ZE(WE(r,l,c));let s=c=>De(u[c],1,1,()=>{u[c]=null});return{c(){e=X("h6"),e.textContent="Errors",t=Ee(),n=X("p"),n.textContent="Errors caused the creation of the field to fail. Sometimes one error only occurs because of another.",i=Ee();for(let c=0;c<u.length;c+=1)u[c].c();a=mr()},m(c,f){ae(c,e,f),ae(c,t,f),ae(c,n,f),ae(c,i,f);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(c,f);ae(c,a,f),o=!0},p(c,f){if(f&1){l=Ke(c[0].getErrors());let p;for(p=0;p<l.length;p+=1){let m=WE(c,l,p);u[p]?(u[p].p(m,f),ge(u[p],1)):(u[p]=ZE(m),u[p].c(),ge(u[p],1),u[p].m(a.parentNode,a))}for(Bt(),p=l.length;p<u.length;p+=1)s(p);Ot()}},i(c){if(!o){for(let f=0;f<l.length;f+=1)ge(u[f]);o=!0}},o(c){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)De(u[f]);o=!1},d(c){c&&(ie(e),ie(t),ie(n),ie(i),ie(a)),Mt(u,c)}}}function ZE(r){let e,t;return e=new dd({props:{error:r[5]}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.error=n[5]),e.$set(a)},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function YE(r){let e,t,n,i,a,o,l=Ke(r[0].getWarnings()),u=[];for(let c=0;c<l.length;c+=1)u[c]=JE(HE(r,l,c));let s=c=>De(u[c],1,1,()=>{u[c]=null});return{c(){e=X("h6"),e.textContent="Warnings",t=Ee(),n=X("p"),n.textContent=`Warnings will not cause the creation of a field to fail, but they indicate that a part of the declaration was
		invalid or uses deprecated functionality.`,i=Ee();for(let c=0;c<u.length;c+=1)u[c].c();a=mr()},m(c,f){ae(c,e,f),ae(c,t,f),ae(c,n,f),ae(c,i,f);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(c,f);ae(c,a,f),o=!0},p(c,f){if(f&1){l=Ke(c[0].getWarnings());let p;for(p=0;p<l.length;p+=1){let m=HE(c,l,p);u[p]?(u[p].p(m,f),ge(u[p],1)):(u[p]=JE(m),u[p].c(),ge(u[p],1),u[p].m(a.parentNode,a))}for(Bt(),p=l.length;p<u.length;p+=1)s(p);Ot()}},i(c){if(!o){for(let f=0;f<l.length;f+=1)ge(u[f]);o=!0}},o(c){u=u.filter(Boolean);for(let f=0;f<u.length;f+=1)De(u[f]);o=!1},d(c){c&&(ie(e),ie(t),ie(n),ie(i),ie(a)),Mt(u,c)}}}function JE(r){let e,t;return e=new dd({props:{error:r[2]}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.error=n[2]),e.$set(a)},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function S6(r){let e,t=r[0].hasErrors(),n,i=r[0].hasWarnings(),a,o,l=r[1]&&GE(r),u=t&&jE(r),s=i&&YE(r);return{c(){l&&l.c(),e=Ee(),u&&u.c(),n=Ee(),s&&s.c(),a=mr()},m(c,f){l&&l.m(c,f),ae(c,e,f),u&&u.m(c,f),ae(c,n,f),s&&s.m(c,f),ae(c,a,f),o=!0},p(c,[f]){c[1]?l?l.p(c,f):(l=GE(c),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&1&&(t=c[0].hasErrors()),t?u?(u.p(c,f),f&1&&ge(u,1)):(u=jE(c),u.c(),ge(u,1),u.m(n.parentNode,n)):u&&(Bt(),De(u,1,1,()=>{u=null}),Ot()),f&1&&(i=c[0].hasWarnings()),i?s?(s.p(c,f),f&1&&ge(s,1)):(s=YE(c),s.c(),ge(s,1),s.m(a.parentNode,a)):s&&(Bt(),De(s,1,1,()=>{s=null}),Ot())},i(c){o||(ge(u),ge(s),o=!0)},o(c){De(u),De(s),o=!1},d(c){c&&(ie(e),ie(n),ie(a)),l&&l.d(c),u&&u.d(c),s&&s.d(c)}}}function F6(r,e,t){let{errorCollection:n}=e,{declaration:i}=e;return r.$$set=a=>{"errorCollection"in a&&t(0,n=a.errorCollection),"declaration"in a&&t(1,i=a.declaration)},[n,i]}var hd=class extends ze{constructor(e){super(),Ge(this,e,F6,S6,He,{errorCollection:0,declaration:1})}},Cs=hd;function N6(r){let e,t,n=r[1].default,i=Fo(n,r,r[0],null);return{c(){e=X("div"),i&&i.c(),q(e,"class","modal-button-container")},m(a,o){ae(a,e,o),i&&i.m(e,null),t=!0},p(a,[o]){i&&i.p&&(!t||o&1)&&_o(i,n,a,a[0],t?No(n,a[0],o,null):Mo(a[0]),null)},i(a){t||(ge(i,a),t=!0)},o(a){De(i,a),t=!1},d(a){a&&ie(e),i&&i.d(a)}}}function _6(r,e,t){let{$$slots:n={},$$scope:i}=e;return r.$$set=a=>{"$$scope"in a&&t(0,i=a.$$scope)},[i,n]}var gd=class extends ze{constructor(e){super(),Ge(this,e,_6,N6,He,{})}},yc=gd;var Kt;(function(r){r.assertEqual=i=>i;function e(i){}r.assertIs=e;function t(i){throw new Error}r.assertNever=t,r.arrayToEnum=i=>{let a={};for(let o of i)a[o]=o;return a},r.getValidEnumValues=i=>{let a=r.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(let l of a)o[l]=i[l];return r.objectValues(o)},r.objectValues=i=>r.objectKeys(i).map(function(a){return i[a]}),r.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},r.find=(i,a)=>{for(let o of i)if(a(o))return o},r.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}r.joinValues=n,r.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Kt||(Kt={}));var yd;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(yd||(yd={}));var et=Kt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ua=r=>{switch(typeof r){case"undefined":return et.undefined;case"string":return et.string;case"number":return isNaN(r)?et.nan:et.number;case"boolean":return et.boolean;case"function":return et.function;case"bigint":return et.bigint;case"symbol":return et.symbol;case"object":return Array.isArray(r)?et.array:r===null?et.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?et.promise:typeof Map!="undefined"&&r instanceof Map?et.map:typeof Set!="undefined"&&r instanceof Set?et.set:typeof Date!="undefined"&&r instanceof Date?et.date:et.object;default:return et.unknown}},qe=Kt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),M6=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),Gn=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(a){return a.message},n={_errors:[]},i=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(t(o));else{let l=n,u=0;for(;u<o.path.length;){let s=o.path[u];u===o.path.length-1?(l[s]=l[s]||{_errors:[]},l[s]._errors.push(t(o))):l[s]=l[s]||{_errors:[]},l=l[s],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Kt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){let t={},n=[];for(let i of this.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};Gn.create=r=>new Gn(r);var Wu=(r,e)=>{let t;switch(r.code){case qe.invalid_type:r.received===et.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case qe.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,Kt.jsonStringifyReplacer)}`;break;case qe.unrecognized_keys:t=`Unrecognized key(s) in object: ${Kt.joinValues(r.keys,", ")}`;break;case qe.invalid_union:t="Invalid input";break;case qe.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${Kt.joinValues(r.options)}`;break;case qe.invalid_enum_value:t=`Invalid enum value. Expected ${Kt.joinValues(r.options)}, received '${r.received}'`;break;case qe.invalid_arguments:t="Invalid function arguments";break;case qe.invalid_return_type:t="Invalid function return type";break;case qe.invalid_date:t="Invalid date";break;case qe.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:Kt.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case qe.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case qe.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case qe.custom:t="Invalid input";break;case qe.invalid_intersection_types:t="Intersection results could not be merged";break;case qe.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case qe.not_finite:t="Number must be finite";break;default:t=e.defaultError,Kt.assertNever(r)}return{message:t}},KE=Wu;function T6(r){KE=r}function bc(){return KE}var Dc=r=>{let{data:e,path:t,errorMaps:n,issueData:i}=r,a=[...t,...i.path||[]],o={...i,path:a},l="",u=n.filter(s=>!!s).slice().reverse();for(let s of u)l=s(o,{data:e,defaultError:l}).message;return{...i,path:a,message:i.message||l}},I6=[];function rt(r,e){let t=Dc({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,bc(),Wu].filter(n=>!!n)});r.common.issues.push(t)}var mn=class r{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){let n=[];for(let i of t){if(i.status==="aborted")return Ft;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){let n=[];for(let i of t)n.push({key:await i.key,value:await i.value});return r.mergeObjectSync(e,n)}static mergeObjectSync(e,t){let n={};for(let i of t){let{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Ft;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value!="undefined"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}},Ft=Object.freeze({status:"aborted"}),eC=r=>({status:"dirty",value:r}),An=r=>({status:"valid",value:r}),xd=r=>r.status==="aborted",bd=r=>r.status==="dirty",Gu=r=>r.status==="valid",wc=r=>typeof Promise!="undefined"&&r instanceof Promise,dt;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(dt||(dt={}));var si=class{constructor(e,t,n,i){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},XE=(r,e)=>{if(Gu(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new Gn(r.common.issues);return this._error=t,this._error}}};function Tt(r){if(!r)return{};let{errorMap:e,invalid_type_error:t,required_error:n,description:i}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>o.code!=="invalid_type"?{message:l.defaultError}:typeof l.data=="undefined"?{message:n!=null?n:l.defaultError}:{message:t!=null?t:l.defaultError},description:i}}var It=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ua(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ua(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mn,ctx:{common:e.parent.common,data:e.data,parsedType:Ua(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(wc(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){let t=this._parse(e);return Promise.resolve(t)}parse(e,t){let n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;let i={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ua(e)},a=this._parseSync({data:e,path:i.path,parent:i});return XE(i,a)}async parseAsync(e,t){let n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){let n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ua(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(wc(i)?i:Promise.resolve(i));return XE(n,a)}refine(e,t){let n=i=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(i):t;return this._refinement((i,a)=>{let o=e(i),l=()=>a.addIssue({code:qe.custom,...n(i)});return typeof Promise!="undefined"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,t){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof t=="function"?t(n,i):t),!1))}_refinement(e){return new jn({schema:this,typeName:Dt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ni.create(this,this._def)}nullable(){return ha.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return da.create(this,this._def)}promise(){return $a.create(this,this._def)}or(e){return qo.create([this,e],this._def)}and(e){return zo.create(this,e,this._def)}transform(e){return new jn({...Tt(this._def),schema:this,typeName:Dt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let t=typeof e=="function"?e:()=>e;return new jo({...Tt(this._def),innerType:this,defaultValue:t,typeName:Dt.ZodDefault})}brand(){return new Sc({typeName:Dt.ZodBranded,type:this,...Tt(this._def)})}catch(e){let t=typeof e=="function"?e:()=>e;return new Ms({...Tt(this._def),innerType:this,catchValue:t,typeName:Dt.ZodCatch})}describe(e){let t=this.constructor;return new t({...this._def,description:e})}pipe(e){return ju.create(this,e)}readonly(){return Is.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},B6=/^c[^\s-]{8,}$/i,O6=/^[a-z][a-z0-9]*$/,k6=/^[0-9A-HJKMNP-TV-Z]{26}$/,P6=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,R6=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,L6="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",vd,V6=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,U6=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,q6=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function z6(r,e){return!!((e==="v4"||!e)&&V6.test(r)||(e==="v6"||!e)&&U6.test(r))}var qa=class r extends It{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==et.string){let a=this._getOrReturnCtx(e);return rt(a,{code:qe.invalid_type,expected:et.string,received:a.parsedType}),Ft}let n=new mn,i;for(let a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),rt(i,{code:qe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),rt(i,{code:qe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?rt(i,{code:qe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&rt(i,{code:qe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")R6.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"email",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")vd||(vd=new RegExp(L6,"u")),vd.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"emoji",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")P6.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"uuid",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")B6.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"cuid",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")O6.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"cuid2",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")k6.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"ulid",code:qe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch(o){i=this._getOrReturnCtx(e,i),rt(i,{validation:"url",code:qe.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"regex",code:qe.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),rt(i,{code:qe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),rt(i,{code:qe.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),rt(i,{code:qe.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?q6(a).test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{code:qe.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?z6(e.data,a.version)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"ip",code:qe.invalid_string,message:a.message}),n.dirty()):Kt.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(i=>e.test(i),{validation:t,code:qe.invalid_string,...dt.errToObj(n)})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...dt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...dt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...dt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...dt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...dt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...dt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...dt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...dt.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!==null&&t!==void 0?t:!1,...dt.errToObj(e==null?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...dt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...dt.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...dt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...dt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...dt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...dt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...dt.errToObj(t)})}nonempty(e){return this.min(1,dt.errToObj(e))}trim(){return new r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};qa.create=r=>{var e;return new qa({checks:[],typeName:Dt.ZodString,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Tt(r)})};function $6(r,e){let t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=t>n?t:n,a=parseInt(r.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}var ko=class r extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==et.number){let a=this._getOrReturnCtx(e);return rt(a,{code:qe.invalid_type,expected:et.number,received:a.parsedType}),Ft}let n,i=new mn;for(let a of this._def.checks)a.kind==="int"?Kt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),rt(n,{code:qe.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),rt(n,{code:qe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),rt(n,{code:qe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?$6(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),rt(n,{code:qe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),rt(n,{code:qe.not_finite,message:a.message}),i.dirty()):Kt.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,dt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,dt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,dt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,dt.toString(t))}setLimit(e,t,n,i){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:dt.toString(i)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:dt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:dt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:dt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:dt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:dt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:dt.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Kt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};ko.create=r=>new ko({checks:[],typeName:Dt.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Tt(r)});var Po=class r extends It{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==et.bigint){let a=this._getOrReturnCtx(e);return rt(a,{code:qe.invalid_type,expected:et.bigint,received:a.parsedType}),Ft}let n,i=new mn;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),rt(n,{code:qe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),rt(n,{code:qe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),rt(n,{code:qe.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Kt.assertNever(a);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,dt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,dt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,dt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,dt.toString(t))}setLimit(e,t,n,i){return new r({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:dt.toString(i)}]})}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:dt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:dt.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}};Po.create=r=>{var e;return new Po({checks:[],typeName:Dt.ZodBigInt,coerce:(e=r==null?void 0:r.coerce)!==null&&e!==void 0?e:!1,...Tt(r)})};var Ro=class extends It{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==et.boolean){let n=this._getOrReturnCtx(e);return rt(n,{code:qe.invalid_type,expected:et.boolean,received:n.parsedType}),Ft}return An(e.data)}};Ro.create=r=>new Ro({typeName:Dt.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Tt(r)});var Lo=class r extends It{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==et.date){let a=this._getOrReturnCtx(e);return rt(a,{code:qe.invalid_type,expected:et.date,received:a.parsedType}),Ft}if(isNaN(e.data.getTime())){let a=this._getOrReturnCtx(e);return rt(a,{code:qe.invalid_date}),Ft}let n=new mn,i;for(let a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),rt(i,{code:qe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),rt(i,{code:qe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Kt.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new r({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:dt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:dt.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}};Lo.create=r=>new Lo({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:Dt.ZodDate,...Tt(r)});var Ss=class extends It{_parse(e){if(this._getType(e)!==et.symbol){let n=this._getOrReturnCtx(e);return rt(n,{code:qe.invalid_type,expected:et.symbol,received:n.parsedType}),Ft}return An(e.data)}};Ss.create=r=>new Ss({typeName:Dt.ZodSymbol,...Tt(r)});var Vo=class extends It{_parse(e){if(this._getType(e)!==et.undefined){let n=this._getOrReturnCtx(e);return rt(n,{code:qe.invalid_type,expected:et.undefined,received:n.parsedType}),Ft}return An(e.data)}};Vo.create=r=>new Vo({typeName:Dt.ZodUndefined,...Tt(r)});var Uo=class extends It{_parse(e){if(this._getType(e)!==et.null){let n=this._getOrReturnCtx(e);return rt(n,{code:qe.invalid_type,expected:et.null,received:n.parsedType}),Ft}return An(e.data)}};Uo.create=r=>new Uo({typeName:Dt.ZodNull,...Tt(r)});var za=class extends It{constructor(){super(...arguments),this._any=!0}_parse(e){return An(e.data)}};za.create=r=>new za({typeName:Dt.ZodAny,...Tt(r)});var ma=class extends It{constructor(){super(...arguments),this._unknown=!0}_parse(e){return An(e.data)}};ma.create=r=>new ma({typeName:Dt.ZodUnknown,...Tt(r)});var _i=class extends It{_parse(e){let t=this._getOrReturnCtx(e);return rt(t,{code:qe.invalid_type,expected:et.never,received:t.parsedType}),Ft}};_i.create=r=>new _i({typeName:Dt.ZodNever,...Tt(r)});var Fs=class extends It{_parse(e){if(this._getType(e)!==et.undefined){let n=this._getOrReturnCtx(e);return rt(n,{code:qe.invalid_type,expected:et.void,received:n.parsedType}),Ft}return An(e.data)}};Fs.create=r=>new Fs({typeName:Dt.ZodVoid,...Tt(r)});var da=class r extends It{_parse(e){let{ctx:t,status:n}=this._processInputParams(e),i=this._def;if(t.parsedType!==et.array)return rt(t,{code:qe.invalid_type,expected:et.array,received:t.parsedType}),Ft;if(i.exactLength!==null){let o=t.data.length>i.exactLength.value,l=t.data.length<i.exactLength.value;(o||l)&&(rt(t,{code:o?qe.too_big:qe.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&t.data.length<i.minLength.value&&(rt(t,{code:qe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&t.data.length>i.maxLength.value&&(rt(t,{code:qe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((o,l)=>i.type._parseAsync(new si(t,o,t.path,l)))).then(o=>mn.mergeArray(n,o));let a=[...t.data].map((o,l)=>i.type._parseSync(new si(t,o,t.path,l)));return mn.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new r({...this._def,minLength:{value:e,message:dt.toString(t)}})}max(e,t){return new r({...this._def,maxLength:{value:e,message:dt.toString(t)}})}length(e,t){return new r({...this._def,exactLength:{value:e,message:dt.toString(t)}})}nonempty(e){return this.min(1,e)}};da.create=(r,e)=>new da({type:r,minLength:null,maxLength:null,exactLength:null,typeName:Dt.ZodArray,...Tt(e)});function As(r){if(r instanceof Bn){let e={};for(let t in r.shape){let n=r.shape[t];e[t]=Ni.create(As(n))}return new Bn({...r._def,shape:()=>e})}else return r instanceof da?new da({...r._def,type:As(r.element)}):r instanceof Ni?Ni.create(As(r.unwrap())):r instanceof ha?ha.create(As(r.unwrap())):r instanceof ji?ji.create(r.items.map(e=>As(e))):r}var Bn=class r extends It{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),t=Kt.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==et.object){let s=this._getOrReturnCtx(e);return rt(s,{code:qe.invalid_type,expected:et.object,received:s.parsedType}),Ft}let{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof _i&&this._def.unknownKeys==="strip"))for(let s in i.data)o.includes(s)||l.push(s);let u=[];for(let s of o){let c=a[s],f=i.data[s];u.push({key:{status:"valid",value:s},value:c._parse(new si(i,f,i.path,s)),alwaysSet:s in i.data})}if(this._def.catchall instanceof _i){let s=this._def.unknownKeys;if(s==="passthrough")for(let c of l)u.push({key:{status:"valid",value:c},value:{status:"valid",value:i.data[c]}});else if(s==="strict")l.length>0&&(rt(i,{code:qe.unrecognized_keys,keys:l}),n.dirty());else if(s!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let s=this._def.catchall;for(let c of l){let f=i.data[c];u.push({key:{status:"valid",value:c},value:s._parse(new si(i,f,i.path,c)),alwaysSet:c in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let s=[];for(let c of u){let f=await c.key;s.push({key:f,value:await c.value,alwaysSet:c.alwaysSet})}return s}).then(s=>mn.mergeObjectSync(n,s)):mn.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return dt.errToObj,new r({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var i,a,o,l;let u=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,t,n).message)!==null&&o!==void 0?o:n.defaultError;return t.code==="unrecognized_keys"?{message:(l=dt.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new r({...this._def,unknownKeys:"strip"})}passthrough(){return new r({...this._def,unknownKeys:"passthrough"})}extend(e){return new r({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new r({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Dt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new r({...this._def,catchall:e})}pick(e){let t={};return Kt.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}omit(e){let t={};return Kt.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new r({...this._def,shape:()=>t})}deepPartial(){return As(this)}partial(e){let t={};return Kt.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?t[n]=i:t[n]=i.optional()}),new r({...this._def,shape:()=>t})}required(e){let t={};return Kt.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ni;)a=a._def.innerType;t[n]=a}}),new r({...this._def,shape:()=>t})}keyof(){return tC(Kt.objectKeys(this.shape))}};Bn.create=(r,e)=>new Bn({shape:()=>r,unknownKeys:"strip",catchall:_i.create(),typeName:Dt.ZodObject,...Tt(e)});Bn.strictCreate=(r,e)=>new Bn({shape:()=>r,unknownKeys:"strict",catchall:_i.create(),typeName:Dt.ZodObject,...Tt(e)});Bn.lazycreate=(r,e)=>new Bn({shape:r,unknownKeys:"strip",catchall:_i.create(),typeName:Dt.ZodObject,...Tt(e)});var qo=class extends It{_parse(e){let{ctx:t}=this._processInputParams(e),n=this._def.options;function i(a){for(let l of a)if(l.result.status==="valid")return l.result;for(let l of a)if(l.result.status==="dirty")return t.common.issues.push(...l.ctx.common.issues),l.result;let o=a.map(l=>new Gn(l.ctx.common.issues));return rt(t,{code:qe.invalid_union,unionErrors:o}),Ft}if(t.common.async)return Promise.all(n.map(async a=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(i);{let a,o=[];for(let u of n){let s={...t,common:{...t.common,issues:[]},parent:null},c=u._parseSync({data:t.data,path:t.path,parent:s});if(c.status==="valid")return c;c.status==="dirty"&&!a&&(a={result:c,ctx:s}),s.common.issues.length&&o.push(s.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let l=o.map(u=>new Gn(u));return rt(t,{code:qe.invalid_union,unionErrors:l}),Ft}}get options(){return this._def.options}};qo.create=(r,e)=>new qo({options:r,typeName:Dt.ZodUnion,...Tt(e)});var xc=r=>r instanceof $o?xc(r.schema):r instanceof jn?xc(r.innerType()):r instanceof Ho?[r.value]:r instanceof Wo?r.options:r instanceof Go?Object.keys(r.enum):r instanceof jo?xc(r._def.innerType):r instanceof Vo?[void 0]:r instanceof Uo?[null]:null,Ec=class r extends It{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==et.object)return rt(t,{code:qe.invalid_type,expected:et.object,received:t.parsedType}),Ft;let n=this.discriminator,i=t.data[n],a=this.optionsMap.get(i);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(rt(t,{code:qe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ft)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){let i=new Map;for(let a of t){let o=xc(a.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,a)}}return new r({typeName:Dt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:i,...Tt(n)})}};function Dd(r,e){let t=Ua(r),n=Ua(e);if(r===e)return{valid:!0,data:r};if(t===et.object&&n===et.object){let i=Kt.objectKeys(e),a=Kt.objectKeys(r).filter(l=>i.indexOf(l)!==-1),o={...r,...e};for(let l of a){let u=Dd(r[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(t===et.array&&n===et.array){if(r.length!==e.length)return{valid:!1};let i=[];for(let a=0;a<r.length;a++){let o=r[a],l=e[a],u=Dd(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return t===et.date&&n===et.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}var zo=class extends It{_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(xd(a)||xd(o))return Ft;let l=Dd(a.value,o.value);return l.valid?((bd(a)||bd(o))&&t.dirty(),{status:t.value,value:l.data}):(rt(n,{code:qe.invalid_intersection_types}),Ft)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};zo.create=(r,e,t)=>new zo({left:r,right:e,typeName:Dt.ZodIntersection,...Tt(t)});var ji=class r extends It{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==et.array)return rt(n,{code:qe.invalid_type,expected:et.array,received:n.parsedType}),Ft;if(n.data.length<this._def.items.length)return rt(n,{code:qe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ft;!this._def.rest&&n.data.length>this._def.items.length&&(rt(n,{code:qe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...n.data].map((o,l)=>{let u=this._def.items[l]||this._def.rest;return u?u._parse(new si(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>mn.mergeArray(t,o)):mn.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new r({...this._def,rest:e})}};ji.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ji({items:r,typeName:Dt.ZodTuple,rest:null,...Tt(e)})};var Cc=class r extends It{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==et.object)return rt(n,{code:qe.invalid_type,expected:et.object,received:n.parsedType}),Ft;let i=[],a=this._def.keyType,o=this._def.valueType;for(let l in n.data)i.push({key:a._parse(new si(n,l,n.path,l)),value:o._parse(new si(n,n.data[l],n.path,l))});return n.common.async?mn.mergeObjectAsync(t,i):mn.mergeObjectSync(t,i)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof It?new r({keyType:e,valueType:t,typeName:Dt.ZodRecord,...Tt(n)}):new r({keyType:qa.create(),valueType:e,typeName:Dt.ZodRecord,...Tt(t)})}},Ns=class extends It{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==et.map)return rt(n,{code:qe.invalid_type,expected:et.map,received:n.parsedType}),Ft;let i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,u],s)=>({key:i._parse(new si(n,l,n.path,[s,"key"])),value:a._parse(new si(n,u,n.path,[s,"value"]))}));if(n.common.async){let l=new Map;return Promise.resolve().then(async()=>{for(let u of o){let s=await u.key,c=await u.value;if(s.status==="aborted"||c.status==="aborted")return Ft;(s.status==="dirty"||c.status==="dirty")&&t.dirty(),l.set(s.value,c.value)}return{status:t.value,value:l}})}else{let l=new Map;for(let u of o){let s=u.key,c=u.value;if(s.status==="aborted"||c.status==="aborted")return Ft;(s.status==="dirty"||c.status==="dirty")&&t.dirty(),l.set(s.value,c.value)}return{status:t.value,value:l}}}};Ns.create=(r,e,t)=>new Ns({valueType:e,keyType:r,typeName:Dt.ZodMap,...Tt(t)});var _s=class r extends It{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==et.set)return rt(n,{code:qe.invalid_type,expected:et.set,received:n.parsedType}),Ft;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(rt(n,{code:qe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),t.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(rt(n,{code:qe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),t.dirty());let a=this._def.valueType;function o(u){let s=new Set;for(let c of u){if(c.status==="aborted")return Ft;c.status==="dirty"&&t.dirty(),s.add(c.value)}return{status:t.value,value:s}}let l=[...n.data.values()].map((u,s)=>a._parse(new si(n,u,n.path,s)));return n.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,t){return new r({...this._def,minSize:{value:e,message:dt.toString(t)}})}max(e,t){return new r({...this._def,maxSize:{value:e,message:dt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};_s.create=(r,e)=>new _s({valueType:r,minSize:null,maxSize:null,typeName:Dt.ZodSet,...Tt(e)});var Ac=class r extends It{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==et.function)return rt(t,{code:qe.invalid_type,expected:et.function,received:t.parsedType}),Ft;function n(l,u){return Dc({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,bc(),Wu].filter(s=>!!s),issueData:{code:qe.invalid_arguments,argumentsError:u}})}function i(l,u){return Dc({data:l,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,bc(),Wu].filter(s=>!!s),issueData:{code:qe.invalid_return_type,returnTypeError:u}})}let a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof $a){let l=this;return An(async function(...u){let s=new Gn([]),c=await l._def.args.parseAsync(u,a).catch(m=>{throw s.addIssue(n(u,m)),s}),f=await Reflect.apply(o,this,c);return await l._def.returns._def.type.parseAsync(f,a).catch(m=>{throw s.addIssue(i(f,m)),s})})}else{let l=this;return An(function(...u){let s=l._def.args.safeParse(u,a);if(!s.success)throw new Gn([n(u,s.error)]);let c=Reflect.apply(o,this,s.data),f=l._def.returns.safeParse(c,a);if(!f.success)throw new Gn([i(c,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new r({...this._def,args:ji.create(e).rest(ma.create())})}returns(e){return new r({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new r({args:e||ji.create([]).rest(ma.create()),returns:t||ma.create(),typeName:Dt.ZodFunction,...Tt(n)})}},$o=class extends It{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};$o.create=(r,e)=>new $o({getter:r,typeName:Dt.ZodLazy,...Tt(e)});var Ho=class extends It{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return rt(t,{received:t.data,code:qe.invalid_literal,expected:this._def.value}),Ft}return{status:"valid",value:e.data}}get value(){return this._def.value}};Ho.create=(r,e)=>new Ho({value:r,typeName:Dt.ZodLiteral,...Tt(e)});function tC(r,e){return new Wo({values:r,typeName:Dt.ZodEnum,...Tt(e)})}var Wo=class r extends It{_parse(e){if(typeof e.data!="string"){let t=this._getOrReturnCtx(e),n=this._def.values;return rt(t,{expected:Kt.joinValues(n),received:t.parsedType,code:qe.invalid_type}),Ft}if(this._def.values.indexOf(e.data)===-1){let t=this._getOrReturnCtx(e),n=this._def.values;return rt(t,{received:t.data,code:qe.invalid_enum_value,options:n}),Ft}return An(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e){return r.create(e)}exclude(e){return r.create(this.options.filter(t=>!e.includes(t)))}};Wo.create=tC;var Go=class extends It{_parse(e){let t=Kt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==et.string&&n.parsedType!==et.number){let i=Kt.objectValues(t);return rt(n,{expected:Kt.joinValues(i),received:n.parsedType,code:qe.invalid_type}),Ft}if(t.indexOf(e.data)===-1){let i=Kt.objectValues(t);return rt(n,{received:n.data,code:qe.invalid_enum_value,options:i}),Ft}return An(e.data)}get enum(){return this._def.values}};Go.create=(r,e)=>new Go({values:r,typeName:Dt.ZodNativeEnum,...Tt(e)});var $a=class extends It{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==et.promise&&t.common.async===!1)return rt(t,{code:qe.invalid_type,expected:et.promise,received:t.parsedType}),Ft;let n=t.parsedType===et.promise?t.data:Promise.resolve(t.data);return An(n.then(i=>this._def.type.parseAsync(i,{path:t.path,errorMap:t.common.contextualErrorMap})))}};$a.create=(r,e)=>new $a({type:r,typeName:Dt.ZodPromise,...Tt(e)});var jn=class extends It{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{rt(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let o=i.transform(n.data,a);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(l=>this._def.schema._parseAsync({data:l,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){let o=l=>{let u=i.refinement(l,a);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){let l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ft:(l.status==="dirty"&&t.dirty(),o(l.value),{status:t.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ft:(l.status==="dirty"&&t.dirty(),o(l.value).then(()=>({status:t.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Gu(o))return o;let l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Gu(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:t.value,value:l})):o);Kt.assertNever(i)}};jn.create=(r,e,t)=>new jn({schema:r,typeName:Dt.ZodEffects,effect:e,...Tt(t)});jn.createWithPreprocess=(r,e,t)=>new jn({schema:e,effect:{type:"preprocess",transform:r},typeName:Dt.ZodEffects,...Tt(t)});var Ni=class extends It{_parse(e){return this._getType(e)===et.undefined?An(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Ni.create=(r,e)=>new Ni({innerType:r,typeName:Dt.ZodOptional,...Tt(e)});var ha=class extends It{_parse(e){return this._getType(e)===et.null?An(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};ha.create=(r,e)=>new ha({innerType:r,typeName:Dt.ZodNullable,...Tt(e)});var jo=class extends It{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return t.parsedType===et.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};jo.create=(r,e)=>new jo({innerType:r,typeName:Dt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Tt(e)});var Ms=class extends It{_parse(e){let{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return wc(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Gn(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Ms.create=(r,e)=>new Ms({innerType:r,typeName:Dt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Tt(e)});var Ts=class extends It{_parse(e){if(this._getType(e)!==et.nan){let n=this._getOrReturnCtx(e);return rt(n,{code:qe.invalid_type,expected:et.nan,received:n.parsedType}),Ft}return{status:"valid",value:e.data}}};Ts.create=r=>new Ts({typeName:Dt.ZodNaN,...Tt(r)});var H6=Symbol("zod_brand"),Sc=class extends It{_parse(e){let{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},ju=class r extends It{_parse(e){let{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ft:a.status==="dirty"?(t.dirty(),eC(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ft:i.status==="dirty"?(t.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,t){return new r({in:e,out:t,typeName:Dt.ZodPipeline})}},Is=class extends It{_parse(e){let t=this._def.innerType._parse(e);return Gu(t)&&(t.value=Object.freeze(t.value)),t}};Is.create=(r,e)=>new Is({innerType:r,typeName:Dt.ZodReadonly,...Tt(e)});var rC=(r,e={},t)=>r?za.create().superRefine((n,i)=>{var a,o;if(!r(n)){let l=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(a=l.fatal)!==null&&a!==void 0?a:t)!==null&&o!==void 0?o:!0,s=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...s,fatal:u})}}):za.create(),W6={object:Bn.lazycreate},Dt;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(Dt||(Dt={}));var G6=(r,e={message:`Input not instance of ${r.name}`})=>rC(t=>t instanceof r,e),nC=qa.create,iC=ko.create,j6=Ts.create,Z6=Po.create,aC=Ro.create,Y6=Lo.create,J6=Ss.create,X6=Vo.create,Q6=Uo.create,K6=za.create,e5=ma.create,t5=_i.create,r5=Fs.create,n5=da.create,i5=Bn.create,a5=Bn.strictCreate,o5=qo.create,s5=Ec.create,u5=zo.create,l5=ji.create,c5=Cc.create,f5=Ns.create,p5=_s.create,m5=Ac.create,d5=$o.create,h5=Ho.create,g5=Wo.create,v5=Go.create,y5=$a.create,QE=jn.create,x5=Ni.create,b5=ha.create,D5=jn.createWithPreprocess,w5=ju.create,E5=()=>nC().optional(),C5=()=>iC().optional(),A5=()=>aC().optional(),S5={string:r=>qa.create({...r,coerce:!0}),number:r=>ko.create({...r,coerce:!0}),boolean:r=>Ro.create({...r,coerce:!0}),bigint:r=>Po.create({...r,coerce:!0}),date:r=>Lo.create({...r,coerce:!0})},F5=Ft,ui=Object.freeze({__proto__:null,defaultErrorMap:Wu,setErrorMap:T6,getErrorMap:bc,makeIssue:Dc,EMPTY_PATH:I6,addIssueToContext:rt,ParseStatus:mn,INVALID:Ft,DIRTY:eC,OK:An,isAborted:xd,isDirty:bd,isValid:Gu,isAsync:wc,get util(){return Kt},get objectUtil(){return yd},ZodParsedType:et,getParsedType:Ua,ZodType:It,ZodString:qa,ZodNumber:ko,ZodBigInt:Po,ZodBoolean:Ro,ZodDate:Lo,ZodSymbol:Ss,ZodUndefined:Vo,ZodNull:Uo,ZodAny:za,ZodUnknown:ma,ZodNever:_i,ZodVoid:Fs,ZodArray:da,ZodObject:Bn,ZodUnion:qo,ZodDiscriminatedUnion:Ec,ZodIntersection:zo,ZodTuple:ji,ZodRecord:Cc,ZodMap:Ns,ZodSet:_s,ZodFunction:Ac,ZodLazy:$o,ZodLiteral:Ho,ZodEnum:Wo,ZodNativeEnum:Go,ZodPromise:$a,ZodEffects:jn,ZodTransformer:jn,ZodOptional:Ni,ZodNullable:ha,ZodDefault:jo,ZodCatch:Ms,ZodNaN:Ts,BRAND:H6,ZodBranded:Sc,ZodPipeline:ju,ZodReadonly:Is,custom:rC,Schema:It,ZodSchema:It,late:W6,get ZodFirstPartyTypeKind(){return Dt},coerce:S5,any:K6,array:n5,bigint:Z6,boolean:aC,date:Y6,discriminatedUnion:s5,effect:QE,enum:g5,function:m5,instanceof:G6,intersection:u5,lazy:d5,literal:h5,map:f5,nan:j6,nativeEnum:v5,never:t5,null:Q6,nullable:b5,number:iC,object:i5,oboolean:A5,onumber:C5,optional:x5,ostring:E5,pipeline:w5,preprocess:D5,promise:y5,record:c5,set:p5,strictObject:a5,string:nC,symbol:J6,transformer:QE,tuple:l5,undefined:X6,union:o5,unknown:e5,void:r5,NEVER:F5,ZodIssueCode:qe,quotelessJson:M6,ZodError:Gn});function Fc(){return function(r){return r}}var Nc=(i=>(i.DEFUALT="default",i.PRIMARY="primary",i.DESTRUCTIVE="destructive",i.PLAIN="plain",i))(Nc||{});var N5=Fc()(ui.object({type:ui.literal("command"),command:ui.string()})),_5=Fc()(ui.object({type:ui.literal("js"),jsFile:ui.string()})),oC=Fc()(ui.union([N5,_5])),M5=ui.enum(Object.values(Nc));function T5(r,e){return(t,n)=>t[r]===void 0==(t[e]===void 0)?(n.addIssue({code:ui.ZodIssueCode.custom,message:`Either ${r} or ${e} must be filled, but not both`}),!1):!0}var sC=Fc()(ui.object({label:ui.string(),style:M5,action:oC.optional(),actions:oC.array().optional()}).superRefine(T5("action","actions")));function I5(r){pn(r,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function B5(r){let e,t,n,i,a=r[4].default,o=Fo(a,r,r[3],null);return{c(){e=X("button"),o&&o.c(),q(e,"aria-label",r[2]),e.disabled=r[1],q(e,"class","svelte-12xcpmj"),Wt(e,"mod-cta",r[0]==="primary"),Wt(e,"mod-warning",r[0]==="destructive"),Wt(e,"mod-plain",r[0]==="plain"),Wt(e,"disabled",r[1])},m(l,u){ae(l,e,u),o&&o.m(e,null),t=!0,n||(i=Te(e,"click",r[5]),n=!0)},p(l,[u]){o&&o.p&&(!t||u&8)&&_o(o,a,l,l[3],t?No(a,l[3],u,null):Mo(l[3]),null),(!t||u&4)&&q(e,"aria-label",l[2]),(!t||u&2)&&(e.disabled=l[1]),(!t||u&1)&&Wt(e,"mod-cta",l[0]==="primary"),(!t||u&1)&&Wt(e,"mod-warning",l[0]==="destructive"),(!t||u&1)&&Wt(e,"mod-plain",l[0]==="plain"),(!t||u&2)&&Wt(e,"disabled",l[1])},i(l){t||(ge(o,l),t=!0)},o(l){De(o,l),t=!1},d(l){l&&ie(e),o&&o.d(l),n=!1,i()}}}function O5(r,e,t){let{$$slots:n={},$$scope:i}=e,{variant:a="default"}=e,{disabled:o=!1}=e,{tooltip:l=""}=e;function u(s){IE.call(this,r,s)}return r.$$set=s=>{"variant"in s&&t(0,a=s.variant),"disabled"in s&&t(1,o=s.disabled),"tooltip"in s&&t(2,l=s.tooltip),"$$scope"in s&&t(3,i=s.$$scope)},[a,o,l,i,n,u]}var wd=class extends ze{constructor(e){super(),Ge(this,e,O5,B5,He,{variant:0,disabled:1,tooltip:2},I5)}},Cr=wd;var lC=require("obsidian");function uC(r){let e;return{c(){e=X("div"),q(e,"class","mb-icon-wrapper")},m(t,n){ae(t,e,n),r[2](e)},p:ke,d(t){t&&ie(e),r[2](null)}}}function k5(r){let e,t=r[0].length>0&&uC(r);return{c(){t&&t.c(),e=mr()},m(n,i){t&&t.m(n,i),ae(n,e,i)},p(n,[i]){n[0].length>0?t?t.p(n,i):(t=uC(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:ke,o:ke,d(n){n&&ie(e),t&&t.d(n)}}}function P5(r,e,t){let{iconName:n=""}=e,i;rn(()=>{(0,lC.setIcon)(i,n)});function a(o){nn[o?"unshift":"push"](()=>{i=o,t(1,i)})}return r.$$set=o=>{"iconName"in o&&t(0,n=o.iconName)},[n,i,a]}var Ed=class extends ze{constructor(e){super(),Ge(this,e,P5,k5,He,{iconName:0})}},Nr=Ed;function cC(r,e,t){let n=r.slice();return n[12]=e[t],n[13]=e,n[14]=t,n}function R5(r){let e,t;return e=new Nr({props:{iconName:"x"}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p:ke,i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function fC(r){let e,t,n,i,a,o,l,u,s,c;function f(){r[7].call(n,r[13],r[14])}function p(){return r[8](r[12])}return o=new Cr({props:{tooltip:"Delete",$$slots:{default:[R5]},$$scope:{ctx:r}}}),o.$on("click",p),{c(){e=X("tr"),t=X("td"),n=X("input"),i=Ee(),a=X("td"),Qe(o.$$.fragment),l=Ee(),q(n,"type","text"),q(n,"placeholder","path/to/folder"),bs(n,"width","100%"),bs(t,"width","100%")},m(m,h){ae(m,e,h),G(e,t),G(t,n),bt(n,r[12]),G(e,i),G(e,a),Je(o,a,null),G(e,l),u=!0,s||(c=Te(n,"input",f),s=!0)},p(m,h){r=m,h&1&&n.value!==r[12]&&bt(n,r[12]);let d={};h&32768&&(d.$$scope={dirty:h,ctx:r}),o.$set(d)},i(m){u||(ge(o.$$.fragment,m),u=!0)},o(m){De(o.$$.fragment,m),u=!1},d(m){m&&ie(e),Xe(o),s=!1,c()}}}function L5(r){let e;return{c(){e=We("Add Folder")},m(t,n){ae(t,e,n)},d(t){t&&ie(e)}}}function pC(r){let e,t,n,i,a;return i=new Cs({props:{errorCollection:r[1],declaration:void 0}}),{c(){e=X("div"),t=X("h3"),t.textContent="Some Folder Paths are invalid",n=Ee(),Qe(i.$$.fragment),q(t,"class","mod-error")},m(o,l){ae(o,e,l),G(e,t),G(e,n),Je(i,e,null),a=!0},p(o,l){let u={};l&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(ge(i.$$.fragment,o),a=!0)},o(o){De(i.$$.fragment,o),a=!1},d(o){o&&ie(e),Xe(i)}}}function V5(r){let e;return{c(){e=We("Save")},m(t,n){ae(t,e,n)},d(t){t&&ie(e)}}}function U5(r){let e;return{c(){e=We("Cancel")},m(t,n){ae(t,e,n)},d(t){t&&ie(e)}}}function q5(r){let e,t,n,i;return e=new Cr({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[V5]},$$scope:{ctx:r}}}),e.$on("click",r[10]),n=new Cr({props:{tooltip:"Revert Changes",$$slots:{default:[U5]},$$scope:{ctx:r}}}),n.$on("click",r[11]),{c(){Qe(e.$$.fragment),t=Ee(),Qe(n.$$.fragment)},m(a,o){Je(e,a,o),ae(a,t,o),Je(n,a,o),i=!0},p(a,o){let l={};o&32768&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let u={};o&32768&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(ge(e.$$.fragment,a),ge(n.$$.fragment,a),i=!0)},o(a){De(e.$$.fragment,a),De(n.$$.fragment,a),i=!1},d(a){a&&ie(t),Xe(e,a),Xe(n,a)}}}function z5(r){let e,t,n,i,a,o,l,u,s,c,f,p=Ke(r[0]),m=[];for(let g=0;g<p.length;g+=1)m[g]=fC(cC(r,p,g));let h=g=>De(m[g],1,1,()=>{m[g]=null});l=new Cr({props:{variant:"primary",tooltip:"Add new excluded Folder",$$slots:{default:[L5]},$$scope:{ctx:r}}}),l.$on("click",r[9]);let d=r[1]&&pC(r);return c=new yc({props:{$$slots:{default:[q5]},$$scope:{ctx:r}}}),{c(){e=X("div"),t=X("table"),n=X("thead"),n.innerHTML="<tr><th>Folder Path</th> <th></th></tr>",i=Ee(),a=X("tbody");for(let g=0;g<m.length;g+=1)m[g].c();o=Ee(),Qe(l.$$.fragment),u=Ee(),d&&d.c(),s=Ee(),Qe(c.$$.fragment)},m(g,y){ae(g,e,y),G(e,t),G(t,n),G(t,i),G(t,a);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(a,null);G(e,o),Je(l,e,null),G(e,u),d&&d.m(e,null),G(e,s),Je(c,e,null),f=!0},p(g,[y]){if(y&5){p=Ke(g[0]);let x;for(x=0;x<p.length;x+=1){let D=cC(g,p,x);m[x]?(m[x].p(D,y),ge(m[x],1)):(m[x]=fC(D),m[x].c(),ge(m[x],1),m[x].m(a,null))}for(Bt(),x=p.length;x<m.length;x+=1)h(x);Ot()}let w={};y&32768&&(w.$$scope={dirty:y,ctx:g}),l.$set(w),g[1]?d?(d.p(g,y),y&2&&ge(d,1)):(d=pC(g),d.c(),ge(d,1),d.m(e,s)):d&&(Bt(),De(d,1,1,()=>{d=null}),Ot());let v={};y&32768&&(v.$$scope={dirty:y,ctx:g}),c.$set(v)},i(g){if(!f){for(let y=0;y<p.length;y+=1)ge(m[y]);ge(l.$$.fragment,g),ge(d),ge(c.$$.fragment,g),f=!0}},o(g){m=m.filter(Boolean);for(let y=0;y<m.length;y+=1)De(m[y]);De(l.$$.fragment,g),De(d),De(c.$$.fragment,g),f=!1},d(g){g&&ie(e),Mt(m,g),Xe(l),d&&d.d(),Xe(c)}}}function $5(r,e,t){let{excludedFolders:n}=e,{modal:i}=e,a;function o(d){t(0,n=n.filter(g=>g!==d))}function l(){n.push(""),t(0,n)}function u(){t(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}function c(d,g){d[g]=this.value,t(0,n)}let f=d=>o(d),p=()=>l(),m=()=>u(),h=()=>s();return r.$$set=d=>{"excludedFolders"in d&&t(0,n=d.excludedFolders),"modal"in d&&t(6,i=d.modal)},[n,a,o,l,u,s,i,c,f,p,m,h]}var Cd=class extends ze{constructor(e){super(),Ge(this,e,$5,z5,He,{excludedFolders:0,modal:6})}},mC=Cd;var xr=class{constructor(e){this.subject=e,this.errors=[]}add(e){e instanceof Error?(e instanceof Hr?this.errors.push(e):this.otherError=e,console.warn(e)):console.warn("[MB_ERROR_CONTAINER] received invalid error type",e)}merge(e){return this.errors=this.errors.concat(e.errors),e.otherError&&(this.otherError=e.otherError),this}hasErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="ERROR"||e.errorLevel==="CRITICAL")return!0;return!1}hasCriticalErrors(){if(this.otherError)return!0;for(let e of this.errors)if(e.errorLevel==="CRITICAL")return!0;return!1}hasWarnings(){for(let e of this.errors)if(e.errorLevel==="WARNING")return!0;return!1}isEmpty(){return this.errors.length===0&&!this.otherError}getErrors(){let e=this.errors.filter(t=>t.errorLevel==="ERROR"||t.errorLevel==="CRITICAL");return this.otherError?e.concat([this.otherError]):e}getWarnings(){return this.errors.filter(e=>e.errorLevel==="WARNING")}};var _c=class extends dC.Modal{constructor(t,n){super(t);this.plugin=n}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new mC({target:this.contentEl,props:{excludedFolders:this.plugin.settings.excludedFolders.slice(),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(t){for(let n of t)if(n===""){let i=new xr("Excluded Folders");return i.add(new Error(`Invalid Folder Path '${n}'. Folder path may not be empty.`)),i}this.plugin.settings.excludedFolders=t,this.plugin.saveSettings()}};var bC=require("obsidian");function H5(r){let e,t;return e=new Nr({props:{iconName:"x"}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p:ke,i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function W5(r){let e,t,n,i,a,o,l,u,s,c,f,p;return s=new Cr({props:{tooltip:"Delete Template",$$slots:{default:[H5]},$$scope:{ctx:r}}}),s.$on("click",r[4]),{c(){e=X("tr"),t=X("td"),n=X("input"),i=Ee(),a=X("td"),o=X("input"),l=Ee(),u=X("td"),Qe(s.$$.fragment),q(n,"type","text"),q(n,"placeholder","template-name"),q(o,"type","text"),q(o,"placeholder","INPUT[slider(addLabels)]"),bs(o,"width","100%"),bs(a,"width","100%")},m(m,h){ae(m,e,h),G(e,t),G(t,n),bt(n,r[0].name),G(e,i),G(e,a),G(a,o),bt(o,r[0].declaration),G(e,l),G(e,u),Je(s,u,null),c=!0,f||(p=[Te(n,"input",r[2]),Te(o,"input",r[3])],f=!0)},p(m,[h]){h&1&&n.value!==m[0].name&&bt(n,m[0].name),h&1&&o.value!==m[0].declaration&&bt(o,m[0].declaration);let d={};h&64&&(d.$$scope={dirty:h,ctx:m}),s.$set(d)},i(m){c||(ge(s.$$.fragment,m),c=!0)},o(m){De(s.$$.fragment,m),c=!1},d(m){m&&ie(e),Xe(s),f=!1,st(p)}}}function G5(r,e,t){let{template:n}=e,i=zu();function a(){console.log("dispatch"),i("delete-template",{name:n.name})}function o(){n.name=this.value,t(0,n)}function l(){n.declaration=this.value,t(0,n)}let u=()=>a();return r.$$set=s=>{"template"in s&&t(0,n=s.template)},[n,a,o,l,u]}var Ad=class extends ze{constructor(e){super(),Ge(this,e,G5,W5,He,{template:0})}},hC=Ad;function gC(r,e,t){let n=r.slice();return n[11]=e[t],n}function vC(r){let e,t;return e=new hC({props:{template:r[11]}}),e.$on("delete-template",r[7]),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.template=n[11]),e.$set(a)},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function j5(r){let e;return{c(){e=We("Add Template")},m(t,n){ae(t,e,n)},d(t){t&&ie(e)}}}function yC(r){let e,t,n,i,a;return i=new Cs({props:{errorCollection:r[1],declaration:void 0}}),{c(){e=X("div"),t=X("h3"),t.textContent="Some Templates Failed to Parse",n=Ee(),Qe(i.$$.fragment),q(t,"class","mod-error")},m(o,l){ae(o,e,l),G(e,t),G(e,n),Je(i,e,null),a=!0},p(o,l){let u={};l&2&&(u.errorCollection=o[1]),i.$set(u)},i(o){a||(ge(i.$$.fragment,o),a=!0)},o(o){De(i.$$.fragment,o),a=!1},d(o){o&&ie(e),Xe(i)}}}function Z5(r){let e;return{c(){e=We("Save")},m(t,n){ae(t,e,n)},d(t){t&&ie(e)}}}function Y5(r){let e;return{c(){e=We("Cancel")},m(t,n){ae(t,e,n)},d(t){t&&ie(e)}}}function J5(r){let e,t,n,i;return e=new Cr({props:{variant:"primary",tooltip:"Save Changes",$$slots:{default:[Z5]},$$scope:{ctx:r}}}),e.$on("click",r[9]),n=new Cr({props:{tooltip:"Revert Changes",$$slots:{default:[Y5]},$$scope:{ctx:r}}}),n.$on("click",r[10]),{c(){Qe(e.$$.fragment),t=Ee(),Qe(n.$$.fragment)},m(a,o){Je(e,a,o),ae(a,t,o),Je(n,a,o),i=!0},p(a,o){let l={};o&16384&&(l.$$scope={dirty:o,ctx:a}),e.$set(l);let u={};o&16384&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){i||(ge(e.$$.fragment,a),ge(n.$$.fragment,a),i=!0)},o(a){De(e.$$.fragment,a),De(n.$$.fragment,a),i=!1},d(a){a&&ie(t),Xe(e,a),Xe(n,a)}}}function X5(r){let e,t,n,i,a,o,l,u,s,c,f,p=Ke(r[0]),m=[];for(let g=0;g<p.length;g+=1)m[g]=vC(gC(r,p,g));let h=g=>De(m[g],1,1,()=>{m[g]=null});l=new Cr({props:{variant:"primary",tooltip:"Create New Template",$$slots:{default:[j5]},$$scope:{ctx:r}}}),l.$on("click",r[8]);let d=r[1]&&yC(r);return c=new yc({props:{$$slots:{default:[J5]},$$scope:{ctx:r}}}),{c(){e=X("div"),t=X("table"),n=X("thead"),n.innerHTML="<tr><th>Template Name</th> <th>Template Declaration</th> <th></th></tr>",i=Ee(),a=X("tbody");for(let g=0;g<m.length;g+=1)m[g].c();o=Ee(),Qe(l.$$.fragment),u=Ee(),d&&d.c(),s=Ee(),Qe(c.$$.fragment)},m(g,y){ae(g,e,y),G(e,t),G(t,n),G(t,i),G(t,a);for(let w=0;w<m.length;w+=1)m[w]&&m[w].m(a,null);G(e,o),Je(l,e,null),G(e,u),d&&d.m(e,null),G(e,s),Je(c,e,null),f=!0},p(g,[y]){if(y&5){p=Ke(g[0]);let x;for(x=0;x<p.length;x+=1){let D=gC(g,p,x);m[x]?(m[x].p(D,y),ge(m[x],1)):(m[x]=vC(D),m[x].c(),ge(m[x],1),m[x].m(a,null))}for(Bt(),x=p.length;x<m.length;x+=1)h(x);Ot()}let w={};y&16384&&(w.$$scope={dirty:y,ctx:g}),l.$set(w),g[1]?d?(d.p(g,y),y&2&&ge(d,1)):(d=yC(g),d.c(),ge(d,1),d.m(e,s)):d&&(Bt(),De(d,1,1,()=>{d=null}),Ot());let v={};y&16384&&(v.$$scope={dirty:y,ctx:g}),c.$set(v)},i(g){if(!f){for(let y=0;y<p.length;y+=1)ge(m[y]);ge(l.$$.fragment,g),ge(d),ge(c.$$.fragment,g),f=!0}},o(g){m=m.filter(Boolean);for(let y=0;y<m.length;y+=1)De(m[y]);De(l.$$.fragment,g),De(d),De(c.$$.fragment,g),f=!1},d(g){g&&ie(e),Mt(m,g),Xe(l),d&&d.d(),Xe(c)}}}function Q5(r,e,t){let{inputFieldTemplates:n}=e,{modal:i}=e,a;function o(h){t(0,n=n.filter(d=>d.name!==h))}function l(){n.push({name:"",declaration:""}),t(0,n)}function u(){t(1,a=i.save(n)),a===void 0&&i.close()}function s(){i.close()}let c=h=>o(h.detail.name),f=()=>l(),p=()=>u(),m=()=>s();return r.$$set=h=>{"inputFieldTemplates"in h&&t(0,n=h.inputFieldTemplates),"modal"in h&&t(6,i=h.modal)},[n,a,o,l,u,s,i,c,f,p,m]}var Sd=class extends ze{constructor(e){super(),Ge(this,e,Q5,X5,He,{inputFieldTemplates:0,modal:6})}},xC=Sd;var Mc=class extends bC.Modal{constructor(t,n){super(t);this.plugin=n}onOpen(){this.contentEl.empty(),this.component&&this.component.$destroy(),this.component=new xC({target:this.contentEl,props:{inputFieldTemplates:JSON.parse(JSON.stringify(this.plugin.settings.inputFieldTemplates)),modal:this}})}onClose(){this.contentEl.empty(),this.component&&this.component.$destroy()}save(t){let n=this.plugin.api.inputFieldParser.parseTemplates(t);if(n.hasErrors())return n;this.plugin.settings.inputFieldTemplates=t,this.plugin.saveSettings()}};var kt=class{static linkToInputField(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/inputfields/${e.toLowerCase()}/`}static linkToInputFieldArgument(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/inputfieldarguments/${e.toLowerCase()}/`}static linkToViewField(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/viewfields/${e.toLowerCase()}/`}static linkToViewFieldArgument(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/reference/viewfieldarguments/${e.toLowerCase()}/`}static linkToInputFields(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/"}static linkToViewFields(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/"}static linkToSearch(e){return`https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/?s=${encodeURIComponent(e)}`}static linkToHome(){return"https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/"}static linkToGithub(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin"}static linkToIssues(){return"https://github.com/mProjectsCode/obsidian-meta-bind-plugin/issues"}static open(e){window.open(e,"_blank")}};var _C=require("obsidian");var DC=require("obsidian");var Tc=class extends DC.Modal{constructor(t,n,i){super(t);this.errorCollection=n,this.declaration=i}onOpen(){this.modalEl.addClass("mb-error-collection-modal"),this.titleEl.innerText="Meta Bind Field",this.component=new Cs({target:this.contentEl,props:{errorCollection:this.errorCollection,declaration:this.declaration}})}onClose(){var t;(t=this.component)==null||t.$destroy()}};function wC(r){let e,t,n,i,a;function o(s,c){return c&1&&(t=null),c&1&&(n=null),t==null&&(t=!!s[0].hasErrors()),t?t7:(n==null&&(n=!!s[0].hasWarnings()),n?e7:K5)}let l=o(r,-1),u=l(r);return{c(){e=X("div"),u.c(),q(e,"class","mb-error-collection"),q(e,"role","button"),q(e,"tabindex","0")},m(s,c){ae(s,e,c),u.m(e,null),i||(a=[Te(e,"click",r[4]),Te(e,"keydown",r[5])],i=!0)},p(s,c){l!==(l=o(s,c))&&(u.d(1),u=l(s),u&&(u.c(),u.m(e,null)))},d(s){s&&ie(e),u.d(),i=!1,st(a)}}}function K5(r){let e,t,n,i;return{c(){e=Wn("svg"),t=Wn("circle"),n=Wn("path"),i=Wn("path"),q(t,"cx","12"),q(t,"cy","12"),q(t,"r","10"),q(n,"d","M12 16v-4"),q(i,"d","M12 8h.01"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width","24"),q(e,"height","24"),q(e,"viewBox","0 0 24 24"),q(e,"fill","none"),q(e,"stroke","currentColor"),q(e,"stroke-width","2"),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class","lucide lucide-info")},m(a,o){ae(a,e,o),G(e,t),G(e,n),G(e,i)},d(a){a&&ie(e)}}}function e7(r){let e,t,n,i;return{c(){e=Wn("svg"),t=Wn("path"),n=Wn("line"),i=Wn("line"),q(t,"d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"),q(n,"x1","12"),q(n,"x2","12"),q(n,"y1","9"),q(n,"y2","13"),q(i,"x1","12"),q(i,"x2","12.01"),q(i,"y1","17"),q(i,"y2","17"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width","24"),q(e,"height","24"),q(e,"viewBox","0 0 24 24"),q(e,"fill","none"),q(e,"stroke","currentColor"),q(e,"stroke-width","2"),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class","lucide lucide-alert-triangle")},m(a,o){ae(a,e,o),G(e,t),G(e,n),G(e,i)},d(a){a&&ie(e)}}}function t7(r){let e,t,n,i,a,o;return{c(){e=Wn("svg"),t=Wn("circle"),n=Wn("line"),i=Wn("line"),a=Ee(),o=X("span"),o.textContent="[META_BIND_ERROR]",q(t,"cx","12"),q(t,"cy","12"),q(t,"r","10"),q(n,"x1","12"),q(n,"x2","12"),q(n,"y1","8"),q(n,"y2","12"),q(i,"x1","12"),q(i,"x2","12.01"),q(i,"y1","16"),q(i,"y2","16"),q(e,"xmlns","http://www.w3.org/2000/svg"),q(e,"width","24"),q(e,"height","24"),q(e,"viewBox","0 0 24 24"),q(e,"fill","none"),q(e,"stroke","currentColor"),q(e,"stroke-width","2"),q(e,"stroke-linecap","round"),q(e,"stroke-linejoin","round"),q(e,"class","lucide lucide-alert-circle"),q(o,"class","mb-error")},m(l,u){ae(l,e,u),G(e,t),G(e,n),G(e,i),ae(l,a,u),ae(l,o,u)},d(l){l&&(ie(e),ie(a),ie(o))}}}function r7(r){let e=!r[0].isEmpty(),t,n=e&&wC(r);return{c(){n&&n.c(),t=mr()},m(i,a){n&&n.m(i,a),ae(i,t,a)},p(i,[a]){a&1&&(e=!i[0].isEmpty()),e?n?n.p(i,a):(n=wC(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:ke,o:ke,d(i){i&&ie(t),n&&n.d(i)}}}function n7(r,e,t){let{app:n}=e,{errorCollection:i}=e,{declaration:a}=e;function o(){new Tc(n,i,a).open()}let l=()=>o(),u=s=>{s.key===" "&&o()};return r.$$set=s=>{"app"in s&&t(2,n=s.app),"errorCollection"in s&&t(0,i=s.errorCollection),"declaration"in s&&t(3,a=s.declaration)},[i,o,n,a,l,u]}var Fd=class extends ze{constructor(e){super(),Ge(this,e,n7,r7,He,{app:2,errorCollection:0,declaration:3})}},Mi=Fd;var Bs=(C=>(C.TOGGLE="toggle",C.SLIDER="slider",C.TEXT="text",C.TEXT_AREA_DEPRECATED="text_area",C.TEXT_AREA="textArea",C.SELECT="select",C.MULTI_SELECT_DEPRECATED="multi_select",C.MULTI_SELECT="multiSelect",C.DATE="date",C.TIME="time",C.DATE_PICKER_DEPRECATED="date_picker",C.DATE_PICKER="datePicker",C.NUMBER="number",C.SUGGESTER="suggester",C.EDITOR="editor",C.IMAGE_SUGGESTER="imageSuggester",C.PROGRESS_BAR="progressBar",C.INLINE_SELECT="inlineSelect",C.LIST="list",C.LIST_SUGGESTER="listSuggester",C.INLINE_LIST_SUGGESTER="inlineListSuggester",C.INLINE_LIST="inlineList",C.INVALID="invalid",C))(Bs||{}),_r=(g=>(g.CLASS="class",g.ADD_LABELS="addLabels",g.MIN_VALUE="minValue",g.MAX_VALUE="maxValue",g.STEP_SIZE="stepSize",g.OPTION="option",g.TITLE="title",g.OPTION_QUERY="optionQuery",g.SHOWCASE="showcase",g.ON_VALUE="onValue",g.OFF_VALUE="offValue",g.DEFAULT_VALUE="defaultValue",g.PLACEHOLDER="placeholder",g.USE_LINKS="useLinks",g.LIMIT="limit",g.INVALID="invalid",g))(_r||{}),EC={toggle:{type:"toggle",allowInBlock:!0,allowInline:!0},slider:{type:"slider",allowInBlock:!0,allowInline:!0},text:{type:"text",allowInBlock:!0,allowInline:!0},text_area:{type:"text_area",allowInBlock:!0,allowInline:!0},textArea:{type:"textArea",allowInBlock:!0,allowInline:!0},select:{type:"select",allowInBlock:!0,allowInline:!1},multi_select:{type:"multi_select",allowInBlock:!0,allowInline:!1},multiSelect:{type:"multiSelect",allowInBlock:!0,allowInline:!1},date:{type:"date",allowInBlock:!0,allowInline:!0},time:{type:"time",allowInBlock:!0,allowInline:!0},date_picker:{type:"date_picker",allowInBlock:!0,allowInline:!0},datePicker:{type:"datePicker",allowInBlock:!0,allowInline:!0},number:{type:"number",allowInBlock:!0,allowInline:!0},suggester:{type:"suggester",allowInBlock:!0,allowInline:!0},editor:{type:"editor",allowInBlock:!0,allowInline:!1},imageSuggester:{type:"imageSuggester",allowInBlock:!0,allowInline:!1},progressBar:{type:"progressBar",allowInBlock:!0,allowInline:!1},inlineSelect:{type:"inlineSelect",allowInBlock:!0,allowInline:!0},list:{type:"list",allowInBlock:!0,allowInline:!1},listSuggester:{type:"listSuggester",allowInBlock:!0,allowInline:!1},inlineListSuggester:{type:"inlineListSuggester",allowInBlock:!0,allowInline:!0},inlineList:{type:"inlineList",allowInBlock:!0,allowInline:!0},invalid:{type:"invalid",allowInBlock:!1,allowInline:!1}},ir={addLabels:{type:"addLabels",allowedFieldTypes:["slider","progressBar"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},class:{type:"class",allowedFieldTypes:[],values:[[{name:"className",allowed:[],description:"the name of the css class to add"}]],allowMultiple:!0},defaultValue:{type:"defaultValue",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},maxValue:{type:"maxValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the maximally allowed value"}]],allowMultiple:!1},minValue:{type:"minValue",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the minimally allowed value"}]],allowMultiple:!1},stepSize:{type:"stepSize",allowedFieldTypes:["slider","progressBar"],values:[[{name:"value",allowed:["number"],description:"the step size for sliders"}]],allowMultiple:!1},offValue:{type:"offValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},onValue:{type:"onValue",allowedFieldTypes:["toggle"],values:[[{name:"value",allowed:[],description:"the value for the off state"}]],allowMultiple:!1},option:{type:"option",allowedFieldTypes:["select","multi_select","multiSelect","suggester","imageSuggester","inlineSelect","listSuggester","inlineListSuggester"],values:[[{name:"value",allowed:[],description:"the value and display name of the option"}],[{name:"value",allowed:[],description:"the value of the option"},{name:"name",allowed:[],description:"the display name of the option"}]],allowMultiple:!0},optionQuery:{type:"optionQuery",allowedFieldTypes:["suggester","imageSuggester","listSuggester","inlineListSuggester"],values:[[{name:"value",allowed:[],description:"the query for options"}]],allowMultiple:!0},placeholder:{type:"placeholder",allowedFieldTypes:["text","textArea","text_area","number","list","inlineList"],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},showcase:{type:"showcase",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},title:{type:"title",allowedFieldTypes:[],values:[[{name:"value",allowed:[],description:""}]],allowMultiple:!1},useLinks:{type:"useLinks",allowedFieldTypes:["suggester","listSuggester","inlineListSuggester"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},limit:{type:"limit",allowedFieldTypes:["text","textArea","list","inlineList"],values:[[{name:"value",allowed:["number"],description:"a character limit for text fields"}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}},Zu=(i=>(i.MATH="math",i.TEXT="text",i.LINK="link",i.INVALID="invalid",i))(Zu||{}),Os=(n=>(n.RENDER_MARKDOWN="renderMarkdown",n.HIDDEN="hidden",n.INVALID="invalid",n))(Os||{}),Ic={renderMarkdown:{type:"renderMarkdown",allowedFieldTypes:["text"],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},hidden:{type:"hidden",allowedFieldTypes:[],values:[[],[{name:"value",allowed:["true","false"],description:""}]],allowMultiple:!1},invalid:{type:"invalid",allowedFieldTypes:[],values:[[]],allowMultiple:!0}};var i7={date:"date",datePicker:"datePicker",editor:"editor",imageSuggester:'imageSuggester(optionQuery(""))',inlineList:"inlineList",inlineListSuggester:"inlineListSuggester(option(apple), option(banana), option(lemon))",inlineSelect:"inlineSelect(option(apple), option(banana), option(lemon))",list:"list",listSuggester:"listSuggester(option(apple), option(banana), option(lemon))",multiSelect:"multiSelect(option(apple), option(banana), option(lemon))",number:"number",progressBar:"progressBar",select:"select(option(apple), option(banana), option(lemon))",slider:"slider(addLabels)",suggester:"suggester(option(apple), option(banana), option(lemon))",text:"text",textArea:"textArea",time:"time",toggle:"toggle",date_picker:"",multi_select:"",text_area:"",invalid:""};function Nd(r){let e=[];for(let[t,n]of Object.entries(i7)){if(n==="")continue;let i=r.api.inputField.createInputFieldDeclarationFromString(`INPUT[${n}]`);i=r.api.inputField.addArgument(i,{name:"showcase",value:["true"]}),i=r.api.inputField.addArgument(i,{name:"title",value:[t]}),e.push([t,i])}return e}var CC=require("obsidian");function a7(r){let e;return{c(){e=X("div")},m(t,n){ae(t,e,n),r[4](e)},p:ke,i:ke,o:ke,d(t){t&&ie(e),r[4](null)}}}function o7(r,e,t){let{type:n}=e,{declaration:i}=e,{plugin:a}=e,o,l;rn(()=>{o=new CC.Component,a.api.createInputField(i,"block","",l,o),o.load()}),qu(()=>{o.unload()});function u(s){nn[s?"unshift":"push"](()=>{l=s,t(0,l)})}return r.$$set=s=>{"type"in s&&t(1,n=s.type),"declaration"in s&&t(2,i=s.declaration),"plugin"in s&&t(3,a=s.plugin)},[l,n,i,a,u]}var _d=class extends ze{constructor(e){super(),Ge(this,e,o7,a7,He,{type:1,declaration:2,plugin:3})}},AC=_d;function SC(r,e,t){let n=r.slice();return n[7]=e[t],n}function s7(r){let e;return{c(){e=We("Docs")},m(t,n){ae(t,e,n)},d(t){t&&ie(e)}}}function u7(r){let e;return{c(){e=We("GitHub")},m(t,n){ae(t,e,n)},d(t){t&&ie(e)}}}function l7(r){let e;return{c(){e=We("Report Issue")},m(t,n){ae(t,e,n)},d(t){t&&ie(e)}}}function FC(r){let e,t;return e=new AC({props:{type:r[7][0],declaration:r[7][1],plugin:r[1]}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.type=n[7][0]),i&2&&(a.declaration=n[7][1]),i&2&&(a.plugin=n[1]),e.$set(a)},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function c7(r){let e,t,n,i,a,o,l,u,s,c,f,p,m,h,d,g,y,w,v,x,D,b,C,S,E,A,M,I,k,L,P,B,T,z,O,J,ee,j,V,re,xe,oe,le,ve,ue,ce;l=new Cr({props:{variant:"primary",$$slots:{default:[s7]},$$scope:{ctx:r}}}),l.$on("click",r[4]),s=new Cr({props:{variant:"default",$$slots:{default:[u7]},$$scope:{ctx:r}}}),s.$on("click",r[5]),f=new Cr({props:{variant:"default",$$slots:{default:[l7]},$$scope:{ctx:r}}}),f.$on("click",r[6]),E=new Mi({props:{app:r[0],declaration:f7,errorCollection:r[2]}}),k=new Mi({props:{app:r[0],declaration:p7,errorCollection:r[3]}});let me=Ke(Nd(r[1])),de=[];for(let we=0;we<me.length;we+=1)de[we]=FC(SC(r,me,we));let Be=we=>De(de[we],1,1,()=>{de[we]=null});return{c(){e=X("div"),t=X("h1"),t.textContent="Meta Bind FAQ",n=Ee(),i=X("h2"),i.textContent="Quick Access",a=Ee(),o=X("p"),Qe(l.$$.fragment),u=Ee(),Qe(s.$$.fragment),c=Ee(),Qe(f.$$.fragment),p=Ee(),m=X("h2"),m.textContent="Error Messages",h=Ee(),d=X("p"),g=We("When creating "),y=X("a"),y.textContent="Input Fields",v=We(` or
		`),x=X("a"),x.textContent="View Fields",b=Ee(),C=X("strong"),C.textContent="warnings",S=We(`
		(
		`),Qe(E.$$.fragment),A=We(`
		) and `),M=X("strong"),M.textContent="errors",I=We(`
		(
		`),Qe(k.$$.fragment),L=We(`
		) can occur. These are `),P=X("strong"),P.textContent="clickable",B=We(` and will show a modal with detailed information about the error
		when clicked.`),T=Ee(),z=X("h2"),z.textContent="Input Fields",O=Ee(),J=X("p"),J.innerHTML=`<a href="${kt.linkToInputFields()}">Input Fields</a> let you change the frontmatter of your notes from inside
		of notes.`,ee=Ee();for(let we=0;we<de.length;we+=1)de[we].c();j=Ee(),V=X("h2"),V.textContent="View Fields",re=Ee(),xe=X("p"),xe.innerHTML=`<a href="${kt.linkToViewFields()}">View Fields</a> let you view and perform calculations using the frontmatter
		of your notes from inside of notes. They will update instantly to reflect changes to the frontmatter made by input
		fields and as fast as obsidian allows it for changes from other sources.`,oe=Ee(),le=X("h2"),le.textContent="Bind Targets",ve=Ee(),ue=X("p"),ue.innerHTML=`<a href="https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/inputfields/#binding-to-metadata">Bind Targets</a>
		let the plugin know what frontmatter properties to bind
		<a href="${kt.linkToInputFields()}">Input Fields</a>
		and
		<a href="${kt.linkToViewFields()}">View Fields</a> to.`,q(y,"href",w=kt.linkToInputFields()),q(x,"href",D=kt.linkToViewFields()),q(e,"class","mb-faq-view markdown-rendered")},m(we,U){ae(we,e,U),G(e,t),G(e,n),G(e,i),G(e,a),G(e,o),Je(l,o,null),G(o,u),Je(s,o,null),G(o,c),Je(f,o,null),G(e,p),G(e,m),G(e,h),G(e,d),G(d,g),G(d,y),G(d,v),G(d,x),G(d,b),G(d,C),G(d,S),Je(E,d,null),G(d,A),G(d,M),G(d,I),Je(k,d,null),G(d,L),G(d,P),G(d,B),G(e,T),G(e,z),G(e,O),G(e,J),G(e,ee);for(let H=0;H<de.length;H+=1)de[H]&&de[H].m(e,null);G(e,j),G(e,V),G(e,re),G(e,xe),G(e,oe),G(e,le),G(e,ve),G(e,ue),ce=!0},p(we,[U]){let H={};U&1024&&(H.$$scope={dirty:U,ctx:we}),l.$set(H);let fe={};U&1024&&(fe.$$scope={dirty:U,ctx:we}),s.$set(fe);let $={};U&1024&&($.$$scope={dirty:U,ctx:we}),f.$set($);let Q={};U&1&&(Q.app=we[0]),U&4&&(Q.errorCollection=we[2]),E.$set(Q);let te={};if(U&1&&(te.app=we[0]),U&8&&(te.errorCollection=we[3]),k.$set(te),U&2){me=Ke(Nd(we[1]));let he;for(he=0;he<me.length;he+=1){let be=SC(we,me,he);de[he]?(de[he].p(be,U),ge(de[he],1)):(de[he]=FC(be),de[he].c(),ge(de[he],1),de[he].m(e,j))}for(Bt(),he=me.length;he<de.length;he+=1)Be(he);Ot()}},i(we){if(!ce){ge(l.$$.fragment,we),ge(s.$$.fragment,we),ge(f.$$.fragment,we),ge(E.$$.fragment,we),ge(k.$$.fragment,we);for(let U=0;U<me.length;U+=1)ge(de[U]);ce=!0}},o(we){De(l.$$.fragment,we),De(s.$$.fragment,we),De(f.$$.fragment,we),De(E.$$.fragment,we),De(k.$$.fragment,we),de=de.filter(Boolean);for(let U=0;U<de.length;U+=1)De(de[U]);ce=!1},d(we){we&&ie(e),Xe(l),Xe(s),Xe(f),Xe(E),Xe(k),Mt(de,we)}}}var f7="INPUT[someInputFieldDeclaration]",p7="INPUT[someInputFieldDeclaration]";function m7(r,e,t){let{app:n}=e,{plugin:i}=e,a=new xr("exampleWarningErrorCollection"),o=new xr("exampleErrorErrorCollection");rn(()=>{a.add(new Hu({errorLevel:"WARNING",effect:"some example warning",cause:"some example reason"})),t(2,a),o.add(new Hu({errorLevel:"ERROR",effect:"some example error",cause:"some example reason"})),t(3,o)});let l=()=>{kt.open(kt.linkToHome())},u=()=>{kt.open(kt.linkToGithub())},s=()=>{kt.open(kt.linkToIssues())};return r.$$set=c=>{"app"in c&&t(0,n=c.app),"plugin"in c&&t(1,i=c.plugin)},[n,i,a,o,l,u,s]}var Md=class extends ze{constructor(e){super(),Ge(this,e,m7,c7,He,{app:0,plugin:1})}},NC=Md;var Zo="mb-faq-view-type",Bc=class extends _C.ItemView{constructor(t,n){super(t);this.plugin=n}getViewType(){return Zo}getDisplayText(){return"Meta Bind FAQ"}async onOpen(){let t=this.containerEl.children[1];t.empty(),this.component=new NC({target:t,props:{app:this.app,plugin:this.plugin}})}async onClose(){var t;(t=this.component)==null||t.$destroy()}};var Oc=class extends On.PluginSettingTab{constructor(t,n){super(t,n);this.plugin=n}display(){let{containerEl:t}=this;t.empty(),new On.Setting(t).setName("Quick access").addButton(n=>{n.setCta(),n.setButtonText("Docs"),n.onClick(()=>{kt.open(kt.linkToHome())})}).addButton(n=>{n.setButtonText("Open FAQ"),n.onClick(()=>{this.plugin.activateView(Zo)})}).addButton(n=>{n.setButtonText("GitHub"),n.onClick(()=>{kt.open(kt.linkToGithub())})}).addButton(n=>{n.setButtonText("Report Issue"),n.onClick(()=>{kt.open(kt.linkToIssues())})}),new On.Setting(t).setName("Sync interval").setDesc(`The interval in milli-seconds between disk writes. Changing this number is not recommended except if your hard drive is exceptionally slow. Standard: ${Si.syncInterval}; Minimum: ${Si.minSyncInterval}; Maximum: ${Si.maxSyncInterval}`).addText(n=>{n.setValue(this.plugin.settings.syncInterval.toString()),n.onChange(i=>{this.plugin.settings.syncInterval=Number.parseInt(i),Number.isNaN(this.plugin.settings.syncInterval)&&(this.plugin.settings.syncInterval=Si.syncInterval),this.plugin.settings.syncInterval<Si.minSyncInterval&&(this.plugin.settings.syncInterval=Si.minSyncInterval),this.plugin.settings.syncInterval>Si.maxSyncInterval&&(this.plugin.settings.syncInterval=Si.maxSyncInterval),this.plugin.saveSettings()})}),new On.Setting(t).setName("Date format").setDesc("The date format to be used by this plugin. Changing this setting will break the parsing of existing date inputs. Here is a list of all available date tokes https://momentjs.com/docs/#/displaying/.").addText(n=>{n.setValue(this.plugin.settings.preferredDateFormat),n.onChange(i=>{this.plugin.settings.preferredDateFormat=i,this.plugin.saveSettings()})}),new On.Setting(t).setName("Use US date input field order").setDesc("When enabled the month input is before the day input.").addToggle(n=>{n.setValue(this.plugin.settings.useUsDateInputOrder),n.onChange(i=>{this.plugin.settings.useUsDateInputOrder=i,this.plugin.saveSettings()})}),new On.Setting(t).setName("First Weekday").setDesc("Specify the first weekday for the datepicker.").addDropdown(n=>{for(let i of So)n.addOption(i.name,i.name);n.setValue(this.plugin.settings.firstWeekday.name),n.onChange(i=>{this.plugin.settings.firstWeekday=So.find(a=>a.name===i),this.plugin.saveSettings()})}),new On.Setting(t).setName("Templates").setDesc("You can specify templates here, and access them using `INPUT[template_name][overrides (optional)]` in your notes.").addButton(n=>{n.setButtonText("Edit Templates"),n.onClick(()=>{new Mc(this.app,this.plugin).open()})}),new On.Setting(t).setName("Excluded Folders").setDesc("You can specify excluded folders here. The plugin will not work within excluded folders.").addButton(n=>{n.setButtonText("Edit Excluded Folders"),n.onClick(()=>{new _c(this.app,this.plugin).open()})}),new On.Setting(t).setName("View Fields display null as empty").setDesc("Display nothing instead of null, if the frontmatter value is empty, in text view fields.").addToggle(n=>{n.setValue(this.plugin.settings.viewFieldDisplayNullAsEmpty),n.onChange(i=>{this.plugin.settings.viewFieldDisplayNullAsEmpty=i,this.plugin.saveSettings()})}),new On.Setting(t).setName("Enable JS Input Fields").setDesc("Enable the processing of JavaScript input fields. This is potentially DANGEROUS, thus it's disabled by default. RESTART REQUIRED.").addToggle(n=>{n.setValue(this.plugin.settings.enableJs),n.onChange(i=>{this.plugin.settings.enableJs=i,this.plugin.saveSettings()})}),t.createEl("h2",{text:"Advanced Settings"}),new On.Setting(t).setName("Dev Mode").setDesc("Enable dev mode. Not recommended unless you want to debug this plugin.").addToggle(n=>{n.setValue(this.plugin.settings.devMode),n.onChange(i=>{this.plugin.settings.devMode=i,this.plugin.saveSettings()})}),new On.Setting(t).setName("Disable Code Block Restrictions").setDesc("Disable restrictions on which input fields can be created in which code blocks. Not recommended unless you know what you are doing.").addToggle(n=>{n.setValue(this.plugin.settings.ignoreCodeBlockRestrictions),n.onChange(i=>{this.plugin.settings.ignoreCodeBlockRestrictions=i,this.plugin.saveSettings()})})}};var Td=require("obsidian"),Wr=class r{static stringify(e){return e.format(this.dateFormat)}static parse(e){return(0,Td.moment)(e,r.dateFormat)}static getDefaultDate(){return(0,Td.moment)(new Date)}static getDefaultDay(){return new Date().getDate()}static getDefaultMonth(){return 1}static getDefaultYear(){return new Date().getFullYear()}};function Yu(r,e,t){return Math.min(Math.max(r,e),t)}function kc(r,e,t){return r!==void 0?Math.min(Math.max(r,e),t):void 0}function Id(r,e,t,n,i){return(r-e)/(t-e)*(i-n)+n}function Bd(r,e){return(r%e+e)%e}function MC(r,e){if(r==null&&e==null)return!0;if(r==null||e==null||r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function Od(r,e){for(let t=0;t<e.length;t++)if(r[t]!==e[t])return!1;return!0}function kd(r){return!!r}function Pd(r){let e=Reflect.ownKeys(r);for(let t of e){let n=r[t];(n&&typeof n=="object"||typeof n=="function")&&Pd(n)}return Object.freeze(r)}function yr(){return window.crypto.randomUUID()}function Pc(r){try{return new URL(r),!0}catch(e){return!1}}var Rc=class{constructor(e,t,n,i,a){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.onDelete=a,this.deleted=!1}unsubscribe(){this.metadataManager.unsubscribe(this)}update(e){this.metadataManager.updateCache(e,this)}notify(e){this.callbackSignal.set(e)}getDependencies(){return[]}delete(){this.deleted=!0,this.onDelete()}};var Lc=class{constructor(e,t,n,i,a,o,l){this.uuid=e,this.callbackSignal=t,this.metadataManager=n,this.bindTarget=i,this.dependencies=a,this.dependencySubscriptions=[],this.computeFunction=o,this.onDelete=l,this.deleted=!1}init(){for(let e of this.dependencies){let t=this.uuid+"/"+yr();this.dependencySubscriptions.push(this.metadataManager.subscribe(t,e.callbackSignal,e.bindTarget,()=>this.delete())),e.callbackSignal.registerListener({callback:()=>void this.computeValue()})}this.computeValue()}async computeValue(){let e=this.dependencySubscriptions.map(n=>n.callbackSignal.get()),t=await this.computeFunction(e);this.callbackSignal.set(t),this.metadataManager.updateCache(t,this)}unsubscribe(){for(let e of this.dependencySubscriptions)e.unsubscribe();this.metadataManager.unsubscribe(this)}notify(e){}getDependencies(){return this.dependencies}delete(){this.deleted=!0;for(let e of this.dependencySubscriptions)e.deleted||e.delete();this.onDelete(),this.unsubscribe()}};var Wa=class{static get(e,t){return console.log("PropUtils.get",e,t),t.get(e).child}static tryGet(e,t){var n;return console.log("PropUtils.tryGet",e,t),(n=t.tryGet(e))==null?void 0:n.child}static fullGet(e,t){return t.get(e)}static set(e,t,n){t.set(e,n)}static setAndCreate(e,t,n){t.setAndCreate(e,n)}};var TC=5,d7=5*60;function Rd(r,e){return r===void 0||e===void 0||r.filePath!==e.filePath?!1:IC(r.metadataPath.toStringArray(),e.metadataPath.toStringArray(),e.listenToChildren)}function IC(r,e,t){return MC(r,e)||Od(e,r)?!0:t&&Od(r,e)}function h7(r){return r===void 0?"undefined":`${r.filePath}#${r.metadataPath.toString()}`}var Vc=class{constructor(e){this.cache=new Map,this.metadataAdapter=e,this.metadataAdapter.setManagerInstance(this),this.metadataAdapter.load()}unload(){this.metadataAdapter.unload()}subscribeSubscription(e){if(e.bindTarget===void 0)return;let t=this.getCacheForFile(e.bindTarget.filePath);if(t)console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to existing file cache ${e.bindTarget.filePath} -> ${e.bindTarget.metadataPath.toString()}`),t.inactive=!1,t.cyclesSinceInactive=0,t.subscriptions.push(e),e.notify(Wa.tryGet(t.metadata,e.bindTarget.metadataPath));else{console.debug(`meta-bind | MetadataManager >> registered ${e.uuid} to newly created file cache ${e.bindTarget.filePath} -> ${e.bindTarget.metadataPath.toString()}`);let{metadata:n,extraCache:i}=this.metadataAdapter.getMetadataAndExtraCache(e),a={extraCache:i,metadata:n,subscriptions:[e],cyclesSinceLastChange:TC+1,cyclesSinceInactive:0,inactive:!1,changed:!1};console.log(`meta-bind | MetadataManager >> loaded metadata for file ${e.bindTarget.filePath}`,a.metadata),e.notify(Wa.tryGet(a.metadata,e.bindTarget.metadataPath)),this.createCacheForFile(e.bindTarget.filePath,a)}}subscribe(e,t,n,i){let a=new Rc(e,t,this,n,i);return this.subscribeSubscription(a),a}subscribeComputed(e,t,n,i,a,o){let l=new Lc(e,t,this,n,i,a,o);return this.checkForLoops(l),l.init(),this.subscribeSubscription(l),l}checkForLoops(e){for(let t of this.getAllSubscriptionsToDependencies(e))this.recCheckForLoops([e,t])}recCheckForLoops(e){let t=e.first(),n=e.last();if(!(n===void 0||t===void 0)){if(Rd(t.bindTarget,n.bindTarget))throw new Bo({errorLevel:"ERROR",effect:"bind target dependency loop detected",cause:`the loop is as follows: ${e.map(i=>`"${h7(i.bindTarget)}"`).join(" -> ")}`,docs:["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/viewfields/#circular-dependencies"]});for(let i of this.getAllSubscriptionsToDependencies(n))this.recCheckForLoops([...e,i])}}getAllSubscriptionsToDependencies(e){return e.getDependencies().map(t=>this.getAllSubscriptionsToBindTarget(t.bindTarget)).flat()}getAllSubscriptionsToBindTarget(e){if(e===void 0)return[];let t=this.getCacheForFile(e.filePath);if(!t)return[];let n=[];for(let i of t.subscriptions)Rd(i.bindTarget,e)&&n.push(i);return t.subscriptions.filter(i=>Rd(i.bindTarget,e))}unsubscribe(e){if(e.bindTarget===void 0)return;let t=e.bindTarget.filePath,n=this.getCacheForFile(t);n&&(console.debug(`meta-bind | MetadataManager >> unregistered ${e.uuid} to from file cache ${t}`),n.subscriptions=n.subscriptions.filter(i=>i.uuid!==e.uuid),n.subscriptions.length===0&&(console.debug(`meta-bind | MetadataManager >> marked unused file cache as inactive ${t}`),n.inactive=!0))}getCacheForFile(e){return this.cache.get(e)}createCacheForFile(e,t){if(this.cache.has(e))throw new Fi({errorLevel:"CRITICAL",effect:"can not create metadata file cache",cause:"cache for file already exists"});this.cache.set(e,t)}update(){let e=[];for(let[t,n]of this.cache)n.changed&&this.updateExternal(t,n),n.cyclesSinceLastChange+=1,n.inactive&&(n.cyclesSinceInactive+=1),n.cyclesSinceInactive>d7&&e.push(t);for(let t of e)this.cache.delete(t)}async updateExternal(e,t){try{await this.metadataAdapter.updateMetadata(e,t)}catch(n){t.changed=!1,console.warn("failed to update frontmatter",n)}}updateCache(e,t){if(t.bindTarget===void 0)return;let n=t.bindTarget.metadataPath,i=t.bindTarget.filePath;console.debug(`meta-bind | MetadataManager >> updating "${JSON.stringify(n)}" in "${i}" metadata cache to`,e);let a=this.getCacheForFile(i);a&&(Wa.setAndCreate(a.metadata,n,e),a.cyclesSinceLastChange=0,a.changed=!0,this.notifyListeners(a,n,t.uuid))}updateCacheOnExternalUpdate(e,t){let n=this.getCacheForFile(e);if(!n||n.cyclesSinceLastChange<TC)return;let i=Object.assign({},t);delete i.position,console.debug(`meta-bind | MetadataManager >> updating "${e}" on frontmatter update`,i),n.metadata=i,this.notifyListeners(n)}notifyListeners(e,t,n){for(let i of e.subscriptions)if(!(n&&n===i.uuid)&&i.bindTarget!==void 0)if(t){if(IC(t.toStringArray(),i.bindTarget.metadataPath.toStringArray(),i.bindTarget.listenToChildren)){let a=Wa.tryGet(e.metadata,i.bindTarget.metadataPath);console.debug(`meta-bind | MetadataManager >> notifying input field ${i.uuid} of updated metadata value`,a),i.notify(a)}}else{let a=Wa.tryGet(e.metadata,i.bindTarget.metadataPath);console.debug(`meta-bind | MetadataManager >> notifying input field ${i.uuid} of updated metadata`,i.bindTarget.metadataPath,e.metadata,a),i.notify(a)}}deleteCacheInstant(e){let t=this.getCacheForFile(e);if(t!==void 0){for(let n of t.subscriptions)n.delete();this.cache.delete(e)}}};var BC=require("obsidian");var kn=class extends BC.MarkdownRenderChild{constructor(t,n,i,a,o){super(t);this.renderChildType=n,this.plugin=i,this.filePath=a,this.uuid=o,this.errorCollection=new xr(this.uuid)}};var Yo=class extends kn{constructor(t,n,i,a,o,l){super(t,n,a,o,l);this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.inputFieldDeclaration=i}getArguments(t){if(this.inputFieldDeclaration.errorCollection.hasErrors())throw new Fi({errorLevel:"CRITICAL",effect:"can not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.inputFieldDeclaration.argumentContainer.getAll(t)}getArgument(t){return this.getArguments(t).at(0)}isBound(){return this.inputFieldDeclaration.isBound}getBindTarget(){return this.isBound()?this.inputFieldDeclaration.bindTarget:void 0}getUuid(){return this.uuid}getFullBindTarget(){let t=this.getBindTarget();if(t)try{return this.plugin.api.bindTargetParser.toFullDeclaration(t,this.filePath)}catch(n){this.errorCollection.add(n);return}}getFilePath(){return this.filePath}shouldAddCardContainer(){let t=this.inputFieldDeclaration.inputFieldType==="select"||this.inputFieldDeclaration.inputFieldType==="multi_select"||this.inputFieldDeclaration.inputFieldType==="multiSelect"||this.inputFieldDeclaration.inputFieldType==="list",n=kd(this.getArgument("showcase"))||kd(this.getArgument("title"));return this.renderChildType==="block"&&(t||n)}createErrorIndicator(t){new Mi({target:t,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}})}createWrapper(){let t=this.getArgument("title");if(this.shouldAddCardContainer()){let n=this.containerEl.createDiv({cls:"mb-card"});return t&&n.createEl("h3",{text:t.value}),n}else return this.containerEl}addShowcaseArgument(t){let n=this.getArgument("showcase");this.shouldAddCardContainer()&&n&&t.createEl("code",{cls:"mb-none"}).createEl("a",{text:this.fullDeclaration,href:kt.linkToInputField(this.inputFieldDeclaration.inputFieldType),cls:"mb-no-link"})}createInputField(){if(!this.errorCollection.hasErrors())try{this.inputField=this.plugin.api.inputFieldFactory.createInputField(this.inputFieldDeclaration.inputFieldType,this.renderChildType,this)}catch(t){this.errorCollection.add(t)}!this.errorCollection.hasErrors()&&!this.inputField&&this.errorCollection.add(new Fi({errorLevel:"CRITICAL",effect:"can't render input field",cause:"input field is undefined"}))}onload(){var a;if(console.log("meta-bind | InputFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-input"),this.containerEl.empty(),this.createInputField(),this.errorCollection.hasErrors()){this.createErrorIndicator(this.containerEl);return}this.plugin.mdrcManager.registerMDRC(this);let t=this.createWrapper();this.createErrorIndicator(t);let n=t.createDiv();n.addClass("mb-input-wrapper"),(a=this.inputField)==null||a.mount(n);let i=this.getArguments("class");i&&n.addClasses(i.map(o=>o.value).flat()),this.renderChildType==="block"?this.containerEl.addClass("mb-input-block"):this.containerEl.addClass("mb-input-inline"),this.addShowcaseArgument(t)}onunload(){var t;console.log("meta-bind | InputFieldMarkdownRenderChild >> unload",this),(t=this.inputField)==null||t.destroy(),this.plugin.mdrcManager.unregisterMDRC(this),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind input field",cls:"mb-error"}),super.onunload()}};var fr=Fr(Zi()),Xo=Fr(ga());var jr=Fr(Zi()),qC=Fr(ga());var Gr=Fr(Zi()),Ga=Fr(ga()),Ti=Gr.P.sequence(Ga.P_UTILS.unicodeLetter(),Gr.P.or(Ga.P_UTILS.unicodeAlphanumeric(),Gr.P.oneOf("-_")).many()).map(r=>r[0]+r[1].join("")).describe("identifier"),RC=Gr.P.sequenceMap((r,e)=>r+e.map(t=>t[0]+t[1]).join(""),Ti,Gr.P.sequence(Ga.P_UTILS.optionalWhitespace(),Ti).many()).describe("identifier with spaces"),w7=Gr.P.string("\\").then(Ga.P_UTILS.any()).map(r=>r==="'"?"'":r==="\\"?"\\":"\\"+r);function LC(r){return Gr.P.or(w7,Gr.P.noneOf(r+"\\")).many().map(e=>e.join("")).trim(Gr.P.string(r))}var E7=LC("'"),VC=LC('"');function Yn(r,e){return{value:r,position:e}}var C7=Gr.P.regexp(/^[^()',]+/).describe("any character except parentheses, single quotation marks and commas"),A7=Gr.P.or(E7,C7).node(Yn),S7=Gr.P.separateBy(A7,Gr.P.string(",").trim(Ga.P_UTILS.optionalWhitespace())),F7=Gr.P.sequenceMap((r,e)=>({name:r,value:e}),Ti.node(Yn),S7.trim(Ga.P_UTILS.optionalWhitespace()).wrap(Gr.P.string("("),Gr.P.string(")")).optional([])),Ju=Gr.P.separateBy(F7,Gr.P.string(",").trim(Ga.P_UTILS.optionalWhitespace()));var Yc=class{constructor(e,t,n){this.parent=e,this.access=t,this.child=n}};function N7(r,e){return r[e]}function UC(r,e,t){r[e]=t}var Jo=class{constructor(e,t){if(this.type=e,this.prop=e==="object"?t:"",this.index=e==="array"?Number(t):0,Number.isNaN(this.index))throw new Error("can not access array with non number index")}get(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");return new Yc(e,this,N7(e,this.prop))}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");return new Yc(e,this,e[this.index])}}set(e,t){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");UC(e,this.prop,t)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=t}}create(e){if(this.type==="object"){if(typeof e!="object"||e==null)throw new Error("can not access property of non-object");UC(e,this.prop,void 0)}else{if(typeof e!="object"||e==null||!Array.isArray(e))throw new Error("can not access property of non-array");e[this.index]=void 0}}};var Zd=jr.P.manyNotOf("{}[]#^|:?").box("file path"),zC=Ti.node((r,e)=>({type:"object",prop:Yn(r,e)})),Gd=jr.P.or(qC.P_UTILS.digits().wrap(jr.P.string("["),jr.P.string("]")).node((r,e)=>({type:"array",prop:Yn(r,e)})),VC.wrap(jr.P.string("["),jr.P.string("]")).node((r,e)=>({type:"object",prop:Yn(r,e)}))),_7=jr.P.or(jr.P.sequenceMap((r,e)=>({file:void 0,boundToLocalScope:r==="^",listenToChildren:!1,path:e}),jr.P.string("^").optional(),Gd.atLeast(1)),jr.P.sequenceMap((r,e,t)=>({file:void 0,boundToLocalScope:r==="^",listenToChildren:!1,path:[e,...t]}),jr.P.string("^").skip(jr.P.string(".")).optional(),zC,Gd.many())),M7=jr.P.sequenceMap((r,e)=>[r,...e],zC,Gd.many()),T7=jr.P.sequenceMap((r,e)=>(r.path=r.path.concat(e.flat()),r),_7,jr.P.string(".").then(M7).many()),va=jr.P.sequenceMap((r,e)=>(e.file=r==null?void 0:r[0],e),jr.P.sequence(Zd.node(Yn),jr.P.string("#")).optional(),T7);var I7=fr.P.string("\\").then(Xo.P_UTILS.any()).map(r=>r==="["?"[":r==="]"?"]":r==="{"?"{":r==="}"?"}":r==="\\"?"\\":"\\"+r),$C=fr.P.sequenceMap((r,e)=>r+e.flat().join(""),fr.P.manyNotOf("{}[]\\"),fr.P.sequence(I7,fr.P.manyNotOf("{}[]\\")).many()).box("View Field Content"),B7=fr.P.sequenceMap((r,e)=>[r,...e.flat()],$C,fr.P.sequence(va.wrap(fr.P.string("{"),fr.P.string("}")),$C).many()),O7=fr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{viewFieldType:r,writeToBindTarget:n,arguments:e,templateDeclaration:void 0}},Ti.node(Yn).optional().describe("input field type"),Ju.trim(Xo.P_UTILS.optionalWhitespace()).wrap(fr.P.string("("),fr.P.string(")")).optional([]),fr.P.sequence(fr.P.string(":"),va).optional()),Yd=fr.P.sequenceMap((r,e,t)=>t===void 0?{viewFieldType:void 0,writeToBindTarget:void 0,arguments:[],templateDeclaration:e}:(t.templateDeclaration=e,t),fr.P.string("VIEW"),B7.wrap(fr.P.string("["),fr.P.string("]")),O7.wrap(fr.P.string("["),fr.P.string("]")).optional(),Xo.P_UTILS.eof()),k7=fr.P.sequenceMap((r,e,t,n)=>(e!==void 0&&(r.listenToChildren=!0),{bindTarget:r,name:n}),va.wrap(fr.P.string("{"),fr.P.string("}")),fr.P.string(" and children").optional(),fr.P.string(" as "),Ti),HC=fr.P.sequenceMap((r,e,t,n)=>({bindTargetMappings:r,code:n}),k7.separateBy(Xo.P_UTILS.whitespace()),Xo.P_UTILS.whitespace(),fr.P.string("---"),Xo.P_UTILS.remaining());function Jn(r,e){let t=r.tryParse(e);if(t.success)return t.value;throw new Jd("ERROR","parsiNOM parser",e,t)}var Jd=class extends Hr{constructor(t,n,i,a){super({errorLevel:t,effect:"failed to parse",cause:`expected ${a.expected.sort().join(" or ")}`});this.str=i,this.parseFailure=a,this.source=n,this.updateMessage2()}getErrorType(){return"MB_PARSINOM"}updateMessage2(){this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`;let n=this.str.split(`
`)[this.parseFailure.furthest.line-1],i=`${this.parseFailure.furthest.line} |   `;this.positionContext=`${i}${n}`,this.positionContext+=`
${this.getUnderline(i.length)}
`,this.message+=`
`+this.positionContext}getUnderline(t){let n=" ".repeat(this.parseFailure.furthest.column+t-1),i=`^ (${this.cause})`;return n+i}},an=class extends Hr{constructor(t,n,i,a,o,l){super({errorLevel:t,effect:"failed to validate parser result",cause:i,docs:l});this.str=a,this.position=o,this.source=n,this.updateMessage2()}getErrorType(){return"MB_VALIDATION"}updateMessage2(){if(this.cause instanceof Error?this.message=`[${this.getErrorType()}] "${this.effect}" caused by error "${this.cause.message}"
`:this.message=`[${this.getErrorType()}] "${this.effect}" caused by "${this.cause}"
`,this.str&&this.position){let n=this.str.split(`
`)[this.position.from.line-1],i=`${this.position.from.line} |   `;this.positionContext=`${i}${n}`,this.positionContext+=`
${this.getUnderline(i.length,n.length)}
`,this.message+=`
`+this.positionContext}}getUnderline(t,n){if(this.position===void 0)return"";let i=" ".repeat(this.position.from.column+t-1),a=this.position.to.line===this.position.from.line?this.position.to.column:n,o="^".repeat(a-this.position.from.column);return i+o}};var Rs=class{constructor(){this.arguments=[]}add(e){this.arguments.push(e)}validate(){let e={};for(let t of Object.values(_r))e[t]=0;for(let t of this.arguments){let n=t.getConfig();if(e[n.type]+=1,e[n.type]>1&&!n.allowMultiple)throw new lr({errorLevel:"ERROR",effect:"failed to validate argument container",cause:`argument '${n.type}' does not allow duplicates`,docs:[kt.linkToSearch(n.type)]})}}mergeByOverride(e){for(let t of e.arguments){let n=t.getConfig();n.allowMultiple||(this.arguments=this.arguments.filter(i=>i.getConfig().type!==n.type)),this.arguments.push(t)}return this.validate(),this}mergeByThrow(e){for(let t of e.arguments){let n=t.getConfig();if(!n.allowMultiple&&this.arguments.filter(i=>i.getConfig().type===n.type).length>0)throw new lr({errorLevel:"ERROR",effect:"failed to merge argument container",cause:"can not merge FieldArgumentContainers, since arguments overlap"});this.arguments.push(t)}return this.validate(),this}getAll(e){return this.arguments.filter(t=>t.getConfig().type===e)}get(e){return this.getAll(e).at(0)}};var Ls=class extends Rs{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var Vs=class{parseValue(e){this.validateValues(e,this.getConfig().values),this._parseValue(e)}validateValues(e,t){if(t.find(n=>n.length===e.length)===void 0)throw new lr({errorLevel:"WARNING",effect:`Failed to parse argument value for argument '${this.getConfig().type}'.`,cause:`Expected argument values to follow the form ${t.map(n=>n.length===0?"none":n.map(i=>`'${i.name}'`).join(", ")).join(" or ")}. Received arguments of length ${e.length}.`,docs:[kt.linkToSearch(this.getConfig().type)]})}isAllowed(e){return this.getConfig().allowedFieldTypes.length===0?!0:this.getConfig().allowedFieldTypes.includes(e)}getAllowedFieldsAsString(){return this.getConfig().allowedFieldTypes.length===0?"all":this.getConfig().allowedFieldTypes.join(", ")}};var Us=class extends Vs{};var Jc=class extends Us{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Ic.renderMarkdown}};var Xc=class extends Us{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return Ic.hidden}};var WC={renderMarkdown:Jc,hidden:Xc},Qc=class{static createViewFieldArgument(e){if(e in WC){let t=WC[e];if(t)return new t}throw new fa({errorLevel:"WARNING",effect:"can not crate view field argument",cause:`unknown argument '${e}'`})}};var Kc=class{constructor(e,t){this.unvalidatedDeclaration=e,this.plugin=t,this.errorCollection=new xr("view field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a=this.validateTemplateDeclaration(e),o={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,viewFieldType:t,writeToBindTarget:n,argumentContainer:i,templateDeclaration:a,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(o),o}validateInputFieldType(){let e=this.unvalidatedDeclaration.viewFieldType;if(e===void 0)return"math";for(let t of Object.entries(Zu))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new an("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be a view field type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}checkForDeprecation(e){}validateBindTarget(e){if(this.unvalidatedDeclaration.writeToBindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.writeToBindTarget,e)}validateArguments(e){let t=new Ls;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=Qc.createViewFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new an("WARNING","Declaration Validator",`Failed to parse view field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" view fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(Os))if(t[1]===e.value)return t[1];return this.errorCollection.add(new an("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be a view field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}validateTemplateDeclaration(e){var t,n;try{return(n=(t=this.unvalidatedDeclaration.templateDeclaration)==null?void 0:t.map(i=>typeof i=="string"?i:this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,i,e)))!=null?n:[]}catch(i){return this.errorCollection.add(i),[]}}};var ef=class{constructor(e){this.plugin=e}parseString(e,t){let n=new xr("ViewFieldDeclaration");try{let i=Jn(Yd,e);return i.fullDeclaration=e,i.errorCollection=n,i.arguments=[...i.arguments],this.validateDeclaration(i,t)}catch(i){n.add(i)}return{fullDeclaration:e,errorCollection:n,templateDeclaration:[],viewFieldType:"invalid",argumentContainer:new Ls,writeToBindTarget:void 0}}parseStringWithoutValidation(e){let t=new xr("ViewFieldDeclaration");try{let n=Jn(Yd,e);return n.fullDeclaration=e,n.errorCollection=t,n.arguments=[...n.arguments],n}catch(n){t.add(n)}return{fullDeclaration:e,errorCollection:t,viewFieldType:{value:"invalid"},writeToBindTarget:void 0,arguments:[],templateDeclaration:[]}}validateDeclaration(e,t){return new Kc(e,this.plugin).validate(t)}parseJsString(e){let t={};t.errorCollection=new xr("JsViewFieldDeclaration"),t.fullDeclaration=e;try{let n=Jn(HC,e);t.bindTargetMappings=n.bindTargetMappings.map(i=>({bindTarget:this.plugin.api.bindTargetParser.validateBindTarget(e,i.bindTarget),name:i.name})),t.code=n.code}catch(n){t.errorCollection.add(n)}return t}};var qs=class r{constructor(e){this.path=e}get(e){if(this.path.length===0)throw new Error("can not use empty path to access object");let t=this.path[0].get(e);for(let n of this.path.slice(1))t=n.get(t.child);return t}tryGet(e){try{return this.get(e)}catch(t){console.error(t);return}}set(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);for(let i of this.path.slice(1))n=i.get(n.child);n.access.set(n.parent,t)}setAndCreate(e,t){if(this.path.length===0)throw new Error("can not use empty path to access object");let n=this.path[0].get(e);n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(0,t)),n=n.access.get(n.parent));for(let i=1;i<this.path.length;i++)n=this.path[i].get(n.child),n.child===void 0&&(n.access.set(n.parent,this.getNextPathElementValue(i,t)),n=n.access.get(n.parent));n.access.set(n.parent,t)}getNextPathElement(e){return this.path[e+1]}getNextPathElementValue(e,t){let n=this.getNextPathElement(e);return n===void 0?t:n.type==="object"?{}:[]}toStringArray(){return this.path.map(e=>e.prop)}toString(){return this.toStringArray().join(".")}concat(e){return new r(this.path.concat(e.path))}};var tf=class{constructor(e){this.plugin=e}parseAndValidateBindTarget(e,t){return this.validateBindTarget(e,this.parseBindTarget(e),t)}parseBindTarget(e){return Jn(va,e)}validateBindTarget(e,t,n){var o,l,u,s,c;let i={},a=(o=t.file)==null?void 0:o.value;if(a!==void 0){let f=this.plugin.getFilePathsByName(a);if(f.length===0)throw new an("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${(l=t.file)==null?void 0:l.value}' not found.`,e,(u=t.file)==null?void 0:u.position);if(f.length===1)i.filePath=f[0];else throw new an("ERROR","Bind Target Validator",`Failed to parse bind target. Bind target file path '${(s=t.file)==null?void 0:s.value}' resolves to multiple files, please also specify the file path.`,e,(c=t.file)==null?void 0:c.position)}return i.metadataPath=new qs(t.path.map(f=>new Jo(f.type,f.prop.value))),i.boundToLocalScope=t.boundToLocalScope,i.listenToChildren=t.listenToChildren,this.resolveScope(i,n)}resolveScope(e,t){if(e.boundToLocalScope){if(t===void 0)throw new an("ERROR","Bind Target Scope Validator","Failed to resolve bind target scope, no scope provided");return e.filePath=t.scope.filePath,e.metadataPath=t.scope.metadataPath.concat(e.metadataPath),e}else return e}toFullDeclaration(e,t){if(e!==void 0)return e.filePath===void 0&&(e.filePath=t),e}};var zs=class{constructor(){this.listeners=[]}registerListener(e){let t=e;return t.uuid=yr(),this.listeners.push(t),t}unregisterListener(e){this.unregisterListenerById(e.uuid)}unregisterListenerById(e){this.listeners=this.listeners.filter(t=>t.uuid!==e)}notifyListeners(e){for(let t of this.listeners)t.callback(e)}},Vr=class extends zs{constructor(t){super();this.value=t}get(){return this.value}set(t){this.value=t,this.notifyListeners(t)}},rf=class extends zs{constructor(t,n){super();this.dependency=t,this.value=n(t.get()),this.dependencyListener=t.registerListener({callback:i=>this.set(n(i))})}get(){return this.value}set(t){this.value=t,this.notifyListeners(t)}destroy(){this.dependency.unregisterListener(this.dependencyListener)}};var $s=class extends kn{};var Hs=class extends $s{constructor(t,n,i,a,o,l){var u,s;super(t,n,a,o,l);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.viewFieldDeclaration=i,this.variables=[],this.inputSignal=new Vr(void 0),this.errorCollection.isEmpty())try{this.viewField=this.plugin.api.viewFieldFactory.createViewField(i.viewFieldType,this),this.variables=(s=(u=this.viewField)==null?void 0:u.buildVariables(this.viewFieldDeclaration))!=null?s:[]}catch(c){this.errorCollection.add(c)}}registerSelfToMetadataManager(){try{this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.viewFieldDeclaration.writeToBindTarget,this.filePath),this.variables.map(t=>({bindTarget:this.plugin.api.bindTargetParser.toFullDeclaration(t.bindTargetDeclaration,this.filePath),callbackSignal:t.inputSignal})),async()=>{var t;return await((t=this.viewField)==null?void 0:t.computeValue(this.variables))},()=>this.unload()),this.inputSignal.registerListener({callback:t=>{var n;return void((n=this.viewField)==null?void 0:n.update(t))}})}catch(t){this.errorCollection.add(t)}}unregisterSelfFromMetadataManager(){var t;(t=this.metadataSubscription)==null||t.unsubscribe()}getArguments(t){if(this.viewFieldDeclaration.errorCollection.hasErrors())throw new Fi({errorLevel:"ERROR",effect:"an not retrieve arguments",cause:"inputFieldDeclaration has errors"});return this.viewFieldDeclaration.argumentContainer.getAll(t)}getArgument(t){return this.getArguments(t).at(0)}onload(){var n;if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),this.errorCollection.hasErrors()||this.registerSelfToMetadataManager(),new Mi({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;this.plugin.mdrcManager.registerMDRC(this);let t=createDiv();t.addClass("mb-view-wrapper"),(n=this.viewField)==null||n.render(t),this.containerEl.appendChild(t)}onunload(){var t;console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),(t=this.viewField)==null||t.destroy(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}};function Xd(r){var e;return(e=r.plugins.getPlugin("js-engine"))==null?void 0:e.api}var nf=class extends $s{constructor(t,n,i,a,o,l){var u;super(t,n,a,o,l);if(this.errorCollection.merge(i.errorCollection),this.fullDeclaration=i.fullDeclaration,this.viewFieldDeclaration=i,this.variables=[],this.file=this.plugin.app.vault.getAbstractFileByPath(this.filePath),this.errorCollection.isEmpty())try{for(let s of(u=this.viewFieldDeclaration.bindTargetMappings)!=null?u:[])this.variables.push({bindTargetDeclaration:s.bindTarget,inputSignal:new Vr(void 0),uuid:yr(),contextName:s.name})}catch(s){this.errorCollection.add(s)}}buildContext(){var n,i;let t={};for(let a of(n=this.variables)!=null?n:[])!a.contextName||!a.inputSignal||(t[a.contextName]=(i=a.inputSignal.get())!=null?i:"");return t}async evaluateExpression(){if(!this.plugin.settings.enableJs)throw new Oo({errorLevel:"CRITICAL",effect:"Can't evaluate expression.",cause:"JS expressions are disabled in the plugin settings."});let t=Xd(this.plugin.app);if(t===void 0)throw new Oo({errorLevel:"ERROR",effect:"can not evaluate js view field",cause:"js view fields need the JS Engine plugin to be installed"});return await t.internal.execute({code:this.viewFieldDeclaration.code,context:{file:this.file,line:0,metadata:this.plugin.app.metadataCache.getFileCache(this.file)},container:this.renderContainer,component:this,contextOverrides:{bound:this.buildContext()}})}registerSelfToMetadataManager(){let t=new Vr(void 0);this.metadataSubscription=this.plugin.metadataManager.subscribeComputed(this.uuid,t,void 0,this.variables.map(n=>({bindTarget:this.plugin.api.bindTargetParser.toFullDeclaration(n.bindTargetDeclaration,this.filePath),callbackSignal:n.inputSignal})),()=>this.update(),()=>this.unload())}unregisterSelfFromMetadataManager(){var t;(t=this.metadataSubscription)==null||t.unsubscribe()}async onload(){if(console.log("meta-bind | ViewFieldMarkdownRenderChild >> load",this),this.containerEl.addClass("mb-view"),this.containerEl.empty(),Xd(this.plugin.app)===void 0&&this.errorCollection.add(new Oo({errorLevel:"ERROR",effect:"can not create js view field",cause:"js view fields need the JS Engine plugin to be installed"})),new Mi({target:this.containerEl,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.fullDeclaration}}),this.errorCollection.hasErrors())return;this.registerSelfToMetadataManager(),this.plugin.mdrcManager.registerMDRC(this);let t=createDiv();t.addClass("mb-view-wrapper"),this.renderContainer=t,await this.update(),this.containerEl.appendChild(t)}onunload(){console.log("meta-bind | ViewFieldMarkdownRenderChild >> unload",this),this.plugin.mdrcManager.unregisterMDRC(this),this.unregisterSelfFromMetadataManager(),this.containerEl.empty(),this.containerEl.createEl("span",{text:"unloaded meta bind view field",cls:"mb-error"}),super.onunload()}async update(){if(this.renderContainer)try{let t=Xd(this.plugin.app);if(t===void 0)throw new Oo({errorLevel:"ERROR",effect:"can not evaluate js view field",cause:"js view fields need the JS Engine plugin to be installed"});let n=await this.evaluateExpression();await t.internal.createRenderer(this.renderContainer,this.filePath,this).render(n.result)}catch(t){t instanceof Error&&(this.renderContainer.innerText=t.message,this.renderContainer.addClass("mb-error"))}}};var Ws=class extends Rs{getAll(e){return super.getAll(e)}get(e){return this.getAll(e).at(0)}};var er=class extends Vs{};var af=class extends er{constructor(){super(...arguments);this.value=[]}_parseValue(t){this.value=t[0].value.split(" ")}getConfig(){return ir.class}};var of=class extends er{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return ir.addLabels}};var sf=class extends er{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'minValue' must be of type number",docs:[kt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return ir.minValue}};var uf=class extends er{constructor(){super(...arguments);this.value=100}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'maxValue' must be of type number",docs:[kt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return ir.maxValue}};var ja=Fr(Zi()),Xu=Fr(ga());var Sn=Fr(Zi());var GC=Fr(ga());var P7=Sn.P.sequence(Zd,Sn.P.string("#").then(Sn.P.manyNotOf("[]#|^:")).optional(),Sn.P.string("|").then(Sn.P.manyNotOf("[]")).optional()),Qd=Sn.P.or(Sn.P.sequenceMap((r,e)=>({isEmbed:r!==void 0,target:e[0],block:e[1],alias:e[2],internal:!0}),Sn.P.string("!").optional(),P7.wrapString("[[","]]")),Sn.P.sequenceMap((r,e,t)=>{let n=!Pc(t);return{isEmbed:r!==void 0,target:t,block:void 0,alias:e,internal:n}},Sn.P.string("!").optional(),Sn.P.manyNotOf("[]").wrapString("[","]"),Sn.P.manyNotOf("()").wrapString("(",")"))),R7=Sn.P.separateBy(Qd,Sn.P.string(",").trim(GC.P_UTILS.optionalWhitespace())),Fn=class{static parseLink(e){return Jn(Qd.thenEof(),e)}static parseLinkList(e){return Jn(R7.thenEof(),e)}static isLink(e){return Qd.thenEof().tryParse(e).success}static urlToLink(e){return{isEmbed:!1,target:e.href,block:void 0,alias:e.hostname,internal:!1}}};var ZC=ja.P.sequenceMap((r,e)=>r===void 0?e:-e,ja.P.string("-").optional(),ja.P.or(ja.P.sequenceMap((r,e,t)=>Number(r+e+t),Xu.P_UTILS.digits(),ja.P.string("."),Xu.P_UTILS.digits()),Xu.P_UTILS.digits().map(r=>Number(r)))).thenEof(),YC=ja.P.sequenceMap((r,e)=>r===void 0?e:-e,ja.P.string("-").optional(),Xu.P_UTILS.digits().map(r=>Number(r))).thenEof();function ya(r){if(r.toLowerCase()==="null")return null;if(r==="true")return!0;if(r==="false")return!1;{let e=ZC.tryParse(r);return e.success?e.value:r}}function Qu(r){return r===void 0||r===null?"":typeof r=="string"?r:typeof r=="boolean"?r?"true":"false":r.toString()}function Za(r){return r===null||typeof r=="string"||typeof r=="boolean"||typeof r=="number"}function Yi(r){if(r!==void 0){if(Za(r))return[r];if(typeof r=="object"&&Array.isArray(r))return r.filter(e=>Za(e))}}function Gs(r){if(typeof r=="number")return r;if(typeof r=="string"){let e=ZC.tryParse(r);if(e.success)return e.value}}function js(r){return Za(r)?Qu(r):void 0}function Ya(r){return Za(r)?r:void 0}function JC(r,e){return Array.isArray(r)?r.map(t=>Kd(t,e)).filter(t=>t!=="").join(", "):Kd(r,e)}function Kd(r,e){return r==null?e?"":"null":typeof r=="function"?"<function>":typeof r=="object"||Array.isArray(r)?JSON.stringify(r):r.toString()}function XC(r,e){return Array.isArray(r)?r.map(t=>jC(t,e)).filter(t=>t!==""):jC(r,e)}function jC(r,e){return typeof r=="string"?Fn.isLink(r)?Fn.parseLink(r):Pc(r)?Fn.urlToLink(new URL(r)):r:Kd(r,e)}var lf=class extends er{constructor(){super(...arguments);this.value="";this.name=""}_parseValue(t){t.length===1?(this.value=ya(t[0].value),this.name=t[0].value):t.length===2&&(this.value=ya(t[0].value),this.name=t[1].value)}getConfig(){return ir.option}};var cf=class extends er{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return ir.title}};var ff=class extends er{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return ir.optionQuery}};var pf=class extends er{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return ir.showcase}};var mf=class extends er{constructor(){super(...arguments);this.value=!1}_parseValue(t){this.value=ya(t[0].value)}getConfig(){return ir.offValue}};var df=class extends er{constructor(){super(...arguments);this.value=!0}_parseValue(t){this.value=ya(t[0].value)}getConfig(){return ir.onValue}};var hf=class extends er{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=ya(t[0].value)}getConfig(){return ir.defaultValue}};var gf=class extends er{constructor(){super(...arguments);this.value=""}_parseValue(t){this.value=t[0].value}getConfig(){return ir.placeholder}};var vf=class extends er{constructor(){super(...arguments);this.value=!0}_parseValue(t){var n;this.value=t[0]===void 0||((n=t[0])==null?void 0:n.value.toLowerCase())==="true"}getConfig(){return ir.useLinks}};var yf=class extends er{constructor(){super(...arguments);this.value=0}_parseValue(t){if(this.value=Number.parseFloat(t[0].value),Number.isNaN(this.value))throw new lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be of type number",docs:[kt.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'stepSize' must be a positive number",docs:[kt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return ir.stepSize}};var xf=class extends er{constructor(){super(...arguments);this.value=void 0}_parseValue(t){if(this.value=Number.parseInt(t[0].value),Number.isNaN(this.value))throw new lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be of type number",docs:[kt.linkToInputFieldArgument(this.getConfig().type)]});if(this.value<=0)throw new lr({errorLevel:"WARNING",effect:"failed to set value for input field argument",cause:"value of argument 'limit' must be a positive number",docs:[kt.linkToInputFieldArgument(this.getConfig().type)]})}getConfig(){return ir.limit}};var QC={class:af,addLabels:of,minValue:sf,maxValue:uf,stepSize:yf,option:lf,title:cf,optionQuery:ff,showcase:pf,offValue:mf,onValue:df,defaultValue:hf,placeholder:gf,useLinks:vf,limit:xf},bf=class{static createInputFieldArgument(e){if(e in QC){let t=QC[e];if(t)return new t}throw new fa({errorLevel:"WARNING",effect:"can not crate input field argument",cause:`unknown argument '${e}'`})}};var Ku=class{constructor(e,t){this.plugin=e,this.unvalidatedDeclaration=t,this.errorCollection=new xr("input field declaration")}validate(e){let t=this.validateInputFieldType(),n=this.validateBindTarget(e),i=this.validateArguments(t),a={fullDeclaration:this.unvalidatedDeclaration.fullDeclaration,inputFieldType:t,isBound:n!==void 0,bindTarget:n,argumentContainer:i,errorCollection:this.errorCollection.merge(this.unvalidatedDeclaration.errorCollection)};return this.checkForDeprecation(a),a}validateInputFieldType(){let e=this.unvalidatedDeclaration.inputFieldType;for(let t of Object.entries(Bs))if(t[1]===(e==null?void 0:e.value))return t[1];return this.errorCollection.add(new an("ERROR","Declaration Validator",`Encountered invalid identifier. Expected token to be an input field type but received '${e==null?void 0:e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e==null?void 0:e.position)),"invalid"}checkForDeprecation(e){var t;(e.inputFieldType==="date_picker"||e.inputFieldType==="text_area"||e.inputFieldType==="multi_select")&&this.errorCollection.add(new an("WARNING","Declaration Validator",`'${e.inputFieldType}' is deprecated, as it has been renamed to be in camel case ('input_field_type' => 'inputFieldType').`,this.unvalidatedDeclaration.fullDeclaration,(t=this.unvalidatedDeclaration.inputFieldType)==null?void 0:t.position))}validateBindTarget(e){if(this.unvalidatedDeclaration.bindTarget!==void 0)return this.plugin.api.bindTargetParser.validateBindTarget(this.unvalidatedDeclaration.fullDeclaration,this.unvalidatedDeclaration.bindTarget,e)}validateArguments(e){let t=new Ws;for(let n of this.unvalidatedDeclaration.arguments){let i=this.validateArgumentType(n.name);if(i==="invalid")continue;let a=bf.createInputFieldArgument(i);if(!a.isAllowed(e)){this.errorCollection.add(new an("WARNING","Declaration Validator",`Failed to parse input field arguments. Argument "${n.name.value}" is only applicable to "${a.getAllowedFieldsAsString()}" input fields.`,this.unvalidatedDeclaration.fullDeclaration,n.name.position));continue}try{a.parseValue(n.value)}catch(o){this.errorCollection.add(o);continue}t.add(a)}try{t.validate()}catch(n){this.errorCollection.add(n)}return t}validateArgumentType(e){for(let t of Object.entries(_r))if(t[1]===e.value)return t[1];return this.errorCollection.add(new an("WARNING","Declaration Validator",`Encountered invalid identifier. Expected identifier to be an input field argument type but received '${e.value}'.`,this.unvalidatedDeclaration.fullDeclaration,e.position)),"invalid"}};var dr=Fr(Zi());var Zs=Fr(ga());var L7=dr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},Ti.node(Yn).describe("input field type"),Ju.trim(Zs.P_UTILS.optionalWhitespace()).wrap(dr.P.string("("),dr.P.string(")")).optional([]),dr.P.sequence(dr.P.string(":"),va).optional()),KC=dr.P.sequenceMap((r,e,t)=>{let n=t===void 0?void 0:t[1];return{inputFieldType:r,arguments:e,bindTarget:n}},Ti.node(Yn).optional().describe("input field type"),Ju.trim(Zs.P_UTILS.optionalWhitespace()).wrap(dr.P.string("("),dr.P.string(")")).optional([]),dr.P.sequence(dr.P.string(":"),va).optional()),eh=dr.P.or(dr.P.sequenceMap((r,e,t)=>(t.templateName=e,t),dr.P.string("INPUT"),dr.P.sequenceMap((r,e,t)=>e,dr.P.string("["),RC.node(Yn).describe("template name"),dr.P.string("]")),KC.wrap(dr.P.string("["),dr.P.string("]")),Zs.P_UTILS.eof()),dr.P.sequenceMap((r,e)=>e,dr.P.string("INPUT"),L7.wrap(dr.P.string("["),dr.P.string("]")),Zs.P_UTILS.eof())),eA=dr.P.sequenceMap((r,e)=>e,dr.P.string("INPUT"),KC.wrap(dr.P.string("["),dr.P.string("]")),Zs.P_UTILS.eof());var Df=class{constructor(e){this.plugin=e,this.templates=[]}parseString(e,t){let n=new xr("InputFieldParser");try{let i=Jn(eh,e);return i.fullDeclaration=e,i.errorCollection=n,i.arguments=[...i.arguments],i=this.applyTemplate(i),new Ku(this.plugin,i).validate(t)}catch(i){n.add(i)}return{fullDeclaration:e,inputFieldType:"invalid",isBound:!1,bindTarget:void 0,argumentContainer:new Ws,errorCollection:n}}parseStringWithoutValidation(e){let t=new xr("InputFieldParser");try{let n=Jn(eh,e);return n.fullDeclaration=e,n.errorCollection=t,n.arguments=[...n.arguments],n}catch(n){t.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}validateDeclaration(e,t){return new Ku(this.plugin,e).validate(t)}parseTemplateString(e){let t=new xr("InputFieldParser");try{let n=Jn(eA,e);return n.fullDeclaration=e,n.errorCollection=t,n.arguments=[...n.arguments],n}catch(n){t.add(n)}return{fullDeclaration:e,inputFieldType:{value:"invalid"},bindTarget:void 0,arguments:[],errorCollection:t}}parseTemplates(e){this.templates=[];let t=new xr("input field template parser");for(let n of e){let i=this.parseTemplateString(n.declaration);t.merge(i.errorCollection);let a={name:n.name,template:i};this.templates.push(Pd(a))}return t}getTemplate(e){var t;return(t=this.templates.find(n=>n.name===e))==null?void 0:t.template}applyTemplate(e){if(e.templateName===void 0)return e;let t=this.getTemplate(e.templateName.value);return t===void 0?(e.errorCollection.add(new an("WARNING","Input Field Parser",`Invalid template name. Could not find template with name '${e.templateName.value}'`,e.fullDeclaration,e.templateName.position,["https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/guides/templates/"])),e):this.plugin.api.inputField.merge(t,e)}};var wf=class{constructor(e){this.api=e}createInputFieldDeclaration(e,t){let n=new xr("input field declaration"),i=(t!=null?t:[]).map(a=>({name:{value:a.name},value:a.value.map(o=>({value:o}))}));return{fullDeclaration:"",inputFieldType:e?{value:e}:void 0,bindTarget:void 0,arguments:i,errorCollection:n}}createInputFieldDeclarationFromString(e){return this.api.inputFieldParser.parseStringWithoutValidation(e)}setType(e,t){return e.inputFieldType={value:t},e}setArguments(e,t){return e.arguments=t.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))})),e}addArgument(e,t){return Array.isArray(t)?e.arguments=e.arguments.concat(t.map(n=>({name:{value:n.name},value:n.value.map(i=>({value:i}))}))):e.arguments.push({name:{value:t.name},value:t.value.map(n=>({value:n}))}),e}setBindTargetFile(e,t){return e.bindTarget?e.bindTarget.file={value:t}:e.bindTarget={file:{value:t},path:[],boundToLocalScope:!1,listenToChildren:!1},e}setBindTargetMetadataField(e,t){return typeof t=="string"&&(t=[t]),e.bindTarget?e.bindTarget.path=t.map(n=>({type:"object",prop:{value:n}})):e.bindTarget={file:void 0,path:t.map(n=>({type:"object",prop:{value:n}})),boundToLocalScope:!1,listenToChildren:!1},e}setTemplateName(e,t){return e.templateName={value:t},e}applyTemplate(e){return this.api.inputFieldParser.applyTemplate(e)}getTemplate(e){return this.api.inputFieldParser.getTemplate(e)}merge(e,t){var i,a,o;let n={};return e.bindTarget===void 0?n=t.bindTarget:(n=e.bindTarget,((i=t.bindTarget)==null?void 0:i.file)!==void 0&&(n.file=t.bindTarget.file),((a=t.bindTarget)==null?void 0:a.path)!==void 0&&(n.path=t.bindTarget.path)),{fullDeclaration:t.fullDeclaration,inputFieldType:(o=t.inputFieldType)!=null?o:e.inputFieldType,bindTarget:n,arguments:t.arguments.concat(e.arguments).reduce((l,u)=>(l.find(s=>s.name===u.name)===void 0&&l.push(u),l),[]),errorCollection:new xr("input field declaration").merge(e.errorCollection).merge(t.errorCollection)}}};var Ef=class extends kn{onload(){console.log("meta-bind | ExcludedMDRC >> load",this),this.containerEl.empty(),this.containerEl.createEl("span",{text:"[META_BIND] This folder has been excluded in the settings",cls:"mb-error"})}};var Cf=class{constructor(e){this.scope=e}};var tA=require("obsidian");function V7(r){let e,t;return{c(){e=X("td"),t=X("div")},m(n,i){ae(n,e,i),G(e,t),r[3](t)},p:ke,i:ke,o:ke,d(n){n&&ie(e),r[3](null)}}}function U7(r,e,t){let{table:n}=e,{cell:i}=e,a,o;rn(()=>{o=new tA.Component,o.load(),n.createCell(i,a,o)}),qu(()=>{o.unload()});function l(u){nn[u?"unshift":"push"](()=>{a=u,t(0,a)})}return r.$$set=u=>{"table"in u&&t(1,n=u.table),"cell"in u&&t(2,i=u.cell)},[a,n,i,l]}var th=class extends ze{constructor(e){super(),Ge(this,e,U7,V7,He,{table:1,cell:2})}},rA=th;function nA(r,e,t){let n=r.slice();return n[7]=e[t],n}function iA(r,e,t){let n=r.slice();return n[10]=e[t],n[11]=e,n[12]=t,n}function aA(r,e,t){let n=r.slice();return n[13]=e[t],n}function oA(r){let e,t=r[13]+"",n;return{c(){e=X("th"),n=We(t)},m(i,a){ae(i,e,a),G(e,n)},p(i,a){a&2&&t!==(t=i[13]+"")&&ct(n,t)},d(i){i&&ie(e)}}}function q7(r){let e,t,n;return{c(){e=X("td"),t=We("invalid data"),q(e,"class","meta-bind-error"),q(e,"colspan",n=r[1].length)},m(i,a){ae(i,e,a),G(e,t)},p(i,a){a&2&&n!==(n=i[1].length)&&q(e,"colspan",n)},i:ke,o:ke,d(i){i&&ie(e)}}}function z7(r){let e,t,n=Ke(r[7].cells),i=[];for(let o=0;o<n.length;o+=1)i[o]=sA(iA(r,n,o));let a=o=>De(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=mr()},m(o,l){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,l);ae(o,e,l),t=!0},p(o,l){if(l&5){n=Ke(o[7].cells);let u;for(u=0;u<n.length;u+=1){let s=iA(o,n,u);i[u]?(i[u].p(s,l),ge(i[u],1)):(i[u]=sA(s),i[u].c(),ge(i[u],1),i[u].m(e.parentNode,e))}for(Bt(),u=n.length;u<i.length;u+=1)a(u);Ot()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)ge(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)De(i[l]);t=!1},d(o){o&&ie(e),Mt(i,o)}}}function sA(r){let e,t,n;function i(o){r[4](o,r[10],r[11],r[12])}let a={table:r[0]};return r[10]!==void 0&&(a.cell=r[10]),e=new rA({props:a}),nn.push(()=>gc(e,"cell",i)),{c(){Qe(e.$$.fragment)},m(o,l){Je(e,o,l),n=!0},p(o,l){r=o;let u={};l&1&&(u.table=r[0]),!t&&l&4&&(t=!0,u.cell=r[10],pc(()=>t=!1)),e.$set(u)},i(o){n||(ge(e.$$.fragment,o),n=!0)},o(o){De(e.$$.fragment,o),n=!1},d(o){Xe(e,o)}}}function $7(r){let e,t;return e=new Nr({props:{iconName:"x"}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p:ke,i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function uA(r,e){let t,n,i,a,o,l,u,s,c=[z7,q7],f=[];function p(h,d){return h[7].isValid?0:1}n=p(e,-1),i=f[n]=c[n](e);function m(){return e[5](e[7])}return l=new Cr({props:{$$slots:{default:[$7]},$$scope:{ctx:e}}}),l.$on("click",m),{key:r,first:null,c(){t=X("tr"),i.c(),a=Ee(),o=X("td"),Qe(l.$$.fragment),u=Ee(),this.first=t},m(h,d){ae(h,t,d),f[n].m(t,null),G(t,a),G(t,o),Je(l,o,null),G(t,u),s=!0},p(h,d){e=h;let g=n;n=p(e,d),n===g?f[n].p(e,d):(Bt(),De(f[g],1,1,()=>{f[g]=null}),Ot(),i=f[n],i?i.p(e,d):(i=f[n]=c[n](e),i.c()),ge(i,1),i.m(t,a));let y={};d&65536&&(y.$$scope={dirty:d,ctx:e}),l.$set(y)},i(h){s||(ge(i),ge(l.$$.fragment,h),s=!0)},o(h){De(i),De(l.$$.fragment,h),s=!1},d(h){h&&ie(t),f[n].d(),Xe(l)}}}function H7(r){let e;return{c(){e=We("Add Column")},m(t,n){ae(t,e,n)},d(t){t&&ie(e)}}}function W7(r){let e,t,n,i,a,o,l,u,s=[],c=new Map,f,p,m,h=Ke(r[1]),d=[];for(let w=0;w<h.length;w+=1)d[w]=oA(aA(r,h,w));let g=Ke(r[2]),y=w=>w[7].index;for(let w=0;w<g.length;w+=1){let v=nA(r,g,w),x=y(v);c.set(x,s[w]=uA(x,v))}return p=new Cr({props:{$$slots:{default:[H7]},$$scope:{ctx:r}}}),p.$on("click",r[6]),{c(){e=X("div"),t=X("table"),n=X("thead"),i=X("tr");for(let w=0;w<d.length;w+=1)d[w].c();a=Ee(),o=X("th"),l=Ee(),u=X("tbody");for(let w=0;w<s.length;w+=1)s[w].c();f=Ee(),Qe(p.$$.fragment),q(t,"class","mb-html-table"),q(e,"class","mb-table-wrapper")},m(w,v){ae(w,e,v),G(e,t),G(t,n),G(n,i);for(let x=0;x<d.length;x+=1)d[x]&&d[x].m(i,null);G(i,a),G(i,o),G(t,l),G(t,u);for(let x=0;x<s.length;x+=1)s[x]&&s[x].m(u,null);ae(w,f,v),Je(p,w,v),m=!0},p(w,[v]){if(v&2){h=Ke(w[1]);let D;for(D=0;D<h.length;D+=1){let b=aA(w,h,D);d[D]?d[D].p(b,v):(d[D]=oA(b),d[D].c(),d[D].m(i,a))}for(;D<d.length;D+=1)d[D].d(1);d.length=h.length}v&7&&(g=Ke(w[2]),Bt(),s=hc(s,v,y,1,w,g,c,u,PE,uA,null,nA),Ot());let x={};v&65536&&(x.$$scope={dirty:v,ctx:w}),p.$set(x)},i(w){if(!m){for(let v=0;v<g.length;v+=1)ge(s[v]);ge(p.$$.fragment,w),m=!0}},o(w){for(let v=0;v<s.length;v+=1)De(s[v]);De(p.$$.fragment,w),m=!1},d(w){w&&(ie(e),ie(f)),Mt(d,w);for(let v=0;v<s.length;v+=1)s[v].d();Xe(p,w)}}}function G7(r,e,t){let{table:n}=e,{tableHead:i=[]}=e,a=[];function o(c){t(2,a=c)}function l(c,f,p,m){p[m]=c,t(2,a)}let u=c=>n.removeColumn(c.index),s=()=>n.addColumn();return r.$$set=c=>{"table"in c&&t(0,n=c.table),"tableHead"in c&&t(1,i=c.tableHead)},[n,i,a,o,l,u,s]}var rh=class extends ze{constructor(e){super(),Ge(this,e,G7,W7,He,{table:0,tableHead:1,updateTable:3})}get updateTable(){return this.$$.ctx[3]}},lA=rh;function Af(r){return new qs(r.map(e=>YC.tryParse(e).success?new Jo("array",e):new Jo("object",e)))}var Sf=class extends kn{constructor(t,n,i,a,o,l,u,s){super(t,n,i,a,o);this.bindTarget=l,this.tableHead=u,this.columns=s,this.inputSignal=new Vr(void 0),this.outputSignal=new Vr(void 0),this.value=void 0}registerSelfToMetadataManager(){this.metadataManagerOutputSignalListener=this.outputSignal.registerListener({callback:this.updateMetadataManager.bind(this)}),this.metadataSubscription=this.plugin.metadataManager.subscribe(this.uuid,this.inputSignal,this.plugin.api.bindTargetParser.toFullDeclaration(this.bindTarget,this.filePath),()=>this.unload())}unregisterSelfFromMetadataManager(){var t;this.metadataManagerOutputSignalListener&&this.outputSignal.unregisterListener(this.metadataManagerOutputSignalListener),(t=this.metadataSubscription)==null||t.unsubscribe()}updateMetadataManager(t){var n;(n=this.metadataSubscription)==null||n.update(t)}updateDisplayValue(t){var i;t=t!=null?t:[];let n=[];for(let a=0;a<t.length;a++)if(typeof t[a]=="object"){let o=new Cf({metadataPath:this.bindTarget.metadataPath.concat(Af([a.toString()])),filePath:this.bindTarget.filePath,listenToChildren:!1,boundToLocalScope:!1}),l=this.columns.map(u=>"inputFieldType"in u?this.plugin.api.inputFieldParser.validateDeclaration(u,o):this.plugin.api.viewFieldParser.validateDeclaration(u,o));n.push({cells:l,index:a,value:t[a],isValid:!0})}else n.push({cells:[],index:a,value:t[a],isValid:!1});(i=this.tableComponent)==null||i.updateTable(n)}createCell(t,n,i){let a=yr();if("inputFieldType"in t){let o=new Yo(n,"inline",t,this.plugin,this.filePath,`${this.uuid}/${a}`);i.addChild(o)}else{let o=new Hs(n,"inline",t,this.plugin,this.filePath,`${this.uuid}/${a}`);i.addChild(o)}}removeColumn(t){var n;this.value=(n=this.value)!=null?n:[],this.value.splice(t,1),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}addColumn(){var t;this.value=(t=this.value)!=null?t:[],this.value.push({}),this.updateDisplayValue(this.value),this.outputSignal.set(this.value)}onload(){this.tableComponent=new lA({target:this.containerEl,props:{table:this,tableHead:this.tableHead}}),this.inputSignal.registerListener({callback:t=>{this.value=t,this.updateDisplayValue(t)}}),this.registerSelfToMetadataManager()}onunload(){var t;this.unregisterSelfFromMetadataManager(),(t=this.tableComponent)==null||t.$destroy()}};var Ff=class extends zs{constructor(t){super();this.mounted=!1,this.svelteComponent=t}setValue(t){var n;(n=this.svelteComponentInstance)==null||n.setValue(t)}mount(t,n,i={}){let a=Object.assign({value:n,onValueChange:o=>{this.notifyListeners(o)}},i);this.svelteComponentInstance=new this.svelteComponent({target:t,props:a}),this.mounted=!0}unmount(){var t;this.listeners=[],(t=this.svelteComponentInstance)==null||t.$destroy(),this.mounted=!1}isMounted(){return this.mounted}};var Pt=class{constructor(e){this.base=e,this.inputSignal=new Vr(void 0),this.inputFieldComponent=new Ff(this.getSvelteComponent()),this.computedSignal=new rf(this.inputSignal,t=>{let n=this.filterValue(t);return n!=null?n:this.getDefaultValue()})}destroy(){this.inputFieldComponent.isMounted()&&this.unmount()}reverseMapValue(e){let t=this.rawReverseMapValue(e);if(t!==void 0)return t;let n=this.rawReverseMapValue(this.getDefaultValue());return n!==void 0?n:this.getFallbackDefaultValue()}mapValue(e){return this.rawMapValue(e)}getValue(){return this.computedSignal.get()}getInternalValue(){return this.reverseMapValue(this.getValue())}setValue(e){this.computedSignal.set(e),this.notifySubscription(e)}setInternalValue(e){this.setValue(this.mapValue(e))}notifySubscription(e){var t;(t=this.metadataSubscription)==null||t.update(e)}getDefaultValue(){let e=this.base.getArgument("defaultValue");if(!e)return this.mapValue(this.getFallbackDefaultValue());let t=this.filterValue(e.value);return t!=null?t:this.mapValue(this.getFallbackDefaultValue())}getMountArgs(){return{}}mount(e){this.computedSignal.registerListener({callback:n=>this.inputFieldComponent.setValue(this.reverseMapValue(n))});let t=this.base.getFullBindTarget();t&&(this.inputFieldComponent.registerListener({callback:n=>{this.notifySubscription(this.mapValue(n))}}),this.metadataSubscription=this.base.plugin.metadataManager.subscribe(this.base.getUuid(),this.inputSignal,t,()=>this.base.unload())),this.inputFieldComponent.mount(e,this.reverseMapValue(this.getValue()),this.getMountArgs())}unmount(){var e;this.computedSignal.listeners=[],(e=this.metadataSubscription)==null||e.unsubscribe(),this.inputFieldComponent.unmount()}onmount(){}onunmount(){}};function j7(r){let e,t,n,i;return{c(){e=X("div"),t=X("input"),q(t,"type","checkbox"),q(t,"tabindex","-1"),t.checked=r[0],q(e,"class","checkbox-container"),q(e,"role","switch"),q(e,"tabindex","0"),q(e,"aria-checked",r[0]),Wt(e,"is-enabled",r[0])},m(a,o){ae(a,e,o),G(e,t),n||(i=[Te(e,"click",r[5]),Te(e,"keypress",r[6])],n=!0)},p(a,[o]){o&1&&(t.checked=a[0]),o&1&&q(e,"aria-checked",a[0]),o&1&&Wt(e,"is-enabled",a[0])},i:ke,o:ke,d(a){a&&ie(e),n=!1,st(i)}}}function Z7(r,e,t){let{value:n}=e,{onValueChange:i}=e;function a(c){t(0,n=c)}function o(){t(0,n=!n),console.log("toggle"),i(n)}function l(c){c.key===" "&&o()}let u=()=>o(),s=c=>l(c);return r.$$set=c=>{"value"in c&&t(0,n=c.value),"onValueChange"in c&&t(3,i=c.onValueChange)},[n,o,l,i,a,u,s]}var nh=class extends ze{constructor(e){super(),Ge(this,e,Z7,j7,He,{value:0,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},cA=nh;var Nf=class extends Pt{constructor(t){var n,i,a,o;super(t);this.onValue=(i=(n=this.base.getArgument("onValue"))==null?void 0:n.value)!=null?i:!0,this.offValue=(o=(a=this.base.getArgument("offValue"))==null?void 0:a.value)!=null?o:!1}filterValue(t){return t===this.onValue||t===this.offValue?Ya(t):void 0}getFallbackDefaultValue(){return!1}getSvelteComponent(){return cA}rawReverseMapValue(t){return t===this.onValue?!0:(t===this.offValue,!1)}rawMapValue(t){return t?this.onValue:this.offValue}};function fA(r){let e,t=pA(r[0].length,r[2])+"",n,i;return{c(){e=X("span"),n=We(t),q(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[2]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){ae(a,e,o),G(e,n)},p(a,o){o&5&&t!==(t=pA(a[0].length,a[2])+"")&&ct(n,t),o&5&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[2]?"mb-content-limit-indicator-overflow":""}`)&&q(e,"class",i)},d(a){a&&ie(e)}}}function Y7(r){let e,t,n,i,a,o=r[2]!==void 0&&fA(r);return{c(){e=X("input"),t=Ee(),o&&o.c(),n=mr(),q(e,"type","text"),q(e,"tabindex","0"),q(e,"placeholder",r[1]),q(e,"maxlength",r[2])},m(l,u){ae(l,e,u),bt(e,r[0]),ae(l,t,u),o&&o.m(l,u),ae(l,n,u),i||(a=[Te(e,"input",r[5]),Te(e,"input",r[6])],i=!0)},p(l,[u]){u&2&&q(e,"placeholder",l[1]),u&4&&q(e,"maxlength",l[2]),u&1&&e.value!==l[0]&&bt(e,l[0]),l[2]!==void 0?o?o.p(l,u):(o=fA(l),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:ke,o:ke,d(l){l&&(ie(e),ie(t),ie(n)),o&&o.d(l),i=!1,st(a)}}}function pA(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function J7(r,e,t){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function l(c){t(0,n=c)}function u(){n=this.value,t(0,n)}let s=()=>o(n);return r.$$set=c=>{"value"in c&&t(0,n=c.value),"placeholder"in c&&t(1,i=c.placeholder),"limit"in c&&t(2,a=c.limit),"onValueChange"in c&&t(3,o=c.onValueChange)},[n,i,a,o,l,u,s]}var ih=class extends ze{constructor(e){super(),Ge(this,e,J7,Y7,He,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},mA=ih;var _f=class extends Pt{constructor(e){super(e)}filterValue(e){return js(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return mA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function X7(r){let e,t,n;return{c(){e=X("input"),q(e,"class","mb-slider-input"),q(e,"type","range"),q(e,"tabindex","0"),q(e,"min",r[1]),q(e,"max",r[2]),q(e,"step",r[3])},m(i,a){ae(i,e,a),bt(e,r[0]),t||(n=[Te(e,"change",r[9]),Te(e,"input",r[9]),Te(e,"input",r[10])],t=!0)},p(i,a){a&2&&q(e,"min",i[1]),a&4&&q(e,"max",i[2]),a&8&&q(e,"step",i[3]),a&1&&bt(e,i[0])},d(i){i&&ie(e),t=!1,st(n)}}}function Q7(r){let e,t,n,i,a,o,l,u,s;return{c(){e=X("span"),t=We(r[1]),n=Ee(),i=X("input"),a=Ee(),o=X("span"),l=We(r[2]),q(e,"class","mb-slider-input-label"),q(i,"class","mb-slider-input"),q(i,"type","range"),q(i,"tabindex","0"),q(i,"min",r[1]),q(i,"max",r[2]),q(i,"step",r[3]),q(o,"class","mb-slider-input-label")},m(c,f){ae(c,e,f),G(e,t),ae(c,n,f),ae(c,i,f),bt(i,r[0]),ae(c,a,f),ae(c,o,f),G(o,l),u||(s=[Te(i,"change",r[7]),Te(i,"input",r[7]),Te(i,"input",r[8])],u=!0)},p(c,f){f&2&&ct(t,c[1]),f&2&&q(i,"min",c[1]),f&4&&q(i,"max",c[2]),f&8&&q(i,"step",c[3]),f&1&&bt(i,c[0]),f&4&&ct(l,c[2])},d(c){c&&(ie(e),ie(n),ie(i),ie(a),ie(o)),u=!1,st(s)}}}function K7(r){let e;function t(a,o){return a[4]?Q7:X7}let n=t(r,-1),i=n(r);return{c(){i.c(),e=mr()},m(a,o){i.m(a,o),ae(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:ke,o:ke,d(a){a&&ie(e),i.d(a)}}}function e9(r,e,t){let{value:n}=e,{minValue:i}=e,{maxValue:a}=e,{stepSize:o}=e,{addLabels:l}=e,{onValueChange:u}=e;function s(h){t(0,n=h)}function c(){n=la(this.value),t(0,n)}let f=()=>u(n);function p(){n=la(this.value),t(0,n)}let m=()=>u(n);return r.$$set=h=>{"value"in h&&t(0,n=h.value),"minValue"in h&&t(1,i=h.minValue),"maxValue"in h&&t(2,a=h.maxValue),"stepSize"in h&&t(3,o=h.stepSize),"addLabels"in h&&t(4,l=h.addLabels),"onValueChange"in h&&t(5,u=h.onValueChange)},[n,i,a,o,l,u,s,c,f,p,m]}var ah=class extends ze{constructor(e){super(),Ge(this,e,e9,K7,He,{value:0,minValue:1,maxValue:2,stepSize:3,addLabels:4,onValueChange:5,setValue:6})}get setValue(){return this.$$.ctx[6]}},dA=ah;var Mf=class extends Pt{constructor(t){var n,i,a,o,l,u;super(t);if(this.minValue=(i=(n=this.base.getArgument("minValue"))==null?void 0:n.value)!=null?i:0,this.maxValue=(o=(a=this.base.getArgument("maxValue"))==null?void 0:a.value)!=null?o:100,this.stepSize=(u=(l=this.base.getArgument("stepSize"))==null?void 0:l.value)!=null?u:1,this.minValue>=this.maxValue)throw new lr({errorLevel:"ERROR",effect:"can not create slider input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(t){return kc(Gs(t),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return dA}rawReverseMapValue(t){return t}rawMapValue(t){return t}getMountArgs(){var t;return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize,addLabels:((t=this.base.getArgument("addLabels"))==null?void 0:t.value)===!0}}};function t9(r){let e,t,n;return{c(){e=X("textarea"),q(e,"tabindex","0"),q(e,"placeholder",r[1]),q(e,"maxlength",r[2])},m(i,a){ae(i,e,a),bt(e,r[0]),t||(n=[Te(e,"input",r[5]),Te(e,"input",r[6])],t=!0)},p(i,[a]){a&2&&q(e,"placeholder",i[1]),a&4&&q(e,"maxlength",i[2]),a&1&&bt(e,i[0])},i:ke,o:ke,d(i){i&&ie(e),t=!1,st(n)}}}function r9(r,e,t){let{value:n}=e,{placeholder:i}=e,{limit:a}=e,{onValueChange:o}=e;function l(c){t(0,n=c)}function u(){n=this.value,t(0,n)}let s=()=>o(n);return r.$$set=c=>{"value"in c&&t(0,n=c.value),"placeholder"in c&&t(1,i=c.placeholder),"limit"in c&&t(2,a=c.limit),"onValueChange"in c&&t(3,o=c.onValueChange)},[n,i,a,o,l,u,s]}var oh=class extends ze{constructor(e){super(),Ge(this,e,r9,t9,He,{value:0,placeholder:1,limit:2,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},hA=oh;var el=class extends Pt{constructor(e){super(e)}filterValue(e){return js(e)}getFallbackDefaultValue(){return""}getSvelteComponent(){return hA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"Text",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function n9(r){let e,t;return{c(){e=X("a"),t=We(r[2]),q(e,"data-href",r[2]),q(e,"href",r[2]),q(e,"class",r[1]),q(e,"target","_blank"),q(e,"rel","noopener")},m(n,i){ae(n,e,i),G(e,t)},p(n,i){i&4&&ct(t,n[2]),i&4&&q(e,"data-href",n[2]),i&4&&q(e,"href",n[2]),i&2&&q(e,"class",n[1])},d(n){n&&ie(e)}}}function i9(r){let e,t=r[0].alias+"",n;return{c(){e=X("a"),n=We(t),q(e,"data-href",r[2]),q(e,"href",r[2]),q(e,"class",r[1]),q(e,"target","_blank"),q(e,"rel","noopener"),q(e,"aria-label",r[2])},m(i,a){ae(i,e,a),G(e,n)},p(i,a){a&1&&t!==(t=i[0].alias+"")&&ct(n,t),a&4&&q(e,"data-href",i[2]),a&4&&q(e,"href",i[2]),a&2&&q(e,"class",i[1]),a&4&&q(e,"aria-label",i[2])},d(i){i&&ie(e)}}}function a9(r){let e;function t(a,o){return a[0].alias?i9:n9}let n=t(r,-1),i=n(r);return{c(){i.c(),e=mr()},m(a,o){i.m(a,o),ae(a,e,o)},p(a,[o]){n===(n=t(a,o))&&i?i.p(a,o):(i.d(1),i=n(a),i&&(i.c(),i.m(e.parentNode,e)))},i:ke,o:ke,d(a){a&&ie(e),i.d(a)}}}function o9(r,e,t){let n,i,{mdLink:a}=e;return r.$$set=o=>{"mdLink"in o&&t(0,a=o.mdLink)},r.$$.update=()=>{r.$$.dirty&1&&t(2,n=a.block?`${a.target}#${a.block}`:a.target),r.$$.dirty&1&&t(1,i=a.internal?"internal-link":"external-link")},[a,i,n]}var sh=class extends ze{constructor(e){super(),Ge(this,e,o9,a9,He,{mdLink:0})}},Ja=sh;var s9=r=>({element:r&1}),gA=r=>({element:r[0][r[0].length-1]});function vA(r,e,t){let n=r.slice();return n[3]=e[t],n}var u9=r=>({element:r&1}),yA=r=>({element:r[3]});function xA(r){let e,t,n,i,a=r[2].default,o=Fo(a,r,r[1],yA);return{c(){o&&o.c(),e=X("span"),e.textContent=",",t=Ee(),n=X("span")},m(l,u){o&&o.m(l,u),ae(l,e,u),ae(l,t,u),ae(l,n,u),i=!0},p(l,u){o&&o.p&&(!i||u&3)&&_o(o,a,l,l[1],i?No(a,l[1],u,u9):Mo(l[1]),yA)},i(l){i||(ge(o,l),i=!0)},o(l){De(o,l),i=!1},d(l){l&&(ie(e),ie(t),ie(n)),o&&o.d(l)}}}function l9(r){let e,t,n=Ke(r[0].slice(0,r[0].length-1)),i=[];for(let u=0;u<n.length;u+=1)i[u]=xA(vA(r,n,u));let a=u=>De(i[u],1,1,()=>{i[u]=null}),o=r[2].default,l=Fo(o,r,r[1],gA);return{c(){for(let u=0;u<i.length;u+=1)i[u].c();e=Ee(),l&&l.c()},m(u,s){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,s);ae(u,e,s),l&&l.m(u,s),t=!0},p(u,[s]){if(s&3){n=Ke(u[0].slice(0,u[0].length-1));let c;for(c=0;c<n.length;c+=1){let f=vA(u,n,c);i[c]?(i[c].p(f,s),ge(i[c],1)):(i[c]=xA(f),i[c].c(),ge(i[c],1),i[c].m(e.parentNode,e))}for(Bt(),c=n.length;c<i.length;c+=1)a(c);Ot()}l&&l.p&&(!t||s&3)&&_o(l,o,u,u[1],t?No(o,u[1],s,s9):Mo(u[1]),gA)},i(u){if(!t){for(let s=0;s<n.length;s+=1)ge(i[s]);ge(l,u),t=!0}},o(u){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)De(i[s]);De(l,u),t=!1},d(u){u&&ie(e),Mt(i,u),l&&l.d(u)}}}function c9(r,e,t){let{$$slots:n={},$$scope:i}=e,{elements:a=[]}=e;return r.$$set=o=>{"elements"in o&&t(0,a=o.elements),"$$scope"in o&&t(1,i=o.$$scope)},[a,i,n]}var uh=class extends ze{constructor(e){super(),Ge(this,e,c9,l9,He,{elements:0})}},Tf=uh;function f9(r){let e,t,n;return t=new Ja({props:{mdLink:r[0]}}),{c(){e=X("span"),Qe(t.$$.fragment)},m(i,a){ae(i,e,a),Je(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.mdLink=i[0]),t.$set(o)},i(i){n||(ge(t.$$.fragment,i),n=!0)},o(i){De(t.$$.fragment,i),n=!1},d(i){i&&ie(e),Xe(t)}}}function p9(r){let e,t,n;return t=new Tf({props:{elements:r[0],$$slots:{default:[g9,({element:i})=>({2:i}),({element:i})=>i?4:0]},$$scope:{ctx:r}}}),{c(){e=X("span"),Qe(t.$$.fragment)},m(i,a){ae(i,e,a),Je(t,e,null),n=!0},p(i,a){let o={};a&1&&(o.elements=i[0]),a&12&&(o.$$scope={dirty:a,ctx:i}),t.$set(o)},i(i){n||(ge(t.$$.fragment,i),n=!0)},o(i){De(t.$$.fragment,i),n=!1},d(i){i&&ie(e),Xe(t)}}}function m9(r){let e,t;return{c(){e=X("span"),t=We(r[0])},m(n,i){ae(n,e,i),G(e,t)},p(n,i){i&1&&ct(t,n[0])},i:ke,o:ke,d(n){n&&ie(e)}}}function d9(r){let e,t;return e=new Ja({props:{mdLink:r[2]}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p(n,i){let a={};i&4&&(a.mdLink=n[2]),e.$set(a)},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function h9(r){let e,t=r[2]+"",n;return{c(){e=X("span"),n=We(t)},m(i,a){ae(i,e,a),G(e,n)},p(i,a){a&4&&t!==(t=i[2]+"")&&ct(n,t)},i:ke,o:ke,d(i){i&&ie(e)}}}function g9(r){let e,t,n,i,a=[h9,d9],o=[];function l(u,s){return typeof u[2]=="string"?0:1}return e=l(r,-1),t=o[e]=a[e](r),{c(){t.c(),n=mr()},m(u,s){o[e].m(u,s),ae(u,n,s),i=!0},p(u,s){let c=e;e=l(u,s),e===c?o[e].p(u,s):(Bt(),De(o[c],1,1,()=>{o[c]=null}),Ot(),t=o[e],t?t.p(u,s):(t=o[e]=a[e](u),t.c()),ge(t,1),t.m(n.parentNode,n))},i(u){i||(ge(t),i=!0)},o(u){De(t),i=!1},d(u){u&&ie(n),o[e].d(u)}}}function v9(r){let e,t,n,i,a,o=[m9,p9,f9],l=[];function u(s,c){return c&1&&(e=null),typeof s[0]=="string"?0:(e==null&&(e=!!Array.isArray(s[0])),e?1:2)}return t=u(r,-1),n=l[t]=o[t](r),{c(){n.c(),i=mr()},m(s,c){l[t].m(s,c),ae(s,i,c),a=!0},p(s,[c]){let f=t;t=u(s,c),t===f?l[t].p(s,c):(Bt(),De(l[f],1,1,()=>{l[f]=null}),Ot(),n=l[t],n?n.p(s,c):(n=l[t]=o[t](s),n.c()),ge(n,1),n.m(i.parentNode,i))},i(s){a||(ge(n),a=!0)},o(s){De(n),a=!1},d(s){s&&ie(i),l[t].d(s)}}}function y9(r,e,t){let n,{value:i=void 0}=e;return r.$$set=a=>{"value"in a&&t(1,i=a.value)},r.$$.update=()=>{r.$$.dirty&2&&t(0,n=XC(i))},[n,i]}var lh=class extends ze{constructor(e){super(),Ge(this,e,y9,v9,He,{value:1})}},ci=lh;function bA(r,e,t){let n=r.slice();return n[8]=e[t],n}function DA(r){let e,t,n,i,a,o;t=new ci({props:{value:r[8].name}});function l(){return r[6](r[8])}function u(...s){return r[7](r[8],...s)}return{c(){e=X("div"),Qe(t.$$.fragment),n=Ee(),q(e,"class","mb-select-input-element"),q(e,"role","button"),q(e,"tabindex","0"),Wt(e,"is-selected",r[8].value===r[0])},m(s,c){ae(s,e,c),Je(t,e,null),G(e,n),i=!0,a||(o=[Te(e,"click",l),Te(e,"keypress",u)],a=!0)},p(s,c){r=s;let f={};c&2&&(f.value=r[8].name),t.$set(f),(!i||c&3)&&Wt(e,"is-selected",r[8].value===r[0])},i(s){i||(ge(t.$$.fragment,s),i=!0)},o(s){De(t.$$.fragment,s),i=!1},d(s){s&&ie(e),Xe(t),a=!1,st(o)}}}function x9(r){let e,t,n=Ke(r[1]),i=[];for(let o=0;o<n.length;o+=1)i[o]=DA(bA(r,n,o));let a=o=>De(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=mr()},m(o,l){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,l);ae(o,e,l),t=!0},p(o,[l]){if(l&15){n=Ke(o[1]);let u;for(u=0;u<n.length;u+=1){let s=bA(o,n,u);i[u]?(i[u].p(s,l),ge(i[u],1)):(i[u]=DA(s),i[u].c(),ge(i[u],1),i[u].m(e.parentNode,e))}for(Bt(),u=n.length;u<i.length;u+=1)a(u);Ot()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)ge(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)De(i[l]);t=!1},d(o){o&&ie(e),Mt(i,o)}}}function b9(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){t(0,n=f)}function l(f){n===f?t(0,n=null):t(0,n=f),a(n)}function u(f,p){f.key===" "&&l(p)}let s=f=>l(f.value),c=(f,p)=>u(p,f.value);return r.$$set=f=>{"value"in f&&t(0,n=f.value),"options"in f&&t(1,i=f.options),"onValueChange"in f&&t(4,a=f.onValueChange)},[n,i,l,u,a,o,s,c]}var ch=class extends ze{constructor(e){super(),Ge(this,e,b9,x9,He,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},wA=ch;var If=class extends Pt{constructor(t){super(t);this.options=this.base.getArguments("option")}filterValue(t){return Ya(t)}getFallbackDefaultValue(){return null}getSvelteComponent(){return wA}rawMapValue(t){return t}rawReverseMapValue(t){return t}getMountArgs(){return{options:this.options}}};function EA(r,e,t){let n=r.slice();return n[8]=e[t],n}function CA(r){let e,t,n,i,a,o;t=new ci({props:{value:r[8].name}});function l(){return r[6](r[8])}function u(...s){return r[7](r[8],...s)}return{c(){e=X("div"),Qe(t.$$.fragment),n=Ee(),q(e,"class","mb-select-input-element"),q(e,"role","button"),q(e,"tabindex","0"),Wt(e,"is-selected",r[0].includes(r[8].value))},m(s,c){ae(s,e,c),Je(t,e,null),G(e,n),i=!0,a||(o=[Te(e,"click",l),Te(e,"keypress",u)],a=!0)},p(s,c){r=s;let f={};c&2&&(f.value=r[8].name),t.$set(f),(!i||c&3)&&Wt(e,"is-selected",r[0].includes(r[8].value))},i(s){i||(ge(t.$$.fragment,s),i=!0)},o(s){De(t.$$.fragment,s),i=!1},d(s){s&&ie(e),Xe(t),a=!1,st(o)}}}function D9(r){let e,t,n=Ke(r[1]),i=[];for(let o=0;o<n.length;o+=1)i[o]=CA(EA(r,n,o));let a=o=>De(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();e=mr()},m(o,l){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(o,l);ae(o,e,l),t=!0},p(o,[l]){if(l&15){n=Ke(o[1]);let u;for(u=0;u<n.length;u+=1){let s=EA(o,n,u);i[u]?(i[u].p(s,l),ge(i[u],1)):(i[u]=CA(s),i[u].c(),ge(i[u],1),i[u].m(e.parentNode,e))}for(Bt(),u=n.length;u<i.length;u+=1)a(u);Ot()}},i(o){if(!t){for(let l=0;l<n.length;l+=1)ge(i[l]);t=!0}},o(o){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)De(i[l]);t=!1},d(o){o&&ie(e),Mt(i,o)}}}function w9(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(f){t(0,n=f)}function l(f){n.includes(f)?t(0,n=n.filter(p=>p!==f)):(n.push(f),t(0,n)),a(n)}function u(f,p){f.key===" "&&l(p)}let s=f=>l(f.value),c=(f,p)=>u(p,f.value);return r.$$set=f=>{"value"in f&&t(0,n=f.value),"options"in f&&t(1,i=f.options),"onValueChange"in f&&t(4,a=f.onValueChange)},[n,i,l,u,a,o,s,c]}var fh=class extends ze{constructor(e){super(),Ge(this,e,w9,D9,He,{value:0,options:1,onValueChange:4,setValue:5})}get setValue(){return this.$$.ctx[5]}},AA=fh;var tl=class extends Pt{constructor(t){super(t);this.options=this.base.getArguments("option")}filterValue(t){return Yi(t)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return AA}rawMapValue(t){return t}rawReverseMapValue(t){return t}getMountArgs(){return{options:this.options}}};function E9(r){pn(r,"svelte-f2wb67",".date-picker-input.svelte-f2wb67{background:var(--background-modifier-form-field);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:5px 5px 5px 7px;cursor:pointer;position:relative;color:var(--text-normal);display:inline-flex;align-items:center;gap:5px;font-size:var(--font-ui-small)}.date-picker-text.svelte-f2wb67{display:inline-block}")}function C9(r){let e,t,n=(r[0]?r[0].format(r[1]):"none")+"",i,a,o,l,u,s;return o=new Nr({props:{iconName:"calendar"}}),{c(){e=X("div"),t=X("span"),i=We(n),a=Ee(),Qe(o.$$.fragment),q(t,"class","date-picker-text svelte-f2wb67"),q(e,"class","date-picker-input svelte-f2wb67"),q(e,"role","button"),q(e,"tabindex","0")},m(c,f){ae(c,e,f),G(e,t),G(t,i),G(e,a),Je(o,e,null),l=!0,u||(s=[Te(e,"click",r[2]),Te(e,"keydown",r[3])],u=!0)},p(c,[f]){(!l||f&3)&&n!==(n=(c[0]?c[0].format(c[1]):"none")+"")&&ct(i,n)},i(c){l||(ge(o.$$.fragment,c),l=!0)},o(c){De(o.$$.fragment,c),l=!1},d(c){c&&ie(e),Xe(o),u=!1,st(s)}}}function A9(r,e,t){let{value:n}=e,{dateFormat:i}=e,{showDatePicker:a}=e,{onValueChange:o}=e;function l(c){t(0,n=c)}function u(c){a()}function s(c){c.key===" "&&a()}return r.$$set=c=>{"value"in c&&t(0,n=c.value),"dateFormat"in c&&t(1,i=c.dateFormat),"showDatePicker"in c&&t(4,a=c.showDatePicker),"onValueChange"in c&&t(5,o=c.onValueChange)},[n,i,u,s,a,o,l]}var ph=class extends ze{constructor(e){super(),Ge(this,e,A9,C9,He,{value:0,dateFormat:1,showDatePicker:4,onValueChange:5,setValue:6},E9)}get setValue(){return this.$$.ctx[6]}},SA=ph;var rl=class extends Pt{constructor(t){super(t);this.options=this.base.getArguments("option")}filterValue(t){if(t===null)return null;if(t===void 0||typeof t!="string")return;let n=Wr.parse(t);if(n.isValid())return Wr.stringify(n)}getFallbackDefaultValue(){return Wr.getDefaultDate()}getSvelteComponent(){return SA}rawMapValue(t){return t===null?null:Wr.stringify(t)}rawReverseMapValue(t){if(t===null)return null;let n=Wr.parse(t);if(n.isValid())return n}getMountArgs(){return{dateFormat:this.base.plugin.settings.preferredDateFormat,showDatePicker:()=>{this.base.plugin.internal.openDatePickerModal(this)}}}};function S9(r){let e,t,n;return{c(){e=X("input"),q(e,"type","number"),q(e,"tabindex","0"),q(e,"placeholder",r[1])},m(i,a){ae(i,e,a),bt(e,r[0]),t||(n=[Te(e,"input",r[4]),Te(e,"input",r[5])],t=!0)},p(i,[a]){a&2&&q(e,"placeholder",i[1]),a&1&&la(e.value)!==i[0]&&bt(e,i[0])},i:ke,o:ke,d(i){i&&ie(e),t=!1,st(n)}}}function F9(r,e,t){let{value:n}=e,{placeholder:i}=e,{onValueChange:a}=e;function o(s){t(0,n=s)}function l(){n=la(this.value),t(0,n)}let u=()=>a(n);return r.$$set=s=>{"value"in s&&t(0,n=s.value),"placeholder"in s&&t(1,i=s.placeholder),"onValueChange"in s&&t(2,a=s.onValueChange)},[n,i,a,o,l,u]}var mh=class extends ze{constructor(e){super(),Ge(this,e,F9,S9,He,{value:0,placeholder:1,onValueChange:2,setValue:3})}get setValue(){return this.$$.ctx[3]}},FA=mh;var Bf=class extends Pt{constructor(e){super(e)}filterValue(e){return Gs(e)}getFallbackDefaultValue(){return 0}getSvelteComponent(){return FA}rawReverseMapValue(e){return e}rawMapValue(e){return e}getMountArgs(){var e;return{placeholder:(e=this.base.getArgument("placeholder"))!=null?e:"Number"}}};function N9(r){let e,t;return{c(){e=X("span"),t=We(r[1])},m(n,i){ae(n,e,i),G(e,t)},p(n,i){i&2&&ct(t,n[1])},i:ke,o:ke,d(n){n&&ie(e)}}}function _9(r){let e,t,n;function i(o){r[9](o)}let a={};return r[0]!==void 0&&(a.mdLink=r[0]),e=new Ja({props:a}),nn.push(()=>gc(e,"mdLink",i)),{c(){Qe(e.$$.fragment)},m(o,l){Je(e,o,l),n=!0},p(o,l){let u={};!t&&l&1&&(t=!0,u.mdLink=o[0],pc(()=>t=!1)),e.$set(u)},i(o){n||(ge(e.$$.fragment,o),n=!0)},o(o){De(e.$$.fragment,o),n=!1},d(o){Xe(e,o)}}}function M9(r){let e,t,n,i,a,o,l,u,s,c=[_9,N9],f=[];function p(m,h){return m[2]?0:1}return n=p(r,-1),i=f[n]=c[n](r),o=new Nr({props:{iconName:"list"}}),{c(){e=X("div"),t=X("div"),i.c(),a=Ee(),Qe(o.$$.fragment),q(t,"class","mb-suggest-text"),q(e,"class","mb-suggest-input"),q(e,"role","button"),q(e,"tabindex","0")},m(m,h){ae(m,e,h),G(e,t),f[n].m(t,null),G(e,a),Je(o,e,null),l=!0,u||(s=[Te(e,"click",r[3]),Te(e,"keydown",r[4])],u=!0)},p(m,[h]){let d=n;n=p(m,h),n===d?f[n].p(m,h):(Bt(),De(f[d],1,1,()=>{f[d]=null}),Ot(),i=f[n],i?i.p(m,h):(i=f[n]=c[n](m),i.c()),ge(i,1),i.m(t,null))},i(m){l||(ge(i),ge(o.$$.fragment,m),l=!0)},o(m){De(i),De(o.$$.fragment,m),l=!1},d(m){m&&ie(e),f[n].d(),Xe(o),u=!1,st(s)}}}function T9(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e,o,l,u=!1;rn(()=>{s(n)});function s(m){var h;let d=(h=m==null?void 0:m.toString())!==null&&h!==void 0?h:"null";if(t(2,u=Fn.isLink(d)),u)try{t(0,o=Fn.parseLink(d))}catch(g){console.warn(g)}else t(1,l=d)}function c(m){m.target instanceof HTMLAnchorElement||i()}function f(m){m.key===" "&&i()}function p(m){o=m,t(0,o)}return r.$$set=m=>{"value"in m&&t(5,n=m.value),"showSuggester"in m&&t(6,i=m.showSuggester),"onValueChange"in m&&t(7,a=m.onValueChange)},[o,l,u,c,f,n,i,a,s,p]}var dh=class extends ze{constructor(e){super(),Ge(this,e,T9,M9,He,{value:5,showSuggester:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},NA=dh;var Of=class extends Pt{constructor(e){super(e)}filterValue(e){return Ya(e)}getFallbackDefaultValue(){return null}getSvelteComponent(){return NA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>this.setInternalValue(e.value))}};function I9(r){pn(r,"svelte-1aj1f3m",".editor-input.svelte-1aj1f3m.svelte-1aj1f3m{background:var(--background-secondary);width:100%;height:500px;padding:0;position:relative;margin-left:0}.editor-input.svelte-1aj1f3m>textarea.svelte-1aj1f3m{background:var(--background-secondary);border:none;padding:var(--size-4-4) var(--size-4-8);margin:0;position:absolute;inset:0;resize:none}.editor-input.svelte-1aj1f3m>div.svelte-1aj1f3m{padding:var(--size-4-4) var(--size-4-8);position:absolute;inset:0}")}function B9(r){let e,t,n,i,a,o;return{c(){e=X("div"),t=X("textarea"),n=Ee(),i=X("div"),q(t,"class","svelte-1aj1f3m"),q(i,"class","svelte-1aj1f3m"),q(e,"class","editor-input card svelte-1aj1f3m"),q(e,"role","button"),q(e,"tabindex","0")},m(l,u){ae(l,e,u),G(e,t),r[9](t),bt(t,r[0]),G(e,n),G(e,i),r[13](i),a||(o=[Te(t,"input",r[10]),Te(t,"focusout",r[11]),Te(t,"input",r[12]),Te(e,"click",r[14]),Te(e,"keypress",r[15])],a=!0)},p(l,[u]){u&1&&bt(t,l[0])},i:ke,o:ke,d(l){l&&ie(e),r[9](null),r[13](null),a=!1,st(o)}}}function O9(r,e,t){let{value:n}=e,{onValueChange:i}=e,{render:a}=e,o,l;rn(()=>{o.toggleVisibility(!0),l.toggleVisibility(!1),a(o,n)});function u(v){t(0,n=v),a(o,v)}function s(){o.toggleVisibility(!0),l.toggleVisibility(!1),a(o,n)}function c(){console.log("focus in"),o.toggleVisibility(!1),l.toggleVisibility(!0),l.focus()}function f(v){v.key===" "&&c()}function p(v){nn[v?"unshift":"push"](()=>{l=v,t(3,l)})}function m(){n=this.value,t(0,n)}let h=()=>s(),d=()=>i(n);function g(v){nn[v?"unshift":"push"](()=>{o=v,t(2,o)})}let y=()=>c(),w=v=>f(v);return r.$$set=v=>{"value"in v&&t(0,n=v.value),"onValueChange"in v&&t(1,i=v.onValueChange),"render"in v&&t(7,a=v.render)},[n,i,o,l,s,c,f,a,u,p,m,h,d,g,y,w]}var hh=class extends ze{constructor(e){super(),Ge(this,e,O9,B9,He,{value:0,onValueChange:1,render:7,setValue:8},I9)}get setValue(){return this.$$.ctx[8]}},_A=hh;var kf=class extends Pt{constructor(t){super(t)}filterValue(t){return Za(t)?t==null?void 0:t.toString():void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return _A}rawReverseMapValue(t){return t}rawMapValue(t){return t}getMountArgs(){return{render:(t,n)=>void this.renderInElement(t,n)}}async renderInElement(t,n){var i;(i=this.mdUnloadCallback)==null||i.call(this),t.innerHTML="",this.mdUnloadCallback=await this.base.plugin.internal.renderMarkdown(n,t,this.base.getFilePath())}onunmount(){var t;super.onunmount(),(t=this.mdUnloadCallback)==null||t.call(this)}};var{window:nl}=Uu;function k9(r){let e,t,n,i,a,o,l,u,s,c,f,p,m,h;return{c(){e=X("div"),t=X("div"),i=Ee(),a=X("span"),o=We(r[0]),l=Ee(),u=X("span"),s=We(r[1]),c=Ee(),f=X("span"),p=We(r[2]),q(t,"class","mb-progress-bar-progress"),q(t,"style",n=`width: ${r[5](r[0])}%`),q(t,"role","slider"),q(t,"aria-valuemin",r[1]),q(t,"aria-valuemax",r[2]),q(t,"aria-valuenow",r[0]),q(t,"tabindex","0"),q(a,"class","mb-progress-bar-value"),q(u,"class","mb-progress-bar-label-left"),q(f,"class","mb-progress-bar-label-right"),q(e,"class","mb-progress-bar-input"),q(e,"tabindex","0"),q(e,"role","button")},m(d,g){ae(d,e,g),G(e,t),G(e,i),G(e,a),G(a,o),G(e,l),G(e,u),G(u,s),G(e,c),G(e,f),G(f,p),r[14](e),m||(h=[Te(nl,"touchmove",r[8],{passive:!1}),Te(nl,"touchcancel",r[6]),Te(nl,"touchend",r[6]),Te(nl,"mousemove",r[8]),Te(nl,"mouseup",r[6]),Te(t,"dragstart",r[13]),Te(e,"keydown",r[9]),Te(e,"mousedown",r[7]),Te(e,"touchstart",r[7])],m=!0)},p(d,[g]){g&1&&n!==(n=`width: ${d[5](d[0])}%`)&&q(t,"style",n),g&2&&q(t,"aria-valuemin",d[1]),g&4&&q(t,"aria-valuemax",d[2]),g&1&&q(t,"aria-valuenow",d[0]),g&1&&ct(o,d[0]),g&2&&ct(s,d[1]),g&4&&ct(p,d[2])},i:ke,o:ke,d(d){d&&ie(e),r[14](null),m=!1,st(h)}}}function P9(r,e){return Number.parseFloat((Math.round(r/e)*e).toFixed(15))}function R9(r,e,t){let{onValueChange:n}=e,{value:i}=e,{minValue:a}=e,{maxValue:o}=e,{stepSize:l}=e,u=!1,s,c=0,f;function p(C){t(0,i=C)}function m(C){t(0,i=C),n(C)}function h(C){return C=Yu(C,a,o),Id(C,a,o,0,100)}function d(){t(3,u=!0)}function g(){t(3,u=!1)}function y(C){d(),w(C)}function w(C){if(!u)return;C.stopPropagation&&C.stopPropagation(),C.preventDefault&&C.preventDefault();let S=C instanceof TouchEvent?C.touches[0].clientX:C.clientX;v(S)}function v(C){let S=s.getBoundingClientRect();C=Yu(C,S.left,S.right);let E=Id(C,S.left,S.right,a,o);E=P9(E,l),m(E)}function x(C){c<50&&(c+=1);let S=Math.ceil(c/5);if(C.key==="ArrowUp"||C.key==="ArrowRight"){let E=Yu(i+S,a,o);m(E)}if(C.key==="ArrowDown"||C.key==="ArrowLeft"){let E=Yu(i-S,a,o);m(E)}window.clearTimeout(f),f=window.setTimeout(()=>c=1,100)}let D=()=>t(3,u=!0);function b(C){nn[C?"unshift":"push"](()=>{s=C,t(4,s)})}return r.$$set=C=>{"onValueChange"in C&&t(10,n=C.onValueChange),"value"in C&&t(0,i=C.value),"minValue"in C&&t(1,a=C.minValue),"maxValue"in C&&t(2,o=C.maxValue),"stepSize"in C&&t(11,l=C.stepSize)},[i,a,o,u,s,h,g,y,w,x,n,l,p,D,b]}var gh=class extends ze{constructor(e){super(),Ge(this,e,R9,k9,He,{onValueChange:10,value:0,minValue:1,maxValue:2,stepSize:11,setValue:12})}get setValue(){return this.$$.ctx[12]}},MA=gh;var Pf=class extends Pt{constructor(t){var n,i,a,o,l,u;super(t);if(this.minValue=(i=(n=this.base.getArgument("minValue"))==null?void 0:n.value)!=null?i:0,this.maxValue=(o=(a=this.base.getArgument("maxValue"))==null?void 0:a.value)!=null?o:100,this.stepSize=(u=(l=this.base.getArgument("stepSize"))==null?void 0:l.value)!=null?u:1,this.minValue>=this.maxValue)throw new lr({errorLevel:"ERROR",effect:"can not create progress bar input field",cause:`minValue (${this.maxValue}) must be less than maxValue (${this.maxValue})`})}filterValue(t){return kc(Gs(t),this.minValue,this.maxValue)}getFallbackDefaultValue(){return this.minValue}getSvelteComponent(){return MA}rawReverseMapValue(t){return t}rawMapValue(t){return t}getMountArgs(){return{minValue:this.minValue,maxValue:this.maxValue,stepSize:this.stepSize}}};function TA(r,e,t){let n=r.slice();return n[7]=e[t],n}function IA(r){let e,t=r[7].name+"",n,i;return{c(){e=X("option"),n=We(t),e.__value=i=r[7].value,bt(e,e.__value)},m(a,o){ae(a,e,o),G(e,n)},p(a,o){o&2&&t!==(t=a[7].name+"")&&ct(n,t),o&2&&i!==(i=a[7].value)&&(e.__value=i,bt(e,e.__value))},d(a){a&&ie(e)}}}function L9(r){let e,t,n,i=Ke(r[1]),a=[];for(let o=0;o<i.length;o+=1)a[o]=IA(TA(r,i,o));return{c(){e=X("select");for(let o=0;o<a.length;o+=1)a[o].c();q(e,"class","dropdown"),r[0]===void 0&&Cn(()=>r[5].call(e))},m(o,l){ae(o,e,l);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);tn(e,r[0],!0),t||(n=[Te(e,"change",r[5]),Te(e,"change",r[6])],t=!0)},p(o,[l]){if(l&2){i=Ke(o[1]);let u;for(u=0;u<i.length;u+=1){let s=TA(o,i,u);a[u]?a[u].p(s,l):(a[u]=IA(s),a[u].c(),a[u].m(e,null))}for(;u<a.length;u+=1)a[u].d(1);a.length=i.length}l&3&&tn(e,o[0])},i:ke,o:ke,d(o){o&&ie(e),Mt(a,o),t=!1,st(n)}}}function V9(r,e,t){let{value:n}=e,{options:i}=e,{onValueChange:a}=e;function o(c){t(0,n=c)}function l(){a(n)}function u(){n=Gi(this),t(0,n),t(1,i)}let s=()=>l();return r.$$set=c=>{"value"in c&&t(0,n=c.value),"options"in c&&t(1,i=c.options),"onValueChange"in c&&t(3,a=c.onValueChange)},[n,i,l,a,o,u,s]}var vh=class extends ze{constructor(e){super(),Ge(this,e,V9,L9,He,{value:0,options:1,onValueChange:3,setValue:4})}get setValue(){return this.$$.ctx[4]}},BA=vh;var Rf=class extends Pt{constructor(t){super(t);this.options=this.base.getArguments("option")}filterValue(t){return Ya(t)}getFallbackDefaultValue(){return null}getSvelteComponent(){return BA}rawMapValue(t){return t}rawReverseMapValue(t){return t}getMountArgs(){return{options:this.options}}};function Ys(r){return app.vault.adapter.getResourcePath(r)}function U9(r){pn(r,"svelte-hrm3dz",".mb-image-suggest-input.svelte-hrm3dz{background:var(--background-secondary);border-radius:var(--mb-border-radius);border:var(--mb-border-width) solid var(--background-modifier-border);padding:var(--size-4-2);width:100%}.mb-image-suggest-image.svelte-hrm3dz{width:100%;height:fit-content;max-height:500px;object-fit:contain}.mb-image-suggest-footer.svelte-hrm3dz{display:flex;flex-direction:row;color:var(--text-normal);align-items:baseline}.mb-image-suggest-footer-text.svelte-hrm3dz{flex:1;margin-left:var(--size-4-2)}")}function OA(r){let e,t;return{c(){e=X("img"),q(e,"class","mb-image-suggest-image svelte-hrm3dz"),xs(e.src,t=Ys(r[0]))||q(e,"src",t),q(e,"alt",r[0])},m(n,i){ae(n,e,i)},p(n,i){i&1&&!xs(e.src,t=Ys(n[0]))&&q(e,"src",t),i&1&&q(e,"alt",n[0])},d(n){n&&ie(e)}}}function q9(r){let e,t,n,i,a=(r[0]||"no image selected")+"",o,l,u,s,c,f=r[0]&&OA(r);return{c(){e=X("div"),f&&f.c(),t=Ee(),n=X("div"),i=X("span"),o=We(a),l=Ee(),u=X("button"),u.textContent="Change Image",q(i,"class","mb-image-suggest-footer-text svelte-hrm3dz"),q(u,"class","btn btn-active"),q(n,"class","mb-image-suggest-footer svelte-hrm3dz"),q(e,"class","mb-image-suggest-input svelte-hrm3dz")},m(p,m){ae(p,e,m),f&&f.m(e,null),G(e,t),G(e,n),G(n,i),G(i,o),G(n,l),G(n,u),s||(c=[Te(u,"click",r[1]),Te(u,"keydown",r[2])],s=!0)},p(p,[m]){p[0]?f?f.p(p,m):(f=OA(p),f.c(),f.m(e,t)):f&&(f.d(1),f=null),m&1&&a!==(a=(p[0]||"no image selected")+"")&&ct(o,a)},i:ke,o:ke,d(p){p&&ie(e),f&&f.d(),s=!1,st(c)}}}function z9(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(s){t(0,n=s)}function l(s){i()}function u(s){s.key===" "&&i()}return r.$$set=s=>{"value"in s&&t(0,n=s.value),"showSuggester"in s&&t(3,i=s.showSuggester),"onValueChange"in s&&t(4,a=s.onValueChange)},[n,l,u,i,a,o]}var yh=class extends ze{constructor(e){super(),Ge(this,e,z9,q9,He,{value:0,showSuggester:3,onValueChange:4,setValue:5},U9)}get setValue(){return this.$$.ctx[5]}},kA=yh;var Lf=class extends Pt{constructor(e){super(e)}filterValue(e){return Za(e)?e:void 0}getFallbackDefaultValue(){return""}getSvelteComponent(){return kA}rawMapValue(e){return e}rawReverseMapValue(e){return Qu(e)}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openImageSuggesterModal(this,e=>this.setInternalValue(e))}};function PA(r,e,t){let n=r.slice();return n[11]=e[t],n[13]=t,n}function RA(r){let e;return{c(){e=X("span"),e.textContent="Empty",q(e,"class","mb-list-empty")},m(t,n){ae(t,e,n)},p:ke,d(t){t&&ie(e)}}}function $9(r){let e,t;return e=new Nr({props:{iconName:"x"}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p:ke,i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function LA(r){let e,t,n,i,a,o;t=new ci({props:{value:r[11]}});function l(){return r[8](r[13])}return i=new Cr({props:{$$slots:{default:[$9]},$$scope:{ctx:r}}}),i.$on("click",l),{c(){e=X("div"),Qe(t.$$.fragment),n=Ee(),Qe(i.$$.fragment),a=Ee(),q(e,"class","mb-list-item")},m(u,s){ae(u,e,s),Je(t,e,null),G(e,n),Je(i,e,null),G(e,a),o=!0},p(u,s){r=u;let c={};s&1&&(c.value=r[11]),t.$set(c);let f={};s&16384&&(f.$$scope={dirty:s,ctx:r}),i.$set(f)},i(u){o||(ge(t.$$.fragment,u),ge(i.$$.fragment,u),o=!0)},o(u){De(t.$$.fragment,u),De(i.$$.fragment,u),o=!1},d(u){u&&ie(e),Xe(t),Xe(i)}}}function VA(r){let e,t=UA(r[0].length,r[1])+"",n,i;return{c(){e=X("span"),n=We(t),q(e,"class",i=`mb-content-limit-indicator ${r[0].length>r[1]?"mb-content-limit-indicator-overflow":""}`)},m(a,o){ae(a,e,o),G(e,n)},p(a,o){o&3&&t!==(t=UA(a[0].length,a[1])+"")&&ct(n,t),o&3&&i!==(i=`mb-content-limit-indicator ${a[0].length>a[1]?"mb-content-limit-indicator-overflow":""}`)&&q(e,"class",i)},d(a){a&&ie(e)}}}function H9(r){let e,t;return e=new Nr({props:{iconName:"plus"}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p:ke,i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function W9(r){let e,t,n,i,a,o,l,u,s,c,f=Ke(r[0]),p=[];for(let g=0;g<f.length;g+=1)p[g]=LA(PA(r,f,g));let m=g=>De(p[g],1,1,()=>{p[g]=null}),h=null;f.length||(h=RA(r));let d=r[1]!==void 0&&VA(r);return l=new Cr({props:{disabled:!r[3],$$slots:{default:[H9]},$$scope:{ctx:r}}}),l.$on("click",r[10]),{c(){e=X("div");for(let g=0;g<p.length;g+=1)p[g].c();h&&h.c(),t=Ee(),n=X("div"),i=X("input"),a=Ee(),d&&d.c(),o=Ee(),Qe(l.$$.fragment),q(e,"class","mb-list-items"),q(i,"type","text"),q(i,"tabindex","0"),q(i,"placeholder",r[2]),q(i,"maxlength",r[1]),q(n,"class","mb-list-input")},m(g,y){ae(g,e,y);for(let w=0;w<p.length;w+=1)p[w]&&p[w].m(e,null);h&&h.m(e,null),ae(g,t,y),ae(g,n,y),G(n,i),bt(i,r[3]),G(n,a),d&&d.m(n,null),G(n,o),Je(l,n,null),u=!0,s||(c=Te(i,"input",r[9]),s=!0)},p(g,[y]){if(y&33){f=Ke(g[0]);let v;for(v=0;v<f.length;v+=1){let x=PA(g,f,v);p[v]?(p[v].p(x,y),ge(p[v],1)):(p[v]=LA(x),p[v].c(),ge(p[v],1),p[v].m(e,null))}for(Bt(),v=f.length;v<p.length;v+=1)m(v);Ot(),!f.length&&h?h.p(g,y):f.length?h&&(h.d(1),h=null):(h=RA(g),h.c(),h.m(e,null))}(!u||y&4)&&q(i,"placeholder",g[2]),(!u||y&2)&&q(i,"maxlength",g[1]),y&8&&i.value!==g[3]&&bt(i,g[3]),g[1]!==void 0?d?d.p(g,y):(d=VA(g),d.c(),d.m(n,o)):d&&(d.d(1),d=null);let w={};y&8&&(w.disabled=!g[3]),y&16384&&(w.$$scope={dirty:y,ctx:g}),l.$set(w)},i(g){if(!u){for(let y=0;y<f.length;y+=1)ge(p[y]);ge(l.$$.fragment,g),u=!0}},o(g){p=p.filter(Boolean);for(let y=0;y<p.length;y+=1)De(p[y]);De(l.$$.fragment,g),u=!1},d(g){g&&(ie(e),ie(t),ie(n)),Mt(p,g),h&&h.d(),d&&d.d(),Xe(l),s=!1,c()}}}function UA(r,e){let t=e.toString();return`${r.toString().padStart(t.length,"0")}/${t}`}function G9(r,e,t){let{value:n}=e,{limit:i}=e,{placeholder:a}=e,{onValueChange:o}=e,l="";function u(h){t(0,n=h)}function s(){n.push(l),o(n),t(3,l=""),t(0,n)}function c(h){n.splice(h,1),o(n),t(0,n)}let f=h=>c(h);function p(){l=this.value,t(3,l)}let m=()=>s();return r.$$set=h=>{"value"in h&&t(0,n=h.value),"limit"in h&&t(1,i=h.limit),"placeholder"in h&&t(2,a=h.placeholder),"onValueChange"in h&&t(6,o=h.onValueChange)},[n,i,a,l,s,c,o,u,f,p,m]}var xh=class extends ze{constructor(e){super(),Ge(this,e,G9,W9,He,{value:0,limit:1,placeholder:2,onValueChange:6,setValue:7})}get setValue(){return this.$$.ctx[7]}},qA=xh;var Vf=class extends Pt{constructor(e){super(e)}filterValue(e){return Yi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return qA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){var e,t,n;return{placeholder:(t=(e=this.base.getArgument("placeholder"))==null?void 0:e.value)!=null?t:"New Entry...",limit:(n=this.base.getArgument("limit"))==null?void 0:n.value}}};function zA(r,e,t){let n=r.slice();return n[9]=e[t],n[11]=t,n}function $A(r){let e;return{c(){e=X("span"),e.textContent="Empty",q(e,"class","mb-list-empty")},m(t,n){ae(t,e,n)},p:ke,d(t){t&&ie(e)}}}function j9(r){let e,t;return e=new Nr({props:{iconName:"x"}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p:ke,i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function HA(r){let e,t,n,i,a,o;t=new ci({props:{value:r[9]}});function l(){return r[8](r[11])}return i=new Cr({props:{$$slots:{default:[j9]},$$scope:{ctx:r}}}),i.$on("click",l),{c(){e=X("div"),Qe(t.$$.fragment),n=Ee(),Qe(i.$$.fragment),a=Ee(),q(e,"class","mb-list-item")},m(u,s){ae(u,e,s),Je(t,e,null),G(e,n),Je(i,e,null),G(e,a),o=!0},p(u,s){r=u;let c={};s&1&&(c.value=r[9]),t.$set(c);let f={};s&4096&&(f.$$scope={dirty:s,ctx:r}),i.$set(f)},i(u){o||(ge(t.$$.fragment,u),ge(i.$$.fragment,u),o=!0)},o(u){De(t.$$.fragment,u),De(i.$$.fragment,u),o=!1},d(u){u&&ie(e),Xe(t),Xe(i)}}}function Z9(r){let e,t,n,i,a,o,l,u,s,c,f=Ke(r[0]),p=[];for(let d=0;d<f.length;d+=1)p[d]=HA(zA(r,f,d));let m=d=>De(p[d],1,1,()=>{p[d]=null}),h=null;return f.length||(h=$A(r)),l=new Nr({props:{iconName:"list"}}),{c(){e=X("div");for(let d=0;d<p.length;d+=1)p[d].c();h&&h.c(),t=Ee(),n=X("div"),i=X("div"),a=X("div"),a.innerHTML="<span>Add Element...</span>",o=Ee(),Qe(l.$$.fragment),q(e,"class","mb-list-items"),q(a,"class","mb-suggest-text"),q(i,"class","mb-suggest-input"),q(i,"role","button"),q(i,"tabindex","0"),q(n,"class","mb-list-input")},m(d,g){ae(d,e,g);for(let y=0;y<p.length;y+=1)p[y]&&p[y].m(e,null);h&&h.m(e,null),ae(d,t,g),ae(d,n,g),G(n,i),G(i,a),G(i,o),Je(l,i,null),u=!0,s||(c=[Te(i,"click",r[2]),Te(i,"keydown",r[3])],s=!0)},p(d,[g]){if(g&3){f=Ke(d[0]);let y;for(y=0;y<f.length;y+=1){let w=zA(d,f,y);p[y]?(p[y].p(w,g),ge(p[y],1)):(p[y]=HA(w),p[y].c(),ge(p[y],1),p[y].m(e,null))}for(Bt(),y=f.length;y<p.length;y+=1)m(y);Ot(),!f.length&&h?h.p(d,g):f.length?h&&(h.d(1),h=null):(h=$A(d),h.c(),h.m(e,null))}},i(d){if(!u){for(let g=0;g<f.length;g+=1)ge(p[g]);ge(l.$$.fragment,d),u=!0}},o(d){p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)De(p[g]);De(l.$$.fragment,d),u=!1},d(d){d&&(ie(e),ie(t),ie(n)),Mt(p,d),h&&h.d(),Xe(l),s=!1,st(c)}}}function Y9(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(p){t(0,n=p)}function l(p){n.push(p),t(0,n)}function u(p){n.splice(p,1),a(n),t(0,n)}function s(p){p.target instanceof HTMLAnchorElement||i()}function c(p){p.key===" "&&i()}let f=p=>u(p);return r.$$set=p=>{"value"in p&&t(0,n=p.value),"showSuggester"in p&&t(4,i=p.showSuggester),"onValueChange"in p&&t(5,a=p.onValueChange)},[n,u,s,c,i,a,o,l,f]}var bh=class extends ze{constructor(e){super(),Ge(this,e,Y9,Z9,He,{value:0,showSuggester:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},WA=bh;var Uf=class extends Pt{constructor(e){super(e)}filterValue(e){return Yi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return WA}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}};function GA(r,e,t){let n=r.slice();return n[26]=e[t][0],n[27]=e[t][1],n}function jA(r,e,t){let n=r.slice();return n[23]=e[t],n}function ZA(r,e,t){let n=r.slice();return n[23]=e[t],n}function YA(r,e,t){let n=r.slice();return n[26]=e[t][0],n[27]=e[t][1],n}function J9(r){let e,t,n,i,a,o=Ke(Object.values(r[2])),l=[];for(let c=0;c<o.length;c+=1)l[c]=JA(jA(r,o,c));let u=Ke(Object.entries(r[1])),s=[];for(let c=0;c<u.length;c+=1)s[c]=XA(GA(r,u,c));return{c(){e=X("select");for(let c=0;c<l.length;c+=1)l[c].c();t=Ee(),n=X("select");for(let c=0;c<s.length;c+=1)s[c].c();q(e,"class","dropdown mb-input-element-group-element"),r[5]===void 0&&Cn(()=>r[16].call(e)),q(n,"class","dropdown mb-input-element-group-element"),r[4]===void 0&&Cn(()=>r[18].call(n))},m(c,f){ae(c,e,f);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(e,null);tn(e,r[5],!0),ae(c,t,f),ae(c,n,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);tn(n,r[4],!0),i||(a=[Te(e,"change",r[16]),Te(e,"change",r[17]),Te(n,"change",r[18]),Te(n,"change",r[19])],i=!0)},p(c,f){if(f[0]&4){o=Ke(Object.values(c[2]));let p;for(p=0;p<o.length;p+=1){let m=jA(c,o,p);l[p]?l[p].p(m,f):(l[p]=JA(m),l[p].c(),l[p].m(e,null))}for(;p<l.length;p+=1)l[p].d(1);l.length=o.length}if(f[0]&36&&tn(e,c[5]),f[0]&2){u=Ke(Object.entries(c[1]));let p;for(p=0;p<u.length;p+=1){let m=GA(c,u,p);s[p]?s[p].p(m,f):(s[p]=XA(m),s[p].c(),s[p].m(n,null))}for(;p<s.length;p+=1)s[p].d(1);s.length=u.length}f[0]&18&&tn(n,c[4])},d(c){c&&(ie(e),ie(t),ie(n)),Mt(l,c),Mt(s,c),i=!1,st(a)}}}function X9(r){let e,t,n,i,a,o=Ke(Object.entries(r[1])),l=[];for(let c=0;c<o.length;c+=1)l[c]=QA(YA(r,o,c));let u=Ke(Object.values(r[2])),s=[];for(let c=0;c<u.length;c+=1)s[c]=KA(ZA(r,u,c));return{c(){e=X("select");for(let c=0;c<l.length;c+=1)l[c].c();t=Ee(),n=X("select");for(let c=0;c<s.length;c+=1)s[c].c();q(e,"class","dropdown mb-input-element-group-element"),r[4]===void 0&&Cn(()=>r[12].call(e)),q(n,"class","dropdown mb-input-element-group-element"),r[5]===void 0&&Cn(()=>r[14].call(n))},m(c,f){ae(c,e,f);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(e,null);tn(e,r[4],!0),ae(c,t,f),ae(c,n,f);for(let p=0;p<s.length;p+=1)s[p]&&s[p].m(n,null);tn(n,r[5],!0),i||(a=[Te(e,"change",r[12]),Te(e,"change",r[13]),Te(n,"change",r[14]),Te(n,"change",r[15])],i=!0)},p(c,f){if(f[0]&2){o=Ke(Object.entries(c[1]));let p;for(p=0;p<o.length;p+=1){let m=YA(c,o,p);l[p]?l[p].p(m,f):(l[p]=QA(m),l[p].c(),l[p].m(e,null))}for(;p<l.length;p+=1)l[p].d(1);l.length=o.length}if(f[0]&18&&tn(e,c[4]),f[0]&4){u=Ke(Object.values(c[2]));let p;for(p=0;p<u.length;p+=1){let m=ZA(c,u,p);s[p]?s[p].p(m,f):(s[p]=KA(m),s[p].c(),s[p].m(n,null))}for(;p<s.length;p+=1)s[p].d(1);s.length=u.length}f[0]&36&&tn(n,c[5])},d(c){c&&(ie(e),ie(t),ie(n)),Mt(l,c),Mt(s,c),i=!1,st(a)}}}function JA(r){let e,t=r[23]+"",n,i;return{c(){e=X("option"),n=We(t),e.__value=i=r[23],bt(e,e.__value)},m(a,o){ae(a,e,o),G(e,n)},p(a,o){o[0]&4&&t!==(t=a[23]+"")&&ct(n,t),o[0]&4&&i!==(i=a[23])&&(e.__value=i,bt(e,e.__value))},d(a){a&&ie(e)}}}function XA(r){let e,t=r[27]+"",n,i;return{c(){e=X("option"),n=We(t),e.__value=i=r[26],bt(e,e.__value)},m(a,o){ae(a,e,o),G(e,n)},p(a,o){o[0]&2&&t!==(t=a[27]+"")&&ct(n,t),o[0]&2&&i!==(i=a[26])&&(e.__value=i,bt(e,e.__value))},d(a){a&&ie(e)}}}function QA(r){let e,t=r[27]+"",n,i;return{c(){e=X("option"),n=We(t),e.__value=i=r[26],bt(e,e.__value)},m(a,o){ae(a,e,o),G(e,n)},p(a,o){o[0]&2&&t!==(t=a[27]+"")&&ct(n,t),o[0]&2&&i!==(i=a[26])&&(e.__value=i,bt(e,e.__value))},d(a){a&&ie(e)}}}function KA(r){let e,t=r[23]+"",n,i;return{c(){e=X("option"),n=We(t),e.__value=i=r[23],bt(e,e.__value)},m(a,o){ae(a,e,o),G(e,n)},p(a,o){o[0]&4&&t!==(t=a[23]+"")&&ct(n,t),o[0]&4&&i!==(i=a[23])&&(e.__value=i,bt(e,e.__value))},d(a){a&&ie(e)}}}function Q9(r){let e,t,n,i,a;function o(s,c){return s[0]?X9:J9}let l=o(r,[-1,-1]),u=l(r);return{c(){e=X("div"),u.c(),t=Ee(),n=X("input"),q(n,"class","mb-date-input-year-input mb-input-element-group-element"),q(n,"type","number"),q(n,"tabindex","0"),q(n,"max","9999"),q(n,"min","0"),q(e,"class","mb-input-element-group")},m(s,c){ae(s,e,c),u.m(e,null),G(e,t),G(e,n),bt(n,r[3]),i||(a=[Te(n,"input",r[20]),Te(n,"input",r[21])],i=!0)},p(s,c){l===(l=o(s,c))&&u?u.p(s,c):(u.d(1),u=l(s),u&&(u.c(),u.m(e,t))),c[0]&8&&la(n.value)!==s[3]&&bt(n,s[3])},i:ke,o:ke,d(s){s&&ie(e),u.d(),i=!1,st(a)}}}function K9(r,e,t){let{value:n}=e,{useUsInputOrder:i}=e,{onValueChange:a}=e,o={},l={},u,s,c;rn(()=>{t(1,o={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"});for(let A=1;A<=31;A++)t(2,l[A.toString()]=A.toString(),l);t(3,u=n.year().toString()),t(4,s=n.month().toString()),t(5,c=n.date().toString())});function f(A){t(9,n=A),t(3,u=n.year().toString()),t(4,s=n.month().toString()),t(5,c=n.date().toString())}function p(){let A=Number.parseInt(u),M=Number.isNaN(A)?Wr.getDefaultYear():A;n.year(M),a(n)}function m(){n.month(s);let A=d(n.date());n.date(A),t(5,c=A.toString()),a(n)}function h(){let A=Number.parseInt(c),M=d(A);n.date(M),t(5,c=M.toString()),a(n)}function d(A){return Number.isNaN(A)?Wr.getDefaultDay():A<1?1:A>n.daysInMonth()?n.daysInMonth():A}function g(){s=Gi(this),t(4,s),t(1,o)}let y=()=>m();function w(){c=Gi(this),t(5,c),t(2,l)}let v=()=>h();function x(){c=Gi(this),t(5,c),t(2,l)}let D=()=>h();function b(){s=Gi(this),t(4,s),t(1,o)}let C=()=>m();function S(){u=la(this.value),t(3,u)}let E=()=>p();return r.$$set=A=>{"value"in A&&t(9,n=A.value),"useUsInputOrder"in A&&t(0,i=A.useUsInputOrder),"onValueChange"in A&&t(10,a=A.onValueChange)},[i,o,l,u,s,c,p,m,h,n,a,f,g,y,w,v,x,D,b,C,S,E]}var Dh=class extends ze{constructor(e){super(),Ge(this,e,K9,Q9,He,{value:9,useUsInputOrder:0,onValueChange:10,setValue:11},null,[-1,-1])}get setValue(){return this.$$.ctx[11]}},eS=Dh;var qf=class extends Pt{constructor(e){super(e)}filterValue(e){if(e==null||typeof e!="string")return;let t=Wr.parse(e);if(t.isValid())return Wr.stringify(t)}getFallbackDefaultValue(){return Wr.getDefaultDate()}getSvelteComponent(){return eS}rawMapValue(e){return Wr.stringify(e)}rawReverseMapValue(e){return Wr.parse(e)}getMountArgs(){return{useUsInputOrder:this.base.plugin.settings.useUsDateInputOrder}}};var wh=Fr(Zi()),il=Fr(ga()),Eh=class{constructor(){this._hour=Xn.getDefaultHour(),this._minute=Xn.getDefaultHour()}getHour(){return this._hour}setHour(e){if(e<0||e>24){this._hour=Xn.getDefaultHour();return}this._hour=e}getMinute(){return this._minute}setMinute(e){if(e<0||e>59){this._minute=Xn.getDefaultMinute();return}this._minute=e}getUniformHour(){return this.getHour().toString().padStart(2,"0")}getUniformMinute(){return this.getMinute().toString().padStart(2,"0")}setHourFromString(e){let t=Number.parseInt(e);this.setHour(Number.isNaN(t)?Xn.getDefaultHour():t)}setMinuteFromString(e){let t=Number.parseInt(e);this.setMinute(Number.isNaN(t)?Xn.getDefaultMinute():t)}},eV=wh.P.sequenceMap((r,e,t,n,i)=>({hour:Number.parseInt(r+e),minute:Number.parseInt(n+i)}),il.P_UTILS.digit(),il.P_UTILS.digit(),wh.P.string(":"),il.P_UTILS.digit(),il.P_UTILS.digit()),Xn=class r{static parse(e){if(!e)return;let t=r.getDefaultTime(),n=eV.tryParse(e);if(n.success&&!(Number.isNaN(n.value.hour)||Number.isNaN(n.value.minute))&&!(n.value.hour<0||n.value.hour>=24)&&!(n.value.minute<0||n.value.minute>=60))return t.setHour(n.value.hour),t.setMinute(n.value.minute),t}static stringify(e){return`${e.getUniformHour()}:${e.getUniformMinute()}`}static getDefaultTime(){return new Eh}static getDefaultHour(){return 0}static getDefaultMinute(){return 0}};function tS(r,e,t){let n=r.slice();return n[13]=e[t][0],n[14]=e[t][1],n}function rS(r,e,t){let n=r.slice();return n[17]=e[t][0],n[18]=e[t][1],n}function nS(r){let e,t=r[18]+"",n,i;return{c(){e=X("option"),n=We(t),e.__value=i=r[17],bt(e,e.__value)},m(a,o){ae(a,e,o),G(e,n)},p(a,o){o&1&&t!==(t=a[18]+"")&&ct(n,t),o&1&&i!==(i=a[17])&&(e.__value=i,bt(e,e.__value))},d(a){a&&ie(e)}}}function iS(r){let e,t=r[14]+"",n,i;return{c(){e=X("option"),n=We(t),e.__value=i=r[13],bt(e,e.__value)},m(a,o){ae(a,e,o),G(e,n)},p(a,o){o&2&&t!==(t=a[14]+"")&&ct(n,t),o&2&&i!==(i=a[13])&&(e.__value=i,bt(e,e.__value))},d(a){a&&ie(e)}}}function tV(r){let e,t,n,i,a,o,l=Ke(Object.entries(r[0])),u=[];for(let f=0;f<l.length;f+=1)u[f]=nS(rS(r,l,f));let s=Ke(Object.entries(r[1])),c=[];for(let f=0;f<s.length;f+=1)c[f]=iS(tS(r,s,f));return{c(){e=X("div"),t=X("select");for(let f=0;f<u.length;f+=1)u[f].c();n=Ee(),i=X("select");for(let f=0;f<c.length;f+=1)c[f].c();q(t,"class","dropdown mb-input-element-group-element"),r[2]===void 0&&Cn(()=>r[9].call(t)),q(i,"class","dropdown mb-input-element-group-element"),r[3]===void 0&&Cn(()=>r[11].call(i)),q(e,"class","mb-input-element-group")},m(f,p){ae(f,e,p),G(e,t);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(t,null);tn(t,r[2],!0),G(e,n),G(e,i);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(i,null);tn(i,r[3],!0),a||(o=[Te(t,"change",r[9]),Te(t,"change",r[10]),Te(i,"change",r[11]),Te(i,"change",r[12])],a=!0)},p(f,[p]){if(p&1){l=Ke(Object.entries(f[0]));let m;for(m=0;m<l.length;m+=1){let h=rS(f,l,m);u[m]?u[m].p(h,p):(u[m]=nS(h),u[m].c(),u[m].m(t,null))}for(;m<u.length;m+=1)u[m].d(1);u.length=l.length}if(p&5&&tn(t,f[2]),p&2){s=Ke(Object.entries(f[1]));let m;for(m=0;m<s.length;m+=1){let h=tS(f,s,m);c[m]?c[m].p(h,p):(c[m]=iS(h),c[m].c(),c[m].m(i,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=s.length}p&10&&tn(i,f[3])},i:ke,o:ke,d(f){f&&ie(e),Mt(u,f),Mt(c,f),a=!1,st(o)}}}function rV(r,e,t){let{value:n}=e,{onValueChange:i}=e,a={},o={},l,u;rn(()=>{for(let g=0;g<=24;g++)t(0,a[g.toString()]=g.toString().padStart(2,"0"),a);for(let g=0;g<=59;g++)t(1,o[g.toString()]=g.toString().padStart(2,"0"),o);t(3,u=n.getMinute().toString()),t(2,l=n.getHour().toString())});function s(g){t(6,n=g),t(3,u=n.getMinute().toString()),t(2,l=n.getHour().toString())}function c(){n.setMinuteFromString(u),i(n)}function f(){n.setHourFromString(l),i(n)}function p(){l=Gi(this),t(2,l),t(0,a)}let m=()=>f();function h(){u=Gi(this),t(3,u),t(1,o)}let d=()=>c();return r.$$set=g=>{"value"in g&&t(6,n=g.value),"onValueChange"in g&&t(7,i=g.onValueChange)},[a,o,l,u,c,f,n,i,s,p,m,h,d]}var Ch=class extends ze{constructor(e){super(),Ge(this,e,rV,tV,He,{value:6,onValueChange:7,setValue:8})}get setValue(){return this.$$.ctx[8]}},aS=Ch;var zf=class extends Pt{constructor(e){super(e)}filterValue(e){let t=js(e);return Xn.parse(t)?t:void 0}getFallbackDefaultValue(){return Xn.getDefaultTime()}getSvelteComponent(){return aS}rawMapValue(e){return Xn.stringify(e)}rawReverseMapValue(e){return Xn.parse(e)}};function oS(r,e,t){let n=r.slice();return n[9]=e[t],n[11]=t,n}function sS(r){let e,t,n,i,a,o,l,u;t=new ci({props:{value:r[9]}}),a=new Nr({props:{iconName:"x"}});function s(){return r[8](r[11])}return{c(){e=X("div"),Qe(t.$$.fragment),n=Ee(),i=X("button"),Qe(a.$$.fragment),q(i,"class","mb-inline-list-item-button"),q(e,"class","mb-inline-list-item")},m(c,f){ae(c,e,f),Je(t,e,null),G(e,n),G(e,i),Je(a,i,null),o=!0,l||(u=Te(i,"click",s),l=!0)},p(c,f){r=c;let p={};f&1&&(p.value=r[9]),t.$set(p)},i(c){o||(ge(t.$$.fragment,c),ge(a.$$.fragment,c),o=!0)},o(c){De(t.$$.fragment,c),De(a.$$.fragment,c),o=!1},d(c){c&&ie(e),Xe(t),Xe(a),l=!1,u()}}}function nV(r){let e,t,n,i,a,o,l,u,s,c=Ke(r[0]),f=[];for(let m=0;m<c.length;m+=1)f[m]=sS(oS(r,c,m));let p=m=>De(f[m],1,1,()=>{f[m]=null});return o=new Nr({props:{iconName:"plus"}}),{c(){e=X("div");for(let m=0;m<f.length;m+=1)f[m].c();t=Ee(),n=X("div"),i=X("span"),i.textContent="\u200B",a=Ee(),Qe(o.$$.fragment),q(n,"class","mb-inline-list-add"),q(n,"role","button"),q(n,"tabindex","0"),q(e,"class","mb-inline-list")},m(m,h){ae(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);G(e,t),G(e,n),G(n,i),G(n,a),Je(o,n,null),l=!0,u||(s=[Te(n,"click",r[2]),Te(n,"keydown",r[3])],u=!0)},p(m,[h]){if(h&3){c=Ke(m[0]);let d;for(d=0;d<c.length;d+=1){let g=oS(m,c,d);f[d]?(f[d].p(g,h),ge(f[d],1)):(f[d]=sS(g),f[d].c(),ge(f[d],1),f[d].m(e,t))}for(Bt(),d=c.length;d<f.length;d+=1)p(d);Ot()}},i(m){if(!l){for(let h=0;h<c.length;h+=1)ge(f[h]);ge(o.$$.fragment,m),l=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)De(f[h]);De(o.$$.fragment,m),l=!1},d(m){m&&ie(e),Mt(f,m),Xe(o),u=!1,st(s)}}}function iV(r,e,t){let{value:n}=e,{showSuggester:i}=e,{onValueChange:a}=e;function o(p){t(0,n=p)}function l(p){n.push(p),t(0,n)}function u(p){n.splice(p,1),a(n),t(0,n)}function s(p){p.target instanceof HTMLAnchorElement||i()}function c(p){p.key===" "&&i()}let f=p=>u(p);return r.$$set=p=>{"value"in p&&t(0,n=p.value),"showSuggester"in p&&t(4,i=p.showSuggester),"onValueChange"in p&&t(5,a=p.onValueChange)},[n,u,s,c,i,a,o,l,f]}var Ah=class extends ze{constructor(e){super(),Ge(this,e,iV,nV,He,{value:0,showSuggester:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},uS=Ah;var $f=class extends Pt{constructor(e){super(e)}filterValue(e){return Yi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return uS}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showSuggester:()=>this.openModal()}}openModal(){this.base.plugin.internal.openSuggesterModal(this,e=>{let t=this.getInternalValue();t.push(e.value),this.setInternalValue(t)})}};function lS(r,e,t){let n=r.slice();return n[9]=e[t],n[11]=t,n}function cS(r){let e,t,n,i,a,o,l,u;t=new ci({props:{value:r[9]}}),a=new Nr({props:{iconName:"x"}});function s(){return r[8](r[11])}return{c(){e=X("div"),Qe(t.$$.fragment),n=Ee(),i=X("button"),Qe(a.$$.fragment),q(i,"class","mb-inline-list-item-button"),q(e,"class","mb-inline-list-item")},m(c,f){ae(c,e,f),Je(t,e,null),G(e,n),G(e,i),Je(a,i,null),o=!0,l||(u=Te(i,"click",s),l=!0)},p(c,f){r=c;let p={};f&1&&(p.value=r[9]),t.$set(p)},i(c){o||(ge(t.$$.fragment,c),ge(a.$$.fragment,c),o=!0)},o(c){De(t.$$.fragment,c),De(a.$$.fragment,c),o=!1},d(c){c&&ie(e),Xe(t),Xe(a),l=!1,u()}}}function aV(r){let e,t,n,i,a,o,l,u,s,c=Ke(r[0]),f=[];for(let m=0;m<c.length;m+=1)f[m]=cS(lS(r,c,m));let p=m=>De(f[m],1,1,()=>{f[m]=null});return o=new Nr({props:{iconName:"plus"}}),{c(){e=X("div");for(let m=0;m<f.length;m+=1)f[m].c();t=Ee(),n=X("div"),i=X("span"),i.textContent="\u200B",a=Ee(),Qe(o.$$.fragment),q(n,"class","mb-inline-list-add"),q(n,"role","button"),q(n,"tabindex","0"),q(e,"class","mb-inline-list")},m(m,h){ae(m,e,h);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(e,null);G(e,t),G(e,n),G(n,i),G(n,a),Je(o,n,null),l=!0,u||(s=[Te(n,"click",r[2]),Te(n,"keydown",r[3])],u=!0)},p(m,[h]){if(h&3){c=Ke(m[0]);let d;for(d=0;d<c.length;d+=1){let g=lS(m,c,d);f[d]?(f[d].p(g,h),ge(f[d],1)):(f[d]=cS(g),f[d].c(),ge(f[d],1),f[d].m(e,t))}for(Bt(),d=c.length;d<f.length;d+=1)p(d);Ot()}},i(m){if(!l){for(let h=0;h<c.length;h+=1)ge(f[h]);ge(o.$$.fragment,m),l=!0}},o(m){f=f.filter(Boolean);for(let h=0;h<f.length;h+=1)De(f[h]);De(o.$$.fragment,m),l=!1},d(m){m&&ie(e),Mt(f,m),Xe(o),u=!1,st(s)}}}function oV(r,e,t){let{value:n}=e,{showInput:i}=e,{onValueChange:a}=e;function o(p){t(0,n=p)}function l(p){n.push(p),t(0,n)}function u(p){n.splice(p,1),a(n),t(0,n)}function s(p){p.target instanceof HTMLAnchorElement||i()}function c(p){p.key===" "&&i()}let f=p=>u(p);return r.$$set=p=>{"value"in p&&t(0,n=p.value),"showInput"in p&&t(4,i=p.showInput),"onValueChange"in p&&t(5,a=p.onValueChange)},[n,u,s,c,i,a,o,l,f]}var Sh=class extends ze{constructor(e){super(),Ge(this,e,oV,aV,He,{value:0,showInput:4,onValueChange:5,setValue:6,addValue:7})}get setValue(){return this.$$.ctx[6]}get addValue(){return this.$$.ctx[7]}},fS=Sh;var Hf=class extends Pt{constructor(e){super(e)}filterValue(e){return Yi(e)}getFallbackDefaultValue(){return[]}getSvelteComponent(){return fS}rawMapValue(e){return e}rawReverseMapValue(e){return e}getMountArgs(){return{showInput:()=>this.openModal()}}openModal(){this.base.plugin.internal.openTextPromptModal("","Meta Bind List","New List Element","",e=>{let t=this.getInternalValue();t.push(e),this.setInternalValue(t)},()=>{})}};var Wf=class{constructor(e){this.plugin=e}createInputField(e,t,n){if(e!=="invalid"&&this.checkRenderChildTypeAllowed(e,t),e==="toggle")return new Nf(n);if(e==="slider")return new Mf(n);if(e==="text")return new _f(n);if(e==="textArea")return new el(n);if(e==="text_area")return new el(n);if(e==="select")return new If(n);if(e==="multiSelect")return new tl(n);if(e==="multi_select")return new tl(n);if(e==="datePicker")return new rl(n);if(e==="date_picker")return new rl(n);if(e==="number")return new Bf(n);if(e==="suggester")return new Of(n);if(e==="editor")return new kf(n);if(e==="progressBar")return new Pf(n);if(e==="inlineSelect")return new Rf(n);if(e==="imageSuggester")return new Lf(n);if(e==="list")return new Vf(n);if(e==="listSuggester")return new Uf(n);if(e==="date")return new qf(n);if(e==="time")return new zf(n);if(e==="inlineListSuggester")return new $f(n);if(e==="inlineList")return new Hf(n)}checkRenderChildTypeAllowed(e,t){if(this.plugin.settings.ignoreCodeBlockRestrictions)return;let n=EC[e];if(t==="block"&&!n.allowInBlock)throw new fa({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of code blocks`,docs:[kt.linkToInputField(e)]});if(t==="inline"&&!n.allowInline)throw new fa({errorLevel:"ERROR",effect:"can not create input field",cause:`input fields of type '${e}' are not allowed inside of inline code blocks`,docs:[kt.linkToInputField(e)]})}};var Xa=class{constructor(e){this.renderChild=e,this.hidden=!1}async render(e){var t,n;this.container=e,this.container.addClass("mb-view-text"),this.hidden=(n=(t=this.renderChild.getArgument("hidden"))==null?void 0:t.value)!=null?n:!1,this.hidden&&this.container.addClass("mb-view-hidden"),await this._render(e),await this.update(this.getDefaultDisplayValue())}async update(e){var t;if(this.container)try{let n=(t=e==null?void 0:e.toString())!=null?t:"";this.hidden||(this.container.empty(),await this._update(this.container,n)),this.container.removeClass("mb-error")}catch(n){n instanceof Error&&(console.error(n),this.container.innerText=n.message,this.container.addClass("mb-error"))}}};function hr(){return hr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},hr.apply(this,arguments)}var Fh={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function at(r){return typeof r=="number"}function it(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function Nn(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function xa(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function on(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Dr(r){return typeof r=="string"}var Nt=Array.isArray;function $e(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function _n(r){return Array.isArray(r)||$e(r)}function Qo(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Ii(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Js(r){return r&&r.constructor.prototype.isRange===!0||!1}function Qa(r){return r&&r.constructor.prototype.isIndex===!0||!1}function pS(r){return typeof r=="boolean"}function mS(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function Gf(r){return r&&r.constructor.prototype.isHelp===!0||!1}function dS(r){return typeof r=="function"}function hS(r){return r instanceof Date}function gS(r){return r instanceof RegExp}function Ko(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Nn(r)&&!xa(r))}function vS(r){return r===null}function yS(r){return r===void 0}function Qn(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function sn(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function xS(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function bS(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function DS(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function wt(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function al(r){return wt(r)||pr(r)&&r.args.length===1&&wt(r.args[0])&&"-+~".includes(r.op)}function Ji(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mn(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function fi(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Et(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ka(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function pr(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function un(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function wS(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function ES(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function tr(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function jf(r){return r&&r.constructor.prototype.isChain===!0||!1}function St(r){var e=typeof r;return e==="object"?r===null?"null":it(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function tt(r){var e=typeof r;if(e==="number"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return tt(t)});if(r instanceof Date)return new Date(r.valueOf());if(it(r))return r;if(Ko(r))return sV(r,tt);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function sV(r,e){var t={};for(var n in r)je(r,n)&&(t[n]=e(r[n]));return t}function Zf(r,e){for(var t in e)je(e,t)&&(r[t]=e[t]);return r}function Bi(r,e){var t,n,i;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,i=r.length;n<i;n++)if(!Bi(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!Bi(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function CS(r,e,t){var n=!0,i;Object.defineProperty(r,e,{get:function(){return n&&(i=t(),n=!1),i},set:function(o){i=o,n=!1},configurable:!0,enumerable:!0})}function je(r,e){return r&&Object.hasOwnProperty.call(r,e)}function AS(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],a=r[i];a!==void 0&&(t[i]=a)}return t}var SS=["Matrix","Array"],FS=["number","BigNumber","Fraction"];var Ce=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Fh)};hr(Ce,Fh,{MATRIX_OPTIONS:SS,NUMBER_OPTIONS:FS});var zh=Fr(Mh(),1);function Ue(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}var pi=Math.sign||function(r){return r>0?1:r<0?-1:0},NS=Math.log2||function(e){return Math.log(e)/Math.LN2},_S=Math.log10||function(e){return Math.log(e)/Math.LN10},Yf=Math.log1p||function(r){return Math.log(r+1)},MS=Math.cbrt||function(e){if(e===0)return e;var t=e<0,n;return t&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,t?-n:n},TS=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Th(r,e,t){var n={2:"0b",8:"0o",16:"0x"},i=n[e],a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Ue(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!Ue(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),a="i".concat(t)}var o="";return r<0&&(r=-r,o="-"),"".concat(o).concat(i).concat(r.toString(e)).concat(a)}function Oi(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var t="auto",n,i;if(e&&(e.notation&&(t=e.notation),at(e)?n=e:at(e.precision)&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return Ih(r,n);case"exponential":return IS(r,n);case"engineering":return uV(r,n);case"bin":return Th(r,2,i);case"oct":return Th(r,8,i);case"hex":return Th(r,16,i);case"auto":return lV(r,n,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Jf(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],i=parseFloat(e[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(l){return i-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return o.length===0&&(o.push(0),i++),{sign:t,coefficients:o,exponent:i}}function uV(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Jf(r),n=Xf(t,e),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(at(e))for(;e>a.length||i-o+1>a.length;)a.push(0);else for(var l=Math.abs(i-o)-(a.length-1),u=0;u<l;u++)a.push(0);for(var s=Math.abs(i-o),c=1;s>0;)c++,s--;var f=a.slice(c).join(""),p=at(e)&&f.length||f.match(/[1-9]/)?"."+f:"",m=a.slice(0,c).join("")+p+"e"+(i>=0?"+":"")+o.toString();return n.sign+m}function Ih(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Jf(r),n=typeof e=="number"?Xf(t,t.exponent+1+e):t,i=n.coefficients,a=n.exponent+1,o=a+(e||0);return i.length<o&&(i=i.concat(Xs(o-i.length))),a<0&&(i=Xs(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function IS(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=Jf(r),n=e?Xf(t,e):t,i=n.coefficients,a=n.exponent;i.length<e&&(i=i.concat(Xs(e-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function lV(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=t&&t.lowerExp!==void 0?t.lowerExp:-3,i=t&&t.upperExp!==void 0?t.upperExp:5,a=Jf(r),o=e?Xf(a,e):a;if(o.exponent<n||o.exponent>=i)return IS(r,e);var l=o.coefficients,u=o.exponent;l.length<e&&(l=l.concat(Xs(e-l.length))),l=l.concat(Xs(u-l.length+1+(l.length<e?e-l.length:0))),l=Xs(-u).concat(l);var s=u>0?u:0;return s<l.length-1&&l.splice(s+1,0,"."),o.sign+l.join("")}function Xf(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var a=e-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),t.exponent++,a++),a--,n[a]++}}return t}function Xs(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function BS(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var cV=Number.EPSILON||2220446049250313e-31;function Mr(r,e,t){if(t==null)return r===e;if(r===e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var n=Math.abs(r-e);return n<=cV?!0:n<=Math.max(Math.abs(r),Math.abs(e))*t}return!1}var OS=Math.acosh||function(r){return Math.log(Math.sqrt(r*r-1)+r)},kS=Math.asinh||function(r){return Math.log(Math.sqrt(r*r+1)+r)},PS=Math.atanh||function(r){return Math.log((1+r)/(1-r))/2},Qf=Math.cosh||function(r){return(Math.exp(r)+Math.exp(-r))/2},RS=Math.sinh||function(r){return(Math.exp(r)-Math.exp(-r))/2},Kf=Math.tanh||function(r){var e=Math.exp(2*r);return(e-1)/(e+1)};function LS(r,e){var t=r>0?!0:r<0?!1:1/r===1/0,n=e>0?!0:e<0?!1:1/e===1/0;return t^n?-r:r}function Bh(r,e,t){var n=r.constructor,i=new n(2),a="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!Ue(t))throw new Error("size must be an integer");if(r.greaterThan(i.pow(t-1).sub(1))||r.lessThan(i.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(i.pow(t))),a="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(a);case 8:return"".concat(r.toOctal()).concat(a);case 16:return"".concat(r.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(e," not supported "))}}function US(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var t="auto",n,i;if(e!==void 0&&(e.notation&&(t=e.notation),typeof e=="number"?n=e:e.precision!==void 0&&(n=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(t){case"fixed":return pV(r,n);case"exponential":return VS(r,n);case"engineering":return fV(r,n);case"bin":return Bh(r,2,i);case"oct":return Bh(r,8,i);case"hex":return Bh(r,16,i);case"auto":{var a=e&&e.lowerExp!==void 0?e.lowerExp:-3,o=e&&e.upperExp!==void 0?e.upperExp:5;if(r.isZero())return"0";var l,u=r.toSignificantDigits(n),s=u.e;return s>=a&&s<o?l=u.toFixed():l=VS(r,n),l.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function fV(r,e){var t=r.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,i=r.mul(Math.pow(10,-n)),a=i.toPrecision(e);if(a.indexOf("e")!==-1){var o=r.constructor;a=new o(a).toFixed()}return a+"e"+(t>=0?"+":"")+n.toString()}function VS(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function pV(r,e){return r.toFixed(e)}function zS(r,e){var t=r.length-e.length,n=r.length;return r.substring(t,n)===e}function ot(r,e){var t=mV(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function mV(r,e){if(typeof r=="number")return Oi(r,e);if(it(r))return US(r,e);if(dV(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return $S(r,e);if(Dr(r))return es(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>es(n)+": "+ot(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function es(r){for(var e=String(r),t="",n=0;n<e.length;){var i=e.charAt(n);t+=i in qS?qS[i]:i,n++}return'"'+t+'"'}var qS={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Zr(r){var e=String(r);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function $S(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,i=0;i<n;i++)i!==0&&(t+=", "),t+=$S(r[i],e);return t+="]",t}else return ot(r,e)}function dV(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function ep(r,e){if(!Dr(r))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+St(r)+", index: 0)");if(!Dr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+St(e)+", index: 1)");return r===e?0:r>e?1:-1}function ut(r,e,t){if(!(this instanceof ut))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}ut.prototype=new RangeError;ut.prototype.constructor=RangeError;ut.prototype.name="DimensionError";ut.prototype.isDimensionError=!0;function ln(r,e,t){if(!(this instanceof ln))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}ln.prototype=new RangeError;ln.prototype.constructor=RangeError;ln.prototype.name="IndexError";ln.prototype.isIndexError=!0;function nt(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function HS(r,e,t){var n,i=r.length;if(i!==e[t])throw new ut(i,e[t]);if(t<e.length-1){var a=t+1;for(n=0;n<i;n++){var o=r[n];if(!Array.isArray(o))throw new ut(e.length-1,e.length,"<");HS(r[n],e,a)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new ut(e.length+1,e.length,">")}function kh(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new ut(r.length,0)}else HS(r,e,0)}function ol(r,e){var t=r.isMatrix?r._size:nt(r),n=e._sourceSize;n.forEach((i,a)=>{if(i!==null&&i!==t[a])throw new ut(i,t[a])})}function Gt(r,e){if(r!==void 0){if(!at(r)||!Ue(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new ln(r,e)}}function ts(r){for(var e=0;e<r._dimensions.length;++e){var t=r._dimensions[e];if(t._data&&Nt(t._data)){if(t._size[0]===0)return!0}else if(t.isRange){if(t.start===t.end)return!0}else if(Dr(t)&&t.length===0)return!0}return!1}function ki(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!at(i)||!Ue(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ot(e)+")")}),(at(r)||it(r))&&(r=[r]);var n=t!==void 0?t:0;return Oh(r,e,0,n),r}function Oh(r,e,t,n){var i,a,o=r.length,l=e[t],u=Math.min(o,l);if(r.length=l,t<e.length-1){var s=t+1;for(i=0;i<u;i++)a=r[i],Array.isArray(a)||(a=[a],r[i]=a),Oh(a,e,s,n);for(i=u;i<l;i++)a=[],r[i]=a,Oh(a,e,s,n)}else{for(i=0;i<u;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=u;i<l;i++)r[i]=n}}function sl(r,e){var t=vt(r),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new ut(0,n,"!=");e=ul(e,n);var i=WS(e);if(n!==i)throw new ut(i,n,"!=");try{return hV(t,e)}catch(a){throw a instanceof ut?new ut(i,n,"!="):a}}function ul(r,e){var t=WS(r),n=r.slice(),i=-1,a=r.indexOf(i),o=r.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var l=a>=0,u=e%t===0;if(l)if(u)n[a]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function WS(r){return r.reduce((e,t)=>e*t,1)}function hV(r,e){for(var t=r,n,i=e.length-1;i>0;i--){var a=e[i];n=[];for(var o=t.length/a,l=0;l<o;l++)n.push(t.slice(l*a,(l+1)*a));t=n}return t}function Qs(r,e){for(var t=e||nt(r);Array.isArray(r)&&r.length===1;)r=r[0],t.shift();for(var n=t.length;t[n-1]===1;)n--;return n<t.length&&(r=GS(r,n,0),t.length=n),r}function GS(r,e,t){var n,i;if(t<e){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=GS(r[n],e,a)}else for(;Array.isArray(r);)r=r[0];return r}function tp(r,e,t,n){var i=n||nt(r);if(t)for(var a=0;a<t;a++)r=[r],i.unshift(1);for(r=jS(r,e,0);i.length<e;)i.push(1);return r}function jS(r,e,t){var n,i;if(Array.isArray(r)){var a=t+1;for(n=0,i=r.length;n<i;n++)r[n]=jS(r[n],e,a)}else for(var o=t;o<e;o++)r=[r];return r}function vt(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}function Rn(r,e){return Array.prototype.map.call(r,e)}function eo(r,e){Array.prototype.forEach.call(r,e)}function rp(r,e){if(nt(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,e)}function Ks(r,e){if(nt(r).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,t=>e.test(t))}function Ph(r,e){return Array.prototype.join.call(r,e)}function ba(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;var e=[],t=0;e[0]={value:r[0],identifier:0};for(var n=1;n<r.length;n++)r[n]===r[n-1]?t++:t=0,e.push({value:r[n],identifier:t});return e}function eu(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(r.length===0)return r;for(var e=[],t=0;t<r.length;t++)e.push(r[t].value);return e}function to(r,e){for(var t,n=0,i=0;i<r.length;i++){var a=r[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var l=o?to(a,e):e(a);if(t===void 0)t=l;else if(t!==l)return"mixed"}return t}function ZS(r,e,t,n){if(n<t){if(r.length!==e.length)throw new ut(r.length,e.length);for(var i=[],a=0;a<r.length;a++)i[a]=ZS(r[a],e[a],t,n+1);return i}else return r.concat(e)}function Rh(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,n){return ZS(t,n,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function gV(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var n=e.map(p=>p.length),i=Math.max(...n),a=new Array(i).fill(null),o=0;o<e.length;o++)for(var l=e[o],u=n[o],s=0;s<u;s++){var c=i-u+s;l[s]>a[c]&&(a[c]=l[s])}for(var f=0;f<e.length;f++)ll(e[f],a);return a}function ll(r,e){for(var t=e.length,n=r.length,i=0;i<n;i++){var a=t-n+i;if(r[i]<e[a]&&r[i]>1||r[i]>e[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[i]," to size ").concat(e[a]))}}function Lh(r,e){var t=nt(r);if(Bi(t,e))return r;ll(t,e);var n=gV(t,e),i=n.length,a=[...Array(i-t.length).fill(1),...t],o=yV(r);t.length<i&&(o=sl(o,a),t=nt(o));for(var l=0;l<i;l++)t[l]<n[l]&&(o=vV(o,n[l],l),t=nt(o));return o}function vV(r,e,t){return Rh(...Array(e).fill(r),t)}function yV(r){return hr([],r)}function F(r,e,t,n){function i(a){var o=AS(a,e.map(DV));return xV(r,e,a),t(o)}return i.isFactory=!0,i.fn=r,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function xV(r,e,t){var n=e.filter(a=>!bV(a)).every(a=>t[a]!==void 0);if(!n){var i=e.filter(a=>t[a]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function bV(r){return r&&r[0]==="?"}function DV(r){return r&&r[0]==="?"?r.slice(1):r}function gr(r,e){if(QS(r)&&JS(r,e))return r[e];throw typeof r[e]=="function"&&np(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Xi(r,e,t){if(QS(r)&&JS(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function YS(r,e){return e in r}function JS(r,e){return!r||typeof r!="object"?!1:je(wV,e)?!0:!(e in Object.prototype||e in Function.prototype)}function XS(r,e){if(!np(r,e))throw new Error('No access to method "'+e+'"');return r[e]}function np(r,e){return r==null||typeof r[e]!="function"||je(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:je(EV,e)?!0:!(e in Object.prototype||e in Function.prototype)}function QS(r){return typeof r=="object"&&r&&r.constructor===Object}var wV={length:!0,name:!0},EV={toString:!0,valueOf:!0,toLocaleString:!0};var cl=class{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return gr(this.wrappedObject,e)}set(e,t){return Xi(this.wrappedObject,e,t),this}has(e){return YS(this.wrappedObject,e)}};function Qi(){return new Map}function Da(r){if(!r)return Qi();if(ip(r))return r;if(Ko(r))return new cl(r);throw new Error("createMap can create maps from objects or Maps")}function KS(r){if(r instanceof cl)return r.wrappedObject;var e={};for(var t of r.keys()){var n=r.get(t);Xi(e,t,n)}return e}function ip(r){return r?r instanceof Map||r instanceof cl||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function Vh(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];for(var i of t)if(i){if(ip(i))for(var a of i.keys())r.set(a,i.get(a));else if(Ko(i))for(var o of Object.keys(i))r.set(o,i[o])}return r}var eF=function(){return eF=zh.default.create,zh.default},CV=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],$h=F("typed",CV,function(e){var{BigNumber:t,Complex:n,DenseMatrix:i,Fraction:a}=e,o=eF();return o.clear(),o.addTypes([{name:"number",test:at},{name:"Complex",test:Nn},{name:"BigNumber",test:it},{name:"Fraction",test:xa},{name:"Unit",test:on},{name:"identifier",test:l=>Dr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(l)},{name:"string",test:Dr},{name:"Chain",test:jf},{name:"Array",test:Nt},{name:"Matrix",test:$e},{name:"DenseMatrix",test:Qo},{name:"SparseMatrix",test:Ii},{name:"Range",test:Js},{name:"Index",test:Qa},{name:"boolean",test:pS},{name:"ResultSet",test:mS},{name:"Help",test:Gf},{name:"function",test:dS},{name:"Date",test:hS},{name:"RegExp",test:gS},{name:"null",test:vS},{name:"undefined",test:yS},{name:"AccessorNode",test:Qn},{name:"ArrayNode",test:sn},{name:"AssignmentNode",test:xS},{name:"BlockNode",test:bS},{name:"ConditionalNode",test:DS},{name:"ConstantNode",test:wt},{name:"FunctionNode",test:Mn},{name:"FunctionAssignmentNode",test:Ji},{name:"IndexNode",test:fi},{name:"Node",test:Et},{name:"ObjectNode",test:Ka},{name:"OperatorNode",test:pr},{name:"ParenthesisNode",test:un},{name:"RangeNode",test:wS},{name:"RelationalNode",test:ES},{name:"SymbolNode",test:tr},{name:"Map",test:ip},{name:"Object",test:Ko}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(u){if(t||Uh(u),BS(u)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+u+"). Use function bignumber(x) to convert to BigNumber.");return new t(u)}},{from:"number",to:"Complex",convert:function(u){return n||ap(u),new n(u,0)}},{from:"BigNumber",to:"Complex",convert:function(u){return n||ap(u),new n(u.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(u){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(u){return n||ap(u),new n(u.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(u){a||qh(u);var s=new a(u);if(s.valueOf()!==u)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+u+"). Use function fraction(x) to convert to Fraction.");return s}},{from:"string",to:"number",convert:function(u){var s=Number(u);if(isNaN(s))throw new Error('Cannot convert "'+u+'" to a number');return s}},{from:"string",to:"BigNumber",convert:function(u){t||Uh(u);try{return new t(u)}catch(s){throw new Error('Cannot convert "'+u+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(u){a||qh(u);try{return new a(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(u){n||ap(u);try{return new n(u)}catch(s){throw new Error('Cannot convert "'+u+'" to Complex')}}},{from:"boolean",to:"number",convert:function(u){return+u}},{from:"boolean",to:"BigNumber",convert:function(u){return t||Uh(u),new t(+u)}},{from:"boolean",to:"Fraction",convert:function(u){return a||qh(u),new a(+u)}},{from:"boolean",to:"string",convert:function(u){return String(u)}},{from:"Array",to:"Matrix",convert:function(u){return i||AV(),new i(u)}},{from:"Matrix",to:"Array",convert:function(u){return u.valueOf()}}]),o.onMismatch=(l,u,s)=>{var c=o.createError(l,u,s);if(["wrongType","mismatch"].includes(c.data.category)&&u.length===1&&_n(u[0])&&s.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=c.data,f}throw c},o.onMismatch=(l,u,s)=>{var c=o.createError(l,u,s);if(["wrongType","mismatch"].includes(c.data.category)&&u.length===1&&_n(u[0])&&s.some(p=>!p.params.includes(","))){var f=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw f.data=c.data,f}throw c},o});function Uh(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function ap(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function AV(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function qh(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var SV="ResultSet",FV=[],Hh=F(SV,FV,()=>{function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return r.prototype.type="ResultSet",r.prototype.isResultSet=!0,r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},r.fromJSON=function(e){return new r(e.entries)},r},{isClass:!0});var tu=9e15,ao=1e9,Wh="0123456789abcdef",sp="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",up="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Gh={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-tu,maxE:tu,crypto:!1},iF,wa,Ct=!0,cp="[DecimalError] ",io=cp+"Invalid argument: ",aF=cp+"Precision limit exceeded",oF=cp+"crypto unavailable",sF="[object Decimal]",dn=Math.floor,Yr=Math.pow,NV=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,_V=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,MV=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,uF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ri=1e7,yt=7,TV=9007199254740991,IV=sp.length-1,jh=up.length-1,Ie={toStringTag:sF};Ie.absoluteValue=Ie.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),ft(r)};Ie.ceil=function(){return ft(new this.constructor(this),this.e+1,2)};Ie.clampedTo=Ie.clamp=function(r,e){var t,n=this,i=n.constructor;if(r=new i(r),e=new i(e),!r.s||!e.s)return new i(NaN);if(r.gt(e))throw Error(io+e);return t=n.cmp(r),t<0?r:n.cmp(e)>0?e:new i(n)};Ie.comparedTo=Ie.cmp=function(r){var e,t,n,i,a=this,o=a.d,l=(r=new a.constructor(r)).d,u=a.s,s=r.s;if(!o||!l)return!u||!s?NaN:u!==s?u:o===l?0:!o^u<0?1:-1;if(!o[0]||!l[0])return o[0]?u:l[0]?-s:0;if(u!==s)return u;if(a.e!==r.e)return a.e>r.e^u<0?1:-1;for(n=o.length,i=l.length,e=0,t=n<i?n:i;e<t;++e)if(o[e]!==l[e])return o[e]>l[e]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1};Ie.cosine=Ie.cos=function(){var r,e,t=this,n=t.constructor;return t.d?t.d[0]?(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+yt,n.rounding=1,t=BV(n,mF(n,t)),n.precision=r,n.rounding=e,ft(wa==2||wa==3?t.neg():t,r,e,!0)):new n(1):new n(NaN)};Ie.cubeRoot=Ie.cbrt=function(){var r,e,t,n,i,a,o,l,u,s,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(Ct=!1,a=c.s*Yr(c.s*c,1/3),!a||Math.abs(a)==1/0?(t=cn(c.d),r=c.e,(a=(r-t.length+1)%3)&&(t+=a==1||a==-2?"0":"00"),a=Yr(t,1/3),r=dn((r+1)/3)-(r%3==(r<0?-1:2)),a==1/0?t="5e"+r:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+r),n=new f(t),n.s=c.s):n=new f(a.toString()),o=(r=f.precision)+3;;)if(l=n,u=l.times(l).times(l),s=u.plus(c),n=vr(s.plus(c).times(l),s.plus(u),o+2,1),cn(l.d).slice(0,o)===(t=cn(n.d)).slice(0,o))if(t=t.slice(o-3,o+1),t=="9999"||!i&&t=="4999"){if(!i&&(ft(l,r+1,0),l.times(l).times(l).eq(c))){n=l;break}o+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(ft(n,r+1,1),e=!n.times(n).times(n).eq(c));break}return Ct=!0,ft(n,r,f.rounding,e)};Ie.decimalPlaces=Ie.dp=function(){var r,e=this.d,t=NaN;if(e){if(r=e.length-1,t=(r-dn(this.e/yt))*yt,r=e[r],r)for(;r%10==0;r/=10)t--;t<0&&(t=0)}return t};Ie.dividedBy=Ie.div=function(r){return vr(this,new this.constructor(r))};Ie.dividedToIntegerBy=Ie.divToInt=function(r){var e=this,t=e.constructor;return ft(vr(e,new t(r),0,1,1),t.precision,t.rounding)};Ie.equals=Ie.eq=function(r){return this.cmp(r)===0};Ie.floor=function(){return ft(new this.constructor(this),this.e+1,3)};Ie.greaterThan=Ie.gt=function(r){return this.cmp(r)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(r){var e=this.cmp(r);return e==1||e===0};Ie.hyperbolicCosine=Ie.cosh=function(){var r,e,t,n,i,a=this,o=a.constructor,l=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return l;t=o.precision,n=o.rounding,o.precision=t+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(r=Math.ceil(i/3),e=(1/pp(4,r)).toString()):(r=16,e="2.3283064365386962890625e-10"),a=ru(o,1,a.times(e),new o(1),!0);for(var u,s=r,c=new o(8);s--;)u=a.times(a),a=l.minus(u.times(c.minus(u.times(c))));return ft(a,o.precision=t,o.rounding=n,!0)};Ie.hyperbolicSine=Ie.sinh=function(){var r,e,t,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(e=a.precision,t=a.rounding,a.precision=e+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=ru(a,2,i,i,!0);else{r=1.4*Math.sqrt(n),r=r>16?16:r|0,i=i.times(1/pp(5,r)),i=ru(a,2,i,i,!0);for(var o,l=new a(5),u=new a(16),s=new a(20);r--;)o=i.times(i),i=i.times(l.plus(o.times(u.times(o).plus(s))))}return a.precision=e,a.rounding=t,ft(i,e,t,!0)};Ie.hyperbolicTangent=Ie.tanh=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+7,n.rounding=1,vr(t.sinh(),t.cosh(),n.precision=r,n.rounding=e)):new n(t.s)};Ie.inverseCosine=Ie.acos=function(){var r,e=this,t=e.constructor,n=e.abs().cmp(1),i=t.precision,a=t.rounding;return n!==-1?n===0?e.isNeg()?Pi(t,i,a):new t(0):new t(NaN):e.isZero()?Pi(t,i+4,a).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),r=Pi(t,i+4,a).times(.5),t.precision=i,t.rounding=a,r.minus(e))};Ie.inverseHyperbolicCosine=Ie.acosh=function(){var r,e,t=this,n=t.constructor;return t.lte(1)?new n(t.eq(1)?0:NaN):t.isFinite()?(r=n.precision,e=n.rounding,n.precision=r+Math.max(Math.abs(t.e),t.sd())+4,n.rounding=1,Ct=!1,t=t.times(t).minus(1).sqrt().plus(t),Ct=!0,n.precision=r,n.rounding=e,t.ln()):new n(t)};Ie.inverseHyperbolicSine=Ie.asinh=function(){var r,e,t=this,n=t.constructor;return!t.isFinite()||t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+2*Math.max(Math.abs(t.e),t.sd())+6,n.rounding=1,Ct=!1,t=t.times(t).plus(1).sqrt().plus(t),Ct=!0,n.precision=r,n.rounding=e,t.ln())};Ie.inverseHyperbolicTangent=Ie.atanh=function(){var r,e,t,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=a.precision,e=a.rounding,n=i.sd(),Math.max(n,r)<2*-i.e-1?ft(new a(i),r,e,!0):(a.precision=t=n-i.e,i=vr(i.plus(1),new a(1).minus(i),t+r,1),a.precision=r+4,a.rounding=1,i=i.ln(),a.precision=r,a.rounding=e,i.times(.5))):new a(NaN)};Ie.inverseSine=Ie.asin=function(){var r,e,t,n,i=this,a=i.constructor;return i.isZero()?new a(i):(e=i.abs().cmp(1),t=a.precision,n=a.rounding,e!==-1?e===0?(r=Pi(a,t+4,n).times(.5),r.s=i.s,r):new a(NaN):(a.precision=t+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=t,a.rounding=n,i.times(2)))};Ie.inverseTangent=Ie.atan=function(){var r,e,t,n,i,a,o,l,u,s=this,c=s.constructor,f=c.precision,p=c.rounding;if(s.isFinite()){if(s.isZero())return new c(s);if(s.abs().eq(1)&&f+4<=jh)return o=Pi(c,f+4,p).times(.25),o.s=s.s,o}else{if(!s.s)return new c(NaN);if(f+4<=jh)return o=Pi(c,f+4,p).times(.5),o.s=s.s,o}for(c.precision=l=f+10,c.rounding=1,t=Math.min(28,l/yt+2|0),r=t;r;--r)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(Ct=!1,e=Math.ceil(l/yt),n=1,u=s.times(s),o=new c(s),i=s;r!==-1;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),o=a.plus(i.div(n+=2)),o.d[e]!==void 0)for(r=e;o.d[r]===a.d[r]&&r--;);return t&&(o=o.times(2<<t-1)),Ct=!0,ft(o,c.precision=f,c.rounding=p,!0)};Ie.isFinite=function(){return!!this.d};Ie.isInteger=Ie.isInt=function(){return!!this.d&&dn(this.e/yt)>this.d.length-2};Ie.isNaN=function(){return!this.s};Ie.isNegative=Ie.isNeg=function(){return this.s<0};Ie.isPositive=Ie.isPos=function(){return this.s>0};Ie.isZero=function(){return!!this.d&&this.d[0]===0};Ie.lessThan=Ie.lt=function(r){return this.cmp(r)<0};Ie.lessThanOrEqualTo=Ie.lte=function(r){return this.cmp(r)<1};Ie.logarithm=Ie.log=function(r){var e,t,n,i,a,o,l,u,s=this,c=s.constructor,f=c.precision,p=c.rounding,m=5;if(r==null)r=new c(10),e=!0;else{if(r=new c(r),t=r.d,r.s<0||!t||!t[0]||r.eq(1))return new c(NaN);e=r.eq(10)}if(t=s.d,s.s<0||!t||!t[0]||s.eq(1))return new c(t&&!t[0]?-1/0:s.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)a=!0;else{for(i=t[0];i%10===0;)i/=10;a=i!==1}if(Ct=!1,l=f+m,o=no(s,l),n=e?lp(c,l+10):no(r,l),u=vr(o,n,l,1),fl(u.d,i=f,p))do if(l+=10,o=no(s,l),n=e?lp(c,l+10):no(r,l),u=vr(o,n,l,1),!a){+cn(u.d).slice(i+1,i+15)+1==1e14&&(u=ft(u,f+1,0));break}while(fl(u.d,i+=10,p));return Ct=!0,ft(u,f,p)};Ie.minus=Ie.sub=function(r){var e,t,n,i,a,o,l,u,s,c,f,p,m=this,h=m.constructor;if(r=new h(r),!m.d||!r.d)return!m.s||!r.s?r=new h(NaN):m.d?r.s=-r.s:r=new h(r.d||m.s!==r.s?m:NaN),r;if(m.s!=r.s)return r.s=-r.s,m.plus(r);if(s=m.d,p=r.d,l=h.precision,u=h.rounding,!s[0]||!p[0]){if(p[0])r.s=-r.s;else if(s[0])r=new h(m);else return new h(u===3?-0:0);return Ct?ft(r,l,u):r}if(t=dn(r.e/yt),c=dn(m.e/yt),s=s.slice(),a=c-t,a){for(f=a<0,f?(e=s,a=-a,o=p.length):(e=p,t=c,o=s.length),n=Math.max(Math.ceil(l/yt),o)+2,a>n&&(a=n,e.length=1),e.reverse(),n=a;n--;)e.push(0);e.reverse()}else{for(n=s.length,o=p.length,f=n<o,f&&(o=n),n=0;n<o;n++)if(s[n]!=p[n]){f=s[n]<p[n];break}a=0}for(f&&(e=s,s=p,p=e,r.s=-r.s),o=s.length,n=p.length-o;n>0;--n)s[o++]=0;for(n=p.length;n>a;){if(s[--n]<p[n]){for(i=n;i&&s[--i]===0;)s[i]=Ri-1;--s[i],s[n]+=Ri}s[n]-=p[n]}for(;s[--o]===0;)s.pop();for(;s[0]===0;s.shift())--t;return s[0]?(r.d=s,r.e=fp(s,t),Ct?ft(r,l,u):r):new h(u===3?-0:0)};Ie.modulo=Ie.mod=function(r){var e,t=this,n=t.constructor;return r=new n(r),!t.d||!r.s||r.d&&!r.d[0]?new n(NaN):!r.d||t.d&&!t.d[0]?ft(new n(t),n.precision,n.rounding):(Ct=!1,n.modulo==9?(e=vr(t,r.abs(),0,3,1),e.s*=r.s):e=vr(t,r,0,n.modulo,1),e=e.times(r),Ct=!0,t.minus(e))};Ie.naturalExponential=Ie.exp=function(){return Zh(this)};Ie.naturalLogarithm=Ie.ln=function(){return no(this)};Ie.negated=Ie.neg=function(){var r=new this.constructor(this);return r.s=-r.s,ft(r)};Ie.plus=Ie.add=function(r){var e,t,n,i,a,o,l,u,s,c,f=this,p=f.constructor;if(r=new p(r),!f.d||!r.d)return!f.s||!r.s?r=new p(NaN):f.d||(r=new p(r.d||f.s===r.s?f:NaN)),r;if(f.s!=r.s)return r.s=-r.s,f.minus(r);if(s=f.d,c=r.d,l=p.precision,u=p.rounding,!s[0]||!c[0])return c[0]||(r=new p(f)),Ct?ft(r,l,u):r;if(a=dn(f.e/yt),n=dn(r.e/yt),s=s.slice(),i=a-n,i){for(i<0?(t=s,i=-i,o=c.length):(t=c,n=a,o=s.length),a=Math.ceil(l/yt),o=a>o?a+1:o+1,i>o&&(i=o,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for(o=s.length,i=c.length,o-i<0&&(i=o,t=c,c=s,s=t),e=0;i;)e=(s[--i]=s[i]+c[i]+e)/Ri|0,s[i]%=Ri;for(e&&(s.unshift(e),++n),o=s.length;s[--o]==0;)s.pop();return r.d=s,r.e=fp(s,n),Ct?ft(r,l,u):r};Ie.precision=Ie.sd=function(r){var e,t=this;if(r!==void 0&&r!==!!r&&r!==1&&r!==0)throw Error(io+r);return t.d?(e=lF(t.d),r&&t.e+1>e&&(e=t.e+1)):e=NaN,e};Ie.round=function(){var r=this,e=r.constructor;return ft(new e(r),r.e+1,e.rounding)};Ie.sine=Ie.sin=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+Math.max(t.e,t.sd())+yt,n.rounding=1,t=kV(n,mF(n,t)),n.precision=r,n.rounding=e,ft(wa>2?t.neg():t,r,e,!0)):new n(NaN)};Ie.squareRoot=Ie.sqrt=function(){var r,e,t,n,i,a,o=this,l=o.d,u=o.e,s=o.s,c=o.constructor;if(s!==1||!l||!l[0])return new c(!s||s<0&&(!l||l[0])?NaN:l?o:1/0);for(Ct=!1,s=Math.sqrt(+o),s==0||s==1/0?(e=cn(l),(e.length+u)%2==0&&(e+="0"),s=Math.sqrt(e),u=dn((u+1)/2)-(u<0||u%2),s==1/0?e="5e"+u:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+u),n=new c(e)):n=new c(s.toString()),t=(u=c.precision)+3;;)if(a=n,n=a.plus(vr(o,a,t+2,1)).times(.5),cn(a.d).slice(0,t)===(e=cn(n.d)).slice(0,t))if(e=e.slice(t-3,t+1),e=="9999"||!i&&e=="4999"){if(!i&&(ft(a,u+1,0),a.times(a).eq(o))){n=a;break}t+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(ft(n,u+1,1),r=!n.times(n).eq(o));break}return Ct=!0,ft(n,u,c.rounding,r)};Ie.tangent=Ie.tan=function(){var r,e,t=this,n=t.constructor;return t.isFinite()?t.isZero()?new n(t):(r=n.precision,e=n.rounding,n.precision=r+10,n.rounding=1,t=t.sin(),t.s=1,t=vr(t,new n(1).minus(t.times(t)).sqrt(),r+10,0),n.precision=r,n.rounding=e,ft(wa==2||wa==4?t.neg():t,r,e,!0)):new n(NaN)};Ie.times=Ie.mul=function(r){var e,t,n,i,a,o,l,u,s,c=this,f=c.constructor,p=c.d,m=(r=new f(r)).d;if(r.s*=c.s,!p||!p[0]||!m||!m[0])return new f(!r.s||p&&!p[0]&&!m||m&&!m[0]&&!p?NaN:!p||!m?r.s/0:r.s*0);for(t=dn(c.e/yt)+dn(r.e/yt),u=p.length,s=m.length,u<s&&(a=p,p=m,m=a,o=u,u=s,s=o),a=[],o=u+s,n=o;n--;)a.push(0);for(n=s;--n>=0;){for(e=0,i=u+n;i>n;)l=a[i]+m[n]*p[i-n-1]+e,a[i--]=l%Ri|0,e=l/Ri|0;a[i]=(a[i]+e)%Ri|0}for(;!a[--o];)a.pop();return e?++t:a.shift(),r.d=a,r.e=fp(a,t),Ct?ft(r,f.precision,f.rounding):r};Ie.toBinary=function(r,e){return Jh(this,2,r,e)};Ie.toDecimalPlaces=Ie.toDP=function(r,e){var t=this,n=t.constructor;return t=new n(t),r===void 0?t:(Ln(r,0,ao),e===void 0?e=n.rounding:Ln(e,0,8),ft(t,r+t.e+1,e))};Ie.toExponential=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Ki(n,!0):(Ln(r,0,ao),e===void 0?e=i.rounding:Ln(e,0,8),n=ft(new i(n),r+1,e),t=Ki(n,!0,r+1)),n.isNeg()&&!n.isZero()?"-"+t:t};Ie.toFixed=function(r,e){var t,n,i=this,a=i.constructor;return r===void 0?t=Ki(i):(Ln(r,0,ao),e===void 0?e=a.rounding:Ln(e,0,8),n=ft(new a(i),r+i.e+1,e),t=Ki(n,!1,r+n.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t};Ie.toFraction=function(r){var e,t,n,i,a,o,l,u,s,c,f,p,m=this,h=m.d,d=m.constructor;if(!h)return new d(m);if(s=t=new d(1),n=u=new d(0),e=new d(n),a=e.e=lF(h)-m.e-1,o=a%yt,e.d[0]=Yr(10,o<0?yt+o:o),r==null)r=a>0?e:s;else{if(l=new d(r),!l.isInt()||l.lt(s))throw Error(io+l);r=l.gt(e)?a>0?e:s:l}for(Ct=!1,l=new d(cn(h)),c=d.precision,d.precision=a=h.length*yt*2;f=vr(l,e,0,1,1),i=t.plus(f.times(n)),i.cmp(r)!=1;)t=n,n=i,i=s,s=u.plus(f.times(i)),u=i,i=e,e=l.minus(f.times(i)),l=i;return i=vr(r.minus(t),n,0,1,1),u=u.plus(i.times(s)),t=t.plus(i.times(n)),u.s=s.s=m.s,p=vr(s,n,a,1).minus(m).abs().cmp(vr(u,t,a,1).minus(m).abs())<1?[s,n]:[u,t],d.precision=c,Ct=!0,p};Ie.toHexadecimal=Ie.toHex=function(r,e){return Jh(this,16,r,e)};Ie.toNearest=function(r,e){var t=this,n=t.constructor;if(t=new n(t),r==null){if(!t.d)return t;r=new n(1),e=n.rounding}else{if(r=new n(r),e===void 0?e=n.rounding:Ln(e,0,8),!t.d)return r.s?t:r;if(!r.d)return r.s&&(r.s=t.s),r}return r.d[0]?(Ct=!1,t=vr(t,r,0,e,1).times(r),Ct=!0,ft(t)):(r.s=t.s,t=r),t};Ie.toNumber=function(){return+this};Ie.toOctal=function(r,e){return Jh(this,8,r,e)};Ie.toPower=Ie.pow=function(r){var e,t,n,i,a,o,l=this,u=l.constructor,s=+(r=new u(r));if(!l.d||!r.d||!l.d[0]||!r.d[0])return new u(Yr(+l,s));if(l=new u(l),l.eq(1))return l;if(n=u.precision,a=u.rounding,r.eq(1))return ft(l,n,a);if(e=dn(r.e/yt),e>=r.d.length-1&&(t=s<0?-s:s)<=TV)return i=cF(u,l,t,n),r.s<0?new u(1).div(i):ft(i,n,a);if(o=l.s,o<0){if(e<r.d.length-1)return new u(NaN);if(r.d[e]&1||(o=1),l.e==0&&l.d[0]==1&&l.d.length==1)return l.s=o,l}return t=Yr(+l,s),e=t==0||!isFinite(t)?dn(s*(Math.log("0."+cn(l.d))/Math.LN10+l.e+1)):new u(t+"").e,e>u.maxE+1||e<u.minE-1?new u(e>0?o/0:0):(Ct=!1,u.rounding=l.s=1,t=Math.min(12,(e+"").length),i=Zh(r.times(no(l,n+t)),n),i.d&&(i=ft(i,n+5,1),fl(i.d,n,a)&&(e=n+10,i=ft(Zh(r.times(no(l,e+t)),e),e+5,1),+cn(i.d).slice(n+1,n+15)+1==1e14&&(i=ft(i,n+1,0)))),i.s=o,Ct=!0,u.rounding=a,ft(i,n,a))};Ie.toPrecision=function(r,e){var t,n=this,i=n.constructor;return r===void 0?t=Ki(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(Ln(r,1,ao),e===void 0?e=i.rounding:Ln(e,0,8),n=ft(new i(n),r,e),t=Ki(n,r<=n.e||n.e<=i.toExpNeg,r)),n.isNeg()&&!n.isZero()?"-"+t:t};Ie.toSignificantDigits=Ie.toSD=function(r,e){var t=this,n=t.constructor;return r===void 0?(r=n.precision,e=n.rounding):(Ln(r,1,ao),e===void 0?e=n.rounding:Ln(e,0,8)),ft(new n(t),r,e)};Ie.toString=function(){var r=this,e=r.constructor,t=Ki(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()&&!r.isZero()?"-"+t:t};Ie.truncated=Ie.trunc=function(){return ft(new this.constructor(this),this.e+1,1)};Ie.valueOf=Ie.toJSON=function(){var r=this,e=r.constructor,t=Ki(r,r.e<=e.toExpNeg||r.e>=e.toExpPos);return r.isNeg()?"-"+t:t};function cn(r){var e,t,n,i=r.length-1,a="",o=r[0];if(i>0){for(a+=o,e=1;e<i;e++)n=r[e]+"",t=yt-n.length,t&&(a+=ro(t)),a+=n;o=r[e],n=o+"",t=yt-n.length,t&&(a+=ro(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function Ln(r,e,t){if(r!==~~r||r<e||r>t)throw Error(io+r)}function fl(r,e,t,n){var i,a,o,l;for(a=r[0];a>=10;a/=10)--e;return--e<0?(e+=yt,i=0):(i=Math.ceil((e+1)/yt),e%=yt),a=Yr(10,yt-e),l=r[i]%a|0,n==null?e<3?(e==0?l=l/100|0:e==1&&(l=l/10|0),o=t<4&&l==99999||t>3&&l==49999||l==5e4||l==0):o=(t<4&&l+1==a||t>3&&l+1==a/2)&&(r[i+1]/a/100|0)==Yr(10,e-2)-1||(l==a/2||l==0)&&(r[i+1]/a/100|0)==0:e<4?(e==0?l=l/1e3|0:e==1?l=l/100|0:e==2&&(l=l/10|0),o=(n||t<4)&&l==9999||!n&&t>3&&l==4999):o=((n||t<4)&&l+1==a||!n&&t>3&&l+1==a/2)&&(r[i+1]/a/1e3|0)==Yr(10,e-3)-1,o}function op(r,e,t){for(var n,i=[0],a,o=0,l=r.length;o<l;){for(a=i.length;a--;)i[a]*=e;for(i[0]+=Wh.indexOf(r.charAt(o++)),n=0;n<i.length;n++)i[n]>t-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/t|0,i[n]%=t)}return i.reverse()}function BV(r,e){var t,n,i;if(e.isZero())return e;n=e.d.length,n<32?(t=Math.ceil(n/3),i=(1/pp(4,t)).toString()):(t=16,i="2.3283064365386962890625e-10"),r.precision+=t,e=ru(r,1,e.times(i),new r(1));for(var a=t;a--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return r.precision-=t,e}var vr=function(){function r(n,i,a){var o,l=0,u=n.length;for(n=n.slice();u--;)o=n[u]*i+l,n[u]=o%a|0,l=o/a|0;return l&&n.unshift(l),n}function e(n,i,a,o){var l,u;if(a!=o)u=a>o?1:-1;else for(l=u=0;l<a;l++)if(n[l]!=i[l]){u=n[l]>i[l]?1:-1;break}return u}function t(n,i,a,o){for(var l=0;a--;)n[a]-=l,l=n[a]<i[a]?1:0,n[a]=l*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,l,u){var s,c,f,p,m,h,d,g,y,w,v,x,D,b,C,S,E,A,M,I,k=n.constructor,L=n.s==i.s?1:-1,P=n.d,B=i.d;if(!P||!P[0]||!B||!B[0])return new k(!n.s||!i.s||(P?B&&P[0]==B[0]:!B)?NaN:P&&P[0]==0||!B?L*0:L/0);for(u?(m=1,c=n.e-i.e):(u=Ri,m=yt,c=dn(n.e/m)-dn(i.e/m)),M=B.length,E=P.length,y=new k(L),w=y.d=[],f=0;B[f]==(P[f]||0);f++);if(B[f]>(P[f]||0)&&c--,a==null?(b=a=k.precision,o=k.rounding):l?b=a+(n.e-i.e)+1:b=a,b<0)w.push(1),h=!0;else{if(b=b/m+2|0,f=0,M==1){for(p=0,B=B[0],b++;(f<E||p)&&b--;f++)C=p*u+(P[f]||0),w[f]=C/B|0,p=C%B|0;h=p||f<E}else{for(p=u/(B[0]+1)|0,p>1&&(B=r(B,p,u),P=r(P,p,u),M=B.length,E=P.length),S=M,v=P.slice(0,M),x=v.length;x<M;)v[x++]=0;I=B.slice(),I.unshift(0),A=B[0],B[1]>=u/2&&++A;do p=0,s=e(B,v,M,x),s<0?(D=v[0],M!=x&&(D=D*u+(v[1]||0)),p=D/A|0,p>1?(p>=u&&(p=u-1),d=r(B,p,u),g=d.length,x=v.length,s=e(d,v,g,x),s==1&&(p--,t(d,M<g?I:B,g,u))):(p==0&&(s=p=1),d=B.slice()),g=d.length,g<x&&d.unshift(0),t(v,d,x,u),s==-1&&(x=v.length,s=e(B,v,M,x),s<1&&(p++,t(v,M<x?I:B,x,u))),x=v.length):s===0&&(p++,v=[0]),w[f++]=p,s&&v[0]?v[x++]=P[S]||0:(v=[P[S]],x=1);while((S++<E||v[0]!==void 0)&&b--);h=v[0]!==void 0}w[0]||w.shift()}if(m==1)y.e=c,iF=h;else{for(f=1,p=w[0];p>=10;p/=10)f++;y.e=f+c*m-1,ft(y,l?a+y.e+1:a,o,h)}return y}}();function ft(r,e,t,n){var i,a,o,l,u,s,c,f,p,m=r.constructor;e:if(e!=null){if(f=r.d,!f)return r;for(i=1,l=f[0];l>=10;l/=10)i++;if(a=e-i,a<0)a+=yt,o=e,c=f[p=0],u=c/Yr(10,i-o-1)%10|0;else if(p=Math.ceil((a+1)/yt),l=f.length,p>=l)if(n){for(;l++<=p;)f.push(0);c=u=0,i=1,a%=yt,o=a-yt+1}else break e;else{for(c=l=f[p],i=1;l>=10;l/=10)i++;a%=yt,o=a-yt+i,u=o<0?0:c/Yr(10,i-o-1)%10|0}if(n=n||e<0||f[p+1]!==void 0||(o<0?c:c%Yr(10,i-o-1)),s=t<4?(u||n)&&(t==0||t==(r.s<0?3:2)):u>5||u==5&&(t==4||n||t==6&&(a>0?o>0?c/Yr(10,i-o):0:f[p-1])%10&1||t==(r.s<0?8:7)),e<1||!f[0])return f.length=0,s?(e-=r.e+1,f[0]=Yr(10,(yt-e%yt)%yt),r.e=-e||0):f[0]=r.e=0,r;if(a==0?(f.length=p,l=1,p--):(f.length=p+1,l=Yr(10,yt-a),f[p]=o>0?(c/Yr(10,i-o)%Yr(10,o)|0)*l:0),s)for(;;)if(p==0){for(a=1,o=f[0];o>=10;o/=10)a++;for(o=f[0]+=l,l=1;o>=10;o/=10)l++;a!=l&&(r.e++,f[0]==Ri&&(f[0]=1));break}else{if(f[p]+=l,f[p]!=Ri)break;f[p--]=0,l=1}for(a=f.length;f[--a]===0;)f.pop()}return Ct&&(r.e>m.maxE?(r.d=null,r.e=NaN):r.e<m.minE&&(r.e=0,r.d=[0])),r}function Ki(r,e,t){if(!r.isFinite())return pF(r);var n,i=r.e,a=cn(r.d),o=a.length;return e?(t&&(n=t-o)>0?a=a.charAt(0)+"."+a.slice(1)+ro(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(r.e<0?"e":"e+")+r.e):i<0?(a="0."+ro(-i-1)+a,t&&(n=t-o)>0&&(a+=ro(n))):i>=o?(a+=ro(i+1-o),t&&(n=t-i-1)>0&&(a=a+"."+ro(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),t&&(n=t-o)>0&&(i+1===o&&(a+="."),a+=ro(n))),a}function fp(r,e){var t=r[0];for(e*=yt;t>=10;t/=10)e++;return e}function lp(r,e,t){if(e>IV)throw Ct=!0,t&&(r.precision=t),Error(aF);return ft(new r(sp),e,1,!0)}function Pi(r,e,t){if(e>jh)throw Error(aF);return ft(new r(up),e,t,!0)}function lF(r){var e=r.length-1,t=e*yt+1;if(e=r[e],e){for(;e%10==0;e/=10)t--;for(e=r[0];e>=10;e/=10)t++}return t}function ro(r){for(var e="";r--;)e+="0";return e}function cF(r,e,t,n){var i,a=new r(1),o=Math.ceil(n/yt+4);for(Ct=!1;;){if(t%2&&(a=a.times(e),rF(a.d,o)&&(i=!0)),t=dn(t/2),t===0){t=a.d.length-1,i&&a.d[t]===0&&++a.d[t];break}e=e.times(e),rF(e.d,o)}return Ct=!0,a}function tF(r){return r.d[r.d.length-1]&1}function fF(r,e,t){for(var n,i=new r(e[0]),a=0;++a<e.length;)if(n=new r(e[a]),n.s)i[t](n)&&(i=n);else{i=n;break}return i}function Zh(r,e){var t,n,i,a,o,l,u,s=0,c=0,f=0,p=r.constructor,m=p.rounding,h=p.precision;if(!r.d||!r.d[0]||r.e>17)return new p(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(e==null?(Ct=!1,u=h):u=e,l=new p(.03125);r.e>-2;)r=r.times(l),f+=5;for(n=Math.log(Yr(2,f))/Math.LN10*2+5|0,u+=n,t=a=o=new p(1),p.precision=u;;){if(a=ft(a.times(r),u,1),t=t.times(++c),l=o.plus(vr(a,t,u,1)),cn(l.d).slice(0,u)===cn(o.d).slice(0,u)){for(i=f;i--;)o=ft(o.times(o),u,1);if(e==null)if(s<3&&fl(o.d,u-n,m,s))p.precision=u+=10,t=a=l=new p(1),c=0,s++;else return ft(o,p.precision=h,m,Ct=!0);else return p.precision=h,o}o=l}}function no(r,e){var t,n,i,a,o,l,u,s,c,f,p,m=1,h=10,d=r,g=d.d,y=d.constructor,w=y.rounding,v=y.precision;if(d.s<0||!g||!g[0]||!d.e&&g[0]==1&&g.length==1)return new y(g&&!g[0]?-1/0:d.s!=1?NaN:g?0:d);if(e==null?(Ct=!1,c=v):c=e,y.precision=c+=h,t=cn(g),n=t.charAt(0),Math.abs(a=d.e)<15e14){for(;n<7&&n!=1||n==1&&t.charAt(1)>3;)d=d.times(r),t=cn(d.d),n=t.charAt(0),m++;a=d.e,n>1?(d=new y("0."+t),a++):d=new y(n+"."+t.slice(1))}else return s=lp(y,c+2,v).times(a+""),d=no(new y(n+"."+t.slice(1)),c-h).plus(s),y.precision=v,e==null?ft(d,v,w,Ct=!0):d;for(f=d,u=o=d=vr(d.minus(1),d.plus(1),c,1),p=ft(d.times(d),c,1),i=3;;){if(o=ft(o.times(p),c,1),s=u.plus(vr(o,new y(i),c,1)),cn(s.d).slice(0,c)===cn(u.d).slice(0,c))if(u=u.times(2),a!==0&&(u=u.plus(lp(y,c+2,v).times(a+""))),u=vr(u,new y(m),c,1),e==null)if(fl(u.d,c-h,w,l))y.precision=c+=h,s=o=d=vr(f.minus(1),f.plus(1),c,1),p=ft(d.times(d),c,1),i=l=1;else return ft(u,y.precision=v,w,Ct=!0);else return y.precision=v,u;u=s,i+=2}}function pF(r){return String(r.s*r.s/0)}function Yh(r,e){var t,n,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(t<0&&(t=n),t+=+e.slice(n+1),e=e.substring(0,n)):t<0&&(t=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,r.e=t=t-n-1,r.d=[],n=(t+1)%yt,t<0&&(n+=yt),n<i){for(n&&r.d.push(+e.slice(0,n)),i-=yt;n<i;)r.d.push(+e.slice(n,n+=yt));e=e.slice(n),n=yt-e.length}else n-=i;for(;n--;)e+="0";r.d.push(+e),Ct&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function OV(r,e){var t,n,i,a,o,l,u,s,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),uF.test(e))return Yh(r,e)}else if(e==="Infinity"||e==="NaN")return+e||(r.s=NaN),r.e=NaN,r.d=null,r;if(_V.test(e))t=16,e=e.toLowerCase();else if(NV.test(e))t=2;else if(MV.test(e))t=8;else throw Error(io+e);for(a=e.search(/p/i),a>0?(u=+e.slice(a+1),e=e.substring(2,a)):e=e.slice(2),a=e.indexOf("."),o=a>=0,n=r.constructor,o&&(e=e.replace(".",""),l=e.length,a=l-a,i=cF(n,new n(t),a,a*2)),s=op(e,t,Ri),c=s.length-1,a=c;s[a]===0;--a)s.pop();return a<0?new n(r.s*0):(r.e=fp(s,c),r.d=s,Ct=!1,o&&(r=vr(r,i,l*4)),u&&(r=r.times(Math.abs(u)<54?Yr(2,u):pl.pow(2,u))),Ct=!0,r)}function kV(r,e){var t,n=e.d.length;if(n<3)return e.isZero()?e:ru(r,2,e,e);t=1.4*Math.sqrt(n),t=t>16?16:t|0,e=e.times(1/pp(5,t)),e=ru(r,2,e,e);for(var i,a=new r(5),o=new r(16),l=new r(20);t--;)i=e.times(e),e=e.times(a.plus(i.times(o.times(i).minus(l))));return e}function ru(r,e,t,n,i){var a,o,l,u,s=1,c=r.precision,f=Math.ceil(c/yt);for(Ct=!1,u=t.times(t),l=new r(n);;){if(o=vr(l.times(u),new r(e++*e++),c,1),l=i?n.plus(o):n.minus(o),n=vr(o.times(u),new r(e++*e++),c,1),o=l.plus(n),o.d[f]!==void 0){for(a=f;o.d[a]===l.d[a]&&a--;);if(a==-1)break}a=l,l=n,n=o,o=a,s++}return Ct=!0,o.d.length=f+1,o}function pp(r,e){for(var t=r;--e;)t*=r;return t}function mF(r,e){var t,n=e.s<0,i=Pi(r,r.precision,1),a=i.times(.5);if(e=e.abs(),e.lte(a))return wa=n?4:1,e;if(t=e.divToInt(i),t.isZero())wa=n?3:2;else{if(e=e.minus(t.times(i)),e.lte(a))return wa=tF(t)?n?2:3:n?4:1,e;wa=tF(t)?n?1:4:n?3:2}return e.minus(i).abs()}function Jh(r,e,t,n){var i,a,o,l,u,s,c,f,p,m=r.constructor,h=t!==void 0;if(h?(Ln(t,1,ao),n===void 0?n=m.rounding:Ln(n,0,8)):(t=m.precision,n=m.rounding),!r.isFinite())c=pF(r);else{for(c=Ki(r),o=c.indexOf("."),h?(i=2,e==16?t=t*4-3:e==8&&(t=t*3-2)):i=e,o>=0&&(c=c.replace(".",""),p=new m(1),p.e=c.length-o,p.d=op(Ki(p),10,i),p.e=p.d.length),f=op(c,10,i),a=u=f.length;f[--u]==0;)f.pop();if(!f[0])c=h?"0p+0":"0";else{if(o<0?a--:(r=new m(r),r.d=f,r.e=a,r=vr(r,p,t,n,0,i),f=r.d,a=r.e,s=iF),o=f[t],l=i/2,s=s||f[t+1]!==void 0,s=n<4?(o!==void 0||s)&&(n===0||n===(r.s<0?3:2)):o>l||o===l&&(n===4||s||n===6&&f[t-1]&1||n===(r.s<0?8:7)),f.length=t,s)for(;++f[--t]>i-1;)f[t]=0,t||(++a,f.unshift(1));for(u=f.length;!f[u-1];--u);for(o=0,c="";o<u;o++)c+=Wh.charAt(f[o]);if(h){if(u>1)if(e==16||e==8){for(o=e==16?4:3,--u;u%o;u++)c+="0";for(f=op(c,i,e),u=f.length;!f[u-1];--u);for(o=1,c="1.";o<u;o++)c+=Wh.charAt(f[o])}else c=c.charAt(0)+"."+c.slice(1);c=c+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)c="0"+c;c="0."+c}else if(++a>u)for(a-=u;a--;)c+="0";else a<u&&(c=c.slice(0,a)+"."+c.slice(a))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return r.s<0?"-"+c:c}function rF(r,e){if(r.length>e)return r.length=e,!0}function PV(r){return new this(r).abs()}function RV(r){return new this(r).acos()}function LV(r){return new this(r).acosh()}function VV(r,e){return new this(r).plus(e)}function UV(r){return new this(r).asin()}function qV(r){return new this(r).asinh()}function zV(r){return new this(r).atan()}function $V(r){return new this(r).atanh()}function HV(r,e){r=new this(r),e=new this(e);var t,n=this.precision,i=this.rounding,a=n+4;return!r.s||!e.s?t=new this(NaN):!r.d&&!e.d?(t=Pi(this,a,1).times(e.s>0?.25:.75),t.s=r.s):!e.d||r.isZero()?(t=e.s<0?Pi(this,n,i):new this(0),t.s=r.s):!r.d||e.isZero()?(t=Pi(this,a,1).times(.5),t.s=r.s):e.s<0?(this.precision=a,this.rounding=1,t=this.atan(vr(r,e,a,1)),e=Pi(this,a,1),this.precision=n,this.rounding=i,t=r.s<0?t.minus(e):t.plus(e)):t=this.atan(vr(r,e,a,1)),t}function WV(r){return new this(r).cbrt()}function GV(r){return ft(r=new this(r),r.e+1,2)}function jV(r,e,t){return new this(r).clamp(e,t)}function ZV(r){if(!r||typeof r!="object")throw Error(cp+"Object expected");var e,t,n,i=r.defaults===!0,a=["precision",1,ao,"rounding",0,8,"toExpNeg",-tu,0,"toExpPos",0,tu,"maxE",0,tu,"minE",-tu,0,"modulo",0,9];for(e=0;e<a.length;e+=3)if(t=a[e],i&&(this[t]=Gh[t]),(n=r[t])!==void 0)if(dn(n)===n&&n>=a[e+1]&&n<=a[e+2])this[t]=n;else throw Error(io+t+": "+n);if(t="crypto",i&&(this[t]=Gh[t]),(n=r[t])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[t]=!0;else throw Error(oF);else this[t]=!1;else throw Error(io+t+": "+n);return this}function YV(r){return new this(r).cos()}function JV(r){return new this(r).cosh()}function dF(r){var e,t,n;function i(a){var o,l,u,s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,nF(a)){s.s=a.s,Ct?!a.d||a.e>i.maxE?(s.e=NaN,s.d=null):a.e<i.minE?(s.e=0,s.d=[0]):(s.e=a.e,s.d=a.d.slice()):(s.e=a.e,s.d=a.d?a.d.slice():a.d);return}if(u=typeof a,u==="number"){if(a===0){s.s=1/a<0?-1:1,s.e=0,s.d=[0];return}if(a<0?(a=-a,s.s=-1):s.s=1,a===~~a&&a<1e7){for(o=0,l=a;l>=10;l/=10)o++;Ct?o>i.maxE?(s.e=NaN,s.d=null):o<i.minE?(s.e=0,s.d=[0]):(s.e=o,s.d=[a]):(s.e=o,s.d=[a]);return}else if(a*0!==0){a||(s.s=NaN),s.e=NaN,s.d=null;return}return Yh(s,a.toString())}else if(u!=="string")throw Error(io+a);return(l=a.charCodeAt(0))===45?(a=a.slice(1),s.s=-1):(l===43&&(a=a.slice(1)),s.s=1),uF.test(a)?Yh(s,a):OV(s,a)}if(i.prototype=Ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=ZV,i.clone=dF,i.isDecimal=nF,i.abs=PV,i.acos=RV,i.acosh=LV,i.add=VV,i.asin=UV,i.asinh=qV,i.atan=zV,i.atanh=$V,i.atan2=HV,i.cbrt=WV,i.ceil=GV,i.clamp=jV,i.cos=YV,i.cosh=JV,i.div=XV,i.exp=QV,i.floor=KV,i.hypot=eU,i.ln=tU,i.log=rU,i.log10=iU,i.log2=nU,i.max=aU,i.min=oU,i.mod=sU,i.mul=uU,i.pow=lU,i.random=cU,i.round=fU,i.sign=pU,i.sin=mU,i.sinh=dU,i.sqrt=hU,i.sub=gU,i.sum=vU,i.tan=yU,i.tanh=xU,i.trunc=bU,r===void 0&&(r={}),r&&r.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)r.hasOwnProperty(t=n[e++])||(r[t]=this[t]);return i.config(r),i}function XV(r,e){return new this(r).div(e)}function QV(r){return new this(r).exp()}function KV(r){return ft(r=new this(r),r.e+1,3)}function eU(){var r,e,t=new this(0);for(Ct=!1,r=0;r<arguments.length;)if(e=new this(arguments[r++]),e.d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Ct=!0,new this(1/0);t=e}return Ct=!0,t.sqrt()}function nF(r){return r instanceof pl||r&&r.toStringTag===sF||!1}function tU(r){return new this(r).ln()}function rU(r,e){return new this(r).log(e)}function nU(r){return new this(r).log(2)}function iU(r){return new this(r).log(10)}function aU(){return fF(this,arguments,"lt")}function oU(){return fF(this,arguments,"gt")}function sU(r,e){return new this(r).mod(e)}function uU(r,e){return new this(r).mul(e)}function lU(r,e){return new this(r).pow(e)}function cU(r){var e,t,n,i,a=0,o=new this(1),l=[];if(r===void 0?r=this.precision:Ln(r,1,ao),n=Math.ceil(r/yt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));a<n;)i=e[a],i>=429e7?e[a]=crypto.getRandomValues(new Uint32Array(1))[0]:l[a++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);a<n;)i=e[a]+(e[a+1]<<8)+(e[a+2]<<16)+((e[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,a):(l.push(i%1e7),a+=4);a=n/4}else throw Error(oF);else for(;a<n;)l[a++]=Math.random()*1e7|0;for(n=l[--a],r%=yt,n&&r&&(i=Yr(10,yt-r),l[a]=(n/i|0)*i);l[a]===0;a--)l.pop();if(a<0)t=0,l=[0];else{for(t=-1;l[0]===0;t-=yt)l.shift();for(n=1,i=l[0];i>=10;i/=10)n++;n<yt&&(t-=yt-n)}return o.e=t,o.d=l,o}function fU(r){return ft(r=new this(r),r.e+1,this.rounding)}function pU(r){return r=new this(r),r.d?r.d[0]?r.s:0*r.s:r.s||NaN}function mU(r){return new this(r).sin()}function dU(r){return new this(r).sinh()}function hU(r){return new this(r).sqrt()}function gU(r,e){return new this(r).sub(e)}function vU(){var r=0,e=arguments,t=new this(e[r]);for(Ct=!1;t.s&&++r<e.length;)t=t.plus(e[r]);return Ct=!0,ft(t,this.precision,this.rounding)}function yU(r){return new this(r).tan()}function xU(r){return new this(r).tanh()}function bU(r){return ft(r=new this(r),r.e+1,1)}Ie[Symbol.for("nodejs.util.inspect.custom")]=Ie.toString;Ie[Symbol.toStringTag]="Decimal";var pl=Ie.constructor=dF(Gh);sp=new pl(sp);up=new pl(up);var rs=pl;var DU="BigNumber",wU=["?on","config"],Xh=F(DU,wU,r=>{var{on:e,config:t}=r,n=rs.clone({precision:t.precision,modulo:rs.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0});var Qr=Fr(gF(),1);var EU="Complex",CU=[],Kh=F(EU,CU,()=>(Object.defineProperty(Qr.default,"name",{value:"Complex"}),Qr.default.prototype.constructor=Qr.default,Qr.default.prototype.type="Complex",Qr.default.prototype.isComplex=!0,Qr.default.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Qr.default.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Qr.default.prototype.format=function(r){var e="",t=this.im,n=this.re,i=Oi(this.re,r),a=Oi(this.im,r),o=at(r)?r:r?r.precision:null;if(o!==null){var l=Math.pow(10,-o);Math.abs(n/t)<l&&(n=0),Math.abs(t/n)<l&&(t=0)}return t===0?e=i:n===0?t===1?e="i":t===-1?e="-i":e=a+"i":t<0?t===-1?e=i+" - i":e=i+" - "+a.substring(1)+"i":t===1?e=i+" + i":e=i+" + "+a+"i",e},Qr.default.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return(0,Qr.default)(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(at(t)){if(on(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),at(n))return new Qr.default({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Qr.default.prototype.valueOf=Qr.default.prototype.toString,Qr.default.fromJSON=function(r){return new Qr.default(r)},Qr.default.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},Qr.default),{isClass:!0});var ea=Fr(yF(),1);var AU="Fraction",SU=[],tg=F(AU,SU,()=>(Object.defineProperty(ea.default,"name",{value:"Fraction"}),ea.default.prototype.constructor=ea.default,ea.default.prototype.type="Fraction",ea.default.prototype.isFraction=!0,ea.default.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ea.default.fromJSON=function(r){return new ea.default(r)},ea.default),{isClass:!0});var FU="Range",NU=[],rg=F(FU,NU,()=>{function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,a=t!=null,o=n!=null;if(i){if(it(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(a){if(it(t))t=t.toNumber();else if(typeof t!="number")throw new TypeError("Parameter end must be a number")}if(o){if(it(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=a?parseFloat(t):0,this.step=o?parseFloat(n):1}return r.prototype.type="Range",r.prototype.isRange=!0,r.parse=function(e){if(typeof e!="string")return null;var t=e.split(":"),n=t.map(function(a){return parseFloat(a)}),i=n.some(function(a){return isNaN(a)});if(i)return null;switch(n.length){case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[2],n[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.prototype.size=function(){var e=0,t=this.start,n=this.step,i=this.end,a=i-t;return pi(n)===pi(a)?e=Math.ceil(a/n):a===0&&(e=0),isNaN(e)&&(e=0),[e]},r.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},r.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},r.prototype.forEach=function(e){var t=this.start,n=this.step,i=this.end,a=0;if(n>0)for(;t<i;)e(t,[a],this),t+=n,a++;else if(n<0)for(;t>i;)e(t,[a],this),t+=n,a++},r.prototype.map=function(e){var t=[];return this.forEach(function(n,i,a){t[i[0]]=e(n,i,a)}),t},r.prototype.toArray=function(){var e=[];return this.forEach(function(t,n){e[n[0]]=t}),e},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(e){var t=Oi(this.start,e);return this.step!==1&&(t+=":"+Oi(this.step,e)),t+=":"+Oi(this.end,e),t},r.prototype.toString=function(){return this.format()},r.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(e){return new r(e.start,e.end,e.step)},r},{isClass:!0});var _U="Matrix",MU=[],ng=F(_U,MU,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function xF(r){var e=0,t=1,n=Object.create(null),i=Object.create(null),a=0,o=function(u){var s=i[u];if(s&&(delete n[s],delete i[u],--e,t===s)){if(!e){a=0,t=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++t););}};return r=Math.abs(r),{hit:function(u){var s=i[u],c=++a;if(n[c]=u,i[u]=c,!s)return++e,e<=r?void 0:(u=n[t],o(u),u);if(delete n[s],t===s)for(;!Object.prototype.hasOwnProperty.call(n,++t););},delete:o,clear:function(){e=a=0,t=1,n=Object.create(null),i=Object.create(null)}}}function ns(r){var{hasher:e,limit:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=t==null?Number.POSITIVE_INFINITY:t,e=e==null?JSON.stringify:e,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:xF(t||Number.POSITIVE_INFINITY)});for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var o=e(i);if(n.cache.values.has(o))return n.cache.lru.hit(o),n.cache.values.get(o);var l=r.apply(r,i);return n.cache.values.set(o,l),n.cache.values.delete(n.cache.lru.hit(o)),l}}function mp(r){return Object.keys(r.signatures||{}).reduce(function(e,t){var n=(t.match(/,/g)||[]).length+1;return Math.max(e,n)},-1)}var TU="DenseMatrix",IU=["Matrix"],ig=F(TU,IU,r=>{var{Matrix:e}=r;function t(c,f){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Dr(f))throw new Error("Invalid datatype: "+f);if($e(c))c.type==="DenseMatrix"?(this._data=tt(c._data),this._size=tt(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&Nt(c.data)&&Nt(c.size))this._data=c.data,this._size=c.size,kh(this._data,this._size),this._datatype=f||c.datatype;else if(Nt(c))this._data=s(c),this._size=nt(this._data),kh(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+St(c)+")");this._data=[],this._size=[0],this._datatype=f}}t.prototype=new e,t.prototype.createDenseMatrix=function(c,f){return new t(c,f)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return to(this._data,St)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,f){return new t(c,f)},t.prototype.subset=function(c,f,p){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return a(this,c,f,p);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){if(!Nt(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new ut(c.length,this._size.length);for(var f=0;f<c.length;f++)Gt(c[f],this._size[f]);for(var p=this._data,m=0,h=c.length;m<h;m++){var d=c[m];Gt(d,p.length),p=p[d]}return p},t.prototype.set=function(c,f,p){if(!Nt(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new ut(c.length,this._size.length,"<");var m,h,d,g=c.map(function(w){return w+1});u(this,g,p);var y=this._data;for(m=0,h=c.length-1;m<h;m++)d=c[m],Gt(d,y.length),y=y[d];return d=c[c.length-1],Gt(d,y.length),y[d]=f,this};function n(c,f){if(!Qa(f))throw new TypeError("Invalid index");var p=f.isScalar();if(p)return c.get(f.min());var m=f.size();if(m.length!==c._size.length)throw new ut(m.length,c._size.length);for(var h=f.min(),d=f.max(),g=0,y=c._size.length;g<y;g++)Gt(h[g],c._size[g]),Gt(d[g],c._size[g]);return new t(i(c._data,f,m.length,0),c._datatype)}function i(c,f,p,m){var h=m===p-1,d=f.dimension(m);return h?d.map(function(g){return Gt(g,c.length),c[g]}).valueOf():d.map(function(g){Gt(g,c.length);var y=c[g];return i(y,f,p,m+1)}).valueOf()}function a(c,f,p,m){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var h=f.size(),d=f.isScalar(),g;if($e(p)?(g=p.size(),p=p.valueOf()):g=nt(p),d){if(g.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),p,m)}else{if(!Bi(g,h))try{g.length===0?p=Lh([p],h):p=Lh(p,h),g=nt(p)}catch(b){}if(h.length<c._size.length)throw new ut(h.length,c._size.length,"<");if(g.length<h.length){for(var y=0,w=0;h[y]===1&&g[y]===1;)y++;for(;h[y]===1;)w++,y++;p=tp(p,h.length,w,g)}if(!Bi(h,g))throw new ut(h,g,">");var v=f.max().map(function(b){return b+1});u(c,v,m);var x=h.length,D=0;o(c._data,f,p,x,D)}return c}function o(c,f,p,m,h){var d=h===m-1,g=f.dimension(h);d?g.forEach(function(y,w){Gt(y),c[y]=p[w[0]]}):g.forEach(function(y,w){Gt(y),o(c[y],f,p[w[0]],m,h+1)})}t.prototype.resize=function(c,f,p){if(!_n(c))throw new TypeError("Array or Matrix expected");var m=c.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d),h=p?this.clone():this;return l(h,m,f)};function l(c,f,p){if(f.length===0){for(var m=c._data;Nt(m);)m=m[0];return m}return c._size=f.slice(0),c._data=ki(c._data,c._size,p),c}t.prototype.reshape=function(c,f){var p=f?this.clone():this;p._data=sl(p._data,c);var m=p._size.reduce((h,d)=>h*d);return p._size=ul(c,m),p};function u(c,f,p){for(var m=c._size.slice(0),h=!1;m.length<f.length;)m.push(0),h=!0;for(var d=0,g=f.length;d<g;d++)f[d]>m[d]&&(m[d]=f[d],h=!0);h&&l(c,m,p)}t.prototype.clone=function(){var c=new t({data:tt(this._data),size:tt(this._size),datatype:this._datatype});return c},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(c){var f=this,p=mp(c),m=function g(y,w){return Nt(y)?y.map(function(v,x){return g(v,w.concat(x))}):p===1?c(y):p===2?c(y,w):c(y,w,f)},h=m(this._data,[]),d=this._datatype!==void 0?to(h,St):void 0;return new t(h,d)},t.prototype.forEach=function(c){var f=this,p=function m(h,d){Nt(h)?h.forEach(function(g,y){m(g,d.concat(y))}):c(h,d,f)};p(this._data,[])},t.prototype[Symbol.iterator]=function*(){var c=function*f(p,m){if(Nt(p))for(var h=0;h<p.length;h++)yield*f(p[h],m.concat(h));else yield{value:p,index:m}};yield*c(this._data,[])},t.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var m of p)c.push(new t([m],this._datatype));return c},t.prototype.columns=function(){var c=this,f=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,h=function(y){var w=m.map(v=>[v[y]]);f.push(new t(w,c._datatype))},d=0;d<p[1];d++)h(d);return f},t.prototype.toArray=function(){return tt(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return ot(this._data,c)},t.prototype.toString=function(){return ot(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if(it(c)&&(c=c.toNumber()),!at(c)||!Ue(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,p=c<0?-c:0,m=this._size[0],h=this._size[1],d=Math.min(m-p,h-f),g=[],y=0;y<d;y++)g[y]=this._data[y+p][y+f];return new t({data:g,size:[d],datatype:this._datatype})},t.diagonal=function(c,f,p,m){if(!Nt(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(C){if(it(C)&&(C=C.toNumber()),!at(C)||!Ue(C)||C<1)throw new Error("Size values must be positive integers");return C}),p){if(it(p)&&(p=p.toNumber()),!at(p)||!Ue(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var h=p>0?p:0,d=p<0?-p:0,g=c[0],y=c[1],w=Math.min(g-d,y-h),v;if(Nt(f)){if(f.length!==w)throw new Error("Invalid value array length");v=function(S){return f[S]}}else if($e(f)){var x=f.size();if(x.length!==1||x[0]!==w)throw new Error("Invalid matrix length");v=function(S){return f.get([S])}}else v=function(){return f};m||(m=it(v(0))?v(0).mul(0):0);var D=[];if(c.length>0){D=ki(D,c,m);for(var b=0;b<w;b++)D[b+d][b+h]=v(b)}return new t({data:D,size:[g,y]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,f){if(!at(c)||!Ue(c)||!at(f)||!Ue(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Gt(c,this._size[0]),Gt(f,this._size[0]),t._swapRows(c,f,this._data),this},t._swapRows=function(c,f,p){var m=p[c];p[c]=p[f],p[f]=m};function s(c){return $e(c)?s(c.valueOf()):Nt(c)?c.map(s):c}return t},{isClass:!0});var bF="clone",BU=["typed"],ag=F(bF,BU,r=>{var{typed:e}=r;return e(bF,{any:tt})});function dp(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}function mi(r){for(var e=0;e<r.length;e++)if(_n(r[e]))return!0;return!1}function hn(r,e){$e(r)&&(r=r.valueOf());for(var t=0,n=r.length;t<n;t++){var i=r[t];Array.isArray(i)?hn(i,e):e(i)}}function Ze(r,e,t){return r&&typeof r.map=="function"?r.map(function(n){return Ze(n,e,t)}):e(r)}function oo(r,e,t){var n=Array.isArray(r)?nt(r):r.size();if(e<0||e>=n.length)throw new ln(e,n.length);return $e(r)?r.create(hp(r.valueOf(),e,t)):hp(r,e,t)}function hp(r,e,t){var n,i,a,o;if(e<=0)if(Array.isArray(r[0])){for(o=dp(r),i=[],n=0;n<o.length;n++)i[n]=hp(o[n],e-1,t);return i}else{for(a=r[0],n=1;n<r.length;n++)a=t(a,r[n]);return a}else{for(i=[],n=0;n<r.length;n++)i[n]=hp(r[n],e-1,t);return i}}function og(r,e,t,n,i,a,o,l,u,s,c){var f=r._values,p=r._index,m=r._ptr,h,d,g,y;if(n)for(d=m[e],g=m[e+1],h=d;h<g;h++)y=p[h],t[y]!==a?(t[y]=a,o.push(y),s?(n[y]=u?l(f[h],c):l(c,f[h]),i[y]=a):n[y]=f[h]):(n[y]=u?l(f[h],n[y]):l(n[y],f[h]),i[y]=a);else for(d=m[e],g=m[e+1],h=d;h<g;h++)y=p[h],t[y]!==a?(t[y]=a,o.push(y)):i[y]=a}var DF="isInteger",OU=["typed"],sg=F(DF,OU,r=>{var{typed:e}=r;return e(DF,{number:Ue,BigNumber:function(n){return n.isInt()},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var Vn="number",Ea="number, number";function ug(r){return Math.abs(r)}ug.signature=Vn;function lg(r,e){return r+e}lg.signature=Ea;function cg(r,e){return r-e}cg.signature=Ea;function fg(r,e){return r*e}fg.signature=Ea;function kU(r,e){return r/e}kU.signature=Ea;function pg(r){return-r}pg.signature=Vn;function mg(r){return r}mg.signature=Vn;function nu(r){return MS(r)}nu.signature=Vn;function dg(r){return r*r*r}dg.signature=Vn;function hg(r){return Math.exp(r)}hg.signature=Vn;function gg(r){return TS(r)}gg.signature=Vn;function PU(r,e){if(!Ue(r)||!Ue(e))throw new Error("Parameters in function gcd must be integer numbers");for(var t;e!==0;)t=r%e,r=e,e=t;return r<0?-r:r}PU.signature=Ea;function vg(r,e){if(!Ue(r)||!Ue(e))throw new Error("Parameters in function lcm must be integer numbers");if(r===0||e===0)return 0;for(var t,n=r*e;e!==0;)t=e,e=r%t,r=t;return Math.abs(n/r)}vg.signature=Ea;function wF(r,e){return e?Math.log(r)/Math.log(e):Math.log(r)}function yg(r){return _S(r)}yg.signature=Vn;function xg(r){return NS(r)}xg.signature=Vn;function RU(r){return Yf(r)}RU.signature=Vn;function LU(r,e){return e===0?r:r-e*Math.floor(r/e)}LU.signature=Ea;function bg(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,t=e<0;if(t&&(e=-e),e===0)throw new Error("Root must be non-zero");if(r<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(r===0)return t?1/0:0;if(!isFinite(r))return t?0:r;var n=Math.pow(Math.abs(r),1/e);return n=r<0?-n:n,t?1/n:n}function gp(r){return pi(r)}gp.signature=Vn;function VU(r){return Math.sqrt(r)}VU.signature=Vn;function Dg(r){return r*r}Dg.signature=Vn;function wg(r,e){var t,n,i,a=0,o=1,l=1,u=0;if(!Ue(r)||!Ue(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(r/e),i=r-n*e,t=a,a=o-n*a,o=t,t=l,l=u-n*l,u=t,r=e,e=i;var s;return r<0?s=[-r,-o,-u]:s=[r,r?o:0,u],s}wg.signature=Ea;function Eg(r,e){return r*r<1&&e===1/0||r*r>1&&e===-1/0?0:Math.pow(r,e)}Eg.signature=Ea;function Cg(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Ue(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(Ih(r,e))}function UU(r){return Math.abs(r)}UU.signature=Vn;var qU="number",iu="number, number";function Ag(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function bitAnd");return r&e}Ag.signature=iu;function Sg(r){if(!Ue(r))throw new Error("Integer expected in function bitNot");return~r}Sg.signature=qU;function Fg(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function bitOr");return r|e}Fg.signature=iu;function Ng(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function bitXor");return r^e}Ng.signature=iu;function _g(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function leftShift");return r<<e}_g.signature=iu;function Mg(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function rightArithShift");return r>>e}Mg.signature=iu;function Tg(r,e){if(!Ue(r)||!Ue(e))throw new Error("Integers expected in function rightLogShift");return r>>>e}Tg.signature=iu;function Kn(r,e){if(e<r)return 1;if(e===r)return e;var t=e+r>>1;return Kn(r,t)*Kn(t+1,e)}function Ig(r,e){if(!Ue(r)||r<0)throw new TypeError("Positive integer value expected in function combinations");if(!Ue(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>r)throw new TypeError("k must be less than or equal to n");for(var t=r-e,n=1,i=e<t?t+1:e+1,a=2,o=e<t?e:t,l=i;l<=r;++l)for(n*=l;a<=o&&n%a===0;)n/=a,++a;return a<=o&&(n/=Kn(a,o)),n}Ig.signature="number, number";var EF=Math.PI,CF=2*Math.PI,AF=Math.E,SF=1.618033988749895;var zU="number",Bg="number, number";function Og(r){return!r}Og.signature=zU;function kg(r,e){return!!(r||e)}kg.signature=Bg;function Pg(r,e){return!!r!=!!e}Pg.signature=Bg;function Rg(r,e){return!!(r&&e)}Rg.signature=Bg;function ml(r){var e;if(Ue(r))return r<=0?isFinite(r)?1/0:NaN:r>171?1/0:Kn(1,r-1);if(r<.5)return Math.PI/(Math.sin(Math.PI*r)*ml(1-r));if(r>=171.35)return 1/0;if(r>85){var t=r*r,n=t*r,i=n*r,a=i*r;return Math.sqrt(2*Math.PI/r)*Math.pow(r/Math.E,r)*(1+1/(12*r)+1/(288*t)-139/(51840*n)-571/(2488320*i)+163879/(209018880*a)+5246819/(75246796800*a*r))}--r,e=is[0];for(var o=1;o<is.length;++o)e+=is[o]/(r+o);var l=r+Lg+.5;return Math.sqrt(2*Math.PI)*Math.pow(l,r+.5)*Math.exp(-l)*e}ml.signature="number";var Lg=4.7421875,is=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Vg=.9189385332046728,$U=5,HU=7,FF=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function dl(r){if(r<0)return NaN;if(r===0)return 1/0;if(!isFinite(r))return r;if(r<.5)return Math.log(Math.PI/Math.sin(Math.PI*r))-dl(1-r);r=r-1;for(var e=r+$U+.5,t=FF[0],n=HU-1;n>=1;n--)t+=FF[n]/(r+n);return Vg+(r+.5)*Math.log(e)-e+Math.log(t)}dl.signature="number";var wr="number",WU="number, number";function GU(r){return Math.acos(r)}GU.signature=wr;function Ug(r){return OS(r)}Ug.signature=wr;function qg(r){return Math.atan(1/r)}qg.signature=wr;function zg(r){return isFinite(r)?(Math.log((r+1)/r)+Math.log(r/(r-1)))/2:0}zg.signature=wr;function $g(r){return Math.asin(1/r)}$g.signature=wr;function Hg(r){var e=1/r;return Math.log(e+Math.sqrt(e*e+1))}Hg.signature=wr;function Wg(r){return Math.acos(1/r)}Wg.signature=wr;function Gg(r){var e=1/r,t=Math.sqrt(e*e-1);return Math.log(t+e)}Gg.signature=wr;function jU(r){return Math.asin(r)}jU.signature=wr;function jg(r){return kS(r)}jg.signature=wr;function ZU(r){return Math.atan(r)}ZU.signature=wr;function YU(r,e){return Math.atan2(r,e)}YU.signature=WU;function Zg(r){return PS(r)}Zg.signature=wr;function JU(r){return Math.cos(r)}JU.signature=wr;function XU(r){return Qf(r)}XU.signature=wr;function Yg(r){return 1/Math.tan(r)}Yg.signature=wr;function Jg(r){var e=Math.exp(2*r);return(e+1)/(e-1)}Jg.signature=wr;function Xg(r){return 1/Math.sin(r)}Xg.signature=wr;function Qg(r){return r===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(r)-Math.exp(-r)))*pi(r)}Qg.signature=wr;function Kg(r){return 1/Math.cos(r)}Kg.signature=wr;function ev(r){return 2/(Math.exp(r)+Math.exp(-r))}ev.signature=wr;function QU(r){return Math.sin(r)}QU.signature=wr;function tv(r){return RS(r)}tv.signature=wr;function KU(r){return Math.tan(r)}KU.signature=wr;function eq(r){return Kf(r)}eq.signature=wr;var hl="number";function tq(r){return Ue(r)}tq.signature=hl;function rv(r){return r<0}rv.signature=hl;function nv(r){return r>0}nv.signature=hl;function iv(r){return r===0}iv.signature=hl;function av(r){return Number.isNaN(r)}av.signature=hl;var NF="isNegative",rq=["typed"],ov=F(NF,rq,r=>{var{typed:e}=r;return e(NF,{number:rv,BigNumber:function(n){return n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s<0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var _F="isNumeric",nq=["typed"],sv=F(_F,nq,r=>{var{typed:e}=r;return e(_F,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var MF="hasNumericValue",iq=["typed","isNumeric"],uv=F(MF,iq,r=>{var{typed:e,isNumeric:t}=r;return e(MF,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return t(i)}})});var TF="isPositive",aq=["typed"],lv=F(TF,aq,r=>{var{typed:e}=r;return e(TF,{number:nv,BigNumber:function(n){return!n.isNeg()&&!n.isZero()&&!n.isNaN()},Fraction:function(n){return n.s>0&&n.n>0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var IF="isZero",oq=["typed"],cv=F(IF,oq,r=>{var{typed:e}=r;return e(IF,{number:iv,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var BF="isNaN",sq=["typed"],fv=F(BF,sq,r=>{var{typed:e}=r;return e(BF,{number:av,BigNumber:function(n){return n.isNaN()},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":function(n){return Ze(n,Number.isNaN)}})});var OF="typeOf",uq=["typed"],pv=F(OF,uq,r=>{var{typed:e}=r;return e(OF,{any:St})});function Kr(r,e,t){if(t==null)return r.eq(e);if(r.eq(e))return!0;if(r.isNaN()||e.isNaN())return!1;if(r.isFinite()&&e.isFinite()){var n=r.minus(e).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),e.abs());return n.lte(i.times(t))}return!1}function kF(r,e,t){return Mr(r.re,e.re,t)&&Mr(r.im,e.im,t)}var di=F("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),i.valueType()])(n.value,i.value)})}});var vp="equalScalar",lq=["typed","config"],mv=F(vp,lq,r=>{var{typed:e,config:t}=r,n=di({typed:e});return e(vp,{"boolean, boolean":function(a,o){return a===o},"number, number":function(a,o){return Mr(a,o,t.epsilon)},"BigNumber, BigNumber":function(a,o){return a.eq(o)||Kr(a,o,t.epsilon)},"Fraction, Fraction":function(a,o){return a.equals(o)},"Complex, Complex":function(a,o){return kF(a,o,t.epsilon)}},n)}),Ife=F(vp,["typed","config"],r=>{var{typed:e,config:t}=r;return e(vp,{"number, number":function(i,a){return Mr(i,a,t.epsilon)}})});var cq="SparseMatrix",fq=["typed","equalScalar","Matrix"],dv=F(cq,fq,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function i(d,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!Dr(g))throw new Error("Invalid datatype: "+g);if($e(d))a(this,d,g);else if(d&&Nt(d.index)&&Nt(d.ptr)&&Nt(d.size))this._values=d.values,this._index=d.index,this._ptr=d.ptr,this._size=d.size,this._datatype=g||d.datatype;else if(Nt(d))o(this,d,g);else{if(d)throw new TypeError("Unsupported type of data ("+St(d)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function a(d,g,y){g.type==="SparseMatrix"?(d._values=g._values?tt(g._values):void 0,d._index=tt(g._index),d._ptr=tt(g._ptr),d._size=tt(g._size),d._datatype=y||g._datatype):o(d,g.valueOf(),y||g._datatype)}function o(d,g,y){d._values=[],d._index=[],d._ptr=[],d._datatype=y;var w=g.length,v=0,x=t,D=0;if(Dr(y)&&(x=e.find(t,[y,y])||t,D=e.convert(0,y)),w>0){var b=0;do{d._ptr.push(d._index.length);for(var C=0;C<w;C++){var S=g[C];if(Nt(S)){if(b===0&&v<S.length&&(v=S.length),b<S.length){var E=S[b];x(E,D)||(d._values.push(E),d._index.push(C))}}else b===0&&v<1&&(v=1),x(S,D)||(d._values.push(S),d._index.push(C))}b++}while(b<v)}d._ptr.push(d._index.length),d._size=[w,v]}i.prototype=new n,i.prototype.createSparseMatrix=function(d,g){return new i(d,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return to(this._values,St)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(d,g){return new i(d,g)},i.prototype.density=function(){var d=this._size[0],g=this._size[1];return d!==0&&g!==0?this._index.length/(d*g):0},i.prototype.subset=function(d,g,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,d);case 2:case 3:return u(this,d,g,y);default:throw new SyntaxError("Wrong number of arguments")}};function l(d,g){if(!Qa(g))throw new TypeError("Invalid index");var y=g.isScalar();if(y)return d.get(g.min());var w=g.size();if(w.length!==d._size.length)throw new ut(w.length,d._size.length);var v,x,D,b,C=g.min(),S=g.max();for(v=0,x=d._size.length;v<x;v++)Gt(C[v],d._size[v]),Gt(S[v],d._size[v]);var E=d._values,A=d._index,M=d._ptr,I=g.dimension(0),k=g.dimension(1),L=[],P=[];I.forEach(function(O,J){P[O]=J[0],L[O]=!0});var B=E?[]:void 0,T=[],z=[];return k.forEach(function(O){for(z.push(T.length),D=M[O],b=M[O+1];D<b;D++)v=A[D],L[v]===!0&&(T.push(P[v]),B&&B.push(E[D]))}),z.push(T.length),new i({values:B,index:T,ptr:z,size:w,datatype:d._datatype})}function u(d,g,y,w){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var v=g.size(),x=g.isScalar(),D;if($e(y)?(D=y.size(),y=y.toArray()):D=nt(y),x){if(D.length!==0)throw new TypeError("Scalar expected");d.set(g.min(),y,w)}else{if(v.length!==1&&v.length!==2)throw new ut(v.length,d._size.length,"<");if(D.length<v.length){for(var b=0,C=0;v[b]===1&&D[b]===1;)b++;for(;v[b]===1;)C++,b++;y=tp(y,v.length,C,D)}if(!Bi(v,D))throw new ut(v,D,">");if(v.length===1){var S=g.dimension(0);S.forEach(function(M,I){Gt(M),d.set([M,0],y[I[0]],w)})}else{var E=g.dimension(0),A=g.dimension(1);E.forEach(function(M,I){Gt(M),A.forEach(function(k,L){Gt(k),d.set([M,k],y[I[0]][L[0]],w)})})}}return d}i.prototype.get=function(d){if(!Nt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ut(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=d[0],y=d[1];Gt(g,this._size[0]),Gt(y,this._size[1]);var w=s(g,this._ptr[y],this._ptr[y+1],this._index);return w<this._ptr[y+1]&&this._index[w]===g?this._values[w]:0},i.prototype.set=function(d,g,y){if(!Nt(d))throw new TypeError("Array expected");if(d.length!==this._size.length)throw new ut(d.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=d[0],v=d[1],x=this._size[0],D=this._size[1],b=t,C=0;Dr(this._datatype)&&(b=e.find(t,[this._datatype,this._datatype])||t,C=e.convert(0,this._datatype)),(w>x-1||v>D-1)&&(p(this,Math.max(w+1,x),Math.max(v+1,D),y),x=this._size[0],D=this._size[1]),Gt(w,x),Gt(v,D);var S=s(w,this._ptr[v],this._ptr[v+1],this._index);return S<this._ptr[v+1]&&this._index[S]===w?b(g,C)?c(S,v,this._values,this._index,this._ptr):this._values[S]=g:b(g,C)||f(S,w,v,g,this._values,this._index,this._ptr),this};function s(d,g,y,w){if(y-g===0)return y;for(var v=g;v<y;v++)if(w[v]===d)return v;return g}function c(d,g,y,w,v){y.splice(d,1),w.splice(d,1);for(var x=g+1;x<v.length;x++)v[x]--}function f(d,g,y,w,v,x,D){v.splice(d,0,w),x.splice(d,0,g);for(var b=y+1;b<D.length;b++)D[b]++}i.prototype.resize=function(d,g,y){if(!_n(d))throw new TypeError("Array or Matrix expected");var w=d.valueOf().map(x=>Array.isArray(x)&&x.length===1?x[0]:x);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(x){if(!at(x)||!Ue(x)||x<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ot(w)+")")});var v=y?this.clone():this;return p(v,w[0],w[1],g)};function p(d,g,y,w){var v=w||0,x=t,D=0;Dr(d._datatype)&&(x=e.find(t,[d._datatype,d._datatype])||t,D=e.convert(0,d._datatype),v=e.convert(v,d._datatype));var b=!x(v,D),C=d._size[0],S=d._size[1],E,A,M;if(y>S){for(A=S;A<y;A++)if(d._ptr[A]=d._values.length,b)for(E=0;E<C;E++)d._values.push(v),d._index.push(E);d._ptr[y]=d._values.length}else y<S&&(d._ptr.splice(y+1,S-y),d._values.splice(d._ptr[y],d._values.length),d._index.splice(d._ptr[y],d._index.length));if(S=y,g>C){if(b){var I=0;for(A=0;A<S;A++){d._ptr[A]=d._ptr[A]+I,M=d._ptr[A+1]+I;var k=0;for(E=C;E<g;E++,k++)d._values.splice(M+k,0,v),d._index.splice(M+k,0,E),I++}d._ptr[S]=d._values.length}}else if(g<C){var L=0;for(A=0;A<S;A++){d._ptr[A]=d._ptr[A]-L;var P=d._ptr[A],B=d._ptr[A+1]-L;for(M=P;M<B;M++)E=d._index[M],E>g-1&&(d._values.splice(M,1),d._index.splice(M,1),L++)}d._ptr[A]=d._values.length}return d._size[0]=g,d._size[1]=y,d}i.prototype.reshape=function(d,g){if(!Nt(d))throw new TypeError("Array expected");if(d.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");d.forEach(function(O){if(!at(O)||!Ue(O)||O<=-2||O===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ot(d)+")")});var y=this._size[0]*this._size[1];d=ul(d,y);var w=d[0]*d[1];if(y!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var v=g?this.clone():this;if(this._size[0]===d[0]&&this._size[1]===d[1])return v;for(var x=[],D=0;D<v._ptr.length;D++)for(var b=0;b<v._ptr[D+1]-v._ptr[D];b++)x.push(D);for(var C=v._values.slice(),S=v._index.slice(),E=0;E<v._index.length;E++){var A=S[E],M=x[E],I=A*v._size[1]+M;x[E]=I%d[1],S[E]=Math.floor(I/d[1])}v._values.length=0,v._index.length=0,v._ptr.length=d[1]+1,v._size=d.slice();for(var k=0;k<v._ptr.length;k++)v._ptr[k]=0;for(var L=0;L<C.length;L++){var P=S[L],B=x[L],T=C[L],z=s(P,v._ptr[B],v._ptr[B+1],v._index);f(z,P,B,T,v._values,v._index,v._ptr)}return v},i.prototype.clone=function(){var d=new i({values:this._values?tt(this._values):void 0,index:tt(this._index),ptr:tt(this._ptr),size:tt(this._size),datatype:this._datatype});return d},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(d,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,w=this._size[0],v=this._size[1],x=mp(d),D=function(C,S,E){return x===1?d(C):x===2?d(C,[S,E]):d(C,[S,E],y)};return m(this,0,w-1,0,v-1,D,g)};function m(d,g,y,w,v,x,D){var b=[],C=[],S=[],E=t,A=0;Dr(d._datatype)&&(E=e.find(t,[d._datatype,d._datatype])||t,A=e.convert(0,d._datatype));for(var M=function(V,re,xe){V=x(V,re,xe),E(V,A)||(b.push(V),C.push(re))},I=w;I<=v;I++){S.push(b.length);var k=d._ptr[I],L=d._ptr[I+1];if(D)for(var P=k;P<L;P++){var B=d._index[P];B>=g&&B<=y&&M(d._values[P],B-g,I-w)}else{for(var T={},z=k;z<L;z++){var O=d._index[z];T[O]=d._values[z]}for(var J=g;J<=y;J++){var ee=J in T?T[J]:0;M(ee,J-g,I-w)}}}return S.push(b.length),new i({values:b,index:C,ptr:S,size:[y-g+1,v-w+1]})}i.prototype.forEach=function(d,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,w=this._size[0],v=this._size[1],x=0;x<v;x++){var D=this._ptr[x],b=this._ptr[x+1];if(g)for(var C=D;C<b;C++){var S=this._index[C];d(this._values[C],[S,x],y)}else{for(var E={},A=D;A<b;A++){var M=this._index[A];E[M]=this._values[A]}for(var I=0;I<w;I++){var k=I in E?E[I]:0;d(k,[I,x],y)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var d=this._size[1],g=0;g<d;g++)for(var y=this._ptr[g],w=this._ptr[g+1],v=y;v<w;v++){var x=this._index[v];yield{value:this._values[v],index:[x,g]}}},i.prototype.toArray=function(){return h(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return h(this._values,this._index,this._ptr,this._size,!1)};function h(d,g,y,w,v){var x=w[0],D=w[1],b=[],C,S;for(C=0;C<x;C++)for(b[C]=[],S=0;S<D;S++)b[C][S]=0;for(S=0;S<D;S++)for(var E=y[S],A=y[S+1],M=E;M<A;M++)C=g[M],b[C][S]=d?v?tt(d[M]):d[M]:1;return b}return i.prototype.format=function(d){for(var g=this._size[0],y=this._size[1],w=this.density(),v="Sparse Matrix ["+ot(g,d)+" x "+ot(y,d)+"] density: "+ot(w,d)+`
`,x=0;x<y;x++)for(var D=this._ptr[x],b=this._ptr[x+1],C=D;C<b;C++){var S=this._index[C];v+=`
    (`+ot(S,d)+", "+ot(x,d)+") ==> "+(this._values?ot(this._values[C],d):"X")}return v},i.prototype.toString=function(){return ot(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(d){if(d){if(it(d)&&(d=d.toNumber()),!at(d)||!Ue(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var g=d>0?d:0,y=d<0?-d:0,w=this._size[0],v=this._size[1],x=Math.min(w-y,v-g),D=[],b=[],C=[];C[0]=0;for(var S=g;S<v&&D.length<x;S++)for(var E=this._ptr[S],A=this._ptr[S+1],M=E;M<A;M++){var I=this._index[M];if(I===S-g+y){D.push(this._values[M]),b[D.length-1]=I-y;break}}return C.push(D.length),new i({values:D,index:b,ptr:C,size:[x,1]})},i.fromJSON=function(d){return new i(d)},i.diagonal=function(d,g,y,w,v){if(!Nt(d))throw new TypeError("Array expected, size parameter");if(d.length!==2)throw new Error("Only two dimensions matrix are supported");if(d=d.map(function(O){if(it(O)&&(O=O.toNumber()),!at(O)||!Ue(O)||O<1)throw new Error("Size values must be positive integers");return O}),y){if(it(y)&&(y=y.toNumber()),!at(y)||!Ue(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var x=t,D=0;Dr(v)&&(x=e.find(t,[v,v])||t,D=e.convert(0,v));var b=y>0?y:0,C=y<0?-y:0,S=d[0],E=d[1],A=Math.min(S-C,E-b),M;if(Nt(g)){if(g.length!==A)throw new Error("Invalid value array length");M=function(J){return g[J]}}else if($e(g)){var I=g.size();if(I.length!==1||I[0]!==A)throw new Error("Invalid matrix length");M=function(J){return g.get([J])}}else M=function(){return g};for(var k=[],L=[],P=[],B=0;B<E;B++){P.push(k.length);var T=B-b;if(T>=0&&T<A){var z=M(T);x(z,D)||(L.push(T+C),k.push(z))}}return P.push(k.length),new i({values:k,index:L,ptr:P,size:[S,E]})},i.prototype.swapRows=function(d,g){if(!at(d)||!Ue(d)||!at(g)||!Ue(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Gt(d,this._size[0]),Gt(g,this._size[0]),i._swapRows(d,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(d,g,y,w,v){for(var x=w[d],D=w[d+1],b=x;b<D;b++)v(y[b],g[b])},i._swapRows=function(d,g,y,w,v,x){for(var D=0;D<y;D++){var b=x[D],C=x[D+1],S=s(d,b,C,v),E=s(g,b,C,v);if(S<C&&E<C&&v[S]===d&&v[E]===g){if(w){var A=w[S];w[S]=w[E],w[E]=A}continue}if(S<C&&v[S]===d&&(E>=C||v[E]!==g)){var M=w?w[S]:void 0;v.splice(E,0,g),w&&w.splice(E,0,M),v.splice(E<=S?S+1:S,1),w&&w.splice(E<=S?S+1:S,1);continue}if(E<C&&v[E]===g&&(S>=C||v[S]!==d)){var I=w?w[E]:void 0;v.splice(S,0,d),w&&w.splice(S,0,I),v.splice(S<=E?E+1:E,1),w&&w.splice(S<=E?E+1:E,1)}}},i},{isClass:!0});var pq="number",mq=["typed"];function dq(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:i}}else return null}function hq(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var i=parseInt(r.fractionalPart[n],r.radix);t+=i/Math.pow(r.radix,n+1)}var a=e+t;if(isNaN(a))throw new SyntaxError('String "'+r.input+'" is not a valid number');return a}var hv=F(pq,mq,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=dq(i);if(a)return hq(a);var o=0,l=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(o=Number(l[2]),i=l[1]);var u=Number(i);if(isNaN(u))throw new SyntaxError('String "'+i+'" is not a valid number');if(l){if(u>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));u>=2**(o-1)&&(u=u-2**o)}return u},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t});var PF="string",gq=["typed"],gv=F(PF,gq,r=>{var{typed:e}=r;return e(PF,{"":function(){return""},number:Oi,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t)),any:function(n){return String(n)}})});var RF="boolean",vq=["typed"],vv=F(RF,vq,r=>{var{typed:e}=r;return e(RF,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var a=Number(n);if(n!==""&&!isNaN(a))return!!a;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var yq="bignumber",xq=["typed","BigNumber"],yv=F(yq,xq,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(i){return new t(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],l=t(a[1]),u=new t(2).pow(Number(o));if(l.gt(u.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var s=new t(2).pow(Number(o)-1);return l.gte(s)?l.sub(u):l}return new t(i)},BigNumber:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Fraction:function(i){return new t(i.n).div(i.d).times(i.s)},null:function(i){return new t(0)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var bq="complex",Dq=["typed","Complex"],xv=F(bq,Dq,r=>{var{typed:e,Complex:t}=r;return e("complex",{"":function(){return t.ZERO},number:function(i){return new t(i,0)},"number, number":function(i,a){return new t(i,a)},"BigNumber, BigNumber":function(i,a){return new t(i.toNumber(),a.toNumber())},Fraction:function(i){return new t(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return t(i)},null:function(i){return t(0)},Object:function(i){if("re"in i&&"im"in i)return new t(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new t(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var wq="fraction",Eq=["typed","Fraction"],bv=F(wq,Eq,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new t(i)},string:function(i){return new t(i)},"number, number":function(i,a){return new t(i,a)},null:function(i){return new t(0)},BigNumber:function(i){return new t(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var a=i.clone();return a.value=n(i.value),a}),Object:function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var LF="matrix",Cq=["typed","Matrix","DenseMatrix","SparseMatrix"],Dv=F(LF,Cq,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(LF,{"":function(){return a([])},string:function(l){return a([],l)},"string, string":function(l,u){return a([],l,u)},Array:function(l){return a(l)},Matrix:function(l){return a(l,l.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,l,u){if(l==="dense"||l==="default"||l===void 0)return new n(o,u);if(l==="sparse")return new i(o,u);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}});var VF="matrixFromFunction",Aq=["typed","matrix","isZero"],wv=F(VF,Aq,r=>{var{typed:e,matrix:t,isZero:n}=r;return e(VF,{"Array | Matrix, function, string, string":function(o,l,u,s){return i(o,l,u,s)},"Array | Matrix, function, string":function(o,l,u){return i(o,l,u)},"Matrix, function":function(o,l){return i(o,l,"dense")},"Array, function":function(o,l){return i(o,l,"dense").toArray()},"Array | Matrix, string, function":function(o,l,u){return i(o,u,l)},"Array | Matrix, string, string, function":function(o,l,u,s){return i(o,s,l,u)}});function i(a,o,l,u){var s;return u!==void 0?s=t(l,u):s=t(l),s.resize(a),s.forEach(function(c,f){var p=o(f);n(p)||s.set(f,p)}),s}});var UF="matrixFromRows",Sq=["typed","matrix","flatten","size"],Ev=F(UF,Sq,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(UF,{"...Array":function(u){return a(u)},"...Matrix":function(u){return t(a(u.map(s=>s.toArray())))}});function a(l){if(l.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var u=o(l[0]),s=[];for(var c of l){var f=o(c);if(f!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(f|0));s.push(n(c))}return s}function o(l){var u=i(l);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var qF="matrixFromColumns",Fq=["typed","matrix","flatten","size"],Cv=F(qF,Fq,r=>{var{typed:e,matrix:t,flatten:n,size:i}=r;return e(qF,{"...Array":function(u){return a(u)},"...Matrix":function(u){return t(a(u.map(s=>s.toArray())))}});function a(l){if(l.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var u=o(l[0]),s=[],c=0;c<u;c++)s[c]=[];for(var f of l){var p=o(f);if(p!==u)throw new TypeError("The vectors had different length: "+(u|0)+" \u2260 "+(p|0));for(var m=n(f),h=0;h<u;h++)s[h].push(m[h])}return s}function o(l){var u=i(l);if(u.length===1)return u[0];if(u.length===2){if(u[0]===1)return u[1];if(u[1]===1)return u[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}});var zF="splitUnit",Nq=["typed"],Av=F(zF,Nq,r=>{var{typed:e}=r;return e(zF,{"Unit, Array":function(n,i){return n.splitUnit(i)}})});var $F="unaryMinus",_q=["typed"],Sv=F($F,_q,r=>{var{typed:e}=r;return e($F,{number:pg,"Complex | BigNumber | Fraction":t=>t.neg(),Unit:e.referToSelf(t=>n=>{var i=n.clone();return i.value=e.find(t,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t,!0))})});var HF="unaryPlus",Mq=["typed","config","BigNumber"],Fv=F(HF,Mq,r=>{var{typed:e,config:t,BigNumber:n}=r;return e(HF,{number:mg,Complex:function(a){return a},BigNumber:function(a){return a},Fraction:function(a){return a},Unit:function(a){return a.clone()},"Array | Matrix":e.referToSelf(i=>a=>Ze(a,i,!0)),"boolean | string":function(a){return t.number==="BigNumber"?new n(+a):+a}})});var WF="abs",Tq=["typed"],Nv=F(WF,Tq,r=>{var{typed:e}=r;return e(WF,{number:ug,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t,!0))})});var GF="apply",Iq=["typed","isInteger"],as=F(GF,Iq,r=>{var{typed:e,isInteger:t}=r;return e(GF,{"Array | Matrix, number | BigNumber, function":function(i,a,o){if(!t(a))throw new TypeError("Integer number expected for dimension");var l=Array.isArray(i)?nt(i):i.size();if(a<0||a>=l.length)throw new ln(a,l.length);return $e(i)?i.create(yp(i.valueOf(),a,o)):yp(i,a,o)}})});function yp(r,e,t){var n,i,a;if(e<=0)if(Array.isArray(r[0])){for(a=Bq(r),i=[],n=0;n<a.length;n++)i[n]=yp(a[n],e-1,t);return i}else return t(r);else{for(i=[],n=0;n<r.length;n++)i[n]=yp(r[n],e-1,t);return i}}function Bq(r){var e=r.length,t=r[0].length,n,i,a=[];for(i=0;i<t;i++){var o=[];for(n=0;n<e;n++)o.push(r[n][i]);a.push(o)}return a}var jF="addScalar",Oq=["typed"],_v=F(jF,Oq,r=>{var{typed:e}=r;return e(jF,{"number, number":lg,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var ZF="subtractScalar",kq=["typed"],Mv=F(ZF,kq,r=>{var{typed:e}=r;return e(ZF,{"number, number":cg,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(t=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=e.find(t,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})});var YF="cbrt",Pq=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],Tv=F(YF,Pq,r=>{var{config:e,typed:t,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:l,Fraction:u}=r;return t(YF,{number:nu,Complex:s,"Complex, boolean":s,BigNumber:function(p){return p.cbrt()},Unit:c});function s(f,p){var m=f.arg()/3,h=f.abs(),d=new o(nu(h),0).mul(new o(0,m).exp());if(p){var g=[d,new o(nu(h),0).mul(new o(0,m+Math.PI*2/3).exp()),new o(nu(h),0).mul(new o(0,m-Math.PI*2/3).exp())];return e.matrix==="Array"?g:a(g)}else return d}function c(f){if(f.value&&Nn(f.value)){var p=f.clone();return p.value=1,p=p.pow(1/3),p.value=s(f.value),p}else{var m=n(f.value);m&&(f.value=i(f.value));var h;it(f.value)?h=new l(1).div(3):xa(f.value)?h=new u(1,3):h=1/3;var d=f.pow(h);return m&&(d.value=i(d.value)),d}}});var Rq="matAlgo11xS0s",Lq=["typed","equalScalar"],jt=F(Rq,Lq,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,g=t,y=0,w=o;typeof p=="string"&&(d=p,g=e.find(t,[d,d]),y=e.convert(0,d),a=e.convert(a,d),w=e.find(o,[d,d]));for(var v=[],x=[],D=[],b=0;b<h;b++){D[b]=x.length;for(var C=c[b],S=c[b+1],E=C;E<S;E++){var A=s[E],M=l?w(a,u[E]):w(u[E],a);g(M,y)||(x.push(A),v.push(M))}}return D[h]=x.length,i.createSparseMatrix({values:v,index:x,ptr:D,size:[m,h],datatype:d})}});var Vq="matAlgo12xSfs",Uq=["typed","DenseMatrix"],Vt=F(Vq,Uq,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,g=o;typeof p=="string"&&(d=p,a=e.convert(a,d),g=e.find(o,[d,d]));for(var y=[],w=[],v=[],x=0;x<h;x++){for(var D=x+1,b=c[x],C=c[x+1],S=b;S<C;S++){var E=s[S];w[E]=u[S],v[E]=D}for(var A=0;A<m;A++)x===0&&(y[A]=[]),v[A]===D?y[A][x]=l?g(a,w[A]):g(w[A],a):y[A][x]=l?g(a,0):g(0,a)}return new t({data:y,size:[m,h],datatype:d})}});var qq="matAlgo14xDs",zq=["typed"],Tr=F(qq,zq,r=>{var{typed:e}=r;return function(i,a,o,l){var u=i._data,s=i._size,c=i._datatype,f,p=o;typeof c=="string"&&(f=c,a=e.convert(a,f),p=e.find(o,[f,f]));var m=s.length>0?t(p,0,s,s[0],u,a,l):[];return i.createDenseMatrix({data:m,size:tt(s),datatype:f})};function t(n,i,a,o,l,u,s){var c=[];if(i===a.length-1)for(var f=0;f<o;f++)c[f]=s?n(u,l[f]):n(l[f],u);else for(var p=0;p<o;p++)c[p]=t(n,i+1,a,a[i+1],l[p],u,s);return c}});var Iv="ceil",$q=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Hq=F(Iv,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(Iv,{number:function(a){return Mr(a,n(a),t.epsilon)?n(a):Math.ceil(a)},"number, number":function(a,o){if(Mr(a,n(a,o),t.epsilon))return n(a,o);var[l,u]="".concat(a,"e").split("e"),s=Math.ceil(Number("".concat(l,"e").concat(Number(u)+o)));return[l,u]="".concat(s,"e").split("e"),Number("".concat(l,"e").concat(Number(u)-o))}})}),Bv=F(Iv,$q,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}=r,u=jt({typed:e,equalScalar:a}),s=Vt({typed:e,DenseMatrix:l}),c=Tr({typed:e}),f=Hq({typed:e,config:t,round:n});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.ceil()},"Complex, number":function(m,h){return m.ceil(h)},"Complex, BigNumber":function(m,h){return m.ceil(h.toNumber())},BigNumber:function(m){return Kr(m,n(m),t.epsilon)?n(m):m.ceil()},"BigNumber, BigNumber":function(m,h){return Kr(m,n(m,h),t.epsilon)?n(m,h):m.toDecimalPlaces(h.toNumber(),rs.ROUND_CEIL)},Fraction:function(m){return m.ceil()},"Fraction, number":function(m,h){return m.ceil(h)},"Fraction, BigNumber":function(m,h){return m.ceil(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>Ze(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>Ze(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>u(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):s(h,m,p,!0))})});var JF="cube",Wq=["typed"],Ov=F(JF,Wq,r=>{var{typed:e}=r;return e(JF,{number:dg,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})});var XF="exp",Gq=["typed"],kv=F(XF,Gq,r=>{var{typed:e}=r;return e(XF,{number:hg,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})});var QF="expm1",jq=["typed","Complex"],Pv=F(QF,jq,r=>{var{typed:e,Complex:t}=r;return e(QF,{number:gg,Complex:function(i){var a=Math.exp(i.re);return new t(a*Math.cos(i.im)-1,a*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})});var Rv="fix",Zq=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],Yq=F(Rv,["typed","ceil","floor"],r=>{var{typed:e,ceil:t,floor:n}=r;return e(Rv,{number:function(a){return a>0?n(a):t(a)},"number, number":function(a,o){return a>0?n(a,o):t(a,o)}})}),Lv=F(Rv,Zq,r=>{var{typed:e,Complex:t,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:l,DenseMatrix:u}=r,s=Vt({typed:e,DenseMatrix:u}),c=Tr({typed:e}),f=Yq({typed:e,ceil:i,floor:a});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(m){return new t(m.re>0?Math.floor(m.re):Math.ceil(m.re),m.im>0?Math.floor(m.im):Math.ceil(m.im))},"Complex, number":function(m,h){return new t(m.re>0?a(m.re,h):i(m.re,h),m.im>0?a(m.im,h):i(m.im,h))},"Complex, BigNumber":function(m,h){var d=h.toNumber();return new t(m.re>0?a(m.re,d):i(m.re,d),m.im>0?a(m.im,d):i(m.im,d))},BigNumber:function(m){return m.isNegative()?i(m):a(m)},"BigNumber, number | BigNumber":function(m,h){return m.isNegative()?i(m,h):a(m,h)},Fraction:function(m){return m.s<0?m.ceil():m.floor()},"Fraction, number | BigNumber":function(m,h){return m.s<0?i(m,h):a(m,h)},"Array | Matrix":e.referToSelf(p=>m=>Ze(m,p,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(p=>(m,h)=>Ze(m,d=>p(d,h),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(n(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>o(m,0)?l(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):s(h,m,p,!0))})});var Vv="floor",Jq=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Xq=F(Vv,["typed","config","round"],r=>{var{typed:e,config:t,round:n}=r;return e(Vv,{number:function(a){return Mr(a,n(a),t.epsilon)?n(a):Math.floor(a)},"number, number":function(a,o){if(Mr(a,n(a,o),t.epsilon))return n(a,o);var[l,u]="".concat(a,"e").split("e"),s=Math.floor(Number("".concat(l,"e").concat(Number(u)+o)));return[l,u]="".concat(s,"e").split("e"),Number("".concat(l,"e").concat(Number(u)-o))}})}),gl=F(Vv,Jq,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}=r,u=jt({typed:e,equalScalar:a}),s=Vt({typed:e,DenseMatrix:l}),c=Tr({typed:e}),f=Xq({typed:e,config:t,round:n});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.floor()},"Complex, number":function(m,h){return m.floor(h)},"Complex, BigNumber":function(m,h){return m.floor(h.toNumber())},BigNumber:function(m){return Kr(m,n(m),t.epsilon)?n(m):m.floor()},"BigNumber, BigNumber":function(m,h){return Kr(m,n(m,h),t.epsilon)?n(m,h):m.toDecimalPlaces(h.toNumber(),rs.ROUND_FLOOR)},Fraction:function(m){return m.floor()},"Fraction, number":function(m,h){return m.floor(h)},"Fraction, BigNumber":function(m,h){return m.floor(h.toNumber())},"Array | Matrix":e.referToSelf(p=>m=>Ze(m,p,!0)),"Array, number | BigNumber":e.referToSelf(p=>(m,h)=>Ze(m,d=>p(d,h),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>u(m,h,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(m,h)=>c(m,h,p,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(p=>(m,h)=>c(i(h),m,p,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(p=>(m,h)=>a(m,0)?o(h.size(),h.storage()):h.storage()==="dense"?c(h,m,p,!0):s(h,m,p,!0))})});var Qq="matAlgo02xDS0",Kq=["typed","equalScalar"],Ir=F(Qq,Kq,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o,l){var u=i._data,s=i._size,c=i._datatype,f=a._values,p=a._index,m=a._ptr,h=a._size,d=a._datatype;if(s.length!==h.length)throw new ut(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=s[0],y=s[1],w,v=t,x=0,D=o;typeof c=="string"&&c===d&&(w=c,v=e.find(t,[w,w]),x=e.convert(0,w),D=e.find(o,[w,w]));for(var b=[],C=[],S=[],E=0;E<y;E++){S[E]=C.length;for(var A=m[E],M=m[E+1],I=A;I<M;I++){var k=p[I],L=l?D(f[I],u[k][E]):D(u[k][E],f[I]);v(L,x)||(C.push(k),b.push(L))}}return S[y]=C.length,a.createSparseMatrix({values:b,index:C,ptr:S,size:[g,y],datatype:w})}});var ez="matAlgo03xDSf",tz=["typed"],ar=F(ez,tz,r=>{var{typed:e}=r;return function(n,i,a,o){var l=n._data,u=n._size,s=n._datatype,c=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype;if(u.length!==m.length)throw new ut(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],y,w=0,v=a;typeof s=="string"&&s===h&&(y=s,w=e.convert(0,y),v=e.find(a,[y,y]));for(var x=[],D=0;D<d;D++)x[D]=[];for(var b=[],C=[],S=0;S<g;S++){for(var E=S+1,A=p[S],M=p[S+1],I=A;I<M;I++){var k=f[I];b[k]=o?v(c[I],l[k][S]):v(l[k][S],c[I]),C[k]=E}for(var L=0;L<d;L++)C[L]===E?x[L][S]=b[L]:x[L][S]=o?v(w,l[L][S]):v(l[L][S],w)}return n.createDenseMatrix({data:x,size:[d,g],datatype:y})}});var rz="matAlgo05xSfSf",nz=["typed","equalScalar"],so=F(rz,nz,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ut(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var y=c[0],w=c[1],v,x=t,D=0,b=o;typeof f=="string"&&f===g&&(v=f,x=e.find(t,[v,v]),D=e.convert(0,v),b=e.find(o,[v,v]));var C=l&&p?[]:void 0,S=[],E=[],A=C?[]:void 0,M=C?[]:void 0,I=[],k=[],L,P,B,T;for(P=0;P<w;P++){E[P]=S.length;var z=P+1;for(B=s[P],T=s[P+1];B<T;B++)L=u[B],S.push(L),I[L]=z,A&&(A[L]=l[B]);for(B=h[P],T=h[P+1];B<T;B++)L=m[B],I[L]!==z&&S.push(L),k[L]=z,M&&(M[L]=p[B]);if(C)for(B=E[P];B<S.length;){L=S[B];var O=I[L],J=k[L];if(O===z||J===z){var ee=O===z?A[L]:D,j=J===z?M[L]:D,V=b(ee,j);x(V,D)?S.splice(B,1):(C.push(V),B++)}}}return E[w]=S.length,i.createSparseMatrix({values:C,index:S,ptr:E,size:[y,w],datatype:v})}});var iz="matAlgo13xDD",az=["typed"],KF=F(iz,az,r=>{var{typed:e}=r;return function(i,a,o){var l=i._data,u=i._size,s=i._datatype,c=a._data,f=a._size,p=a._datatype,m=[];if(u.length!==f.length)throw new ut(u.length,f.length);for(var h=0;h<u.length;h++){if(u[h]!==f[h])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");m[h]=u[h]}var d,g=o;typeof s=="string"&&s===p&&(d=s,g=e.find(o,[d,d]));var y=m.length>0?t(g,0,m,m[0],l,c):[];return i.createDenseMatrix({data:y,size:m,datatype:d})};function t(n,i,a,o,l,u){var s=[];if(i===a.length-1)for(var c=0;c<o;c++)s[c]=n(l[c],u[c]);else for(var f=0;f<o;f++)s[f]=t(n,i+1,a,a[i+1],l[f],u[f]);return s}});var oz="broadcast",sz=["concat"],eN=F(oz,sz,r=>{var{concat:e}=r;return function(i,a){var o=Math.max(i._size.length,a._size.length);if(i._size.length===a._size.length&&i._size.every((h,d)=>h===a._size[d]))return[i,a];for(var l=t(i._size,o,0),u=t(a._size,o,0),s=[],c=0;c<o;c++)s[c]=Math.max(l[c],u[c]);ll(l,s),ll(u,s);var f=i.clone(),p=a.clone();f._size.length<o?f.reshape(t(f._size,o,1)):p._size.length<o&&p.reshape(t(p._size,o,1));for(var m=0;m<o;m++)f._size[m]<s[m]&&(f=n(f,s[m],m)),p._size[m]<s[m]&&(p=n(p,s[m],m));return[f,p]};function t(i,a,o){return[...Array(a-i.length).fill(o),...i]}function n(i,a,o){return e(...Array(a).fill(i),o)}});var uz="matrixAlgorithmSuite",lz=["typed","matrix","concat"],pt=F(uz,lz,r=>{var{typed:e,matrix:t,concat:n}=r,i=KF({typed:e}),a=Tr({typed:e}),o=eN({concat:n});return function(u){var s=u.elop,c=u.SD||u.DS,f;s?(f={"DenseMatrix, DenseMatrix":(d,g)=>i(...o(d,g),s),"Array, Array":(d,g)=>i(...o(t(d),t(g)),s).valueOf(),"Array, DenseMatrix":(d,g)=>i(...o(t(d),g),s),"DenseMatrix, Array":(d,g)=>i(...o(d,t(g)),s)},u.SS&&(f["SparseMatrix, SparseMatrix"]=(d,g)=>u.SS(...o(d,g),s,!1)),u.DS&&(f["DenseMatrix, SparseMatrix"]=(d,g)=>u.DS(...o(d,g),s,!1),f["Array, SparseMatrix"]=(d,g)=>u.DS(...o(t(d),g),s,!1)),c&&(f["SparseMatrix, DenseMatrix"]=(d,g)=>c(...o(g,d),s,!0),f["SparseMatrix, Array"]=(d,g)=>c(...o(t(g),d),s,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(g,y)=>i(...o(g,y),d)),"Array, Array":e.referToSelf(d=>(g,y)=>i(...o(t(g),t(y)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(g,y)=>i(...o(t(g),y),d)),"DenseMatrix, Array":e.referToSelf(d=>(g,y)=>i(...o(g,t(y)),d))},u.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,y)=>u.SS(...o(g,y),d,!1))),u.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(g,y)=>u.DS(...o(g,y),d,!1)),f["Array, SparseMatrix"]=e.referToSelf(d=>(g,y)=>u.DS(...o(t(g),y),d,!1))),c&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(g,y)=>c(...o(y,g),d,!0)),f["SparseMatrix, Array"]=e.referToSelf(d=>(g,y)=>c(...o(t(y),g),d,!0))));var p=u.scalar||"any",m=u.Ds||u.Ss;m&&(s?(f["DenseMatrix,"+p]=(d,g)=>a(d,g,s,!1),f[p+", DenseMatrix"]=(d,g)=>a(g,d,s,!0),f["Array,"+p]=(d,g)=>a(t(d),g,s,!1).valueOf(),f[p+", Array"]=(d,g)=>a(t(g),d,s,!0).valueOf()):(f["DenseMatrix,"+p]=e.referToSelf(d=>(g,y)=>a(g,y,d,!1)),f[p+", DenseMatrix"]=e.referToSelf(d=>(g,y)=>a(y,g,d,!0)),f["Array,"+p]=e.referToSelf(d=>(g,y)=>a(t(g),y,d,!1).valueOf()),f[p+", Array"]=e.referToSelf(d=>(g,y)=>a(t(y),g,d,!0).valueOf())));var h=u.sS!==void 0?u.sS:u.Ss;return s?(u.Ss&&(f["SparseMatrix,"+p]=(d,g)=>u.Ss(d,g,s,!1)),h&&(f[p+", SparseMatrix"]=(d,g)=>h(g,d,s,!0))):(u.Ss&&(f["SparseMatrix,"+p]=e.referToSelf(d=>(g,y)=>u.Ss(g,y,d,!1))),h&&(f[p+", SparseMatrix"]=e.referToSelf(d=>(g,y)=>h(y,g,d,!0)))),s&&s.signatures&&Zf(f,s.signatures),f}});var tN="mod",cz=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],vl=F(tN,cz,r=>{var{typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l,concat:u}=r,s=gl({typed:e,config:t,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:l}),c=Ir({typed:e,equalScalar:a}),f=ar({typed:e}),p=so({typed:e,equalScalar:a}),m=jt({typed:e,equalScalar:a}),h=Vt({typed:e,DenseMatrix:l}),d=pt({typed:e,matrix:i,concat:u});return e(tN,{"number, number":g,"BigNumber, BigNumber":function(w,v){return v.isZero()?w:w.sub(v.mul(s(w.div(v))))},"Fraction, Fraction":function(w,v){return v.equals(0)?w:w.sub(v.mul(s(w.div(v))))}},d({SS:p,DS:f,SD:c,Ss:m,sS:h}));function g(y,w){return w===0?y:y-w*s(y/w)}});var fz="matAlgo01xDSid",pz=["typed"],gn=F(fz,pz,r=>{var{typed:e}=r;return function(n,i,a,o){var l=n._data,u=n._size,s=n._datatype,c=i._values,f=i._index,p=i._ptr,m=i._size,h=i._datatype;if(u.length!==m.length)throw new ut(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],g=u[1],y=typeof s=="string"&&s===h?s:void 0,w=y?e.find(a,[y,y]):a,v,x,D=[];for(v=0;v<d;v++)D[v]=[];var b=[],C=[];for(x=0;x<g;x++){for(var S=x+1,E=p[x],A=p[x+1],M=E;M<A;M++)v=f[M],b[v]=o?w(c[M],l[v][x]):w(l[v][x],c[M]),C[v]=S;for(v=0;v<d;v++)C[v]===S?D[v][x]=b[v]:D[v][x]=l[v][x]}return n.createDenseMatrix({data:D,size:[d,g],datatype:y})}});var mz="matAlgo04xSidSid",dz=["typed","equalScalar"],au=F(mz,dz,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ut(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var y=c[0],w=c[1],v,x=t,D=0,b=o;typeof f=="string"&&f===g&&(v=f,x=e.find(t,[v,v]),D=e.convert(0,v),b=e.find(o,[v,v]));var C=l&&p?[]:void 0,S=[],E=[],A=l&&p?[]:void 0,M=l&&p?[]:void 0,I=[],k=[],L,P,B,T,z;for(P=0;P<w;P++){E[P]=S.length;var O=P+1;for(T=s[P],z=s[P+1],B=T;B<z;B++)L=u[B],S.push(L),I[L]=O,A&&(A[L]=l[B]);for(T=h[P],z=h[P+1],B=T;B<z;B++)if(L=m[B],I[L]===O){if(A){var J=b(A[L],p[B]);x(J,D)?I[L]=null:A[L]=J}}else S.push(L),k[L]=O,M&&(M[L]=p[B]);if(A&&M)for(B=E[P];B<S.length;)L=S[B],I[L]===O?(C[B]=A[L],B++):k[L]===O?(C[B]=M[L],B++):S.splice(B,1)}return E[w]=S.length,i.createSparseMatrix({values:C,index:S,ptr:E,size:[y,w],datatype:v})}});var hz="matAlgo10xSids",gz=["typed","DenseMatrix"],Un=F(hz,gz,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,a,o,l){var u=i._values,s=i._index,c=i._ptr,f=i._size,p=i._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m=f[0],h=f[1],d,g=o;typeof p=="string"&&(d=p,a=e.convert(a,d),g=e.find(o,[d,d]));for(var y=[],w=[],v=[],x=0;x<h;x++){for(var D=x+1,b=c[x],C=c[x+1],S=b;S<C;S++){var E=s[S];w[E]=u[S],v[E]=D}for(var A=0;A<m;A++)x===0&&(y[A]=[]),v[A]===D?y[A][x]=l?g(a,w[A]):g(w[A],a):y[A][x]=a}return new t({data:y,size:[m,h],datatype:d})}});function Ca(r,e,t,n){if(!(this instanceof Ca))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=e,this.min=t,this.max=n,this.message="Wrong number of arguments in function "+r+" ("+e+" provided, "+t+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}Ca.prototype=new Error;Ca.prototype.constructor=Error;Ca.prototype.name="ArgumentsError";Ca.prototype.isArgumentsError=!0;var rN="gcd",vz=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Uv="number | BigNumber | Fraction | Matrix | Array",yz="".concat(Uv,", ").concat(Uv,", ...").concat(Uv);function nN(r){return!r.some(e=>Array.isArray(e))}var qv=F(rN,vz,r=>{var{typed:e,matrix:t,config:n,round:i,equalScalar:a,zeros:o,BigNumber:l,DenseMatrix:u,concat:s}=r,c=vl({typed:e,config:n,round:i,matrix:t,equalScalar:a,zeros:o,DenseMatrix:u,concat:s}),f=gn({typed:e}),p=au({typed:e,equalScalar:a}),m=Un({typed:e,DenseMatrix:u}),h=pt({typed:e,matrix:t,concat:s});return e(rN,{"number, number":d,"BigNumber, BigNumber":g,"Fraction, Fraction":(y,w)=>y.gcd(w)},h({SS:p,DS:f,Ss:m}),{[yz]:e.referToSelf(y=>(w,v,x)=>{for(var D=y(w,v),b=0;b<x.length;b++)D=y(D,x[b]);return D}),Array:e.referToSelf(y=>w=>{if(w.length===1&&Array.isArray(w[0])&&nN(w[0]))return y(...w[0]);if(nN(w))return y(...w);throw new Ca("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(y=>w=>y(w.toArray()))});function d(y,w){if(!Ue(y)||!Ue(w))throw new Error("Parameters in function gcd must be integer numbers");for(var v;w!==0;)v=c(y,w),y=w,w=v;return y<0?-y:y}function g(y,w){if(!y.isInt()||!w.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var v=new l(0);!w.isZero();){var x=c(y,w);y=w,w=x}return y.lt(v)?y.neg():y}});var xz="matAlgo06xS0S0",bz=["typed","equalScalar"],uo=F(xz,bz,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._size,s=i._datatype,c=a._values,f=a._size,p=a._datatype;if(u.length!==f.length)throw new ut(u.length,f.length);if(u[0]!==f[0]||u[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");var m=u[0],h=u[1],d,g=t,y=0,w=o;typeof s=="string"&&s===p&&(d=s,g=e.find(t,[d,d]),y=e.convert(0,d),w=e.find(o,[d,d]));for(var v=l&&c?[]:void 0,x=[],D=[],b=v?[]:void 0,C=[],S=[],E=0;E<h;E++){D[E]=x.length;var A=E+1;if(og(i,E,C,b,S,A,x,w),og(a,E,C,b,S,A,x,w),b)for(var M=D[E];M<x.length;){var I=x[M];if(S[I]===A){var k=b[I];g(k,y)?x.splice(M,1):(v.push(k),M++)}else x.splice(M,1)}else for(var L=D[E];L<x.length;){var P=x[L];S[P]!==A?x.splice(L,1):L++}}return D[h]=x.length,i.createSparseMatrix({values:v,index:x,ptr:D,size:[m,h],datatype:d})}});var iN="lcm",Dz=["typed","matrix","equalScalar","concat"],zv=F(iN,Dz,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=Ir({typed:e,equalScalar:n}),o=uo({typed:e,equalScalar:n}),l=jt({typed:e,equalScalar:n}),u=pt({typed:e,matrix:t,concat:i}),s="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(s,", ").concat(s,", ...").concat(s)]=e.referToSelf(p=>(m,h,d)=>{for(var g=p(m,h),y=0;y<d.length;y++)g=p(g,d[y]);return g}),e(iN,{"number, number":vg,"BigNumber, BigNumber":f,"Fraction, Fraction":(p,m)=>p.lcm(m)},u({SS:o,DS:a,Ss:l}),c);function f(p,m){if(!p.isInt()||!m.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(p.isZero())return p;if(m.isZero())return m;for(var h=p.times(m);!m.isZero();){var d=m;m=p.mod(d),p=d}return h.div(p).abs()}});var aN="log10",wz=["typed","config","Complex"],$v=F(aN,wz,r=>{var{typed:e,config:t,Complex:n}=r;return e(aN,{number:function(a){return a>=0||t.predictable?yg(a):new n(a,0).log().div(Math.LN10)},Complex:function(a){return new n(a).log().div(Math.LN10)},BigNumber:function(a){return!a.isNegative()||t.predictable?a.log():new n(a.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>a=>Ze(a,i))})});var oN="log2",Ez=["typed","config","Complex"],Hv=F(oN,Ez,r=>{var{typed:e,config:t,Complex:n}=r;return e(oN,{number:function(o){return o>=0||t.predictable?xg(o):i(new n(o,0))},Complex:i,BigNumber:function(o){return!o.isNegative()||t.predictable?o.log(2):i(new n(o.toNumber(),0))},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a))});function i(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}});var Cz="multiplyScalar",Az=["typed"],Wv=F(Cz,Az,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":fg,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})});var sN="multiply",Sz=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],Gv=F(sN,Sz,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=r,l=jt({typed:e,equalScalar:a}),u=Tr({typed:e});function s(D,b){switch(D.length){case 1:switch(b.length){case 1:if(D[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(D[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+D[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(D[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+D[1]+") must match Vector length ("+b[0]+")");break;case 2:if(D[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+D[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+D.length+" dimensions)")}}function c(D,b,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return o(D,b)}function f(D,b){if(b.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return p(D,b)}function p(D,b){var C=D._data,S=D._size,E=D._datatype,A=b._data,M=b._size,I=b._datatype,k=S[0],L=M[1],P,B=n,T=i;E&&I&&E===I&&typeof E=="string"&&(P=E,B=e.find(n,[P,P]),T=e.find(i,[P,P]));for(var z=[],O=0;O<L;O++){for(var J=T(C[0],A[0][O]),ee=1;ee<k;ee++)J=B(J,T(C[ee],A[ee][O]));z[O]=J}return D.createDenseMatrix({data:z,size:[L],datatype:P})}var m=e("_multiplyMatrixVector",{"DenseMatrix, any":d,"SparseMatrix, any":w}),h=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":y,"SparseMatrix, DenseMatrix":v,"SparseMatrix, SparseMatrix":x});function d(D,b){var C=D._data,S=D._size,E=D._datatype,A=b._data,M=b._datatype,I=S[0],k=S[1],L,P=n,B=i;E&&M&&E===M&&typeof E=="string"&&(L=E,P=e.find(n,[L,L]),B=e.find(i,[L,L]));for(var T=[],z=0;z<I;z++){for(var O=C[z],J=B(O[0],A[0]),ee=1;ee<k;ee++)J=P(J,B(O[ee],A[ee]));T[z]=J}return D.createDenseMatrix({data:T,size:[I],datatype:L})}function g(D,b){var C=D._data,S=D._size,E=D._datatype,A=b._data,M=b._size,I=b._datatype,k=S[0],L=S[1],P=M[1],B,T=n,z=i;E&&I&&E===I&&typeof E=="string"&&(B=E,T=e.find(n,[B,B]),z=e.find(i,[B,B]));for(var O=[],J=0;J<k;J++){var ee=C[J];O[J]=[];for(var j=0;j<P;j++){for(var V=z(ee[0],A[0][j]),re=1;re<L;re++)V=T(V,z(ee[re],A[re][j]));O[J][j]=V}}return D.createDenseMatrix({data:O,size:[k,P],datatype:B})}function y(D,b){var C=D._data,S=D._size,E=D._datatype,A=b._values,M=b._index,I=b._ptr,k=b._size,L=b._datatype;if(!A)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var P=S[0],B=k[1],T,z=n,O=i,J=a,ee=0;E&&L&&E===L&&typeof E=="string"&&(T=E,z=e.find(n,[T,T]),O=e.find(i,[T,T]),J=e.find(a,[T,T]),ee=e.convert(0,T));for(var j=[],V=[],re=[],xe=b.createSparseMatrix({values:j,index:V,ptr:re,size:[P,B],datatype:T}),oe=0;oe<B;oe++){re[oe]=V.length;var le=I[oe],ve=I[oe+1];if(ve>le)for(var ue=0,ce=0;ce<P;ce++){for(var me=ce+1,de=void 0,Be=le;Be<ve;Be++){var we=M[Be];ue!==me?(de=O(C[ce][we],A[Be]),ue=me):de=z(de,O(C[ce][we],A[Be]))}ue===me&&!J(de,ee)&&(V.push(ce),j.push(de))}}return re[B]=V.length,xe}function w(D,b){var C=D._values,S=D._index,E=D._ptr,A=D._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=b._data,I=b._datatype,k=D._size[0],L=b._size[0],P=[],B=[],T=[],z,O=n,J=i,ee=a,j=0;A&&I&&A===I&&typeof A=="string"&&(z=A,O=e.find(n,[z,z]),J=e.find(i,[z,z]),ee=e.find(a,[z,z]),j=e.convert(0,z));var V=[],re=[];T[0]=0;for(var xe=0;xe<L;xe++){var oe=M[xe];if(!ee(oe,j))for(var le=E[xe],ve=E[xe+1],ue=le;ue<ve;ue++){var ce=S[ue];re[ce]?V[ce]=O(V[ce],J(oe,C[ue])):(re[ce]=!0,B.push(ce),V[ce]=J(oe,C[ue]))}}for(var me=B.length,de=0;de<me;de++){var Be=B[de];P[de]=V[Be]}return T[1]=B.length,D.createSparseMatrix({values:P,index:B,ptr:T,size:[k,1],datatype:z})}function v(D,b){var C=D._values,S=D._index,E=D._ptr,A=D._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=b._data,I=b._datatype,k=D._size[0],L=b._size[0],P=b._size[1],B,T=n,z=i,O=a,J=0;A&&I&&A===I&&typeof A=="string"&&(B=A,T=e.find(n,[B,B]),z=e.find(i,[B,B]),O=e.find(a,[B,B]),J=e.convert(0,B));for(var ee=[],j=[],V=[],re=D.createSparseMatrix({values:ee,index:j,ptr:V,size:[k,P],datatype:B}),xe=[],oe=[],le=0;le<P;le++){V[le]=j.length;for(var ve=le+1,ue=0;ue<L;ue++){var ce=M[ue][le];if(!O(ce,J))for(var me=E[ue],de=E[ue+1],Be=me;Be<de;Be++){var we=S[Be];oe[we]!==ve?(oe[we]=ve,j.push(we),xe[we]=z(ce,C[Be])):xe[we]=T(xe[we],z(ce,C[Be]))}}for(var U=V[le],H=j.length,fe=U;fe<H;fe++){var $=j[fe];ee[fe]=xe[$]}}return V[P]=j.length,re}function x(D,b){var C=D._values,S=D._index,E=D._ptr,A=D._datatype,M=b._values,I=b._index,k=b._ptr,L=b._datatype,P=D._size[0],B=b._size[1],T=C&&M,z,O=n,J=i;A&&L&&A===L&&typeof A=="string"&&(z=A,O=e.find(n,[z,z]),J=e.find(i,[z,z]));for(var ee=T?[]:void 0,j=[],V=[],re=D.createSparseMatrix({values:ee,index:j,ptr:V,size:[P,B],datatype:z}),xe=T?[]:void 0,oe=[],le,ve,ue,ce,me,de,Be,we,U=0;U<B;U++){V[U]=j.length;var H=U+1;for(me=k[U],de=k[U+1],ce=me;ce<de;ce++)if(we=I[ce],T)for(ve=E[we],ue=E[we+1],le=ve;le<ue;le++)Be=S[le],oe[Be]!==H?(oe[Be]=H,j.push(Be),xe[Be]=J(M[ce],C[le])):xe[Be]=O(xe[Be],J(M[ce],C[le]));else for(ve=E[we],ue=E[we+1],le=ve;le<ue;le++)Be=S[le],oe[Be]!==H&&(oe[Be]=H,j.push(Be));if(T)for(var fe=V[U],$=j.length,Q=fe;Q<$;Q++){var te=j[Q];ee[Q]=xe[te]}}return V[B]=j.length,re}return e(sN,i,{"Array, Array":e.referTo("Matrix, Matrix",D=>(b,C)=>{s(nt(b),nt(C));var S=D(t(b),t(C));return $e(S)?S.valueOf():S}),"Matrix, Matrix":function(b,C){var S=b.size(),E=C.size();return s(S,E),S.length===1?E.length===1?c(b,C,S[0]):f(b,C):E.length===1?m(b,C):h(b,C)},"Matrix, Array":e.referTo("Matrix,Matrix",D=>(b,C)=>D(b,t(C))),"Array, Matrix":e.referToSelf(D=>(b,C)=>D(t(b,C.storage()),C)),"SparseMatrix, any":function(b,C){return l(b,C,i,!1)},"DenseMatrix, any":function(b,C){return u(b,C,i,!1)},"any, SparseMatrix":function(b,C){return l(C,b,i,!0)},"any, DenseMatrix":function(b,C){return u(C,b,i,!0)},"Array, any":function(b,C){return u(t(b),C,i,!1).valueOf()},"any, Array":function(b,C){return u(t(C),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(D=>(b,C,S)=>{for(var E=D(b,C),A=0;A<S.length;A++)E=D(E,S[A]);return E})})});var uN="nthRoot",Fz=["typed","matrix","equalScalar","BigNumber","concat"],jv=F(uN,Fz,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,concat:a}=r,o=gn({typed:e}),l=Ir({typed:e,equalScalar:n}),u=uo({typed:e,equalScalar:n}),s=jt({typed:e,equalScalar:n}),c=pt({typed:e,matrix:t,concat:a});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(uN,{number:bg,"number, number":bg,BigNumber:m=>p(m,new i(2)),"BigNumber, BigNumber":p,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",m=>h=>m(t(h),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",m=>h=>m(h,2)),SparseMatrix:e.referTo("SparseMatrix,number",m=>h=>m(h,2)),"SparseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return u(h,d,m);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return o(h,d,m,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",m=>(h,d)=>m(t(h),d)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(h,d)=>{if(d.density()===1)return s(d,h,m,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:l,Ss:s,sS:!1}));function p(m,h){var d=i.precision,g=i.clone({precision:d+2}),y=new i(0),w=new g(1),v=h.isNegative();if(v&&(h=h.neg()),h.isZero())throw new Error("Root must be non-zero");if(m.isNegative()&&!h.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(m.isZero())return v?new g(1/0):0;if(!m.isFinite())return v?y:m;var x=m.abs().pow(w.div(h));return x=m.isNeg()?x.neg():x,new i((v?w.div(x):x).toPrecision(d))}});var lN="sign",Nz=["typed","BigNumber","Fraction","complex"],Zv=F(lN,Nz,r=>{var{typed:e,BigNumber:t,complex:n,Fraction:i}=r;return e(lN,{number:gp,Complex:function(o){return o.im===0?n(gp(o.re)):o.sign()},BigNumber:function(o){return new t(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a,!0)),Unit:e.referToSelf(a=>o=>{if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(a,o.valueType())(o.value)})})});var _z="sqrt",Mz=["config","typed","Complex"],Yv=F(_z,Mz,r=>{var{config:e,typed:t,Complex:n}=r;return t("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||e.predictable?o.sqrt():i(o.toNumber())},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||e.predictable?Math.sqrt(a):new n(a,0).sqrt()}});var cN="square",Tz=["typed"],Jv=F(cN,Tz,r=>{var{typed:e}=r;return e(cN,{number:Dg,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})});var fN="subtract",Iz=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],Xv=F(fN,Iz,r=>{var{typed:e,matrix:t,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:l}=r,u=gn({typed:e}),s=ar({typed:e}),c=so({typed:e,equalScalar:n}),f=Un({typed:e,DenseMatrix:o}),p=Vt({typed:e,DenseMatrix:o}),m=pt({typed:e,matrix:t,concat:l});return e(fN,{"any, any":i},m({elop:i,SS:c,DS:u,SD:s,Ss:p,sS:f}))});var pN="xgcd",Bz=["typed","config","matrix","BigNumber"],Qv=F(pN,Bz,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(pN,{"number, number":function(l,u){var s=wg(l,u);return t.matrix==="Array"?s:n(s)},"BigNumber, BigNumber":a});function a(o,l){var u,s,c,f=new i(0),p=new i(1),m=f,h=p,d=p,g=f;if(!o.isInt()||!l.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!l.isZero();)s=o.div(l).floor(),c=o.mod(l),u=m,m=h.minus(s.times(m)),h=u,u=d,d=g.minus(s.times(d)),g=u,o=l,l=c;var y;return o.lt(f)?y=[o.neg(),h.neg(),g.neg()]:y=[o,o.isZero()?0:h,g],t.matrix==="Array"?y:n(y)}});var mN="invmod",Oz=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],Kv=F(mN,Oz,r=>{var{typed:e,config:t,BigNumber:n,xgcd:i,equal:a,smaller:o,mod:l,add:u,isInteger:s}=r;return e(mN,{"number, number":c,"BigNumber, BigNumber":c});function c(f,p){if(!s(f)||!s(p))throw new Error("Parameters in function invmod must be integer numbers");if(f=l(f,p),a(p,0))throw new Error("Divisor must be non zero");var m=i(f,p);m=m.valueOf();var[h,d]=m;return a(h,n(1))?(d=l(d,p),o(d,n(0))&&(d=u(d,p)),d):NaN}});var kz="matAlgo09xS0Sf",Pz=["typed","equalScalar"],xp=F(kz,Pz,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ut(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");var y=c[0],w=c[1],v,x=t,D=0,b=o;typeof f=="string"&&f===g&&(v=f,x=e.find(t,[v,v]),D=e.convert(0,v),b=e.find(o,[v,v]));var C=l&&p?[]:void 0,S=[],E=[],A=C?[]:void 0,M=[],I,k,L,P,B;for(k=0;k<w;k++){E[k]=S.length;var T=k+1;if(A)for(P=h[k],B=h[k+1],L=P;L<B;L++)I=m[L],M[I]=T,A[I]=p[L];for(P=s[k],B=s[k+1],L=P;L<B;L++)if(I=u[L],A){var z=M[I]===T?A[I]:D,O=b(l[L],z);x(O,D)||(S.push(I),C.push(O))}else S.push(I)}return E[w]=S.length,i.createSparseMatrix({values:C,index:S,ptr:E,size:[y,w],datatype:v})}});var dN="dotMultiply",Rz=["typed","matrix","equalScalar","multiplyScalar","concat"],ey=F(dN,Rz,r=>{var{typed:e,matrix:t,equalScalar:n,multiplyScalar:i,concat:a}=r,o=Ir({typed:e,equalScalar:n}),l=xp({typed:e,equalScalar:n}),u=jt({typed:e,equalScalar:n}),s=pt({typed:e,matrix:t,concat:a});return e(dN,s({elop:i,SS:l,DS:o,Ss:u}))});function hN(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero()||e.eq(-1)||r.eq(e))return r;if(e.isZero()||r.eq(-1))return e;if(!r.isFinite()||!e.isFinite()){if(!r.isFinite()&&!e.isFinite())return r.isNegative()===e.isNegative()?r:new t(0);if(!r.isFinite())return e.isNegative()?r:r.isNegative()?new t(0):e;if(!e.isFinite())return r.isNegative()?e:e.isNegative()?new t(0):r}return ty(r,e,function(n,i){return n&i})}function ou(r){if(r.isFinite()&&!r.isInteger())throw new Error("Integer expected in function bitNot");var e=r.constructor,t=e.precision;e.config({precision:1e9});var n=r.plus(new e(1));return n.s=-n.s||null,e.config({precision:t}),n}function gN(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);var n=new t(-1);return r.isZero()||e.eq(n)||r.eq(e)?e:e.isZero()||r.eq(n)?r:!r.isFinite()||!e.isFinite()?!r.isFinite()&&!r.isNegative()&&e.isNegative()||r.isNegative()&&!e.isNegative()&&!e.isFinite()?n:r.isNegative()&&e.isNegative()?r.isFinite()?r:e:r.isFinite()?e:r:ty(r,e,function(i,a){return i|a})}function ty(r,e,t){var n=r.constructor,i,a,o=+(r.s<0),l=+(e.s<0);if(o){i=bp(ou(r));for(var u=0;u<i.length;++u)i[u]^=1}else i=bp(r);if(l){a=bp(ou(e));for(var s=0;s<a.length;++s)a[s]^=1}else a=bp(e);var c,f,p;i.length<=a.length?(c=i,f=a,p=o):(c=a,f=i,p=l);var m=c.length,h=f.length,d=t(o,l)^1,g=new n(d^1),y=new n(1),w=new n(2),v=n.precision;for(n.config({precision:1e9});m>0;)t(c[--m],f[--h])===d&&(g=g.plus(y)),y=y.times(w);for(;h>0;)t(p,f[--h])===d&&(g=g.plus(y)),y=y.times(w);return n.config({precision:v}),d===0&&(g.s=-g.s),g}function bp(r){for(var e=r.d,t=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",a=7-i.length;a--;)i="0"+i;t+=i}for(var o=t.length;t.charAt(o)==="0";)o--;var l=r.e,u=t.slice(0,o+1||1),s=u.length;if(l>0)if(++l>s)for(l-=s;l--;)u+="0";else l<s&&(u=u.slice(0,l)+"."+u.slice(l));for(var c=[0],f=0;f<u.length;){for(var p=c.length;p--;)c[p]*=10;c[0]+=parseInt(u.charAt(f++));for(var m=0;m<c.length;++m)c[m]>1&&((c[m+1]===null||c[m+1]===void 0)&&(c[m+1]=0),c[m+1]+=c[m]>>1,c[m]&=1)}return c.reverse()}function vN(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var t=r.constructor;if(r.isNaN()||e.isNaN())return new t(NaN);if(r.isZero())return e;if(e.isZero())return r;if(r.eq(e))return new t(0);var n=new t(-1);return r.eq(n)?ou(e):e.eq(n)?ou(r):!r.isFinite()||!e.isFinite()?!r.isFinite()&&!e.isFinite()?n:new t(r.isNegative()===e.isNegative()?1/0:-1/0):ty(r,e,function(i,a){return i^a})}function yN(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:!r.isFinite()&&!e.isFinite()?new t(NaN):e.lt(55)?r.times(Math.pow(2,e.toNumber())+""):r.times(new t(2).pow(e))}function xN(r,e){if(r.isFinite()&&!r.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var t=r.constructor;return r.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new t(NaN):r.isZero()||e.isZero()?r:e.isFinite()?e.lt(55)?r.div(Math.pow(2,e.toNumber())+"").floor():r.div(new t(2).pow(e)).floor():r.isNegative()?new t(-1):r.isFinite()?new t(0):new t(NaN)}var bN="bitAnd",Lz=["typed","matrix","equalScalar","concat"],ry=F(bN,Lz,r=>{var{typed:e,matrix:t,equalScalar:n,concat:i}=r,a=Ir({typed:e,equalScalar:n}),o=uo({typed:e,equalScalar:n}),l=jt({typed:e,equalScalar:n}),u=pt({typed:e,matrix:t,concat:i});return e(bN,{"number, number":Ag,"BigNumber, BigNumber":hN},u({SS:o,DS:a,Ss:l}))});var DN="bitNot",Vz=["typed"],ny=F(DN,Vz,r=>{var{typed:e}=r;return e(DN,{number:Sg,BigNumber:ou,"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var wN="bitOr",Uz=["typed","matrix","equalScalar","DenseMatrix","concat"],iy=F(wN,Uz,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=gn({typed:e}),l=au({typed:e,equalScalar:n}),u=Un({typed:e,DenseMatrix:i}),s=pt({typed:e,matrix:t,concat:a});return e(wN,{"number, number":Fg,"BigNumber, BigNumber":gN},s({SS:l,DS:o,Ss:u}))});var qz="matAlgo07xSSf",zz=["typed","DenseMatrix"],Ur=F(qz,zz,r=>{var{typed:e,DenseMatrix:t}=r;return function(a,o,l){var u=a._size,s=a._datatype,c=o._size,f=o._datatype;if(u.length!==c.length)throw new ut(u.length,c.length);if(u[0]!==c[0]||u[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+c+")");var p=u[0],m=u[1],h,d=0,g=l;typeof s=="string"&&s===f&&(h=s,d=e.convert(0,h),g=e.find(l,[h,h]));var y,w,v=[];for(y=0;y<p;y++)v[y]=[];var x=[],D=[],b=[],C=[];for(w=0;w<m;w++){var S=w+1;for(n(a,w,b,x,S),n(o,w,C,D,S),y=0;y<p;y++){var E=b[y]===S?x[y]:d,A=C[y]===S?D[y]:d;v[y][w]=g(E,A)}}return new t({data:v,size:[p,m],datatype:h})};function n(i,a,o,l,u){for(var s=i._values,c=i._index,f=i._ptr,p=f[a],m=f[a+1];p<m;p++){var h=c[p];o[h]=u,l[h]=s[p]}}});var EN="bitXor",$z=["typed","matrix","DenseMatrix","concat"],ay=F(EN,$z,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=ar({typed:e}),o=Ur({typed:e,DenseMatrix:n}),l=Vt({typed:e,DenseMatrix:n}),u=pt({typed:e,matrix:t,concat:i});return e(EN,{"number, number":Ng,"BigNumber, BigNumber":vN},u({SS:o,DS:a,Ss:l}))});var CN="arg",Hz=["typed"],oy=F(CN,Hz,r=>{var{typed:e}=r;return e(CN,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var AN="conj",Wz=["typed"],sy=F(AN,Wz,r=>{var{typed:e}=r;return e(AN,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.conjugate(),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var SN="im",Gz=["typed"],uy=F(SN,Gz,r=>{var{typed:e}=r;return e(SN,{number:()=>0,"BigNumber | Fraction":t=>t.mul(0),Complex:t=>t.im,"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var FN="re",jz=["typed"],ly=F(FN,jz,r=>{var{typed:e}=r;return e(FN,{"number | BigNumber | Fraction":t=>t,Complex:t=>t.re,"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var NN="not",Zz=["typed"],cy=F(NN,Zz,r=>{var{typed:e}=r;return e(NN,{"null | undefined":()=>!0,number:Og,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},Unit:e.referToSelf(t=>n=>e.find(t,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var _N="or",Yz=["typed","matrix","equalScalar","DenseMatrix","concat"],fy=F(_N,Yz,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=ar({typed:e}),l=so({typed:e,equalScalar:n}),u=Vt({typed:e,DenseMatrix:i}),s=pt({typed:e,matrix:t,concat:a});return e(_N,{"number, number":kg,"Complex, Complex":function(f,p){return f.re!==0||f.im!==0||p.re!==0||p.im!==0},"BigNumber, BigNumber":function(f,p){return!f.isZero()&&!f.isNaN()||!p.isZero()&&!p.isNaN()},"Unit, Unit":e.referToSelf(c=>(f,p)=>c(f.value||0,p.value||0))},s({SS:l,DS:o,Ss:u}))});var MN="xor",Jz=["typed","matrix","DenseMatrix","concat"],py=F(MN,Jz,r=>{var{typed:e,matrix:t,DenseMatrix:n,concat:i}=r,a=ar({typed:e}),o=Ur({typed:e,DenseMatrix:n}),l=Vt({typed:e,DenseMatrix:n}),u=pt({typed:e,matrix:t,concat:i});return e(MN,{"number, number":Pg,"Complex, Complex":function(c,f){return(c.re!==0||c.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(c,f){return(!c.isZero()&&!c.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(s=>(c,f)=>s(c.value||0,f.value||0))},u({SS:o,DS:a,Ss:l}))});var TN="concat",Xz=["typed","matrix","isInteger"],yl=F(TN,Xz,r=>{var{typed:e,matrix:t,isInteger:n}=r;return e(TN,{"...Array | Matrix | number | BigNumber":function(a){var o,l=a.length,u=-1,s,c=!1,f=[];for(o=0;o<l;o++){var p=a[o];if($e(p)&&(c=!0),at(p)||it(p)){if(o!==l-1)throw new Error("Dimension must be specified as last argument");if(s=u,u=p.valueOf(),!n(u))throw new TypeError("Integer number expected for dimension");if(u<0||o>0&&u>s)throw new ln(u,s+1)}else{var m=tt(p).valueOf(),h=nt(m);if(f[o]=m,s=u,u=h.length-1,o>0&&u!==s)throw new ut(s+1,u+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var d=f.shift();f.length;)d=Rh(d,f.shift(),u);return c?t(d):d},"...string":function(a){return a.join("")}})});var IN="column",Qz=["typed","Index","matrix","range"],xl=F(IN,Qz,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(IN,{"Matrix, number":a,"Array, number":function(l,u){return a(n(tt(l)),u).valueOf()}});function a(o,l){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Gt(l,o.size()[1]);var u=i(0,o.size()[0]),s=new t(u,l),c=o.subset(s);return $e(c)?c:n([[c]])}});var BN="count",Kz=["typed","size","prod"],my=F(BN,Kz,r=>{var{typed:e,size:t,prod:n}=r;return e(BN,{string:function(a){return a.length},"Matrix | Array":function(a){return n(t(a))}})});var ON="cross",e$=["typed","matrix","subtract","multiply"],dy=F(ON,e$,r=>{var{typed:e,matrix:t,subtract:n,multiply:i}=r;return e(ON,{"Matrix, Matrix":function(l,u){return t(a(l.toArray(),u.toArray()))},"Matrix, Array":function(l,u){return t(a(l.toArray(),u))},"Array, Matrix":function(l,u){return t(a(l,u.toArray()))},"Array, Array":a});function a(o,l){var u=Math.max(nt(o).length,nt(l).length);o=Qs(o),l=Qs(l);var s=nt(o),c=nt(l);if(s.length!==1||c.length!==1||s[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+s.join(", ")+"], B = ["+c.join(", ")+"])");var f=[n(i(o[1],l[2]),i(o[2],l[1])),n(i(o[2],l[0]),i(o[0],l[2])),n(i(o[0],l[1]),i(o[1],l[0]))];return u>1?[f]:f}});var kN="diag",t$=["typed","matrix","DenseMatrix","SparseMatrix"],hy=F(kN,t$,r=>{var{typed:e,matrix:t,DenseMatrix:n,SparseMatrix:i}=r;return e(kN,{Array:function(s){return a(s,0,nt(s),null)},"Array, number":function(s,c){return a(s,c,nt(s),null)},"Array, BigNumber":function(s,c){return a(s,c.toNumber(),nt(s),null)},"Array, string":function(s,c){return a(s,0,nt(s),c)},"Array, number, string":function(s,c,f){return a(s,c,nt(s),f)},"Array, BigNumber, string":function(s,c,f){return a(s,c.toNumber(),nt(s),f)},Matrix:function(s){return a(s,0,s.size(),s.storage())},"Matrix, number":function(s,c){return a(s,c,s.size(),s.storage())},"Matrix, BigNumber":function(s,c){return a(s,c.toNumber(),s.size(),s.storage())},"Matrix, string":function(s,c){return a(s,0,s.size(),c)},"Matrix, number, string":function(s,c,f){return a(s,c,s.size(),f)},"Matrix, BigNumber, string":function(s,c,f){return a(s,c.toNumber(),s.size(),f)}});function a(u,s,c,f){if(!Ue(s))throw new TypeError("Second parameter in function diag must be an integer");var p=s>0?s:0,m=s<0?-s:0;switch(c.length){case 1:return o(u,s,f,c[0],m,p);case 2:return l(u,s,f,c,m,p)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(u,s,c,f,p,m){var h=[f+p,f+m];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var d=c==="sparse"?i.diagonal(h,u,s):n.diagonal(h,u,s);return c!==null?d:d.valueOf()}function l(u,s,c,f,p,m){if($e(u)){var h=u.diagonal(s);return c!==null?c!==h.storage()?t(h,c):h:h.valueOf()}for(var d=Math.min(f[0]-p,f[1]-m),g=[],y=0;y<d;y++)g[y]=u[y+p][y+m];return c!==null?t(g):g}});var bl=Fr(Mh(),1);function hi(r,e,t,n,i){if(bl.default.isTypedFunction(r)){var a=[e,t,n],o=bl.default.resolve(r,a);if(o)return f(o.implementation,a);var l=[e,t],u=bl.default.resolve(r,l);if(u)return f(u.implementation,l);var s=[e],c=bl.default.resolve(r,s);return c?f(c.implementation,s):f(r,a)}else return r(e,t,n);function f(p,m){try{return p.apply(p,m)}catch(g){var h;if(g instanceof TypeError&&((h=g.data)===null||h===void 0?void 0:h.category)==="wrongType"){var d=[];throw d.push("value: ".concat(St(e))),m.length>=2&&d.push("index: ".concat(St(t))),m.length>=3&&d.push("array: ".concat(St(n))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(r.name,"(").concat(d.join(", "),") at index ").concat(JSON.stringify(t)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(r.name,": ").concat(g.message))}}}var r$="filter",n$=["typed"],gy=F(r$,n$,r=>{var{typed:e}=r;return e("filter",{"Array, function":PN,"Matrix, function":function(n,i){return n.create(PN(n.toArray(),i))},"Array, RegExp":Ks,"Matrix, RegExp":function(n,i){return n.create(Ks(n.toArray(),i))}})});function PN(r,e){return rp(r,function(t,n,i){return hi(e,t,[n],i,"filter")})}var RN="flatten",i$=["typed","matrix"],vy=F(RN,i$,r=>{var{typed:e,matrix:t}=r;return e(RN,{Array:function(i){return vt(i)},Matrix:function(i){var a=vt(i.toArray());return t(a)}})});var LN="forEach",a$=["typed"],yy=F(LN,a$,r=>{var{typed:e}=r;return e(LN,{"Array, function":o$,"Matrix, function":function(n,i){n.forEach(i)}})});function o$(r,e){var t=function n(i,a){if(Array.isArray(i))eo(i,function(o,l){n(o,a.concat(l))});else return hi(e,i,a,r,"forEach")};t(r,[])}var VN="getMatrixDataType",s$=["typed"],xy=F(VN,s$,r=>{var{typed:e}=r;return e(VN,{Array:function(n){return to(n,St)},Matrix:function(n){return n.getDataType()}})});var UN="identity",u$=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],by=F(UN,u$,r=>{var{typed:e,config:t,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=r;return e(UN,{"":function(){return t.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return u(c,c,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return u(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return u(c,f,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,p){return u(c,f,p)},Array:function(c){return l(c)},"Array, string":function(c,f){return l(c,f)},Matrix:function(c){return l(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return l(c.valueOf(),f)}});function l(s,c){switch(s.length){case 0:return c?n(c):[];case 1:return u(s[0],s[0],c);case 2:return u(s[0],s[1],c);default:throw new Error("Vector containing two values expected")}}function u(s,c,f){var p=it(s)||it(c)?i:null;if(it(s)&&(s=s.toNumber()),it(c)&&(c=c.toNumber()),!Ue(s)||s<1)throw new Error("Parameters in function identity must be positive integers");if(!Ue(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var m=p?new i(1):1,h=p?new p(0):0,d=[s,c];if(f){if(f==="sparse")return o.diagonal(d,m,0,h);if(f==="dense")return a.diagonal(d,m,0,h);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var g=ki([],d,h),y=s<c?s:c,w=0;w<y;w++)g[w][w]=m;return g}});var qN="kron",l$=["typed","matrix","multiplyScalar"],Dy=F(qN,l$,r=>{var{typed:e,matrix:t,multiplyScalar:n}=r;return e(qN,{"Matrix, Matrix":function(o,l){return t(i(o.toArray(),l.toArray()))},"Matrix, Array":function(o,l){return t(i(o.toArray(),l))},"Array, Matrix":function(o,l){return t(i(o,l.toArray()))},"Array, Array":i});function i(a,o){if(nt(a).length===1&&(a=[a]),nt(o).length===1&&(o=[o]),nt(a).length>2||nt(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(a.length)+", y = "+JSON.stringify(o.length)+")");var l=[],u=[];return a.map(function(s){return o.map(function(c){return u=[],l.push(u),s.map(function(f){return c.map(function(p){return u.push(n(f,p))})})})})&&l}});var zN="map",c$=["typed"],wy=F(zN,c$,r=>{var{typed:e}=r;return e(zN,{"Array, function":f$,"Matrix, function":function(n,i){return n.map(i)}})});function f$(r,e){var t=function n(i,a){return Array.isArray(i)?i.map(function(o,l){return n(o,a.concat(l))}):hi(e,i,a,r,"map")};return t(r,[])}var $N="diff",p$=["typed","matrix","subtract","number"],Dl=F($N,p$,r=>{var{typed:e,matrix:t,subtract:n,number:i}=r;return e($N,{"Array | Matrix":function(c){return $e(c)?t(o(c.toArray())):o(c)},"Array | Matrix, number":function(c,f){if(!Ue(f))throw new RangeError("Dimension must be a whole number");return $e(c)?t(a(c.toArray(),f)):a(c,f)},"Array, BigNumber":e.referTo("Array,number",s=>(c,f)=>s(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",s=>(c,f)=>s(c,i(f)))});function a(s,c){if($e(s)&&(s=s.toArray()),!Array.isArray(s))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return s.forEach(p=>{f.push(a(p,c-1))}),f}else{if(c===0)return o(s);throw RangeError("Cannot have negative dimension")}}function o(s){for(var c=[],f=s.length,p=1;p<f;p++)c.push(l(s[p-1],s[p]));return c}function l(s,c){$e(s)&&(s=s.toArray()),$e(c)&&(c=c.toArray());var f=Array.isArray(s),p=Array.isArray(c);if(f&&p)return u(s,c);if(!f&&!p)return n(c,s);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function u(s,c){if(s.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],p=s.length,m=0;m<p;m++)f.push(l(s[m],c[m]));return f}});var m$="ones",d$=["typed","config","matrix","BigNumber"],Ey=F(m$,d$,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e("ones",{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var c=s[s.length-1];if(typeof c=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var c=s.storage();return a(s.valueOf(),c)},"Array | Matrix, string":function(s,c){return a(s.valueOf(),c)}});function a(u,s){var c=o(u),f=c?new i(1):1;if(l(u),s){var p=n(s);return u.length>0?p.resize(u,f):p}else{var m=[];return u.length>0?ki(m,u,f):m}}function o(u){var s=!1;return u.forEach(function(c,f,p){it(c)&&(s=!0,p[f]=c.toNumber())}),s}function l(u){u.forEach(function(s){if(typeof s!="number"||!Ue(s)||s<0)throw new Error("Parameters in function ones must be positive integers")})}});function su(){throw new Error('No "bignumber" implementation available')}function Dp(){throw new Error('No "fraction" implementation available')}function wp(){throw new Error('No "matrix" implementation available')}var HN="range",h$=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],wl=F(HN,h$,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c}=r;return e(HN,{string:p,"string, boolean":p,"number, number":function(g,y){return f(m(g,y,1,!1))},"number, number, number":function(g,y,w){return f(m(g,y,w,!1))},"number, number, boolean":function(g,y,w){return f(m(g,y,1,w))},"number, number, number, boolean":function(g,y,w,v){return f(m(g,y,w,v))},"BigNumber, BigNumber":function(g,y){var w=g.constructor;return f(m(g,y,new w(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,y,w){return f(m(g,y,w,!1))},"BigNumber, BigNumber, boolean":function(g,y,w){var v=g.constructor;return f(m(g,y,new v(1),w))},"BigNumber, BigNumber, BigNumber, boolean":function(g,y,w,v){return f(m(g,y,w,v))},"Unit, Unit, Unit":function(g,y,w){return f(m(g,y,w,!1))},"Unit, Unit, Unit, boolean":function(g,y,w,v){return f(m(g,y,w,v))}});function f(d){return t.matrix==="Matrix"?n?n(d):wp():d}function p(d,g){var y=h(d);if(!y)throw new SyntaxError('String "'+d+'" is no valid range');return t.number==="BigNumber"?(i===void 0&&su(),f(m(i(y.start),i(y.end),i(y.step)),g)):f(m(y.start,y.end,y.step,g))}function m(d,g,y,w){for(var v=[],x=c(y)?w?o:a:w?u:l,D=d;x(D,g);)v.push(D),D=s(D,y);return v}function h(d){var g=d.split(":"),y=g.map(function(v){return Number(v)}),w=y.some(function(v){return isNaN(v)});if(w)return null;switch(y.length){case 2:return{start:y[0],end:y[1],step:1};case 3:return{start:y[0],end:y[2],step:y[1]};default:return null}}});var WN="reshape",g$=["typed","isInteger","matrix"],Cy=F(WN,g$,r=>{var{typed:e,isInteger:t}=r;return e(WN,{"Matrix, Array":function(i,a){return i.reshape(a,!0)},"Array, Array":function(i,a){return a.forEach(function(o){if(!t(o))throw new TypeError("Invalid size for dimension: "+o)}),sl(i,a)}})});var v$="resize",y$=["config","matrix"],Ay=F(v$,y$,r=>{var{config:e,matrix:t}=r;return function(a,o,l){if(arguments.length!==2&&arguments.length!==3)throw new Ca("resize",arguments.length,2,3);if($e(o)&&(o=o.valueOf()),it(o[0])&&(o=o.map(function(c){return it(c)?c.toNumber():c})),$e(a))return a.resize(o,l,!0);if(typeof a=="string")return n(a,o,l);var u=Array.isArray(a)?!1:e.matrix!=="Array";if(o.length===0){for(;Array.isArray(a);)a=a[0];return tt(a)}else{Array.isArray(a)||(a=[a]),a=tt(a);var s=ki(a,o,l);return u?t(s):s}};function n(i,a,o){if(o!==void 0){if(typeof o!="string"||o.length!==1)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(a.length!==1)throw new ut(a.length,1);var l=a[0];if(typeof l!="number"||!Ue(l))throw new TypeError("Invalid size, must contain positive integers (size: "+ot(a)+")");if(i.length>l)return i.substring(0,l);if(i.length<l){for(var u=i,s=0,c=l-i.length;s<c;s++)u+=o;return u}else return i}});var GN="rotate",x$=["typed","multiply","rotationMatrix"],Sy=F(GN,x$,r=>{var{typed:e,multiply:t,rotationMatrix:n}=r;return e(GN,{"Array , number | BigNumber | Complex | Unit":function(o,l){i(o,2);var u=t(n(l),o);return u.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,l){return i(o,2),t(n(l),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,l,u){i(o,3);var s=t(n(l,u),o);return s},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,l,u){return i(o,3),t(n(l,u),o)}});function i(a,o){var l=Array.isArray(a)?nt(a):a.size();if(l.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(l.length===2&&l[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(l[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}});var jN="rotationMatrix",b$=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Fy=F(jN,b$,r=>{var{typed:e,config:t,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:l,matrix:u,DenseMatrix:s,SparseMatrix:c,cos:f,sin:p}=r;return e(jN,{"":function(){return t.matrix==="Matrix"?u([]):[]},string:function(v){return u(v)},"number | BigNumber | Complex | Unit":function(v){return m(v,t.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(v,x){return m(v,x)},"number | BigNumber | Complex | Unit, Array":function(v,x){var D=u(x);return h(D),y(v,D,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(v,x){h(x);var D=x.storage()||(t.matrix==="Matrix"?"dense":void 0);return y(v,x,D)},"number | BigNumber | Complex | Unit, Array, string":function(v,x,D){var b=u(x);return h(b),y(v,b,D)},"number | BigNumber | Complex | Unit, Matrix, string":function(v,x,D){return h(x),y(v,x,D)}});function m(w,v){var x=it(w),D=x?new l(-1):-1,b=f(w),C=p(w),S=[[b,n(D,C)],[C,b]];return g(S,v)}function h(w){var v=w.size();if(v.length<1||v[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function d(w){return w.reduce((v,x)=>n(v,x))}function g(w,v){if(v){if(v==="sparse")return new c(w);if(v==="dense")return new s(w);throw new TypeError('Unknown matrix type "'.concat(v,'"'))}return w}function y(w,v,x){var D=o(v);if(D===0)throw new RangeError("Rotation around zero vector");var b=it(w)?l:null,C=b?new b(1):1,S=b?new b(-1):-1,E=b?new b(v.get([0])/D):v.get([0])/D,A=b?new b(v.get([1])/D):v.get([1])/D,M=b?new b(v.get([2])/D):v.get([2])/D,I=f(w),k=i(C,a(I)),L=p(w),P=i(I,d([E,E,k])),B=i(d([E,A,k]),d([S,M,L])),T=i(d([E,M,k]),d([A,L])),z=i(d([E,A,k]),d([M,L])),O=i(I,d([A,A,k])),J=i(d([A,M,k]),d([S,E,L])),ee=i(d([E,M,k]),d([S,A,L])),j=i(d([A,M,k]),d([E,L])),V=i(I,d([M,M,k])),re=[[P,B,T],[z,O,J],[ee,j,V]];return g(re,x)}});var ZN="row",D$=["typed","Index","matrix","range"],El=F(ZN,D$,r=>{var{typed:e,Index:t,matrix:n,range:i}=r;return e(ZN,{"Matrix, number":a,"Array, number":function(l,u){return a(n(tt(l)),u).valueOf()}});function a(o,l){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");Gt(l,o.size()[0]);var u=i(0,o.size()[1]),s=new t(l,u),c=o.subset(s);return $e(c)?c:n([[c]])}});var YN="size",w$=["typed","config","?matrix"],Ny=F(YN,w$,r=>{var{typed:e,config:t,matrix:n}=r;return e(YN,{Matrix:function(a){return a.create(a.size())},Array:nt,string:function(a){return t.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return t.matrix==="Array"?[]:n?n([]):wp()}})});var JN="squeeze",E$=["typed","matrix"],_y=F(JN,E$,r=>{var{typed:e,matrix:t}=r;return e(JN,{Array:function(i){return Qs(tt(i))},Matrix:function(i){var a=Qs(i.toArray());return Array.isArray(a)?t(a):a},any:function(i){return tt(i)}})});var XN="subset",C$=["typed","matrix","zeros","add"],Cl=F(XN,C$,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r;return e(XN,{"Matrix, Index":function(l,u){return ts(u)?t():(ol(l,u),l.subset(u))},"Array, Index":e.referTo("Matrix, Index",function(o){return function(l,u){var s=o(t(l),u);return u.isScalar()?s:s.valueOf()}}),"Object, Index":S$,"string, Index":A$,"Matrix, Index, any, any":function(l,u,s,c){return ts(u)?l:(ol(l,u),l.clone().subset(u,a(s,u),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s,c){var f=o(t(l),u,s,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s){return o(t(l),u,s,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(o){return function(l,u,s){return o(l,u,s,void 0)}}),"string, Index, string":QN,"string, Index, string, string":QN,"Object, Index, any":F$});function a(o,l){if(typeof o=="string")throw new Error("can't boradcast a string");if(l._isScalar)return o;var u=l.size();if(u.every(s=>s>0))try{return i(o,n(u))}catch(s){return o}else return o}});function A$(r,e){if(!Qa(e))throw new TypeError("Index expected");if(ts(e))return"";if(ol(Array.from(r),e),e.size().length!==1)throw new ut(e.size().length,1);var t=r.length;Gt(e.min()[0],t),Gt(e.max()[0],t);var n=e.dimension(0),i="";return n.forEach(function(a){i+=r.charAt(a)}),i}function QN(r,e,t,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(ts(e))return r;if(ol(Array.from(r),e),e.size().length!==1)throw new ut(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),a=i.size()[0];if(a!==t.length)throw new ut(i.size()[0],t.length);var o=r.length;Gt(e.min()[0]),Gt(e.max()[0]);for(var l=[],u=0;u<o;u++)l[u]=r.charAt(u);if(i.forEach(function(f,p){l[f]=t.charAt(p[0])}),l.length>o)for(var s=o-1,c=l.length;s<c;s++)l[s]||(l[s]=n);return l.join("")}function S$(r,e){if(!ts(e)){if(e.size().length!==1)throw new ut(e.size(),1);var t=e.dimension(0);if(typeof t!="string")throw new TypeError("String expected as index to retrieve an object property");return gr(r,t)}}function F$(r,e,t){if(ts(e))return r;if(e.size().length!==1)throw new ut(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=tt(r);return Xi(i,n,t),i}var KN="transpose",N$=["typed","matrix"],My=F(KN,N$,r=>{var{typed:e,matrix:t}=r;return e(KN,{Array:o=>n(t(o)).valueOf(),Matrix:n,any:tt});function n(o){var l=o.size(),u;switch(l.length){case 1:u=o.clone();break;case 2:{var s=l[0],c=l[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ot(l)+")");switch(o.storage()){case"dense":u=i(o,s,c);break;case"sparse":u=a(o,s,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ot(l)+")")}return u}function i(o,l,u){for(var s=o._data,c=[],f,p=0;p<u;p++){f=c[p]=[];for(var m=0;m<l;m++)f[m]=tt(s[m][p])}return o.createDenseMatrix({data:c,size:[u,l],datatype:o._datatype})}function a(o,l,u){for(var s=o._values,c=o._index,f=o._ptr,p=s?[]:void 0,m=[],h=[],d=[],g=0;g<l;g++)d[g]=0;var y,w,v;for(y=0,w=c.length;y<w;y++)d[c[y]]++;for(var x=0,D=0;D<l;D++)h.push(x),x+=d[D],d[D]=h[D];for(h.push(x),v=0;v<u;v++)for(var b=f[v],C=f[v+1],S=b;S<C;S++){var E=d[c[S]]++;m[E]=v,s&&(p[E]=tt(s[S]))}return o.createSparseMatrix({values:p,index:m,ptr:h,size:[u,l],datatype:o._datatype})}});var e_="ctranspose",_$=["typed","transpose","conj"],Ty=F(e_,_$,r=>{var{typed:e,transpose:t,conj:n}=r;return e(e_,{any:function(a){return n(t(a))}})});var t_="zeros",M$=["typed","config","matrix","BigNumber"],Iy=F(t_,M$,r=>{var{typed:e,config:t,matrix:n,BigNumber:i}=r;return e(t_,{"":function(){return t.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(s){var c=s[s.length-1];if(typeof c=="string"){var f=s.pop();return a(s,f)}else return t.matrix==="Array"?a(s):a(s,"default")},Array:a,Matrix:function(s){var c=s.storage();return a(s.valueOf(),c)},"Array | Matrix, string":function(s,c){return a(s.valueOf(),c)}});function a(u,s){var c=o(u),f=c?new i(0):0;if(l(u),s){var p=n(s);return u.length>0?p.resize(u,f):p}else{var m=[];return u.length>0?ki(m,u,f):m}}function o(u){var s=!1;return u.forEach(function(c,f,p){it(c)&&(s=!0,p[f]=c.toNumber())}),s}function l(u){u.forEach(function(s){if(typeof s!="number"||!Ue(s)||s<0)throw new Error("Parameters in function zeros must be positive integers")})}});var r_="fft",T$=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],By=F(r_,T$,r=>{var{typed:e,matrix:t,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:l,i:u,dotDivide:s,conj:c,pow:f,ceil:p,log2:m}=r;return e(r_,{Array:h,Matrix:function(v){return v.create(h(v.toArray()))}});function h(w){var v=nt(w);return v.length===1?y(w,v[0]):d(w.map(x=>h(x,v.slice(1))),0)}function d(w,v){var x=nt(w);if(v!==0)return new Array(x[0]).fill(0).map((b,C)=>d(w[C],v-1));if(x.length===1)return y(w);function D(b){var C=nt(b);return new Array(C[1]).fill(0).map((S,E)=>new Array(C[0]).fill(0).map((A,M)=>b[M][E]))}return D(d(D(w),1))}function g(w){for(var v=w.length,x=o(a(i(-1,i(u,l)),v)),D=[],b=1-v;b<v;b++)D.push(f(x,a(f(b,2),2)));for(var C=f(2,p(m(v+v-1))),S=[...new Array(v).fill(0).map((B,T)=>i(w[T],D[v-1+T])),...new Array(C-v).fill(0)],E=[...new Array(v+v-1).fill(0).map((B,T)=>a(1,D[T])),...new Array(C-(v+v-1)).fill(0)],A=y(S),M=y(E),I=new Array(C).fill(0).map((B,T)=>i(A[T],M[T])),k=s(c(h(c(I))),C),L=[],P=v-1;P<v+v-1;P++)L.push(i(k[P],D[P]));return L}function y(w){var v=w.length;if(v===1)return[w[0]];if(v%2===0){for(var x=[...y(w.filter((S,E)=>E%2===0),v/2),...y(w.filter((S,E)=>E%2===1),v/2)],D=0;D<v/2;D++){var b=x[D],C=i(x[D+v/2],o(i(i(l,u),a(-D,v))));x[D]=n(b,C),x[D+v/2]=n(b,i(-1,C))}return x}else return g(w)}});var n_="ifft",I$=["typed","fft","dotDivide","conj"],Oy=F(n_,I$,r=>{var{typed:e,fft:t,dotDivide:n,conj:i}=r;return e(n_,{"Array | Matrix":function(o){var l=$e(o)?o.size():nt(o);return n(i(t(i(o))),l.reduce((u,s)=>u*s,1))}})});function lo(r){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(r)}function ky(r,e){if(lo(r)!=="object"||r===null)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e||"default");if(lo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Py(r){var e=ky(r,"string");return lo(e)==="symbol"?e:String(e)}function zt(r,e,t){return e=Py(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function i_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function B$(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i_(Object(t),!0).forEach(function(n){zt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):i_(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var O$="solveODE",k$=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],Ry=F(O$,k$,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,max:o,map:l,abs:u,isPositive:s,isNegative:c,larger:f,smaller:p,matrix:m,bignumber:h,unaryMinus:d}=r;function g(S){return function(E,A,M,I){var k=!(A.length===2&&(A.every(b)||A.every(on)));if(k)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var L=A[0],P=A[1],B=f(P,L),T=I.firstStep;if(T!==void 0&&!s(T))throw new Error('"firstStep" must be positive');var z=I.maxStep;if(z!==void 0&&!s(z))throw new Error('"maxStep" must be positive');var O=I.minStep;if(O&&c(O))throw new Error('"minStep" must be positive or zero');var J=[L,P,T,O,z].filter(Pe=>Pe!==void 0);if(!(J.every(b)||J.every(on)))throw new Error('Inconsistent type of "t" dependant variables');for(var ee=1,j=I.tol?I.tol:1e-4,V=I.minDelta?I.minDelta:.2,re=I.maxDelta?I.maxDelta:5,xe=I.maxIter?I.maxIter:1e4,oe=[L,P,...M,z,O].some(it),[le,ve,ue,ce]=oe?[h(S.a),h(S.c),h(S.b),h(S.bp)]:[S.a,S.c,S.b,S.bp],me=T?B?T:d(T):a(n(P,L),ee),de=[L],Be=[M],we=n(ue,ce),U=0,H=0,fe=x(B),$=D(B);fe(de[U],P);){var Q=[];me=$(de[U],P,me),Q.push(E(de[U],Be[U]));for(var te=1;te<ve.length;++te)Q.push(E(t(de[U],i(ve[te],me)),t(Be[U],i(me,le[te],Q))));var he=o(u(l(i(we,Q),Pe=>on(Pe)?Pe.value:Pe)));he<j&&j/he>1/4&&(de.push(t(de[U],me)),Be.push(t(Be[U],i(me,ue,Q))),U++);var be=.84*(j/he)**(1/5);if(p(be,V)?be=V:f(be,re)&&(be=re),be=oe?h(be):be,me=i(me,be),z&&f(u(me),z)?me=B?z:d(z):O&&p(u(me),O)&&(me=B?O:d(O)),H++,H>xe)throw new Error("Maximum number of iterations reached, try changing options")}return{t:de,y:Be}}}function y(S,E,A,M){var I=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],k=[null,1/2,3/4,1],L=[2/9,1/3,4/9,0],P=[7/24,1/4,1/3,1/8],B={a:I,c:k,b:L,bp:P};return g(B)(S,E,A,M)}function w(S,E,A,M){var I=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],k=[null,1/5,3/10,4/5,8/9,1,1],L=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],P=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],B={a:I,c:k,b:L,bp:P};return g(B)(S,E,A,M)}function v(S,E,A,M){var I=M.method?M.method:"RK45",k={RK23:y,RK45:w};if(I.toUpperCase()in k){var L=B$({},M);return delete L.method,k[I.toUpperCase()](S,E,A,L)}else{var P=Object.keys(k).map(T=>'"'.concat(T,'"')),B="".concat(P.slice(0,-1).join(", ")," and ").concat(P.slice(-1));throw new Error('Unavailable method "'.concat(I,'". Available methods are ').concat(B))}}function x(S){return S?p:f}function D(S){var E=S?f:p;return function(A,M,I){var k=t(A,I);return E(k,M)?n(M,A):I}}function b(S){return it(S)||at(S)}function C(S,E,A,M){var I=v(S,E.toArray(),A.toArray(),M);return{t:m(I.t),y:m(I.y)}}return e("solveODE",{"function, Array, Array, Object":v,"function, Matrix, Matrix, Object":C,"function, Array, Array":(S,E,A)=>v(S,E,A,{}),"function, Matrix, Matrix":(S,E,A)=>C(S,E,A,{}),"function, Array, number | BigNumber | Unit":(S,E,A)=>{var M=v(S,E,[A],{});return{t:M.t,y:M.y.map(I=>I[0])}},"function, Matrix, number | BigNumber | Unit":(S,E,A)=>{var M=v(S,E.toArray(),[A],{});return{t:m(M.t),y:m(M.y.map(I=>I[0]))}},"function, Array, number | BigNumber | Unit, Object":(S,E,A,M)=>{var I=v(S,E,[A],M);return{t:I.t,y:I.y.map(k=>k[0])}},"function, Matrix, number | BigNumber | Unit, Object":(S,E,A,M)=>{var I=v(S,E.toArray(),[A],M);return{t:m(I.t),y:m(I.y.map(k=>k[0]))}}})});var P$="erf",R$=["typed"],Ly=F(P$,R$,r=>{var{typed:e}=r;return e("name",{number:function(o){var l=Math.abs(o);return l>=U$?pi(o):l<=L$?pi(o)*t(l):l<=4?pi(o)*(1-n(l)):pi(o)*(1-i(l))},"Array | Matrix":e.referToSelf(a=>o=>Ze(o,a))});function t(a){var o=a*a,l=Aa[0][4]*o,u=o,s;for(s=0;s<3;s+=1)l=(l+Aa[0][s])*o,u=(u+uu[0][s])*o;return a*(l+Aa[0][3])/(u+uu[0][3])}function n(a){var o=Aa[1][8]*a,l=a,u;for(u=0;u<7;u+=1)o=(o+Aa[1][u])*a,l=(l+uu[1][u])*a;var s=(o+Aa[1][7])/(l+uu[1][7]),c=parseInt(a*16)/16,f=(a-c)*(a+c);return Math.exp(-c*c)*Math.exp(-f)*s}function i(a){var o=1/(a*a),l=Aa[2][5]*o,u=o,s;for(s=0;s<4;s+=1)l=(l+Aa[2][s])*o,u=(u+uu[2][s])*o;var c=o*(l+Aa[2][4])/(u+uu[2][4]);c=(V$-c)/a,o=parseInt(a*16)/16;var f=(a-o)*(a+o);return Math.exp(-o*o)*Math.exp(-f)*c}}),L$=.46875,V$=.5641895835477563,Aa=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],uu=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],U$=Math.pow(2,53);var a_="zeta",q$=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],Vy=F(a_,q$,r=>{var{typed:e,config:t,multiply:n,pow:i,divide:a,factorial:o,equal:l,smallerEq:u,isNegative:s,gamma:c,sin:f,subtract:p,add:m,Complex:h,BigNumber:d,pi:g}=r;return e(a_,{number:b=>y(b,C=>C,()=>20),BigNumber:b=>y(b,C=>new d(C),()=>Math.abs(Math.log10(t.epsilon))),Complex:w});function y(b,C,S){return l(b,0)?C(-.5):l(b,1)?C(NaN):isFinite(b)?v(b,C,S,E=>E):s(b)?C(NaN):C(1)}function w(b){return b.re===0&&b.im===0?new h(-.5):b.re===1?new h(NaN,NaN):b.re===1/0&&b.im===0?new h(1):b.im===1/0||b.re===-1/0?new h(NaN,NaN):v(b,C=>C,C=>Math.round(1.3*15+.9*Math.abs(C.im)),C=>C.re)}function v(b,C,S,E){var A=S(b);if(E(b)>-(A-1)/2)return D(b,C(A),C);var M=n(i(2,b),i(C(g),p(b,1)));return M=n(M,f(n(a(C(g),2),b))),M=n(M,c(p(1,b))),n(M,v(p(1,b),C,S,E))}function x(b,C){for(var S=b,E=b;u(E,C);E=m(E,1)){var A=a(n(o(m(C,p(E,1))),i(4,E)),n(o(p(C,E)),o(n(2,E))));S=m(S,A)}return n(C,S)}function D(b,C,S){for(var E=a(1,n(x(S(0),C),p(1,i(2,p(1,b))))),A=S(0),M=S(1);u(M,C);M=m(M,1))A=m(A,a(n((-1)**(M-1),x(M,C)),i(M,b)));return n(E,A)}});var o_="mode",z$=["typed","isNaN","isNumeric"],Uy=F(o_,z$,r=>{var{typed:e,isNaN:t,isNumeric:n}=r;return e(o_,{"Array | Matrix":i,"...":function(o){return i(o)}});function i(a){a=vt(a.valueOf());var o=a.length;if(o===0)throw new Error("Cannot calculate mode of an empty array");for(var l={},u=[],s=0,c=0;c<a.length;c++){var f=a[c];if(n(f)&&t(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in l||(l[f]=0),l[f]++,l[f]===s?u.push(f):l[f]>s&&(s=l[f],u=[f])}return u}});function Er(r,e,t){var n;return String(r).indexOf("Unexpected type")!==-1?(n=arguments.length>2?" (type: "+St(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).indexOf("complex numbers")!==-1?(n=arguments.length>2?" (type: "+St(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var s_="prod",$$=["typed","config","multiplyScalar","numeric"],qy=F(s_,$$,r=>{var{typed:e,config:t,multiplyScalar:n,numeric:i}=r;return e(s_,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(l,u){throw new Error("prod(A, dim) is not yet supported")},"...":function(l){return a(l)}});function a(o){var l;if(hn(o,function(u){try{l=l===void 0?u:n(l,u)}catch(s){throw Er(s,"prod",u)}}),typeof l=="string"&&(l=i(l,t.number)),l===void 0)throw new Error("Cannot calculate prod of an empty array");return l}});var u_="format",H$=["typed"],zy=F(u_,H$,r=>{var{typed:e}=r;return e(u_,{any:ot,"any, Object | function | number":ot})});var l_="bin",W$=["typed","format"],$y=F(l_,W$,r=>{var{typed:e,format:t}=r;return e(l_,{"number | BigNumber":function(i){return t(i,{notation:"bin"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"bin",wordSize:a})}})});var c_="oct",G$=["typed","format"],Hy=F(c_,G$,r=>{var{typed:e,format:t}=r;return e(c_,{"number | BigNumber":function(i){return t(i,{notation:"oct"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"oct",wordSize:a})}})});var f_="hex",j$=["typed","format"],Wy=F(f_,j$,r=>{var{typed:e,format:t}=r;return e(f_,{"number | BigNumber":function(i){return t(i,{notation:"hex"})},"number | BigNumber, number":function(i,a){return t(i,{notation:"hex",wordSize:a})}})});var Ep=/\$([\w.]+)/g;var p_="print",Z$=["typed"],Al=F(p_,Z$,r=>{var{typed:e}=r;return e(p_,{"string, Object | Array":m_,"string, Object | Array, number | Object":m_})});function m_(r,e,t){return r.replace(Ep,function(n,i){var a=i.split("."),o=e[a.shift()];for(o!==void 0&&o.isMatrix&&(o=o.toArray());a.length&&o!==void 0;){var l=a.shift();o=l?o[l]:o+"."}return o!==void 0?Dr(o)?o:ot(o,t):n})}var d_="to",Y$=["typed","matrix","concat"],Gy=F(d_,Y$,r=>{var{typed:e,matrix:t,concat:n}=r,i=pt({typed:e,matrix:t,concat:n});return e(d_,{"Unit, Unit | string":(a,o)=>a.to(o)},i({Ds:!0}))});var h_="isPrime",J$=["typed"],jy=F(h_,J$,r=>{var{typed:e}=r;return e(h_,{number:function(n){if(n*0!==0)return!1;if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},BigNumber:function(n){if(n.toNumber()*0!==0)return!1;if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),a=5;a*a<=i;a+=6)if(i%a===0||i%(a+2)===0)return!1;return!0}function o(w,v,x){for(var D=1;!v.eq(0);)v.mod(2).eq(0)?(v=v.div(2),w=w.mul(w).mod(x)):(v=v.sub(1),D=w.mul(D).mod(x));return D}var l=n.constructor.clone({precision:n.toFixed(0).length*2});n=new l(n);for(var u=0,s=n.sub(1);s.mod(2).eq(0);)s=s.div(2),u+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(w=>w<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var p=2;p<=f;p+=1)c.push(f)}for(var m=0;m<c.length;m+=1){var h=c[m],d=o(n.sub(n).add(h),s,n);if(!d.eq(1)){for(var g=0,y=d;!y.eq(n.sub(1));g+=1,y=y.mul(y).mod(n))if(g===u-1)return!1}}return!0},"Array | Matrix":e.referToSelf(t=>n=>Ze(n,t))})});var X$="numeric",Q$=["number","?bignumber","?fraction"],Zy=F(X$,Q$,r=>{var{number:e,bignumber:t,fraction:n}=r,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>e(o),BigNumber:t?o=>t(o):su,Fraction:n?o=>n(o):Dp};return function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",s=arguments.length>2?arguments[2]:void 0;if(s!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=St(l);if(!(c in i))throw new TypeError("Cannot convert "+l+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(u in a))throw new TypeError("Cannot convert "+l+' to type "'+u+'"; valid output types are '+Object.keys(a).join(", "));return u===c?l:a[u](l)}});var g_="divideScalar",K$=["typed","numeric"],Yy=F(g_,K$,r=>{var{typed:e,numeric:t}=r;return e(g_,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})});var v_="pow",eH=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Jy=F(v_,eH,r=>{var{typed:e,config:t,identity:n,multiply:i,matrix:a,inv:o,number:l,fraction:u,Complex:s}=r;return e(v_,{"number, number":c,"Complex, Complex":function(h,d){return h.pow(d)},"BigNumber, BigNumber":function(h,d){return d.isInteger()||h>=0||t.predictable?h.pow(d):new s(h.toNumber(),0).pow(d.toNumber(),0)},"Fraction, Fraction":function(h,d){var g=h.pow(d);if(g!=null)return g;if(t.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(h.valueOf(),d.valueOf())},"Array, number":f,"Array, BigNumber":function(h,d){return f(h,d.toNumber())},"Matrix, number":p,"Matrix, BigNumber":function(h,d){return p(h,d.toNumber())},"Unit, number | BigNumber":function(h,d){return h.pow(d)}});function c(m,h){if(t.predictable&&!Ue(h)&&m<0)try{var d=u(h),g=l(d);if((h===g||Math.abs((h-g)/h)<1e-14)&&d.d%2===1)return(d.n%2===0?1:-1)*Math.pow(-m,h)}catch(y){}return t.predictable&&(m<-1&&h===1/0||m>-1&&m<0&&h===-1/0)?NaN:Ue(h)||m>=0||t.predictable?Eg(m,h):m*m<1&&h===1/0||m*m>1&&h===-1/0?0:new s(m,0).pow(h,0)}function f(m,h){if(!Ue(h))throw new TypeError("For A^b, b must be an integer (value is "+h+")");var d=nt(m);if(d.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+d.length+" dimensions)");if(d[0]!==d[1])throw new Error("For A^b, A must be square (size is "+d[0]+"x"+d[1]+")");if(h<0)try{return f(o(m),-h)}catch(w){throw w.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+h+")"):w}for(var g=n(d[0]).valueOf(),y=m;h>=1;)(h&1)===1&&(g=i(y,g)),h>>=1,y=i(y,y);return g}function p(m,h){return a(f(m.valueOf(),h))}});var lu="Number of decimals in function round must be an integer",y_="round",tH=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Xy=F(y_,tH,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,BigNumber:a,DenseMatrix:o}=r,l=jt({typed:e,equalScalar:n}),u=Vt({typed:e,DenseMatrix:o}),s=Tr({typed:e});return e(y_,{number:Cg,"number, number":Cg,"number, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(lu);return new a(f).toDecimalPlaces(p.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,p){if(p%1)throw new TypeError(lu);return f.round(p)},"Complex, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(lu);var m=p.toNumber();return f.round(m)},BigNumber:function(f){return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(lu);return f.toDecimalPlaces(p.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,p){if(p%1)throw new TypeError(lu);return f.round(p)},"Fraction, BigNumber":function(f,p){if(!p.isInteger())throw new TypeError(lu);return f.round(p.toNumber())},"Unit, number, Unit":e.referToSelf(c=>function(f,p,m){var h=f.toNumeric(m);return m.multiply(c(h,p))}),"Unit, BigNumber, Unit":e.referToSelf(c=>(f,p,m)=>c(f,p.toNumber(),m)),"Unit, Unit":e.referToSelf(c=>(f,p)=>c(f,0,p)),"Array | Matrix, number, Unit":e.referToSelf(c=>(f,p,m)=>Ze(f,h=>c(h,p,m),!0)),"Array | Matrix, BigNumber, Unit":e.referToSelf(c=>(f,p,m)=>c(f,p.toNumber(),m)),"Array | Matrix, Unit":e.referToSelf(c=>(f,p)=>c(f,0,p)),"Array | Matrix":e.referToSelf(c=>f=>Ze(f,c,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(c=>(f,p)=>l(f,p,c,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(c=>(f,p)=>s(f,p,c,!1)),"Array, number | BigNumber":e.referToSelf(c=>(f,p)=>s(t(f),p,c,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(c=>(f,p)=>n(f,0)?i(p.size(),p.storage()):u(p,f,c,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(c=>(f,p)=>n(f,0)?i(p.size(),p.storage()):s(p,f,c,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(c=>(f,p)=>s(t(p),f,c,!0).valueOf())})});var x_="log",rH=["config","typed","divideScalar","Complex"],Qy=F(x_,rH,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r;return e(x_,{number:function(o){return o>=0||t.predictable?wF(o):new i(o,0).log()},Complex:function(o){return o.log()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.ln():new i(o.toNumber(),0).log()},"any, any":e.referToSelf(a=>(o,l)=>n(a(o),a(l)))})});var b_="log1p",nH=["typed","config","divideScalar","log","Complex"],Ky=F(b_,nH,r=>{var{typed:e,config:t,divideScalar:n,log:i,Complex:a}=r;return e(b_,{number:function(u){return u>=-1||t.predictable?Yf(u):o(new a(u,0))},Complex:o,BigNumber:function(u){var s=u.plus(1);return!s.isNegative()||t.predictable?s.ln():o(new a(u.toNumber(),0))},"Array | Matrix":e.referToSelf(l=>u=>Ze(u,l)),"any, any":e.referToSelf(l=>(u,s)=>n(l(u),i(s)))});function o(l){var u=l.re+1;return new a(Math.log(Math.sqrt(u*u+l.im*l.im)),Math.atan2(l.im,u))}});var D_="nthRoots",iH=["config","typed","divideScalar","Complex"],e0=F(D_,iH,r=>{var{typed:e,config:t,divideScalar:n,Complex:i}=r,a=[function(u){return new i(u,0)},function(u){return new i(0,u)},function(u){return new i(-u,0)},function(u){return new i(0,-u)}];function o(l,u){if(u<0)throw new Error("Root must be greater than zero");if(u===0)throw new Error("Root must be non-zero");if(u%1!==0)throw new Error("Root must be an integer");if(l===0||l.abs()===0)return[new i(0,0)];var s=typeof l=="number",c;(s||l.re===0||l.im===0)&&(s?c=2*+(l<0):l.im===0?c=2*+(l.re<0):c=2*+(l.im<0)+1);for(var f=l.arg(),p=l.abs(),m=[],h=Math.pow(p,1/u),d=0;d<u;d++){var g=(c+4*d)/u;if(g===Math.round(g)){m.push(a[g%4](h));continue}m.push(new i({r:h,phi:(f+2*Math.PI*d)/u}))}return m}return e(D_,{Complex:function(u){return o(u,2)},"Complex, number":o})});var w_="dotPow",aH=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],t0=F(w_,aH,r=>{var{typed:e,equalScalar:t,matrix:n,pow:i,DenseMatrix:a,concat:o}=r,l=ar({typed:e}),u=Ur({typed:e,DenseMatrix:a}),s=jt({typed:e,equalScalar:t}),c=Vt({typed:e,DenseMatrix:a}),f=pt({typed:e,matrix:n,concat:o}),p={};for(var m in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,m)&&!m.includes("Matrix")&&!m.includes("Array")&&(p[m]=i.signatures[m]);var h=e(p);return e(w_,f({elop:h,SS:u,DS:l,Ss:s,sS:c}))});var E_="dotDivide",oH=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],r0=F(E_,oH,r=>{var{typed:e,matrix:t,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o}=r,l=Ir({typed:e,equalScalar:n}),u=ar({typed:e}),s=Ur({typed:e,DenseMatrix:a}),c=jt({typed:e,equalScalar:n}),f=Vt({typed:e,DenseMatrix:a}),p=pt({typed:e,matrix:t,concat:o});return e(E_,p({elop:i,SS:s,DS:u,SD:l,Ss:c,sS:f}))});function ta(r){var{DenseMatrix:e}=r;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+ot(o)+")");var l=o[0],u=o[1];if(l!==u)throw new RangeError("Matrix must be square (size: "+ot(o)+")");var s=[];if($e(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var p=0;p<l;p++)s[p]=[f[p]];return new e({data:s,size:[l,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==l||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(Qo(i)){if(a){s=[];for(var m=0;m<l;m++)s[m]=[f[m][0]];return new e({data:s,size:[l,1],datatype:i._datatype})}return i}if(Ii(i)){for(var h=0;h<l;h++)s[h]=[0];for(var d=i._values,g=i._index,y=i._ptr,w=y[1],v=y[0];v<w;v++){var x=g[v];s[x][0]=d[v]}return new e({data:s,size:[l,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Nt(i)){var D=nt(i);if(D.length===1){if(D[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<l;b++)s[b]=[i[b]];return new e({data:s,size:[l,1]})}if(D.length===2){if(D[0]!==l||D[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<l;C++)s[C]=[i[C][0]];return new e({data:s,size:[l,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var C_="lsolve",sH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n0=F(C_,sH,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=r,u=ta({DenseMatrix:l});return e(C_,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.valueOf()}});function s(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=[],y=f._data,w=0;w<d;w++){var v=m[w][0]||0,x=void 0;if(o(v,0))x=0;else{var D=y[w][w];if(o(D,0))throw new Error("Linear system cannot be solved since matrix is singular");x=n(v,D);for(var b=w+1;b<h;b++)m[b]=[a(m[b][0]||0,i(x,y[b][w]))]}g[w]=[x]}return new l({data:g,size:[h,1]})}function c(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=f._values,y=f._index,w=f._ptr,v=[],x=0;x<d;x++){var D=m[x][0]||0;if(o(D,0))v[x]=[0];else{for(var b=0,C=[],S=[],E=w[x],A=w[x+1],M=E;M<A;M++){var I=y[M];I===x?b=g[M]:I>x&&(C.push(g[M]),S.push(I))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=n(D,b),L=0,P=S.length;L<P;L++){var B=S[L];m[B]=[a(m[B][0]||0,i(k,C[L]))]}v[x]=[k]}}return new l({data:v,size:[h,1]})}});var A_="usolve",uH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],i0=F(A_,uH,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=r,u=ta({DenseMatrix:l});return e(A_,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.valueOf()}});function s(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=[],y=f._data,w=d-1;w>=0;w--){var v=m[w][0]||0,x=void 0;if(o(v,0))x=0;else{var D=y[w][w];if(o(D,0))throw new Error("Linear system cannot be solved since matrix is singular");x=n(v,D);for(var b=w-1;b>=0;b--)m[b]=[a(m[b][0]||0,i(x,y[b][w]))]}g[w]=[x]}return new l({data:g,size:[h,1]})}function c(f,p){p=u(f,p,!0);for(var m=p._data,h=f._size[0],d=f._size[1],g=f._values,y=f._index,w=f._ptr,v=[],x=d-1;x>=0;x--){var D=m[x][0]||0;if(o(D,0))v[x]=[0];else{for(var b=0,C=[],S=[],E=w[x],A=w[x+1],M=A-1;M>=E;M--){var I=y[M];I===x?b=g[M]:I<x&&(C.push(g[M]),S.push(I))}if(o(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var k=n(D,b),L=0,P=S.length;L<P;L++){var B=S[L];m[B]=[a(m[B][0],i(k,C[L]))]}v[x]=[k]}}return new l({data:v,size:[h,1]})}});var S_="lsolveAll",lH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],a0=F(S_,lH,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=r,u=ta({DenseMatrix:l});return e(S_,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.map(g=>g.valueOf())}});function s(f,p){for(var m=[u(f,p,!0)._data.map(S=>S[0])],h=f._data,d=f._size[0],g=f._size[1],y=0;y<g;y++)for(var w=m.length,v=0;v<w;v++){var x=m[v];if(o(h[y][y],0))if(o(x[y],0)){if(v===0){var b=[...x];b[y]=1;for(var C=y+1;C<g;C++)b[C]=a(b[C],h[C][y]);m.push(b)}}else{if(v===0)return[];m.splice(v,1),v-=1,w-=1}else{x[y]=n(x[y],h[y][y]);for(var D=y+1;D<g;D++)x[D]=a(x[D],i(x[y],h[D][y]))}}return m.map(S=>new l({data:S.map(E=>[E]),size:[d,1]}))}function c(f,p){for(var m=[u(f,p,!0)._data.map(ee=>ee[0])],h=f._size[0],d=f._size[1],g=f._values,y=f._index,w=f._ptr,v=0;v<d;v++)for(var x=m.length,D=0;D<x;D++){for(var b=m[D],C=[],S=[],E=w[v],A=w[v+1],M=0,I=E;I<A;I++){var k=y[I];k===v?M=g[I]:k>v&&(C.push(g[I]),S.push(k))}if(o(M,0))if(o(b[v],0)){if(D===0){var T=[...b];T[v]=1;for(var z=0,O=S.length;z<O;z++){var J=S[z];T[J]=a(T[J],C[z])}m.push(T)}}else{if(D===0)return[];m.splice(D,1),D-=1,x-=1}else{b[v]=n(b[v],M);for(var L=0,P=S.length;L<P;L++){var B=S[L];b[B]=a(b[B],i(b[v],C[L]))}}}return m.map(ee=>new l({data:ee.map(j=>[j]),size:[h,1]}))}});var F_="usolveAll",cH=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],o0=F(F_,cH,r=>{var{typed:e,matrix:t,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:l}=r,u=ta({DenseMatrix:l});return e(F_,{"SparseMatrix, Array | Matrix":function(p,m){return c(p,m)},"DenseMatrix, Array | Matrix":function(p,m){return s(p,m)},"Array, Array | Matrix":function(p,m){var h=t(p),d=s(h,m);return d.map(g=>g.valueOf())}});function s(f,p){for(var m=[u(f,p,!0)._data.map(S=>S[0])],h=f._data,d=f._size[0],g=f._size[1],y=g-1;y>=0;y--)for(var w=m.length,v=0;v<w;v++){var x=m[v];if(o(h[y][y],0))if(o(x[y],0)){if(v===0){var b=[...x];b[y]=1;for(var C=y-1;C>=0;C--)b[C]=a(b[C],h[C][y]);m.push(b)}}else{if(v===0)return[];m.splice(v,1),v-=1,w-=1}else{x[y]=n(x[y],h[y][y]);for(var D=y-1;D>=0;D--)x[D]=a(x[D],i(x[y],h[D][y]))}}return m.map(S=>new l({data:S.map(E=>[E]),size:[d,1]}))}function c(f,p){for(var m=[u(f,p,!0)._data.map(ee=>ee[0])],h=f._size[0],d=f._size[1],g=f._values,y=f._index,w=f._ptr,v=d-1;v>=0;v--)for(var x=m.length,D=0;D<x;D++){for(var b=m[D],C=[],S=[],E=w[v],A=w[v+1],M=0,I=A-1;I>=E;I--){var k=y[I];k===v?M=g[I]:k<v&&(C.push(g[I]),S.push(k))}if(o(M,0))if(o(b[v],0)){if(D===0){var T=[...b];T[v]=1;for(var z=0,O=S.length;z<O;z++){var J=S[z];T[J]=a(T[J],C[z])}m.push(T)}}else{if(D===0)return[];m.splice(D,1),D-=1,x-=1}else{b[v]=n(b[v],M);for(var L=0,P=S.length;L<P;L++){var B=S[L];b[B]=a(b[B],i(b[v],C[L]))}}}return m.map(ee=>new l({data:ee.map(j=>[j]),size:[h,1]}))}});var fH="matAlgo08xS0Sid",pH=["typed","equalScalar"],cu=F(fH,pH,r=>{var{typed:e,equalScalar:t}=r;return function(i,a,o){var l=i._values,u=i._index,s=i._ptr,c=i._size,f=i._datatype,p=a._values,m=a._index,h=a._ptr,d=a._size,g=a._datatype;if(c.length!==d.length)throw new ut(c.length,d.length);if(c[0]!==d[0]||c[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+d+")");if(!l||!p)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var y=c[0],w=c[1],v,x=t,D=0,b=o;typeof f=="string"&&f===g&&(v=f,x=e.find(t,[v,v]),D=e.convert(0,v),b=e.find(o,[v,v]));for(var C=[],S=[],E=[],A=[],M=[],I,k,L,P,B=0;B<w;B++){E[B]=S.length;var T=B+1;for(k=s[B],L=s[B+1],I=k;I<L;I++)P=u[I],M[P]=T,A[P]=l[I],S.push(P);for(k=h[B],L=h[B+1],I=k;I<L;I++)P=m[I],M[P]===T&&(A[P]=b(A[P],p[I]));for(I=E[B];I<S.length;){P=S[I];var z=A[P];x(z,D)?S.splice(I,1):(C.push(z),I++)}}return E[w]=S.length,i.createSparseMatrix({values:C,index:S,ptr:E,size:[y,w],datatype:v})}});var fu=F("useMatrixForArrayScalar",["typed","matrix"],r=>{var{typed:e,matrix:t}=r;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,a)=>n(t(i),a).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,a)=>n(t(i),a).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,a)=>n(i,t(a)).valueOf())}});var N_="leftShift",mH=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],s0=F(N_,mH,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,l=gn({typed:e}),u=Ir({typed:e,equalScalar:n}),s=cu({typed:e,equalScalar:n}),c=Un({typed:e,DenseMatrix:a}),f=jt({typed:e,equalScalar:n}),p=Tr({typed:e}),m=pt({typed:e,matrix:t,concat:o}),h=fu({typed:e,matrix:t});return e(N_,{"number, number":_g,"BigNumber, BigNumber":yN,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():f(g,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():p(g,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):c(y,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):p(y,g,d,!0))},h,m({SS:s,DS:l,SD:u}))});var __="rightArithShift",dH=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],u0=F(__,dH,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,l=gn({typed:e}),u=Ir({typed:e,equalScalar:n}),s=cu({typed:e,equalScalar:n}),c=Un({typed:e,DenseMatrix:a}),f=jt({typed:e,equalScalar:n}),p=Tr({typed:e}),m=pt({typed:e,matrix:t,concat:o}),h=fu({typed:e,matrix:t});return e(__,{"number, number":Mg,"BigNumber, BigNumber":xN,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():f(g,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():p(g,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):c(y,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):p(y,g,d,!0))},h,m({SS:s,DS:l,SD:u}))});var M_="rightLogShift",hH=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],l0=F(M_,hH,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,DenseMatrix:a,concat:o}=r,l=gn({typed:e}),u=Ir({typed:e,equalScalar:n}),s=cu({typed:e,equalScalar:n}),c=Un({typed:e,DenseMatrix:a}),f=jt({typed:e,equalScalar:n}),p=Tr({typed:e}),m=pt({typed:e,matrix:t,concat:o}),h=fu({typed:e,matrix:t});return e(M_,{"number, number":Tg,"SparseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():f(g,y,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(g,y)=>n(y,0)?g.clone():p(g,y,d,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):c(y,g,d,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(d=>(g,y)=>n(g,0)?i(y.size(),y.storage()):p(y,g,d,!0))},h,m({SS:s,DS:l,SD:u}))});var T_="and",gH=["typed","matrix","equalScalar","zeros","not","concat"],c0=F(T_,gH,r=>{var{typed:e,matrix:t,equalScalar:n,zeros:i,not:a,concat:o}=r,l=Ir({typed:e,equalScalar:n}),u=uo({typed:e,equalScalar:n}),s=jt({typed:e,equalScalar:n}),c=Tr({typed:e}),f=pt({typed:e,matrix:t,concat:o});return e(T_,{"number, number":Rg,"Complex, Complex":function(m,h){return(m.re!==0||m.im!==0)&&(h.re!==0||h.im!==0)},"BigNumber, BigNumber":function(m,h){return!m.isZero()&&!h.isZero()&&!m.isNaN()&&!h.isNaN()},"Unit, Unit":e.referToSelf(p=>(m,h)=>p(m.value||0,h.value||0)),"SparseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):s(m,h,p,!1)),"DenseMatrix, any":e.referToSelf(p=>(m,h)=>a(h)?i(m.size(),m.storage()):c(m,h,p,!1)),"any, SparseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):s(h,m,p,!0)),"any, DenseMatrix":e.referToSelf(p=>(m,h)=>a(m)?i(m.size(),m.storage()):c(h,m,p,!0)),"Array, any":e.referToSelf(p=>(m,h)=>p(t(m),h).valueOf()),"any, Array":e.referToSelf(p=>(m,h)=>p(m,t(h)).valueOf())},f({SS:u,DS:l}))});var Cp="compare",vH=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],f0=F(Cp,vH,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:l,concat:u}=r,s=ar({typed:e}),c=so({typed:e,equalScalar:n}),f=Vt({typed:e,DenseMatrix:l}),p=pt({typed:e,matrix:i,concat:u}),m=di({typed:e});return e(Cp,yH({typed:e,config:t}),{"boolean, boolean":function(d,g){return d===g?0:d>g?1:-1},"BigNumber, BigNumber":function(d,g){return Kr(d,g,t.epsilon)?new a(0):new a(d.cmp(g))},"Fraction, Fraction":function(d,g){return new o(d.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},m,p({SS:c,DS:s,Ss:f}))}),yH=F(Cp,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Cp,{"number, number":function(i,a){return Mr(i,a,t.epsilon)?0:i>a?1:-1}})});var os=Fr(B_(),1);var O_="compareNatural",xH=["typed","compare"],p0=F(O_,xH,r=>{var{typed:e,compare:t}=r,n=t.signatures["boolean,boolean"];return e(O_,{"any, any":i});function i(u,s){var c=St(u),f=St(s),p;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return p=t(u,s),p.toString()!=="0"?p>0?1:-1:(0,os.default)(c,f);var m=["Array","DenseMatrix","SparseMatrix"];if(m.includes(c)||m.includes(f))return p=a(i,u,s),p!==0?p:(0,os.default)(c,f);if(c!==f)return(0,os.default)(c,f);if(c==="Complex")return bH(u,s);if(c==="Unit")return u.equalBase(s)?i(u.value,s.value):o(i,u.formatUnits(),s.formatUnits());if(c==="boolean")return n(u,s);if(c==="string")return(0,os.default)(u,s);if(c==="Object")return l(i,u,s);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function a(u,s,c){return Ii(s)&&Ii(c)?o(u,s.toJSON().values,c.toJSON().values):Ii(s)?a(u,s.toArray(),c):Ii(c)?a(u,s,c.toArray()):Qo(s)?a(u,s.toJSON().data,c):Qo(c)?a(u,s,c.toJSON().data):Array.isArray(s)?Array.isArray(c)?o(u,s,c):a(u,s,[c]):a(u,[s],c)}function o(u,s,c){for(var f=0,p=Math.min(s.length,c.length);f<p;f++){var m=u(s[f],c[f]);if(m!==0)return m}return s.length>c.length?1:s.length<c.length?-1:0}function l(u,s,c){var f=Object.keys(s),p=Object.keys(c);f.sort(os.default),p.sort(os.default);var m=o(u,f,p);if(m!==0)return m;for(var h=0;h<f.length;h++){var d=u(s[f[h]],c[p[h]]);if(d!==0)return d}return 0}});function bH(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0}var k_="compareText",DH=["typed","matrix","concat"];ep.signature="any, any";var m0=F(k_,DH,r=>{var{typed:e,matrix:t,concat:n}=r,i=pt({typed:e,matrix:t,concat:n});return e(k_,ep,i({elop:ep,Ds:!0}))});var Ap="equal",wH=["typed","matrix","equalScalar","DenseMatrix","concat"],d0=F(Ap,wH,r=>{var{typed:e,matrix:t,equalScalar:n,DenseMatrix:i,concat:a}=r,o=ar({typed:e}),l=Ur({typed:e,DenseMatrix:i}),u=Vt({typed:e,DenseMatrix:i}),s=pt({typed:e,matrix:t,concat:a});return e(Ap,EH({typed:e,equalScalar:n}),s({elop:n,SS:l,DS:o,Ss:u}))}),EH=F(Ap,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(Ap,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:t(i,a)}})});var P_="equalText",CH=["typed","compareText","isZero"],h0=F(P_,CH,r=>{var{typed:e,compareText:t,isZero:n}=r;return e(P_,{"any, any":function(a,o){return n(t(a,o))}})});var Sp="smaller",AH=["typed","config","matrix","DenseMatrix","concat"],g0=F(Sp,AH,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=ar({typed:e}),l=Ur({typed:e,DenseMatrix:i}),u=Vt({typed:e,DenseMatrix:i}),s=pt({typed:e,matrix:n,concat:a}),c=di({typed:e});return e(Sp,SH({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<p,"BigNumber, BigNumber":function(p,m){return p.lt(m)&&!Kr(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===-1,"Complex, Complex":function(p,m){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),SH=F(Sp,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Sp,{"number, number":function(i,a){return i<a&&!Mr(i,a,t.epsilon)}})});var Fp="smallerEq",FH=["typed","config","matrix","DenseMatrix","concat"],v0=F(Fp,FH,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=ar({typed:e}),l=Ur({typed:e,DenseMatrix:i}),u=Vt({typed:e,DenseMatrix:i}),s=pt({typed:e,matrix:n,concat:a}),c=di({typed:e});return e(Fp,NH({typed:e,config:t}),{"boolean, boolean":(f,p)=>f<=p,"BigNumber, BigNumber":function(p,m){return p.lte(m)||Kr(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),NH=F(Fp,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Fp,{"number, number":function(i,a){return i<=a||Mr(i,a,t.epsilon)}})});var Np="larger",_H=["typed","config","matrix","DenseMatrix","concat"],y0=F(Np,_H,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=ar({typed:e}),l=Ur({typed:e,DenseMatrix:i}),u=Vt({typed:e,DenseMatrix:i}),s=pt({typed:e,matrix:n,concat:a}),c=di({typed:e});return e(Np,MH({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>p,"BigNumber, BigNumber":function(p,m){return p.gt(m)&&!Kr(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),MH=F(Np,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Np,{"number, number":function(i,a){return i>a&&!Mr(i,a,t.epsilon)}})});var _p="largerEq",TH=["typed","config","matrix","DenseMatrix","concat"],x0=F(_p,TH,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:i,concat:a}=r,o=ar({typed:e}),l=Ur({typed:e,DenseMatrix:i}),u=Vt({typed:e,DenseMatrix:i}),s=pt({typed:e,matrix:n,concat:a}),c=di({typed:e});return e(_p,IH({typed:e,config:t}),{"boolean, boolean":(f,p)=>f>=p,"BigNumber, BigNumber":function(p,m){return p.gte(m)||Kr(p,m,t.epsilon)},"Fraction, Fraction":(f,p)=>f.compare(p)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,s({SS:l,DS:o,Ss:u}))}),IH=F(_p,["typed","config"],r=>{var{typed:e,config:t}=r;return e(_p,{"number, number":function(i,a){return i>=a||Mr(i,a,t.epsilon)}})});var R_="deepEqual",BH=["typed","equal"],b0=F(R_,BH,r=>{var{typed:e,equal:t}=r;return e(R_,{"any, any":function(a,o){return n(a.valueOf(),o.valueOf())}});function n(i,a){if(Array.isArray(i))if(Array.isArray(a)){var o=i.length;if(o!==a.length)return!1;for(var l=0;l<o;l++)if(!n(i[l],a[l]))return!1;return!0}else return!1;else return Array.isArray(a)?!1:t(i,a)}});var Mp="unequal",OH=["typed","config","equalScalar","matrix","DenseMatrix","concat"],D0=F(Mp,OH,r=>{var{typed:e,config:t,equalScalar:n,matrix:i,DenseMatrix:a,concat:o}=r,l=ar({typed:e}),u=Ur({typed:e,DenseMatrix:a}),s=Vt({typed:e,DenseMatrix:a}),c=pt({typed:e,matrix:i,concat:o});return e(Mp,kH({typed:e,equalScalar:n}),c({elop:f,SS:u,DS:l,Ss:s}));function f(p,m){return!n(p,m)}}),kH=F(Mp,["typed","equalScalar"],r=>{var{typed:e,equalScalar:t}=r;return e(Mp,{"any, any":function(i,a){return i===null?a!==null:a===null?i!==null:i===void 0?a!==void 0:a===void 0?i!==void 0:!t(i,a)}})});var L_="partitionSelect",PH=["typed","isNumeric","isNaN","compare"],w0=F(L_,PH,r=>{var{typed:e,isNumeric:t,isNaN:n,compare:i}=r,a=i,o=(s,c)=>-i(s,c);return e(L_,{"Array | Matrix, number":function(c,f){return l(c,f,a)},"Array | Matrix, number, string":function(c,f,p){if(p==="asc")return l(c,f,a);if(p==="desc")return l(c,f,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":l});function l(s,c,f){if(!Ue(c)||c<0)throw new Error("k must be a non-negative integer");if($e(s)){var p=s.size();if(p.length>1)throw new Error("Only one dimensional matrices supported");return u(s.valueOf(),c,f)}if(Array.isArray(s))return u(s,c,f)}function u(s,c,f){if(c>=s.length)throw new Error("k out of bounds");for(var p=0;p<s.length;p++)if(t(s[p])&&n(s[p]))return s[p];for(var m=0,h=s.length-1;m<h;){for(var d=m,g=h,y=s[Math.floor(Math.random()*(h-m+1))+m];d<g;)if(f(s[d],y)>=0){var w=s[g];s[g]=s[d],s[d]=w,--g}else++d;f(s[d],y)>0&&--d,c<=d?h=d:m=d+1}return s[c]}});var V_="sort",RH=["typed","matrix","compare","compareNatural"],E0=F(V_,RH,r=>{var{typed:e,matrix:t,compare:n,compareNatural:i}=r,a=n,o=(c,f)=>-n(c,f);return e(V_,{Array:function(f){return u(f),f.sort(a)},Matrix:function(f){return s(f),t(f.toArray().sort(a),f.storage())},"Array, function":function(f,p){return u(f),f.sort(p)},"Matrix, function":function(f,p){return s(f),t(f.toArray().sort(p),f.storage())},"Array, string":function(f,p){return u(f),f.sort(l(p))},"Matrix, string":function(f,p){return s(f),t(f.toArray().sort(l(p)),f.storage())}});function l(c){if(c==="asc")return a;if(c==="desc")return o;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function u(c){if(nt(c).length!==1)throw new Error("One dimensional array expected")}function s(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}});var U_="max",LH=["typed","config","numeric","larger"],Sl=F(U_,LH,r=>{var{typed:e,config:t,numeric:n,larger:i}=r;return e(U_,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return oo(u,s.valueOf(),a)},"...":function(u){if(mi(u))throw new TypeError("Scalar values expected in function max");return o(u)}});function a(l,u){try{return i(l,u)?l:u}catch(s){throw Er(s,"max",u)}}function o(l){var u;if(hn(l,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(c){throw Er(c,"max",s)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,t.number)),u}});var q_="min",VH=["typed","config","numeric","smaller"],Fl=F(q_,VH,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r;return e(q_,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,s){return oo(u,s.valueOf(),a)},"...":function(u){if(mi(u))throw new TypeError("Scalar values expected in function min");return o(u)}});function a(l,u){try{return i(l,u)?l:u}catch(s){throw Er(s,"min",u)}}function o(l){var u;if(hn(l,function(s){try{isNaN(s)&&typeof s=="number"?u=NaN:(u===void 0||i(s,u))&&(u=s)}catch(c){throw Er(c,"min",s)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,t.number)),u}});var UH="ImmutableDenseMatrix",qH=["smaller","DenseMatrix"],C0=F(UH,qH,r=>{var{smaller:e,DenseMatrix:t}=r;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Dr(a))throw new Error("Invalid datatype: "+a);if($e(i)||Nt(i)){var o=new t(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&Nt(i.data)&&Nt(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+St(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new t,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=t.prototype.subset.call(this,i);return $e(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:tt(this._data),size:tt(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||e(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||e(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0});var zH="Index",$H=["ImmutableDenseMatrix","getMatrixDataType"],A0=F(zH,$H,r=>{var{ImmutableDenseMatrix:e,getMatrixDataType:t}=r;function n(a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,l=arguments.length;o<l;o++){var u=arguments[o],s=Nt(u),c=$e(u),f=null;if(Js(u))this._dimensions.push(u),this._isScalar=!1;else if(s||c){var p=void 0;t(u)==="boolean"?(s&&(p=i(z_(u).valueOf())),c&&(p=i(z_(u._data).valueOf())),f=u.valueOf().length):p=i(u.valueOf()),this._dimensions.push(p);var m=p.size();(m.length!==1||m[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof u=="number")this._dimensions.push(i([u]));else if(typeof u=="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(a){for(var o=0,l=a.length;o<l;o++)if(typeof a[o]!="number"||!Ue(a[o]))throw new TypeError("Index parameters must be positive integer numbers");return new e(a)}return n.prototype.clone=function(){var a=new n;return a._dimensions=tt(this._dimensions),a._isScalar=this._isScalar,a._sourceSize=this._sourceSize,a},n.create=function(a){var o=new n;return n.apply(o,a),o},n.prototype.size=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?1:u.size()[0]}return a},n.prototype.max=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.max()}return a},n.prototype.min=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a[o]=typeof u=="string"?u:u.min()}return a},n.prototype.forEach=function(a){for(var o=0,l=this._dimensions.length;o<l;o++)a(this._dimensions[o],o,this)},n.prototype.dimension=function(a){return this._dimensions[a]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];a.push(typeof u=="string"?u:u.toArray())}return a},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var a=[],o=0,l=this._dimensions.length;o<l;o++){var u=this._dimensions[o];typeof u=="string"?a.push(JSON.stringify(u)):a.push(u.toString())}return"["+a.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(a){return n.create(a.dimensions)},n},{isClass:!0});function z_(r){var e=[];return r.forEach((t,n)=>{t&&e.push(n)}),e}var HH="FibonacciHeap",WH=["smaller","larger"],S0=F(HH,WH,r=>{var{smaller:e,larger:t}=r,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var p={key:c,value:f,degree:0};if(this._minimum){var m=this._minimum;p.left=m,p.right=m.right,m.right=p,p.right.left=p,e(c,m.key)&&(this._minimum=p)}else p.left=p,p.right=p,this._minimum=p;return this._size++,p},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,p=c.degree,m=c.child;p>0;){var h=m.right;m.left.right=m.right,m.right.left=m.left,m.left=f,m.right=f.right,f.right=m,m.right.left=m,m.parent=null,m=h,p--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=s(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=a(this._minimum,c,-1),this.extractMinimum()};function a(c,f,p){f.key=p;var m=f.parent;return m&&e(f.key,m.key)&&(o(c,f,m),l(c,m)),e(f.key,c.key)&&(c=f),c}function o(c,f,p){f.left.right=f.right,f.right.left=f.left,p.degree--,p.child===f&&(p.child=f.right),p.degree===0&&(p.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function l(c,f){var p=f.parent;p&&(f.mark?(o(c,f,p),l(p)):f.mark=!0)}var u=function(f,p){f.left.right=f.right,f.right.left=f.left,f.parent=p,p.child?(f.left=p.child,f.right=p.child.right,p.child.right=f,f.right.left=f):(p.child=f,f.right=f,f.left=f),p.degree++,f.mark=!1};function s(c,f){var p=Math.floor(Math.log(f)*n)+1,m=new Array(p),h=0,d=c;if(d)for(h++,d=d.right;d!==c;)h++,d=d.right;for(var g;h>0;){for(var y=d.degree,w=d.right;g=m[y],!!g;){if(t(d.key,g.key)){var v=g;g=d,d=v}u(g,d),m[y]=null,y++}m[y]=d,d=w,h--}c=null;for(var x=0;x<p;x++)g=m[x],g&&(c?(g.left.right=g.right,g.right.left=g.left,g.left=c,g.right=c.right,c.right=g,g.right.left=g,e(g.key,c.key)&&(c=g)):c=g);return c}return i},{isClass:!0});var GH="Spa",jH=["addScalar","equalScalar","FibonacciHeap"],F0=F(GH,jH,r=>{var{addScalar:e,equalScalar:t,FibonacciHeap:n}=r;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(a,o){if(this._values[a])this._values[a].value=o;else{var l=this._heap.insert(a,o);this._values[a]=l}},i.prototype.get=function(a){var o=this._values[a];return o?o.value:0},i.prototype.accumulate=function(a,o){var l=this._values[a];l?l.value=e(l.value,o):(l=this._heap.insert(a,o),this._values[a]=l)},i.prototype.forEach=function(a,o,l){var u=this._heap,s=this._values,c=[],f=u.extractMinimum();for(f&&c.push(f);f&&f.key<=o;)f.key>=a&&(t(f.value,0)||l(f.key,f.value,this)),f=u.extractMinimum(),f&&c.push(f);for(var p=0;p<c.length;p++){var m=c[p];f=u.insert(m.key,m.value),s[f.key]=f}},i.prototype.swap=function(a,o){var l=this._values[a],u=this._values[o];if(!l&&u)l=this._heap.insert(a,u.value),this._heap.remove(u),this._values[a]=l,this._values[o]=void 0;else if(l&&!u)u=this._heap.insert(o,l.value),this._heap.remove(l),this._values[o]=u,this._values[a]=void 0;else if(l&&u){var s=l.value;l.value=u.value,u.value=s}},i},{isClass:!0});var $_=ns(function(r){return new r(1).exp()},{hasher:Tp}),H_=ns(function(r){return new r(1).plus(new r(5).sqrt()).div(2)},{hasher:Tp}),Nl=ns(function(r){return r.acos(-1)},{hasher:Tp}),W_=ns(function(r){return Nl(r).times(2)},{hasher:Tp});function Tp(r){return r[0].precision}function G_(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function N0(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?G_(Object(t),!0).forEach(function(n){zt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):G_(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var ZH="Unit",YH=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],_0=F(ZH,YH,r=>{var{on:e,config:t,addScalar:n,subtractScalar:i,multiplyScalar:a,divideScalar:o,pow:l,abs:u,fix:s,round:c,equal:f,isNumeric:p,format:m,number:h,Complex:d,BigNumber:g,Fraction:y}=r,w=h;function v(U,H){if(!(this instanceof v))throw new Error("Constructor must be called with the new operator");if(!(U==null||p(U)||Nn(U)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,H===void 0)this.units=[],this.dimensions=z.map($=>0);else if(typeof H=="string"){var fe=v.parse(H);this.units=fe.units,this.dimensions=fe.dimensions}else if(on(H)&&H.value===null)this.fixPrefix=H.fixPrefix,this.skipAutomaticSimplification=H.skipAutomaticSimplification,this.dimensions=H.dimensions.slice(0),this.units=H.units.map($=>hr({},$));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(U)}Object.defineProperty(v,"name",{value:"Unit"}),v.prototype.constructor=v,v.prototype.type="Unit",v.prototype.isUnit=!0;var x,D,b;function C(){for(;b===" "||b==="	";)A()}function S(U){return U>="0"&&U<="9"||U==="."}function E(U){return U>="0"&&U<="9"}function A(){D++,b=x.charAt(D)}function M(U){D=U,b=x.charAt(D)}function I(){var U="",H=D;if(b==="+"?A():b==="-"&&(U+=b,A()),!S(b))return M(H),null;if(b==="."){if(U+=b,A(),!E(b))return M(H),null}else{for(;E(b);)U+=b,A();b==="."&&(U+=b,A())}for(;E(b);)U+=b,A();if(b==="E"||b==="e"){var fe="",$=D;if(fe+=b,A(),(b==="+"||b==="-")&&(fe+=b,A()),!E(b))return M($),U;for(U=U+fe;E(b);)U+=b,A()}return U}function k(){for(var U="";E(b)||v.isValidAlpha(b);)U+=b,A();var H=U.charAt(0);return v.isValidAlpha(H)?U:null}function L(U){return b===U?(A(),U):null}v.parse=function(U,H){if(H=H||{},x=U,D=-1,b="",typeof x!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var fe=new v;fe.units=[];var $=1,Q=!1;A(),C();var te=I(),he=null;if(te){if(t.number==="BigNumber")he=new g(te);else if(t.number==="Fraction")try{he=new y(te)}catch(pe){he=parseFloat(te)}else he=parseFloat(te);C(),L("*")?($=1,Q=!0):L("/")&&($=-1,Q=!0)}for(var be=[],Pe=1;;){for(C();b==="(";)be.push($),Pe*=$,$=1,A(),C();var Fe=void 0;if(b){var mt=b;if(Fe=k(),Fe===null)throw new SyntaxError('Unexpected "'+mt+'" in "'+x+'" at index '+D.toString())}else break;var gt=P(Fe);if(gt===null)throw new SyntaxError('Unit "'+Fe+'" not found.');var Lt=$*Pe;if(C(),L("^")){C();var Yt=I();if(Yt===null)throw new SyntaxError('In "'+U+'", "^" must be followed by a floating-point number');Lt*=Yt}fe.units.push({unit:gt.unit,prefix:gt.prefix,power:Lt});for(var W=0;W<z.length;W++)fe.dimensions[W]+=(gt.unit.dimensions[W]||0)*Lt;for(C();b===")";){if(be.length===0)throw new SyntaxError('Unmatched ")" in "'+x+'" at index '+D.toString());Pe/=be.pop(),A(),C()}if(Q=!1,L("*")?($=1,Q=!0):L("/")?($=-1,Q=!0):$=1,gt.unit.base){var ne=gt.unit.base.key;oe.auto[ne]={unit:gt.unit,prefix:gt.prefix}}}if(C(),b)throw new SyntaxError('Could not parse: "'+U+'"');if(Q)throw new SyntaxError('Trailing characters: "'+U+'"');if(be.length!==0)throw new SyntaxError('Unmatched "(" in "'+x+'"');if(fe.units.length===0&&!H.allowNoUnits)throw new SyntaxError('"'+U+'" contains no units');return fe.value=he!==void 0?fe._normalize(he):null,fe},v.prototype.clone=function(){var U=new v;U.fixPrefix=this.fixPrefix,U.skipAutomaticSimplification=this.skipAutomaticSimplification,U.value=tt(this.value),U.dimensions=this.dimensions.slice(0),U.units=[];for(var H=0;H<this.units.length;H++){U.units[H]={};for(var fe in this.units[H])je(this.units[H],fe)&&(U.units[H][fe]=this.units[H][fe])}return U},v.prototype.valueType=function(){return St(this.value)},v.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},v.prototype._normalize=function(U){if(U==null||this.units.length===0)return U;for(var H=U,fe=v._getNumberConverter(St(U)),$=0;$<this.units.length;$++){var Q=fe(this.units[$].unit.value),te=fe(this.units[$].prefix.value),he=fe(this.units[$].power);H=a(H,l(a(Q,te),he))}return H},v.prototype._denormalize=function(U,H){if(U==null||this.units.length===0)return U;for(var fe=U,$=v._getNumberConverter(St(U)),Q=0;Q<this.units.length;Q++){var te=$(this.units[Q].unit.value),he=$(this.units[Q].prefix.value),be=$(this.units[Q].power);fe=o(fe,l(a(te,he),be))}return fe};var P=ns(U=>{if(je(V,U)){var H=V[U],fe=H.prefixes[""];return{unit:H,prefix:fe}}for(var $ in V)if(je(V,$)&&zS(U,$)){var Q=V[$],te=U.length-$.length,he=U.substring(0,te),be=je(Q.prefixes,he)?Q.prefixes[he]:void 0;if(be!==void 0)return{unit:Q,prefix:be}}return null},{hasher:U=>U[0],limit:100});v.isValuelessUnit=function(U){return P(U)!==null},v.prototype.hasBase=function(U){if(typeof U=="string"&&(U=O[U]),!U)return!1;for(var H=0;H<z.length;H++)if(Math.abs((this.dimensions[H]||0)-(U.dimensions[H]||0))>1e-12)return!1;return!0},v.prototype.equalBase=function(U){for(var H=0;H<z.length;H++)if(Math.abs((this.dimensions[H]||0)-(U.dimensions[H]||0))>1e-12)return!1;return!0},v.prototype.equals=function(U){return this.equalBase(U)&&f(this.value,U.value)},v.prototype.multiply=function(U){for(var H=this.clone(),fe=on(U)?U:new v(U),$=0;$<z.length;$++)H.dimensions[$]=(this.dimensions[$]||0)+(fe.dimensions[$]||0);for(var Q=0;Q<fe.units.length;Q++){var te=N0({},fe.units[Q]);H.units.push(te)}if(this.value!==null||fe.value!==null){var he=this.value===null?this._normalize(1):this.value,be=fe.value===null?fe._normalize(1):fe.value;H.value=a(he,be)}else H.value=null;return on(U)&&(H.skipAutomaticSimplification=!1),B(H)},v.prototype.divideInto=function(U){return new v(U).divide(this)},v.prototype.divide=function(U){for(var H=this.clone(),fe=on(U)?U:new v(U),$=0;$<z.length;$++)H.dimensions[$]=(this.dimensions[$]||0)-(fe.dimensions[$]||0);for(var Q=0;Q<fe.units.length;Q++){var te=N0(N0({},fe.units[Q]),{},{power:-fe.units[Q].power});H.units.push(te)}if(this.value!==null||fe.value!==null){var he=this.value===null?this._normalize(1):this.value,be=fe.value===null?fe._normalize(1):fe.value;H.value=o(he,be)}else H.value=null;return on(U)&&(H.skipAutomaticSimplification=!1),B(H)},v.prototype.pow=function(U){for(var H=this.clone(),fe=0;fe<z.length;fe++)H.dimensions[fe]=(this.dimensions[fe]||0)*U;for(var $=0;$<H.units.length;$++)H.units[$].power*=U;return H.value!==null?H.value=l(H.value,U):H.value=null,H.skipAutomaticSimplification=!1,B(H)};function B(U){return U.equalBase(O.NONE)&&U.value!==null&&!t.predictable?U.value:U}v.prototype.abs=function(){var U=this.clone();if(U.value!==null)if(U._isDerived()||U.units[0].unit.offset===0)U.value=u(U.value);else{var H=U._numberConverter(),fe=H(U.units[0].unit.value),$=H(U.units[0].unit.offset),Q=a(fe,$);U.value=i(u(n(U.value,Q)),Q)}for(var te in U.units)(U.units[te].unit.name==="VA"||U.units[te].unit.name==="VAR")&&(U.units[te].unit=V.W);return U},v.prototype.to=function(U){var H=this.value===null?this._normalize(1):this.value,fe;if(typeof U=="string")fe=v.parse(U);else if(on(U))fe=U.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(fe))throw new Error("Units do not match ('".concat(fe.toString(),"' != '").concat(this.toString(),"')"));if(fe.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units[0].unit.offset===fe.units[0].unit.offset)fe.value=tt(H);else{var $=v._getNumberConverter(St(H)),Q=this.units[0].unit.value,te=this.units[0].unit.offset,he=a(Q,te),be=fe.units[0].unit.value,Pe=fe.units[0].unit.offset,Fe=a(be,Pe);fe.value=n(H,$(i(he,Fe)))}return fe.fixPrefix=!0,fe.skipAutomaticSimplification=!0,fe},v.prototype.toNumber=function(U){return w(this.toNumeric(U))},v.prototype.toNumeric=function(U){var H;return U?H=this.to(U):H=this.clone(),H._isDerived()||H.units.length===0?H._denormalize(H.value):H._denormalize(H.value,H.units[0].prefix.value)},v.prototype.toString=function(){return this.format()},v.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},v.fromJSON=function(U){var H=new v(U.value,U.unit);return H.fixPrefix=U.fixPrefix||!1,H},v.prototype.valueOf=v.prototype.toString,v.prototype.simplify=function(){var U=this.clone(),H=[],fe;for(var $ in le)if(je(le,$)&&U.hasBase(O[$])){fe=$;break}if(fe==="NONE")U.units=[];else{var Q;if(fe&&je(le,fe)&&(Q=le[fe]),Q)U.units=[{unit:Q.unit,prefix:Q.prefix,power:1}];else{for(var te=!1,he=0;he<z.length;he++){var be=z[he];Math.abs(U.dimensions[he]||0)>1e-12&&(je(le,be)?H.push({unit:le[be].unit,prefix:le[be].prefix,power:U.dimensions[he]||0}):te=!0)}H.length<U.units.length&&!te&&(U.units=H)}}return U},v.prototype.toSI=function(){for(var U=this.clone(),H=[],fe=0;fe<z.length;fe++){var $=z[fe];if(Math.abs(U.dimensions[fe]||0)>1e-12)if(je(oe.si,$))H.push({unit:oe.si[$].unit,prefix:oe.si[$].prefix,power:U.dimensions[fe]||0});else throw new Error("Cannot express custom unit "+$+" in SI units")}return U.units=H,U.fixPrefix=!0,U.skipAutomaticSimplification=!0,U},v.prototype.formatUnits=function(){for(var U="",H="",fe=0,$=0,Q=0;Q<this.units.length;Q++)this.units[Q].power>0?(fe++,U+=" "+this.units[Q].prefix.name+this.units[Q].unit.name,Math.abs(this.units[Q].power-1)>1e-15&&(U+="^"+this.units[Q].power)):this.units[Q].power<0&&$++;if($>0)for(var te=0;te<this.units.length;te++)this.units[te].power<0&&(fe>0?(H+=" "+this.units[te].prefix.name+this.units[te].unit.name,Math.abs(this.units[te].power+1)>1e-15&&(H+="^"+-this.units[te].power)):(H+=" "+this.units[te].prefix.name+this.units[te].unit.name,H+="^"+this.units[te].power));U=U.substr(1),H=H.substr(1),fe>1&&$>0&&(U="("+U+")"),$>1&&fe>0&&(H="("+H+")");var he=U;return fe>0&&$>0&&(he+=" / "),he+=H,he},v.prototype.format=function(U){var H=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),fe=!1;typeof H.value!="undefined"&&H.value!==null&&Nn(H.value)&&(fe=Math.abs(H.value.re)<1e-14);for(var $ in H.units)je(H.units,$)&&H.units[$].unit&&(H.units[$].unit.name==="VA"&&fe?H.units[$].unit=V.VAR:H.units[$].unit.name==="VAR"&&!fe&&(H.units[$].unit=V.VA));H.units.length===1&&!H.fixPrefix&&Math.abs(H.units[0].power-Math.round(H.units[0].power))<1e-14&&(H.units[0].prefix=H._bestPrefix());var Q=H._denormalize(H.value),te=H.value!==null?m(Q,U||{}):"",he=H.formatUnits();return H.value&&Nn(H.value)&&(te="("+te+")"),he.length>0&&te.length>0&&(te+=" "),te+=he,te},v.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var U=this.value!==null?u(this.value):0,H=u(this.units[0].unit.value),fe=this.units[0].prefix;if(U===0)return fe;var $=this.units[0].power,Q=Math.log(U/Math.pow(fe.value*H,$))/Math.LN10-1.2;if(Q>-2.200001&&Q<1.800001)return fe;Q=Math.abs(Q);var te=this.units[0].unit.prefixes;for(var he in te)if(je(te,he)){var be=te[he];if(be.scientific){var Pe=Math.abs(Math.log(U/Math.pow(be.value*H,$))/Math.LN10-1.2);(Pe<Q||Pe===Q&&be.name.length<fe.name.length)&&(fe=be,Q=Pe)}}return fe},v.prototype.splitUnit=function(U){for(var H=this.clone(),fe=[],$=0;$<U.length&&(H=H.to(U[$]),$!==U.length-1);$++){var Q=H.toNumeric(),te=c(Q),he=void 0,be=f(te,Q);be?he=te:he=s(H.toNumeric());var Pe=new v(he,U[$].toString());fe.push(Pe),H=i(H,Pe)}for(var Fe=0,mt=0;mt<fe.length;mt++)Fe=n(Fe,fe[mt].value);return f(Fe,this.value)&&(H.value=0),fe.push(H),fe};var T={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};T.SHORTLONG=hr({},T.SHORT,T.LONG),T.BINARY_SHORT=hr({},T.BINARY_SHORT_SI,T.BINARY_SHORT_IEC),T.BINARY_LONG=hr({},T.BINARY_LONG_SI,T.BINARY_LONG_IEC);var z=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],O={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var J in O)je(O,J)&&(O[J].key=J);var ee={},j={name:"",base:ee,value:1,offset:0,dimensions:z.map(U=>0)},V={meter:{name:"meter",base:O.LENGTH,prefixes:T.LONG,value:1,offset:0},inch:{name:"inch",base:O.LENGTH,prefixes:T.NONE,value:.0254,offset:0},foot:{name:"foot",base:O.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yard:{name:"yard",base:O.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mile:{name:"mile",base:O.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},link:{name:"link",base:O.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rod:{name:"rod",base:O.LENGTH,prefixes:T.NONE,value:5.0292,offset:0},chain:{name:"chain",base:O.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:O.LENGTH,prefixes:T.NONE,value:1e-10,offset:0},m:{name:"m",base:O.LENGTH,prefixes:T.SHORT,value:1,offset:0},in:{name:"in",base:O.LENGTH,prefixes:T.NONE,value:.0254,offset:0},ft:{name:"ft",base:O.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yd:{name:"yd",base:O.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mi:{name:"mi",base:O.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},li:{name:"li",base:O.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rd:{name:"rd",base:O.LENGTH,prefixes:T.NONE,value:5.02921,offset:0},ch:{name:"ch",base:O.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},mil:{name:"mil",base:O.LENGTH,prefixes:T.NONE,value:254e-7,offset:0},m2:{name:"m2",base:O.SURFACE,prefixes:T.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:O.SURFACE,prefixes:T.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:O.SURFACE,prefixes:T.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:O.SURFACE,prefixes:T.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:O.SURFACE,prefixes:T.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:O.SURFACE,prefixes:T.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:O.SURFACE,prefixes:T.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:O.SURFACE,prefixes:T.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:O.SURFACE,prefixes:T.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:O.SURFACE,prefixes:T.NONE,value:1e4,offset:0},m3:{name:"m3",base:O.VOLUME,prefixes:T.CUBIC,value:1,offset:0},L:{name:"L",base:O.VOLUME,prefixes:T.SHORT,value:.001,offset:0},l:{name:"l",base:O.VOLUME,prefixes:T.SHORT,value:.001,offset:0},litre:{name:"litre",base:O.VOLUME,prefixes:T.LONG,value:.001,offset:0},cuin:{name:"cuin",base:O.VOLUME,prefixes:T.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:O.VOLUME,prefixes:T.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:O.VOLUME,prefixes:T.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:O.VOLUME,prefixes:T.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:O.VOLUME,prefixes:T.NONE,value:15e-6,offset:0},drop:{name:"drop",base:O.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:O.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},minim:{name:"minim",base:O.VOLUME,prefixes:T.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:O.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:O.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:O.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:O.VOLUME,prefixes:T.NONE,value:1e-6,offset:0},cup:{name:"cup",base:O.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:O.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:O.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:O.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:O.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:O.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:O.VOLUME,prefixes:T.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:O.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:O.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:O.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:O.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:O.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:O.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:O.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:O.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},obl:{name:"obl",base:O.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},g:{name:"g",base:O.MASS,prefixes:T.SHORT,value:.001,offset:0},gram:{name:"gram",base:O.MASS,prefixes:T.LONG,value:.001,offset:0},ton:{name:"ton",base:O.MASS,prefixes:T.SHORT,value:907.18474,offset:0},t:{name:"t",base:O.MASS,prefixes:T.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:O.MASS,prefixes:T.LONG,value:1e3,offset:0},grain:{name:"grain",base:O.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:O.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:O.MASS,prefixes:T.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:O.MASS,prefixes:T.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:O.MASS,prefixes:T.NONE,value:45.359237,offset:0},stick:{name:"stick",base:O.MASS,prefixes:T.NONE,value:.115,offset:0},stone:{name:"stone",base:O.MASS,prefixes:T.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:O.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:O.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:O.MASS,prefixes:T.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:O.MASS,prefixes:T.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:O.MASS,prefixes:T.NONE,value:45.359237,offset:0},s:{name:"s",base:O.TIME,prefixes:T.SHORT,value:1,offset:0},min:{name:"min",base:O.TIME,prefixes:T.NONE,value:60,offset:0},h:{name:"h",base:O.TIME,prefixes:T.NONE,value:3600,offset:0},second:{name:"second",base:O.TIME,prefixes:T.LONG,value:1,offset:0},sec:{name:"sec",base:O.TIME,prefixes:T.LONG,value:1,offset:0},minute:{name:"minute",base:O.TIME,prefixes:T.NONE,value:60,offset:0},hour:{name:"hour",base:O.TIME,prefixes:T.NONE,value:3600,offset:0},day:{name:"day",base:O.TIME,prefixes:T.NONE,value:86400,offset:0},week:{name:"week",base:O.TIME,prefixes:T.NONE,value:7*86400,offset:0},month:{name:"month",base:O.TIME,prefixes:T.NONE,value:2629800,offset:0},year:{name:"year",base:O.TIME,prefixes:T.NONE,value:31557600,offset:0},decade:{name:"decade",base:O.TIME,prefixes:T.NONE,value:315576e3,offset:0},century:{name:"century",base:O.TIME,prefixes:T.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:O.TIME,prefixes:T.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:O.FREQUENCY,prefixes:T.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:O.FREQUENCY,prefixes:T.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:O.ANGLE,prefixes:T.SHORT,value:1,offset:0},radian:{name:"radian",base:O.ANGLE,prefixes:T.LONG,value:1,offset:0},deg:{name:"deg",base:O.ANGLE,prefixes:T.SHORT,value:null,offset:0},degree:{name:"degree",base:O.ANGLE,prefixes:T.LONG,value:null,offset:0},grad:{name:"grad",base:O.ANGLE,prefixes:T.SHORT,value:null,offset:0},gradian:{name:"gradian",base:O.ANGLE,prefixes:T.LONG,value:null,offset:0},cycle:{name:"cycle",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},A:{name:"A",base:O.CURRENT,prefixes:T.SHORT,value:1,offset:0},ampere:{name:"ampere",base:O.CURRENT,prefixes:T.LONG,value:1,offset:0},K:{name:"K",base:O.TEMPERATURE,prefixes:T.SHORT,value:1,offset:0},degC:{name:"degC",base:O.TEMPERATURE,prefixes:T.SHORT,value:1,offset:273.15},degF:{name:"degF",base:O.TEMPERATURE,prefixes:T.SHORT,value:new y(5,9),offset:459.67},degR:{name:"degR",base:O.TEMPERATURE,prefixes:T.SHORT,value:new y(5,9),offset:0},kelvin:{name:"kelvin",base:O.TEMPERATURE,prefixes:T.LONG,value:1,offset:0},celsius:{name:"celsius",base:O.TEMPERATURE,prefixes:T.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:O.TEMPERATURE,prefixes:T.LONG,value:new y(5,9),offset:459.67},rankine:{name:"rankine",base:O.TEMPERATURE,prefixes:T.LONG,value:new y(5,9),offset:0},mol:{name:"mol",base:O.AMOUNT_OF_SUBSTANCE,prefixes:T.SHORT,value:1,offset:0},mole:{name:"mole",base:O.AMOUNT_OF_SUBSTANCE,prefixes:T.LONG,value:1,offset:0},cd:{name:"cd",base:O.LUMINOUS_INTENSITY,prefixes:T.SHORT,value:1,offset:0},candela:{name:"candela",base:O.LUMINOUS_INTENSITY,prefixes:T.LONG,value:1,offset:0},N:{name:"N",base:O.FORCE,prefixes:T.SHORT,value:1,offset:0},newton:{name:"newton",base:O.FORCE,prefixes:T.LONG,value:1,offset:0},dyn:{name:"dyn",base:O.FORCE,prefixes:T.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:O.FORCE,prefixes:T.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:O.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:O.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:O.FORCE,prefixes:T.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:O.FORCE,prefixes:T.NONE,value:9.80665,offset:0},J:{name:"J",base:O.ENERGY,prefixes:T.SHORT,value:1,offset:0},joule:{name:"joule",base:O.ENERGY,prefixes:T.LONG,value:1,offset:0},erg:{name:"erg",base:O.ENERGY,prefixes:T.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:O.ENERGY,prefixes:T.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:O.ENERGY,prefixes:T.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:O.ENERGY,prefixes:T.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:O.ENERGY,prefixes:T.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:O.POWER,prefixes:T.SHORT,value:1,offset:0},watt:{name:"watt",base:O.POWER,prefixes:T.LONG,value:1,offset:0},hp:{name:"hp",base:O.POWER,prefixes:T.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:O.POWER,prefixes:T.SHORT,value:d.I,offset:0},VA:{name:"VA",base:O.POWER,prefixes:T.SHORT,value:1,offset:0},Pa:{name:"Pa",base:O.PRESSURE,prefixes:T.SHORT,value:1,offset:0},psi:{name:"psi",base:O.PRESSURE,prefixes:T.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:O.PRESSURE,prefixes:T.NONE,value:101325,offset:0},bar:{name:"bar",base:O.PRESSURE,prefixes:T.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:O.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:O.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:O.PRESSURE,prefixes:T.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:O.PRESSURE,prefixes:T.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:O.ELECTRIC_CHARGE,prefixes:T.LONG,value:1,offset:0},C:{name:"C",base:O.ELECTRIC_CHARGE,prefixes:T.SHORT,value:1,offset:0},farad:{name:"farad",base:O.ELECTRIC_CAPACITANCE,prefixes:T.LONG,value:1,offset:0},F:{name:"F",base:O.ELECTRIC_CAPACITANCE,prefixes:T.SHORT,value:1,offset:0},volt:{name:"volt",base:O.ELECTRIC_POTENTIAL,prefixes:T.LONG,value:1,offset:0},V:{name:"V",base:O.ELECTRIC_POTENTIAL,prefixes:T.SHORT,value:1,offset:0},ohm:{name:"ohm",base:O.ELECTRIC_RESISTANCE,prefixes:T.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:O.ELECTRIC_INDUCTANCE,prefixes:T.LONG,value:1,offset:0},H:{name:"H",base:O.ELECTRIC_INDUCTANCE,prefixes:T.SHORT,value:1,offset:0},siemens:{name:"siemens",base:O.ELECTRIC_CONDUCTANCE,prefixes:T.LONG,value:1,offset:0},S:{name:"S",base:O.ELECTRIC_CONDUCTANCE,prefixes:T.SHORT,value:1,offset:0},weber:{name:"weber",base:O.MAGNETIC_FLUX,prefixes:T.LONG,value:1,offset:0},Wb:{name:"Wb",base:O.MAGNETIC_FLUX,prefixes:T.SHORT,value:1,offset:0},tesla:{name:"tesla",base:O.MAGNETIC_FLUX_DENSITY,prefixes:T.LONG,value:1,offset:0},T:{name:"T",base:O.MAGNETIC_FLUX_DENSITY,prefixes:T.SHORT,value:1,offset:0},b:{name:"b",base:O.BIT,prefixes:T.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:O.BIT,prefixes:T.BINARY_LONG,value:1,offset:0},B:{name:"B",base:O.BIT,prefixes:T.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:O.BIT,prefixes:T.BINARY_LONG,value:8,offset:0}},re={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function xe(U){if(U.number==="BigNumber"){var H=Nl(g);V.rad.value=new g(1),V.deg.value=H.div(180),V.grad.value=H.div(200),V.cycle.value=H.times(2),V.arcsec.value=H.div(648e3),V.arcmin.value=H.div(10800)}else V.rad.value=1,V.deg.value=Math.PI/180,V.grad.value=Math.PI/200,V.cycle.value=Math.PI*2,V.arcsec.value=Math.PI/648e3,V.arcmin.value=Math.PI/10800;V.radian.value=V.rad.value,V.degree.value=V.deg.value,V.gradian.value=V.grad.value}xe(t),e&&e("config",function(U,H){U.number!==H.number&&xe(U)});var oe={si:{NONE:{unit:j,prefix:T.NONE[""]},LENGTH:{unit:V.m,prefix:T.SHORT[""]},MASS:{unit:V.g,prefix:T.SHORT.k},TIME:{unit:V.s,prefix:T.SHORT[""]},CURRENT:{unit:V.A,prefix:T.SHORT[""]},TEMPERATURE:{unit:V.K,prefix:T.SHORT[""]},LUMINOUS_INTENSITY:{unit:V.cd,prefix:T.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:V.mol,prefix:T.SHORT[""]},ANGLE:{unit:V.rad,prefix:T.SHORT[""]},BIT:{unit:V.bits,prefix:T.SHORT[""]},FORCE:{unit:V.N,prefix:T.SHORT[""]},ENERGY:{unit:V.J,prefix:T.SHORT[""]},POWER:{unit:V.W,prefix:T.SHORT[""]},PRESSURE:{unit:V.Pa,prefix:T.SHORT[""]},ELECTRIC_CHARGE:{unit:V.C,prefix:T.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:V.F,prefix:T.SHORT[""]},ELECTRIC_POTENTIAL:{unit:V.V,prefix:T.SHORT[""]},ELECTRIC_RESISTANCE:{unit:V.ohm,prefix:T.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:V.H,prefix:T.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:V.S,prefix:T.SHORT[""]},MAGNETIC_FLUX:{unit:V.Wb,prefix:T.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:V.T,prefix:T.SHORT[""]},FREQUENCY:{unit:V.Hz,prefix:T.SHORT[""]}}};oe.cgs=JSON.parse(JSON.stringify(oe.si)),oe.cgs.LENGTH={unit:V.m,prefix:T.SHORT.c},oe.cgs.MASS={unit:V.g,prefix:T.SHORT[""]},oe.cgs.FORCE={unit:V.dyn,prefix:T.SHORT[""]},oe.cgs.ENERGY={unit:V.erg,prefix:T.NONE[""]},oe.us=JSON.parse(JSON.stringify(oe.si)),oe.us.LENGTH={unit:V.ft,prefix:T.NONE[""]},oe.us.MASS={unit:V.lbm,prefix:T.NONE[""]},oe.us.TEMPERATURE={unit:V.degF,prefix:T.NONE[""]},oe.us.FORCE={unit:V.lbf,prefix:T.NONE[""]},oe.us.ENERGY={unit:V.BTU,prefix:T.BTU[""]},oe.us.POWER={unit:V.hp,prefix:T.NONE[""]},oe.us.PRESSURE={unit:V.psi,prefix:T.NONE[""]},oe.auto=JSON.parse(JSON.stringify(oe.si));var le=oe.auto;v.setUnitSystem=function(U){if(je(oe,U))le=oe[U];else throw new Error("Unit system "+U+" does not exist. Choices are: "+Object.keys(oe).join(", "))},v.getUnitSystem=function(){for(var U in oe)if(je(oe,U)&&oe[U]===le)return U},v.typeConverters={BigNumber:function(H){return H!=null&&H.isFraction?new g(H.n).div(H.d).times(H.s):new g(H+"")},Fraction:function(H){return new y(H)},Complex:function(H){return H},number:function(H){return H!=null&&H.isFraction?h(H):H}},v.prototype._numberConverter=function(){var U=v.typeConverters[this.valueType()];if(U)return U;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},v._getNumberConverter=function(U){if(!v.typeConverters[U])throw new TypeError('Unsupported type "'+U+'"');return v.typeConverters[U]};for(var ve in V)if(je(V,ve)){var ue=V[ve];ue.dimensions=ue.base.dimensions}for(var ce in re)if(je(re,ce)){var me=V[re[ce]],de={};for(var Be in me)je(me,Be)&&(de[Be]=me[Be]);de.name=ce,V[ce]=de}v.isValidAlpha=function(H){return/^[a-zA-Z]$/.test(H)};function we(U){for(var H=0;H<U.length;H++){if(b=U.charAt(H),H===0&&!v.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+U+'"');if(H>0&&!(v.isValidAlpha(b)||E(b)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+U+'"')}}return v.createUnit=function(U,H){if(typeof U!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(H&&H.override){for(var fe in U)if(je(U,fe)&&v.deleteUnit(fe),U[fe].aliases)for(var $=0;$<U[fe].aliases.length;$++)v.deleteUnit(U[fe].aliases[$])}var Q;for(var te in U)je(U,te)&&(Q=v.createUnitSingle(te,U[te]));return Q},v.createUnitSingle=function(U,H){if((typeof H=="undefined"||H===null)&&(H={}),typeof U!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(je(V,U))throw new Error('Cannot create unit "'+U+'": a unit with that name already exists');we(U);var fe=null,$=[],Q=0,te,he,be;if(H&&H.type==="Unit")fe=H.clone();else if(typeof H=="string")H!==""&&(te=H);else if(typeof H=="object")te=H.definition,he=H.prefixes,Q=H.offset,be=H.baseName,H.aliases&&($=H.aliases.valueOf());else throw new TypeError('Cannot create unit "'+U+'" from "'+H.toString()+'": expecting "string" or "Unit" or "Object"');if($){for(var Pe=0;Pe<$.length;Pe++)if(je(V,$[Pe]))throw new Error('Cannot create alias "'+$[Pe]+'": a unit with that name already exists')}if(te&&typeof te=="string"&&!fe)try{fe=v.parse(te,{allowNoUnits:!0})}catch(_){throw _.message='Could not create unit "'+U+'" from "'+te+'": '+_.message,_}else te&&te.type==="Unit"&&(fe=te.clone());$=$||[],Q=Q||0,he&&he.toUpperCase?he=T[he.toUpperCase()]||T.NONE:he=T.NONE;var Fe={};if(fe){Fe={name:U,value:fe.value,dimensions:fe.dimensions.slice(0),prefixes:he,offset:Q};var Yt=!1;for(var W in O)if(je(O,W)){for(var ne=!0,pe=0;pe<z.length;pe++)if(Math.abs((Fe.dimensions[pe]||0)-(O[W].dimensions[pe]||0))>1e-12){ne=!1;break}if(ne){Yt=!0,Fe.base=O[W];break}}if(!Yt){be=be||U+"_STUFF";var Ae={dimensions:fe.dimensions.slice(0)};Ae.key=be,O[be]=Ae,le[be]={unit:Fe,prefix:T.NONE[""]},Fe.base=O[be]}}else{if(be=be||U+"_STUFF",z.indexOf(be)>=0)throw new Error('Cannot create new base unit "'+U+'": a base unit with that name already exists (and cannot be overridden)');z.push(be);for(var mt in O)je(O,mt)&&(O[mt].dimensions[z.length-1]=0);for(var gt={dimensions:[]},Lt=0;Lt<z.length;Lt++)gt.dimensions[Lt]=0;gt.dimensions[z.length-1]=1,gt.key=be,O[be]=gt,Fe={name:U,value:1,dimensions:O[be].dimensions.slice(0),prefixes:he,offset:Q,base:O[be]},le[be]={unit:Fe,prefix:T.NONE[""]}}v.UNITS[U]=Fe;for(var Me=0;Me<$.length;Me++){var Se=$[Me],Ne={};for(var Oe in Fe)je(Fe,Oe)&&(Ne[Oe]=Fe[Oe]);Ne.name=Se,v.UNITS[Se]=Ne}return delete P.cache,new v(null,U)},v.deleteUnit=function(U){delete v.UNITS[U]},v.PREFIXES=T,v.BASE_DIMENSIONS=z,v.BASE_UNITS=O,v.UNIT_SYSTEMS=oe,v.UNITS=V,v},{isClass:!0});var j_="unit",JH=["typed","Unit"],M0=F(j_,JH,r=>{var{typed:e,Unit:t}=r;return e(j_,{Unit:function(i){return i.clone()},string:function(i){return t.isValuelessUnit(i)?new t(null,i):t.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,a){return new t(i,a)},"number | BigNumber | Fraction":function(i){return new t(i)},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var Z_="sparse",XH=["typed","SparseMatrix"],T0=F(Z_,XH,r=>{var{typed:e,SparseMatrix:t}=r;return e(Z_,{"":function(){return new t([])},string:function(i){return new t([],i)},"Array | Matrix":function(i){return new t(i)},"Array | Matrix, string":function(i,a){return new t(i,a)}})});var Y_="createUnit",QH=["typed","Unit"],I0=F(Y_,QH,r=>{var{typed:e,Unit:t}=r;return e(Y_,{"Object, Object":function(i,a){return t.createUnit(i,a)},Object:function(i){return t.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,a,o){var l={};return l[i]=a,t.createUnit(l,o)},"string, Unit | string | Object":function(i,a){var o={};return o[i]=a,t.createUnit(o,{})},string:function(i){var a={};return a[i]={},t.createUnit(a,{})}})});var J_="acos",KH=["typed","config","Complex"],B0=F(J_,KH,r=>{var{typed:e,config:t,Complex:n}=r;return e(J_,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.acos(a):new n(a,0).acos()},Complex:function(a){return a.acos()},BigNumber:function(a){return a.acos()}})});var X_="acosh",eW=["typed","config","Complex"],O0=F(X_,eW,r=>{var{typed:e,config:t,Complex:n}=r;return e(X_,{number:function(a){return a>=1||t.predictable?Ug(a):a<=-1?new n(Math.log(Math.sqrt(a*a-1)-a),Math.PI):new n(a,0).acosh()},Complex:function(a){return a.acosh()},BigNumber:function(a){return a.acosh()}})});var Q_="acot",tW=["typed","BigNumber"],k0=F(Q_,tW,r=>{var{typed:e,BigNumber:t}=r;return e(Q_,{number:qg,Complex:function(i){return i.acot()},BigNumber:function(i){return new t(1).div(i).atan()}})});var K_="acoth",rW=["typed","config","Complex","BigNumber"],P0=F(K_,rW,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(K_,{number:function(o){return o>=1||o<=-1||t.predictable?zg(o):new n(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new i(1).div(o).atanh()}})});var e2="acsc",nW=["typed","config","Complex","BigNumber"],R0=F(e2,nW,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(e2,{number:function(o){return o<=-1||o>=1||t.predictable?$g(o):new n(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new i(1).div(o).asin()}})});var t2="acsch",iW=["typed","BigNumber"],L0=F(t2,iW,r=>{var{typed:e,BigNumber:t}=r;return e(t2,{number:Hg,Complex:function(i){return i.acsch()},BigNumber:function(i){return new t(1).div(i).asinh()}})});var r2="asec",aW=["typed","config","Complex","BigNumber"],V0=F(r2,aW,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(r2,{number:function(o){return o<=-1||o>=1||t.predictable?Wg(o):new n(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new i(1).div(o).acos()}})});var n2="asech",oW=["typed","config","Complex","BigNumber"],U0=F(n2,oW,r=>{var{typed:e,config:t,Complex:n,BigNumber:i}=r;return e(n2,{number:function(o){if(o<=1&&o>=-1||t.predictable){var l=1/o;if(l>0||t.predictable)return Gg(o);var u=Math.sqrt(l*l-1);return new n(Math.log(u-l),Math.PI)}return new n(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new i(1).div(o).acosh()}})});var i2="asin",sW=["typed","config","Complex"],q0=F(i2,sW,r=>{var{typed:e,config:t,Complex:n}=r;return e(i2,{number:function(a){return a>=-1&&a<=1||t.predictable?Math.asin(a):new n(a,0).asin()},Complex:function(a){return a.asin()},BigNumber:function(a){return a.asin()}})});var uW="asinh",lW=["typed"],z0=F(uW,lW,r=>{var{typed:e}=r;return e("asinh",{number:jg,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})});var cW="atan",fW=["typed"],$0=F(cW,fW,r=>{var{typed:e}=r;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})});var a2="atan2",pW=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],H0=F(a2,pW,r=>{var{typed:e,matrix:t,equalScalar:n,BigNumber:i,DenseMatrix:a,concat:o}=r,l=Ir({typed:e,equalScalar:n}),u=ar({typed:e}),s=xp({typed:e,equalScalar:n}),c=jt({typed:e,equalScalar:n}),f=Vt({typed:e,DenseMatrix:a}),p=pt({typed:e,matrix:t,concat:o});return e(a2,{"number, number":Math.atan2,"BigNumber, BigNumber":(m,h)=>i.atan2(m,h)},p({scalar:"number | BigNumber",SS:s,DS:u,SD:l,Ss:c,sS:f}))});var o2="atanh",mW=["typed","config","Complex"],W0=F(o2,mW,r=>{var{typed:e,config:t,Complex:n}=r;return e(o2,{number:function(a){return a<=1&&a>=-1||t.predictable?Zg(a):new n(a,0).atanh()},Complex:function(a){return a.atanh()},BigNumber:function(a){return a.atanh()}})});var gi=F("trigUnit",["typed"],r=>{var{typed:e}=r;return{Unit:e.referToSelf(t=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(t,n.valueType())(n.value)})}});var s2="cos",dW=["typed"],G0=F(s2,dW,r=>{var{typed:e}=r,t=gi({typed:e});return e(s2,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},t)});var u2="cosh",hW=["typed"],j0=F(u2,hW,r=>{var{typed:e}=r;return e(u2,{number:Qf,"Complex | BigNumber":t=>t.cosh()})});var l2="cot",gW=["typed","BigNumber"],Z0=F(l2,gW,r=>{var{typed:e,BigNumber:t}=r,n=gi({typed:e});return e(l2,{number:Yg,Complex:i=>i.cot(),BigNumber:i=>new t(1).div(i.tan())},n)});var c2="coth",vW=["typed","BigNumber"],Y0=F(c2,vW,r=>{var{typed:e,BigNumber:t}=r;return e(c2,{number:Jg,Complex:n=>n.coth(),BigNumber:n=>new t(1).div(n.tanh())})});var f2="csc",yW=["typed","BigNumber"],J0=F(f2,yW,r=>{var{typed:e,BigNumber:t}=r,n=gi({typed:e});return e(f2,{number:Xg,Complex:i=>i.csc(),BigNumber:i=>new t(1).div(i.sin())},n)});var p2="csch",xW=["typed","BigNumber"],X0=F(p2,xW,r=>{var{typed:e,BigNumber:t}=r;return e(p2,{number:Qg,Complex:n=>n.csch(),BigNumber:n=>new t(1).div(n.sinh())})});var m2="sec",bW=["typed","BigNumber"],Q0=F(m2,bW,r=>{var{typed:e,BigNumber:t}=r,n=gi({typed:e});return e(m2,{number:Kg,Complex:i=>i.sec(),BigNumber:i=>new t(1).div(i.cos())},n)});var d2="sech",DW=["typed","BigNumber"],K0=F(d2,DW,r=>{var{typed:e,BigNumber:t}=r;return e(d2,{number:ev,Complex:n=>n.sech(),BigNumber:n=>new t(1).div(n.cosh())})});var h2="sin",wW=["typed"],ex=F(h2,wW,r=>{var{typed:e}=r,t=gi({typed:e});return e(h2,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},t)});var g2="sinh",EW=["typed"],tx=F(g2,EW,r=>{var{typed:e}=r;return e(g2,{number:tv,"Complex | BigNumber":t=>t.sinh()})});var v2="tan",CW=["typed"],rx=F(v2,CW,r=>{var{typed:e}=r,t=gi({typed:e});return e(v2,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},t)});var AW="tanh",SW=["typed"],nx=F(AW,SW,r=>{var{typed:e}=r;return e("tanh",{number:Kf,"Complex | BigNumber":t=>t.tanh()})});var y2="setCartesian",FW=["typed","size","subset","compareNatural","Index","DenseMatrix"],ix=F(y2,FW,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(y2,{"Array | Matrix, Array | Matrix":function(u,s){var c=[];if(n(t(u),new a(0))!==0&&n(t(s),new a(0))!==0){var f=vt(Array.isArray(u)?u:u.toArray()).sort(i),p=vt(Array.isArray(s)?s:s.toArray()).sort(i);c=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)c.push([f[m],p[h]])}return Array.isArray(u)&&Array.isArray(s)?c:new o(c)}})});var x2="setDifference",NW=["typed","size","subset","compareNatural","Index","DenseMatrix"],ax=F(x2,NW,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(x2,{"Array | Matrix, Array | Matrix":function(u,s){var c;if(n(t(u),new a(0))===0)c=[];else{if(n(t(s),new a(0))===0)return vt(u.toArray());var f=ba(vt(Array.isArray(u)?u:u.toArray()).sort(i)),p=ba(vt(Array.isArray(s)?s:s.toArray()).sort(i));c=[];for(var m,h=0;h<f.length;h++){m=!1;for(var d=0;d<p.length;d++)if(i(f[h].value,p[d].value)===0&&f[h].identifier===p[d].identifier){m=!0;break}m||c.push(f[h])}}return Array.isArray(u)&&Array.isArray(s)?eu(c):new o(eu(c))}})});var b2="setDistinct",_W=["typed","size","subset","compareNatural","Index","DenseMatrix"],ox=F(b2,_W,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(b2,{"Array | Matrix":function(u){var s;if(n(t(u),new a(0))===0)s=[];else{var c=vt(Array.isArray(u)?u:u.toArray()).sort(i);s=[],s.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&s.push(c[f])}return Array.isArray(u)?s:new o(s)}})});var D2="setIntersect",MW=["typed","size","subset","compareNatural","Index","DenseMatrix"],sx=F(D2,MW,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=r;return e(D2,{"Array | Matrix, Array | Matrix":function(u,s){var c;if(n(t(u),new a(0))===0||n(t(s),new a(0))===0)c=[];else{var f=ba(vt(Array.isArray(u)?u:u.toArray()).sort(i)),p=ba(vt(Array.isArray(s)?s:s.toArray()).sort(i));c=[];for(var m=0;m<f.length;m++)for(var h=0;h<p.length;h++)if(i(f[m].value,p[h].value)===0&&f[m].identifier===p[h].identifier){c.push(f[m]);break}}return Array.isArray(u)&&Array.isArray(s)?eu(c):new o(eu(c))}})});var w2="setIsSubset",TW=["typed","size","subset","compareNatural","Index"],ux=F(w2,TW,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(w2,{"Array | Matrix, Array | Matrix":function(l,u){if(n(t(l),new a(0))===0)return!0;if(n(t(u),new a(0))===0)return!1;for(var s=ba(vt(Array.isArray(l)?l:l.toArray()).sort(i)),c=ba(vt(Array.isArray(u)?u:u.toArray()).sort(i)),f,p=0;p<s.length;p++){f=!1;for(var m=0;m<c.length;m++)if(i(s[p].value,c[m].value)===0&&s[p].identifier===c[m].identifier){f=!0;break}if(f===!1)return!1}return!0}})});var E2="setMultiplicity",IW=["typed","size","subset","compareNatural","Index"],lx=F(E2,IW,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(E2,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(l,u){if(n(t(u),new a(0))===0)return 0;for(var s=vt(Array.isArray(u)?u:u.toArray()),c=0,f=0;f<s.length;f++)i(s[f],l)===0&&c++;return c}})});var C2="setPowerset",BW=["typed","size","subset","compareNatural","Index"],cx=F(C2,BW,r=>{var{typed:e,size:t,subset:n,compareNatural:i,Index:a}=r;return e(C2,{"Array | Matrix":function(s){if(n(t(s),new a(0))===0)return[];for(var c=vt(Array.isArray(s)?s:s.toArray()).sort(i),f=[],p=0;p.toString(2).length<=c.length;)f.push(o(c,p.toString(2).split("").reverse())),p++;return l(f)}});function o(u,s){for(var c=[],f=0;f<s.length;f++)s[f]==="1"&&c.push(u[f]);return c}function l(u){for(var s=[],c=u.length-1;c>0;c--)for(var f=0;f<c;f++)u[f].length>u[f+1].length&&(s=u[f],u[f]=u[f+1],u[f+1]=s);return u}});var A2="setSize",OW=["typed","compareNatural"],fx=F(A2,OW,r=>{var{typed:e,compareNatural:t}=r;return e(A2,{"Array | Matrix":function(i){return Array.isArray(i)?vt(i).length:vt(i.toArray()).length},"Array | Matrix, boolean":function(i,a){if(a===!1||i.length===0)return Array.isArray(i)?vt(i).length:vt(i.toArray()).length;for(var o=vt(Array.isArray(i)?i:i.toArray()).sort(t),l=1,u=1;u<o.length;u++)t(o[u],o[u-1])!==0&&l++;return l}})});var S2="setSymDifference",kW=["typed","size","concat","subset","setDifference","Index"],px=F(S2,kW,r=>{var{typed:e,size:t,concat:n,subset:i,setDifference:a,Index:o}=r;return e(S2,{"Array | Matrix, Array | Matrix":function(u,s){if(i(t(u),new o(0))===0)return vt(s);if(i(t(s),new o(0))===0)return vt(u);var c=vt(u),f=vt(s);return n(a(c,f),a(f,c))}})});var F2="setUnion",PW=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],mx=F(F2,PW,r=>{var{typed:e,size:t,concat:n,subset:i,setIntersect:a,setSymDifference:o,Index:l}=r;return e(F2,{"Array | Matrix, Array | Matrix":function(s,c){if(i(t(s),new l(0))===0)return vt(c);if(i(t(c),new l(0))===0)return vt(s);var f=vt(s),p=vt(c);return n(o(f,p),a(f,p))}})});var N2="add",RW=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],dx=F(N2,RW,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:l}=r,u=gn({typed:e}),s=au({typed:e,equalScalar:i}),c=Un({typed:e,DenseMatrix:a}),f=pt({typed:e,matrix:t,concat:l});return e(N2,{"any, any":n,"any, any, ...any":e.referToSelf(p=>(m,h,d)=>{for(var g=p(m,h),y=0;y<d.length;y++)g=p(g,d[y]);return g})},f({elop:n,DS:u,SS:s,Ss:c}))});var _2="hypot",LW=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],hx=F(_2,LW,r=>{var{typed:e,abs:t,addScalar:n,divideScalar:i,multiplyScalar:a,sqrt:o,smaller:l,isPositive:u}=r;return e(_2,{"... number | BigNumber":s,Array:s,Matrix:c=>s(vt(c.toArray()))});function s(c){for(var f=0,p=0,m=0;m<c.length;m++){if(Nn(c[m]))throw new TypeError("Unexpected type of argument to hypot");var h=t(c[m]);l(p,h)?(f=a(f,a(i(p,h),i(p,h))),f=n(f,1),p=h):f=n(f,u(h)?a(i(h,p),i(h,p)):h)}return a(p,o(f))}});var M2="norm",VW=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],gx=F(M2,VW,r=>{var{typed:e,abs:t,add:n,pow:i,conj:a,sqrt:o,multiply:l,equalScalar:u,larger:s,smaller:c,matrix:f,ctranspose:p,eigs:m}=r;return e(M2,{number:Math.abs,Complex:function(S){return S.abs()},BigNumber:function(S){return S.abs()},boolean:function(S){return Math.abs(S)},Array:function(S){return b(f(S),2)},Matrix:function(S){return b(S,2)},"Array, number | BigNumber | string":function(S,E){return b(f(S),E)},"Matrix, number | BigNumber | string":function(S,E){return b(S,E)}});function h(C){var S=0;return C.forEach(function(E){var A=t(E);s(A,S)&&(S=A)},!0),S}function d(C){var S;return C.forEach(function(E){var A=t(E);(!S||c(A,S))&&(S=A)},!0),S||0}function g(C,S){if(S===Number.POSITIVE_INFINITY||S==="inf")return h(C);if(S===Number.NEGATIVE_INFINITY||S==="-inf")return d(C);if(S==="fro")return b(C,2);if(typeof S=="number"&&!isNaN(S)){if(!u(S,0)){var E=0;return C.forEach(function(A){E=n(i(t(A),S),E)},!0),i(E,1/S)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function y(C){var S=0;return C.forEach(function(E,A){S=n(S,l(E,a(E)))}),t(o(S))}function w(C){var S=[],E=0;return C.forEach(function(A,M){var I=M[1],k=n(S[I]||0,t(A));s(k,E)&&(E=k),S[I]=k},!0),E}function v(C){var S=C.size();if(S[0]!==S[1])throw new RangeError("Invalid matrix dimensions");var E=p(C),A=l(E,C),M=m(A).values.toArray(),I=M[M.length-1];return t(o(I))}function x(C){var S=[],E=0;return C.forEach(function(A,M){var I=M[0],k=n(S[I]||0,t(A));s(k,E)&&(E=k),S[I]=k},!0),E}function D(C,S){if(S===1)return w(C);if(S===Number.POSITIVE_INFINITY||S==="inf")return x(C);if(S==="fro")return y(C);if(S===2)return v(C);throw new Error("Unsupported parameter value "+S)}function b(C,S){var E=C.size();if(E.length===1)return g(C,S);if(E.length===2){if(E[0]&&E[1])return D(C,S);throw new RangeError("Invalid matrix dimensions")}}});var T2="dot",UW=["typed","addScalar","multiplyScalar","conj","size"],vx=F(T2,UW,r=>{var{typed:e,addScalar:t,multiplyScalar:n,conj:i,size:a}=r;return e(T2,{"Array | DenseMatrix, Array | DenseMatrix":l,"SparseMatrix, SparseMatrix":u});function o(c,f){var p=s(c),m=s(f),h,d;if(p.length===1)h=p[0];else if(p.length===2&&p[1]===1)h=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(m.length===1)d=m[0];else if(m.length===2&&m[1]===1)d=m[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+m.join(", ")+")");if(h!==d)throw new RangeError("Vectors must have equal length ("+h+" != "+d+")");if(h===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return h}function l(c,f){var p=o(c,f),m=$e(c)?c._data:c,h=$e(c)?c._datatype:void 0,d=$e(f)?f._data:f,g=$e(f)?f._datatype:void 0,y=s(c).length===2,w=s(f).length===2,v=t,x=n;if(h&&g&&h===g&&typeof h=="string"){var D=h;v=e.find(t,[D,D]),x=e.find(n,[D,D])}if(!y&&!w){for(var b=x(i(m[0]),d[0]),C=1;C<p;C++)b=v(b,x(i(m[C]),d[C]));return b}if(!y&&w){for(var S=x(i(m[0]),d[0][0]),E=1;E<p;E++)S=v(S,x(i(m[E]),d[E][0]));return S}if(y&&!w){for(var A=x(i(m[0][0]),d[0]),M=1;M<p;M++)A=v(A,x(i(m[M][0]),d[M]));return A}if(y&&w){for(var I=x(i(m[0][0]),d[0][0]),k=1;k<p;k++)I=v(I,x(i(m[k][0]),d[k][0]));return I}}function u(c,f){o(c,f);for(var p=c._index,m=c._values,h=f._index,d=f._values,g=0,y=t,w=n,v=0,x=0;v<p.length&&x<h.length;){var D=p[v],b=h[x];if(D<b){v++;continue}if(D>b){x++;continue}D===b&&(g=y(g,w(m[v],d[x])),v++,x++)}return g}function s(c){return $e(c)?c.size():a(c)}});var qW="trace",zW=["typed","matrix","add"],yx=F(qW,zW,r=>{var{typed:e,matrix:t,add:n}=r;return e("trace",{Array:function(l){return i(t(l))},SparseMatrix:a,DenseMatrix:i,any:tt});function i(o){var l=o._size,u=o._data;switch(l.length){case 1:if(l[0]===1)return tt(u[0]);throw new RangeError("Matrix must be square (size: "+ot(l)+")");case 2:{var s=l[0],c=l[1];if(s===c){for(var f=0,p=0;p<s;p++)f=n(f,u[p][p]);return f}else throw new RangeError("Matrix must be square (size: "+ot(l)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ot(l)+")")}}function a(o){var l=o._values,u=o._index,s=o._ptr,c=o._size,f=c[0],p=c[1];if(f===p){var m=0;if(l.length>0)for(var h=0;h<p;h++)for(var d=s[h],g=s[h+1],y=d;y<g;y++){var w=u[y];if(w===h){m=n(m,l[y]);break}if(w>h)break}return m}throw new RangeError("Matrix must be square (size: "+ot(c)+")")}});var I2="index",$W=["typed","Index"],xx=F(I2,$W,r=>{var{typed:e,Index:t}=r;return e(I2,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var a=i.map(function(l){return it(l)?l.toNumber():Nt(l)||$e(l)?l.map(function(u){return it(u)?u.toNumber():u}):l}),o=new t;return t.apply(o,a),o}})});var Ip=new Set(["end"]);var HW="Node",WW=["mathWithTransform"],bx=F(HW,WW,r=>{var{mathWithTransform:e}=r;function t(i){for(var a of[...Ip])if(i.has(a))throw new Error('Scope contains an illegal symbol, "'+a+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(a){return this.compile().evaluate(a)}compile(){var a=this._compile(e,{}),o={},l=null;function u(s){var c=Da(s);return t(c),a(c,o,l)}return{evaluate:u}}_compile(a,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(a){throw new Error("Cannot run forEach on a Node interface")}map(a){throw new Error("Cannot run map on a Node interface")}_ifNode(a){if(!Et(a))throw new TypeError("Callback function must return a Node");return a}traverse(a){a(this,null,null);function o(l,u){l.forEach(function(s,c,f){u(s,c,f),o(s,u)})}o(this,a)}transform(a){function o(l,u,s){var c=a(l,u,s);return c!==l?c:l.map(o)}return o(this,null,null)}filter(a){var o=[];return this.traverse(function(l,u,s){a(l,u,s)&&o.push(l)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(a){return a.cloneDeep()})}equals(a){return a?this.type===a.type&&Bi(this,a):!1}toString(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toString(a)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this.toHTML(a)}_toString(){throw new Error("_toString not implemented for "+this.type)}toTex(a){var o=this._getCustomString(a);return typeof o!="undefined"?o:this._toTex(a)}_toTex(a){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(a){if(a&&typeof a=="object")switch(typeof a.handler){case"object":case"undefined":return;case"function":return a.handler(this,a);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function or(r){return r&&r.isIndexError?new ln(r.index+1,r.min+1,r.max!==void 0?r.max+1:void 0):r}function Bp(r){var{subset:e}=r;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return gr(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(a){throw or(a)}}}var Op="AccessorNode",GW=["subset","Node"],Dx=F(Op,GW,r=>{var{subset:e,Node:t}=r,n=Bp({subset:e});function i(o){return!(Qn(o)||sn(o)||wt(o)||Mn(o)||Ka(o)||un(o)||tr(o))}class a extends t{constructor(l,u){if(super(),!Et(l))throw new TypeError('Node expected for parameter "object"');if(!fi(u))throw new TypeError('IndexNode expected for parameter "index"');this.object=l,this.index=u}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Op}get isAccessorNode(){return!0}_compile(l,u){var s=this.object._compile(l,u),c=this.index._compile(l,u);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(m,h,d){return gr(s(m,h,d),f)}}else return function(m,h,d){var g=s(m,h,d),y=c(m,h,g);return n(g,y)}}forEach(l){l(this.object,"object",this),l(this.index,"index",this)}map(l){return new a(this._ifNode(l(this.object,"object",this)),this._ifNode(l(this.index,"index",this)))}clone(){return new a(this.object,this.index)}_toString(l){var u=this.object.toString(l);return i(this.object)&&(u="("+u+")"),u+this.index.toString(l)}toHTML(l){var u=this.object.toHTML(l);return i(this.object)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+this.index.toHTML(l)}_toTex(l){var u=this.object.toTex(l);return i(this.object)&&(u="\\left(' + object + '\\right)"),u+this.index.toTex(l)}toJSON(){return{mathjs:Op,object:this.object,index:this.index}}static fromJSON(l){return new a(l.object,l.index)}}return zt(a,"name",Op),a},{isClass:!0,isNode:!0});var kp="ArrayNode",jW=["Node"],wx=F(kp,jW,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Et))throw new TypeError("Array containing Nodes expected")}get type(){return kp}get isArrayNode(){return!0}_compile(i,a){var o=Rn(this.items,function(s){return s._compile(i,a)}),l=i.config.matrix!=="Array";if(l){var u=i.matrix;return function(c,f,p){return u(Rn(o,function(m){return m(c,f,p)}))}}else return function(c,f,p){return Rn(o,function(m){return m(c,f,p)})}}forEach(i){for(var a=0;a<this.items.length;a++){var o=this.items[a];i(o,"items["+a+"]",this)}}map(i){for(var a=[],o=0;o<this.items.length;o++)a[o]=this._ifNode(i(this.items[o],"items["+o+"]",this));return new t(a)}clone(){return new t(this.items.slice(0))}_toString(i){var a=this.items.map(function(o){return o.toString(i)});return"["+a.join(", ")+"]"}toJSON(){return{mathjs:kp,items:this.items}}static fromJSON(i){return new t(i.items)}toHTML(i){var a=this.items.map(function(o){return o.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function a(o,l){var u=o.some(sn)&&!o.every(sn),s=l||u,c=s?"&":"\\\\",f=o.map(function(p){return p.items?a(p.items,!l):p.toTex(i)}).join(c);return u||!s||s&&!l?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return a(this.items,!1)}}return zt(t,"name",kp),t},{isClass:!0,isNode:!0});function B2(r){var{subset:e,matrix:t}=r;return function(i,a,o){try{if(Array.isArray(i)){var l=t(i).subset(a,o).valueOf();return l.forEach((u,s)=>{i[s]=u}),i}else{if(i&&typeof i.subset=="function")return i.subset(a,o);if(typeof i=="string")return e(i,a,o);if(typeof i=="object"){if(!a.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Xi(i,a.getObjectProperty(),o),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(u){throw or(u)}}}var vi=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function Pp(r,e){if(!e||e!=="auto")return r;for(var t=r;un(t);)t=t.content;return t}function Ht(r,e,t,n){var i=r;e!=="keep"&&(i=r.getContent());for(var a=i.getIdentifier(),o=null,l=0;l<vi.length;l++)if(a in vi[l]){o=l;break}if(a==="OperatorNode:multiply"&&i.implicit&&t!=="show"){var u=Pp(i.args[0],e);!(wt(u)&&n&&n.getIdentifier()==="OperatorNode:divide"&&al(Pp(n.args[0],e)))&&!(u.getIdentifier()==="OperatorNode:divide"&&al(Pp(u.args[0],e))&&wt(Pp(u.args[1])))&&(o+=1)}return o}function pu(r,e){var t=r;e!=="keep"&&(t=r.getContent());var n=t.getIdentifier(),i=Ht(t,e);if(i===null)return null;var a=vi[i][n];if(je(a,"associativity")){if(a.associativity==="left")return"left";if(a.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+a.associativity+"'.")}return null}function Rp(r,e,t){var n=t!=="keep"?r.getContent():r,i=t!=="keep"?r.getContent():e,a=n.getIdentifier(),o=i.getIdentifier(),l=Ht(n,t);if(l===null)return null;var u=vi[l][a];if(je(u,"associativeWith")&&u.associativeWith instanceof Array){for(var s=0;s<u.associativeWith.length;s++)if(u.associativeWith[s]===o)return!0;return!1}return null}function O2(r){var e="OperatorNode:"+r;for(var t of vi)if(e in t)return t[e].op;return null}var Lp="AssignmentNode",ZW=["subset","?matrix","Node"],Ex=F(Lp,ZW,r=>{var{subset:e,matrix:t,Node:n}=r,i=Bp({subset:e}),a=B2({subset:e,matrix:t});function o(u,s,c){s||(s="keep");var f=Ht(u,s,c),p=Ht(u.value,s,c);return s==="all"||p!==null&&p<=f}class l extends n{constructor(s,c,f){if(super(),this.object=s,this.index=f?c:null,this.value=f||c,!tr(s)&&!Qn(s))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(tr(s)&&s.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!fi(this.index))throw new TypeError('IndexNode expected as "index"');if(!Et(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return Lp}get isAssignmentNode(){return!0}_compile(s,c){var f=this.object._compile(s,c),p=this.index?this.index._compile(s,c):null,m=this.value._compile(s,c),h=this.object.name;if(this.index)if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(x,D,b){var C=f(x,D,b),S=m(x,D,b);return Xi(C,d,S),S}}else{if(tr(this.object))return function(x,D,b){var C=f(x,D,b),S=m(x,D,b),E=p(x,D,C);return x.set(h,a(C,E,S)),S};var g=this.object.object._compile(s,c);if(this.object.index.isObjectProperty()){var y=this.object.index.getObjectProperty();return function(x,D,b){var C=g(x,D,b),S=gr(C,y),E=p(x,D,S),A=m(x,D,b);return Xi(C,y,a(S,E,A)),A}}else{var w=this.object.index._compile(s,c);return function(x,D,b){var C=g(x,D,b),S=w(x,D,C),E=i(C,S),A=p(x,D,E),M=m(x,D,b);return a(C,S,a(E,A,M)),M}}}else{if(!tr(this.object))throw new TypeError("SymbolNode expected as object");return function(x,D,b){var C=m(x,D,b);return x.set(h,C),C}}}forEach(s){s(this.object,"object",this),this.index&&s(this.index,"index",this),s(this.value,"value",this)}map(s){var c=this._ifNode(s(this.object,"object",this)),f=this.index?this._ifNode(s(this.index,"index",this)):null,p=this._ifNode(s(this.value,"value",this));return new l(c,f,p)}clone(){return new l(this.object,this.index,this.value)}_toString(s){var c=this.object.toString(s),f=this.index?this.index.toString(s):"",p=this.value.toString(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p="("+p+")"),c+f+" = "+p}toJSON(){return{mathjs:Lp,object:this.object,index:this.index,value:this.value}}static fromJSON(s){return new l(s.object,s.index,s.value)}toHTML(s){var c=this.object.toHTML(s),f=this.index?this.index.toHTML(s):"",p=this.value.toHTML(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p='<span class="math-paranthesis math-round-parenthesis">(</span>'+p+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+p}_toTex(s){var c=this.object.toTex(s),f=this.index?this.index.toTex(s):"",p=this.value.toTex(s);return o(this,s&&s.parenthesis,s&&s.implicit)&&(p="\\left(".concat(p,"\\right)")),c+f+"="+p}}return zt(l,"name",Lp),l},{isClass:!0,isNode:!0});var Vp="BlockNode",YW=["ResultSet","Node"],Cx=F(Vp,YW,r=>{var{ResultSet:e,Node:t}=r;class n extends t{constructor(a){if(super(),!Array.isArray(a))throw new Error("Array expected");this.blocks=a.map(function(o){var l=o&&o.node,u=o&&o.visible!==void 0?o.visible:!0;if(!Et(l))throw new TypeError('Property "node" must be a Node');if(typeof u!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:l,visible:u}})}get type(){return Vp}get isBlockNode(){return!0}_compile(a,o){var l=Rn(this.blocks,function(u){return{evaluate:u.node._compile(a,o),visible:u.visible}});return function(s,c,f){var p=[];return eo(l,function(h){var d=h.evaluate(s,c,f);h.visible&&p.push(d)}),new e(p)}}forEach(a){for(var o=0;o<this.blocks.length;o++)a(this.blocks[o].node,"blocks["+o+"].node",this)}map(a){for(var o=[],l=0;l<this.blocks.length;l++){var u=this.blocks[l],s=this._ifNode(a(u.node,"blocks["+l+"].node",this));o[l]={node:s,visible:u.visible}}return new n(o)}clone(){var a=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new n(a)}_toString(a){return this.blocks.map(function(o){return o.node.toString(a)+(o.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:Vp,blocks:this.blocks}}static fromJSON(a){return new n(a.blocks)}toHTML(a){return this.blocks.map(function(o){return o.node.toHTML(a)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(a){return this.blocks.map(function(o){return o.node.toTex(a)+(o.visible?"":";")}).join(`\\;\\;
`)}}return zt(n,"name",Vp),n},{isClass:!0,isNode:!0});var Up="ConditionalNode",JW=["Node"],Ax=F(Up,JW,r=>{var{Node:e}=r;function t(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(it(i))return!i.isZero();if(Nn(i))return!!(i.re||i.im);if(on(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+St(i)+'"')}class n extends e{constructor(a,o,l){if(super(),!Et(a))throw new TypeError("Parameter condition must be a Node");if(!Et(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Et(l))throw new TypeError("Parameter falseExpr must be a Node");this.condition=a,this.trueExpr=o,this.falseExpr=l}get type(){return Up}get isConditionalNode(){return!0}_compile(a,o){var l=this.condition._compile(a,o),u=this.trueExpr._compile(a,o),s=this.falseExpr._compile(a,o);return function(f,p,m){return t(l(f,p,m))?u(f,p,m):s(f,p,m)}}forEach(a){a(this.condition,"condition",this),a(this.trueExpr,"trueExpr",this),a(this.falseExpr,"falseExpr",this)}map(a){return new n(this._ifNode(a(this.condition,"condition",this)),this._ifNode(a(this.trueExpr,"trueExpr",this)),this._ifNode(a(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=Ht(this,o,a&&a.implicit),u=this.condition.toString(a),s=Ht(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=l)&&(u="("+u+")");var c=this.trueExpr.toString(a),f=Ht(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=l)&&(c="("+c+")");var p=this.falseExpr.toString(a),m=Ht(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=l)&&(p="("+p+")"),u+" ? "+c+" : "+p}toJSON(){return{mathjs:Up,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(a){return new n(a.condition,a.trueExpr,a.falseExpr)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=Ht(this,o,a&&a.implicit),u=this.condition.toHTML(a),s=Ht(this.condition,o,a&&a.implicit);(o==="all"||this.condition.type==="OperatorNode"||s!==null&&s<=l)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(a),f=Ht(this.trueExpr,o,a&&a.implicit);(o==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=l)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var p=this.falseExpr.toHTML(a),m=Ht(this.falseExpr,o,a&&a.implicit);return(o==="all"||this.falseExpr.type==="OperatorNode"||m!==null&&m<=l)&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+p}_toTex(a){return"\\begin{cases} {"+this.trueExpr.toTex(a)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(a)+"}\\\\{"+this.falseExpr.toTex(a)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return zt(n,"name",Up),n},{isClass:!0,isNode:!0});var L2=Fr(P2(),1);var Fx={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},$t={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},Nx={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat($t.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat($t.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat($t.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat($t.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat($t.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat($t.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat($t.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat($t.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat($t.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat($t.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat($t.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat($t.bitAnd,"${args[1]}\\right)")},bitNot:{1:$t.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat($t.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat($t.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat($t.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat($t.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat($t.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat($t.and,"${args[1]}\\right)")},not:{1:$t.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat($t.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat($t.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat($t.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat($t.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat($t.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat($t.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat($t.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat($t.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat($t.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat($t.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat($t.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat($t.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat($t.to,"${args[1]}\\right)")},numeric:function(e,t){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(Fx.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},V2="\\mathrm{${name}}\\left(${args}\\right)",R2={deg:"^\\circ"};function qp(r){return(0,L2.default)(r,{preserveFormatting:!0})}function zp(r,e){return e=typeof e=="undefined"?!1:e,e?je(R2,r)?R2[r]:"\\mathrm{"+qp(r)+"}":je(Fx,r)?Fx[r]:qp(r)}var $p="ConstantNode",eG=["Node"],_x=F($p,eG,r=>{var{Node:e}=r;class t extends e{constructor(i){super(),this.value=i}get type(){return $p}get isConstantNode(){return!0}_compile(i,a){var o=this.value;return function(){return o}}forEach(i){}map(i){return this.clone()}clone(){return new t(this.value)}_toString(i){return ot(this.value,i)}toHTML(i){var a=this._toString(i);switch(St(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+a+"</span>";case"string":return'<span class="math-string">'+a+"</span>";case"boolean":return'<span class="math-boolean">'+a+"</span>";case"null":return'<span class="math-null-symbol">'+a+"</span>";case"undefined":return'<span class="math-undefined">'+a+"</span>";default:return'<span class="math-symbol">'+a+"</span>"}}toJSON(){return{mathjs:$p,value:this.value}}static fromJSON(i){return new t(i.value)}_toTex(i){var a=this._toString(i);switch(St(this.value)){case"string":return"\\mathtt{"+qp(a)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var o=a.toLowerCase().indexOf("e");if(o!==-1)return a.substring(0,o)+"\\cdot10^{"+a.substring(o+1)+"}"}return a;case"Fraction":return this.value.toLatex();default:return a}}}return zt(t,"name",$p),t},{isClass:!0,isNode:!0});var Hp="FunctionAssignmentNode",tG=["typed","Node"],Mx=F(Hp,tG,r=>{var{typed:e,Node:t}=r;function n(a,o,l){var u=Ht(a,o,l),s=Ht(a.expr,o,l);return o==="all"||s!==null&&s<=u}class i extends t{constructor(o,l,u){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(l))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Et(u))throw new TypeError('Node expected for parameter "expr"');if(Ip.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var s=new Set;for(var c of l){var f=typeof c=="string"?c:c.name;if(s.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));s.add(f)}this.name=o,this.params=l.map(function(p){return p&&p.name||p}),this.types=l.map(function(p){return p&&p.type||"any"}),this.expr=u}get type(){return Hp}get isFunctionAssignmentNode(){return!0}_compile(o,l){var u=Object.create(l);eo(this.params,function(h){u[h]=!0});var s=this.expr._compile(o,u),c=this.name,f=this.params,p=Ph(this.types,","),m=c+"("+Ph(this.params,", ")+")";return function(d,g,y){var w={};w[p]=function(){for(var x=Object.create(g),D=0;D<f.length;D++)x[f[D]]=arguments[D];return s(d,x,y)};var v=e(c,w);return v.syntax=m,d.set(c,v),v}}forEach(o){o(this.expr,"expr",this)}map(o){var l=this._ifNode(o(this.expr,"expr",this));return new i(this.name,this.params.slice(0),l)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toString(o);return n(this,l,o&&o.implicit)&&(u="("+u+")"),this.name+"("+this.params.join(", ")+") = "+u}toJSON(){var o=this.types;return{mathjs:Hp,name:this.name,params:this.params.map(function(l,u){return{name:l,type:o[u]}}),expr:this.expr}}static fromJSON(o){return new i(o.name,o.params,o.expr)}toHTML(o){for(var l=o&&o.parenthesis?o.parenthesis:"keep",u=[],s=0;s<this.params.length;s++)u.push('<span class="math-symbol math-parameter">'+Zr(this.params[s])+"</span>");var c=this.expr.toHTML(o);return n(this,l,o&&o.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+Zr(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=this.expr.toTex(o);return n(this,l,o&&o.implicit)&&(u="\\left(".concat(u,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(zp).join(",")+"\\right)="+u}}return zt(i,"name",Hp),i},{isClass:!0,isNode:!0});var Wp="IndexNode",rG=["Node","size"],Tx=F(Wp,rG,r=>{var{Node:e,size:t}=r;class n extends e{constructor(a,o){if(super(),this.dimensions=a,this.dotNotation=o||!1,!Array.isArray(a)||!a.every(Et))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Wp}get isIndexNode(){return!0}_compile(a,o){var l=Rn(this.dimensions,function(s,c){var f=s.filter(h=>h.isSymbolNode&&h.name==="end").length>0;if(f){var p=Object.create(o);p.end=!0;var m=s._compile(a,p);return function(d,g,y){if(!$e(y)&&!Nt(y)&&!Dr(y))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+St(y));var w=t(y).valueOf(),v=Object.create(g);return v.end=w[c],m(d,v,y)}}else return s._compile(a,o)}),u=gr(a,"index");return function(c,f,p){var m=Rn(l,function(h){return h(c,f,p)});return u(...m)}}forEach(a){for(var o=0;o<this.dimensions.length;o++)a(this.dimensions[o],"dimensions["+o+"]",this)}map(a){for(var o=[],l=0;l<this.dimensions.length;l++)o[l]=this._ifNode(a(this.dimensions[l],"dimensions["+l+"]",this));return new n(o,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&wt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(a){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Wp,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(a){return new n(a.dimensions,a.dotNotation)}toHTML(a){for(var o=[],l=0;l<this.dimensions.length;l++)o[l]=this.dimensions[l].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+Zr(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(a){var o=this.dimensions.map(function(l){return l.toTex(a)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return zt(n,"name",Wp),n},{isClass:!0,isNode:!0});var Gp="ObjectNode",nG=["Node"],Ix=F(Gp,nG,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(a){return Et(i[a])})))throw new TypeError("Object containing Nodes expected")}get type(){return Gp}get isObjectNode(){return!0}_compile(i,a){var o={};for(var l in this.properties)if(je(this.properties,l)){var u=es(l),s=JSON.parse(u),c=gr(this.properties,l);o[s]=c._compile(i,a)}return function(p,m,h){var d={};for(var g in o)je(o,g)&&(d[g]=o[g](p,m,h));return d}}forEach(i){for(var a in this.properties)je(this.properties,a)&&i(this.properties[a],"properties["+es(a)+"]",this)}map(i){var a={};for(var o in this.properties)je(this.properties,o)&&(a[o]=this._ifNode(i(this.properties[o],"properties["+es(o)+"]",this)));return new t(a)}clone(){var i={};for(var a in this.properties)je(this.properties,a)&&(i[a]=this.properties[a]);return new t(i)}_toString(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push(es(o)+": "+this.properties[o].toString(i));return"{"+a.join(", ")+"}"}toJSON(){return{mathjs:Gp,properties:this.properties}}static fromJSON(i){return new t(i.properties)}toHTML(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push('<span class="math-symbol math-property">'+Zr(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var a=[];for(var o in this.properties)je(this.properties,o)&&a.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(i)+"\\\\");var l="\\left\\{\\begin{array}{ll}"+a.join(`
`)+"\\end{array}\\right\\}";return l}}return zt(t,"name",Gp),t},{isClass:!0,isNode:!0});var jp="OperatorNode",iG=["Node"],Bx=F(jp,iG,r=>{var{Node:e}=r;function t(a,o){var l=a;if(o==="auto")for(;un(l);)l=l.content;return wt(l)?!0:pr(l)?t(l.args[0],o):!1}function n(a,o,l,u,s){var c=Ht(a,o,l),f=pu(a,o);if(o==="all"||u.length>2&&a.getIdentifier()!=="OperatorNode:add"&&a.getIdentifier()!=="OperatorNode:multiply")return u.map(function(A){switch(A.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var p;switch(u.length){case 0:p=[];break;case 1:{var m=Ht(u[0],o,l,a);if(s&&m!==null){var h,d;if(o==="keep"?(h=u[0].getIdentifier(),d=a.getIdentifier()):(h=u[0].getContent().getIdentifier(),d=a.getContent().getIdentifier()),vi[c][d].latexLeftParens===!1){p=[!1];break}if(vi[m][h].latexParens===!1){p=[!1];break}}if(m===null){p=[!1];break}if(m<=c){p=[!0];break}p=[!1]}break;case 2:{var g,y=Ht(u[0],o,l,a),w=Rp(a,u[0],o);y===null?g=!1:y===c&&f==="right"&&!w||y<c?g=!0:g=!1;var v,x=Ht(u[1],o,l,a),D=Rp(a,u[1],o);if(x===null?v=!1:x===c&&f==="left"&&!D||x<c?v=!0:v=!1,s){var b,C,S;o==="keep"?(b=a.getIdentifier(),C=a.args[0].getIdentifier(),S=a.args[1].getIdentifier()):(b=a.getContent().getIdentifier(),C=a.args[0].getContent().getIdentifier(),S=a.args[1].getContent().getIdentifier()),y!==null&&(vi[c][b].latexLeftParens===!1&&(g=!1),vi[y][C].latexParens===!1&&(g=!1)),x!==null&&(vi[c][b].latexRightParens===!1&&(v=!1),vi[x][S].latexParens===!1&&(v=!1))}p=[g,v]}break;default:(a.getIdentifier()==="OperatorNode:add"||a.getIdentifier()==="OperatorNode:multiply")&&(p=u.map(function(A){var M=Ht(A,o,l,a),I=Rp(a,A,o),k=pu(A,o);return M===null?!1:c===M&&f===k&&!I?!0:M<c}));break}if(u.length>=2&&a.getIdentifier()==="OperatorNode:multiply"&&a.implicit&&o!=="all"&&l==="hide")for(var E=1;E<p.length;++E)t(u[E],o)&&!p[E-1]&&(o!=="keep"||!un(u[E-1]))&&(p[E]=!0);return p}class i extends e{constructor(o,l,u,s,c){if(super(),typeof o!="string")throw new TypeError('string expected for parameter "op"');if(typeof l!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(u)||!u.every(Et))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=s===!0,this.isPercentage=c===!0,this.op=o,this.fn=l,this.args=u||[]}get type(){return jp}get isOperatorNode(){return!0}_compile(o,l){if(typeof this.fn!="string"||!np(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var u=gr(o,this.fn),s=Rn(this.args,function(m){return m._compile(o,l)});if(s.length===1){var c=s[0];return function(h,d,g){return u(c(h,d,g))}}else if(s.length===2){var f=s[0],p=s[1];return function(h,d,g){return u(f(h,d,g),p(h,d,g))}}else return function(h,d,g){return u.apply(null,Rn(s,function(y){return y(h,d,g)}))}}forEach(o){for(var l=0;l<this.args.length;l++)o(this.args[l],"args["+l+"]",this)}map(o){for(var l=[],u=0;u<this.args.length;u++)l[u]=this._ifNode(o(this.args[u],"args["+u+"]",this));return new i(this.op,this.fn,l,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!1);if(s.length===1){var f=pu(this,l),p=s[0].toString(o);c[0]&&(p="("+p+")");var m=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(m?" ":"")+p:f==="left"?p+(m?" ":"")+this.op:p+this.op}else if(s.length===2){var h=s[0].toString(o),d=s[1].toString(o);return c[0]&&(h="("+h+")"),c[1]&&(d="("+d+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?h+" "+d:h+" "+this.op+" "+d}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=s.map(function(y,w){return y=y.toString(o),c[w]&&(y="("+y+")"),y});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?g.join(" "):g.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:jp,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new i(o.op,o.fn,o.args,o.implicit,o.isPercentage)}toHTML(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!1);if(s.length===1){var f=pu(this,l),p=s[0].toHTML(o);return c[0]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+Zr(this.op)+"</span>"+p:p+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+Zr(this.op)+"</span>"}else if(s.length===2){var m=s[0].toHTML(o),h=s[1].toHTML(o);return c[0]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?m+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+h:m+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Zr(this.op)+"</span>"+h}else{var d=s.map(function(g,y){return g=g.toHTML(o),c[y]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&u==="hide"?d.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):d.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Zr(this.op)+"</span>"):'<span class="math-function">'+Zr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+d.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(o){var l=o&&o.parenthesis?o.parenthesis:"keep",u=o&&o.implicit?o.implicit:"hide",s=this.args,c=n(this,l,u,s,!0),f=$t[this.fn];if(f=typeof f=="undefined"?this.op:f,s.length===1){var p=pu(this,l),m=s[0].toTex(o);return c[0]&&(m="\\left(".concat(m,"\\right)")),p==="right"?f+m:m+f}else if(s.length===2){var h=s[0],d=h.toTex(o);c[0]&&(d="\\left(".concat(d,"\\right)"));var g=s[1],y=g.toTex(o);c[1]&&(y="\\left(".concat(y,"\\right)"));var w;switch(l==="keep"?w=h.getIdentifier():w=h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+d+"}{"+y+"}";case"OperatorNode:pow":switch(d="{"+d+"}",y="{"+y+"}",w){case"ConditionalNode":case"OperatorNode:divide":d="\\left(".concat(d,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&u==="hide")return d+"~"+y}return d+f+y}else if(s.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=s.map(function(x,D){return x=x.toTex(o),c[D]&&(x="\\left(".concat(x,"\\right)")),x});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&u==="hide"?v.join("~"):v.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+s.map(function(x){return x.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return zt(i,"name",jp),i},{isClass:!0,isNode:!0});var Zp="ParenthesisNode",aG=["Node"],Ox=F(Zp,aG,r=>{var{Node:e}=r;class t extends e{constructor(i){if(super(),!Et(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return Zp}get isParenthesisNode(){return!0}_compile(i,a){return this.content._compile(i,a)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var a=i(this.content,"content",this);return new t(a)}clone(){return new t(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:Zp,content:this.content}}static fromJSON(i){return new t(i.content)}toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return zt(t,"name",Zp),t},{isClass:!0,isNode:!0});var Yp="RangeNode",oG=["Node"],kx=F(Yp,oG,r=>{var{Node:e}=r;function t(i,a,o){var l=Ht(i,a,o),u={},s=Ht(i.start,a,o);if(u.start=s!==null&&s<=l||a==="all",i.step){var c=Ht(i.step,a,o);u.step=c!==null&&c<=l||a==="all"}var f=Ht(i.end,a,o);return u.end=f!==null&&f<=l||a==="all",u}class n extends e{constructor(a,o,l){if(super(),!Et(a))throw new TypeError("Node expected");if(!Et(o))throw new TypeError("Node expected");if(l&&!Et(l))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=a,this.end=o,this.step=l||null}get type(){return Yp}get isRangeNode(){return!0}needsEnd(){var a=this.filter(function(o){return tr(o)&&o.name==="end"});return a.length>0}_compile(a,o){var l=a.range,u=this.start._compile(a,o),s=this.end._compile(a,o);if(this.step){var c=this.step._compile(a,o);return function(p,m,h){return l(u(p,m,h),s(p,m,h),c(p,m,h))}}else return function(p,m,h){return l(u(p,m,h),s(p,m,h))}}forEach(a){a(this.start,"start",this),a(this.end,"end",this),this.step&&a(this.step,"step",this)}map(a){return new n(this._ifNode(a(this.start,"start",this)),this._ifNode(a(this.end,"end",this)),this.step&&this._ifNode(a(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),u,s=this.start.toString(a);if(l.start&&(s="("+s+")"),u=s,this.step){var c=this.step.toString(a);l.step&&(c="("+c+")"),u+=":"+c}var f=this.end.toString(a);return l.end&&(f="("+f+")"),u+=":"+f,u}toJSON(){return{mathjs:Yp,start:this.start,end:this.end,step:this.step}}static fromJSON(a){return new n(a.start,a.end,a.step)}toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),u,s=this.start.toHTML(a);if(l.start&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u=s,this.step){var c=this.step.toHTML(a);l.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(a);return l.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u+='<span class="math-operator math-range-operator">:</span>'+f,u}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=t(this,o,a&&a.implicit),u=this.start.toTex(a);if(l.start&&(u="\\left(".concat(u,"\\right)")),this.step){var s=this.step.toTex(a);l.step&&(s="\\left(".concat(s,"\\right)")),u+=":"+s}var c=this.end.toTex(a);return l.end&&(c="\\left(".concat(c,"\\right)")),u+=":"+c,u}}return zt(n,"name",Yp),n},{isClass:!0,isNode:!0});var Jp="RelationalNode",sG=["Node"],Px=F(Jp,sG,r=>{var{Node:e}=r,t={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(a,o){if(super(),!Array.isArray(a))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(a.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=a,this.params=o}get type(){return Jp}get isRelationalNode(){return!0}_compile(a,o){var l=this,u=this.params.map(s=>s._compile(a,o));return function(c,f,p){for(var m,h=u[0](c,f,p),d=0;d<l.conditionals.length;d++){m=h,h=u[d+1](c,f,p);var g=gr(a,l.conditionals[d]);if(!g(m,h))return!1}return!0}}forEach(a){this.params.forEach((o,l)=>a(o,"params["+l+"]",this),this)}map(a){return new n(this.conditionals.slice(),this.params.map((o,l)=>this._ifNode(a(o,"params["+l+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=Ht(this,o,a&&a.implicit),u=this.params.map(function(f,p){var m=Ht(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=l?"("+f.toString(a)+")":f.toString(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+=" "+t[this.conditionals[c]],s+=" "+u[c+1];return s}toJSON(){return{mathjs:Jp,conditionals:this.conditionals,params:this.params}}static fromJSON(a){return new n(a.conditionals,a.params)}toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=Ht(this,o,a&&a.implicit),u=this.params.map(function(f,p){var m=Ht(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=l?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(a)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+Zr(t[this.conditionals[c]])+"</span>"+u[c+1];return s}_toTex(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=Ht(this,o,a&&a.implicit),u=this.params.map(function(f,p){var m=Ht(f,o,a&&a.implicit);return o==="all"||m!==null&&m<=l?"\\left("+f.toTex(a)+"\right)":f.toTex(a)}),s=u[0],c=0;c<this.conditionals.length;c++)s+=$t[this.conditionals[c]]+u[c+1];return s}}return zt(n,"name",Jp),n},{isClass:!0,isNode:!0});var uG="SymbolNode",lG=["math","?Unit","Node"],Rx=F(uG,lG,r=>{var{math:e,Unit:t,Node:n}=r;function i(o){return t?t.isValuelessUnit(o):!1}class a extends n{constructor(l){if(super(),typeof l!="string")throw new TypeError('String expected for parameter "name"');this.name=l}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(l,u){var s=this.name;if(u[s]===!0)return function(f,p,m){return gr(p,s)};if(s in l)return function(f,p,m){return f.has(s)?f.get(s):gr(l,s)};var c=i(s);return function(f,p,m){return f.has(s)?f.get(s):c?new t(null,s):a.onUndefinedSymbol(s)}}forEach(l){}map(l){return this.clone()}static onUndefinedSymbol(l){throw new Error("Undefined symbol "+l)}clone(){return new a(this.name)}_toString(l){return this.name}toHTML(l){var u=Zr(this.name);return u==="true"||u==="false"?'<span class="math-symbol math-boolean">'+u+"</span>":u==="i"?'<span class="math-symbol math-imaginary-symbol">'+u+"</span>":u==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+u+"</span>":u==="NaN"?'<span class="math-symbol math-nan-symbol">'+u+"</span>":u==="null"?'<span class="math-symbol math-null-symbol">'+u+"</span>":u==="undefined"?'<span class="math-symbol math-undefined-symbol">'+u+"</span>":'<span class="math-symbol">'+u+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(l){return new a(l.name)}_toTex(l){var u=!1;typeof e[this.name]=="undefined"&&i(this.name)&&(u=!0);var s=zp(this.name,u);return s[0]==="\\"?s:" "+s}}return a},{isClass:!0,isNode:!0});function ss(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return typeof r.createSubScope=="function"?Vh(r.createSubScope(),...t):Vh(Qi(),r,...t)}var Xp="FunctionNode",cG=["math","Node","SymbolNode"],Lx=F(Xp,cG,r=>{var e,{math:t,Node:n,SymbolNode:i}=r,a=u=>ot(u,{truncate:78});function o(u,s,c){for(var f="",p=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,m=0,h;(h=p.exec(u))!==null;)if(f+=u.substring(m,h.index),m=h.index,h[0]==="$$")f+="$",m++;else{m+=h[0].length;var d=s[h[1]];if(!d)throw new ReferenceError("Template: Property "+h[1]+" does not exist.");if(h[2]===void 0)switch(typeof d){case"string":f+=d;break;case"object":if(Et(d))f+=d.toTex(c);else if(Array.isArray(d))f+=d.map(function(g,y){if(Et(g))return g.toTex(c);throw new TypeError("Template: "+h[1]+"["+y+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+h[1]+" has to be a Node, String or array of Nodes")}else if(Et(d[h[2]]&&d[h[2]]))f+=d[h[2]].toTex(c);else throw new TypeError("Template: "+h[1]+"["+h[2]+"] is not a Node.")}return f+=u.slice(m),f}class l extends n{constructor(s,c){if(super(),typeof s=="string"&&(s=new i(s)),!Et(s))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(Et))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=s,this.args=c||[]}get name(){return this.fn.name||""}get type(){return Xp}get isFunctionNode(){return!0}_compile(s,c){var f=this.args.map(S=>S._compile(s,c));if(tr(this.fn)){var p=this.fn.name;if(c[p]){var y=this.args;return function(E,A,M){var I=gr(A,p);if(typeof I!="function")throw new TypeError("Argument '".concat(p,"' was not a function; received: ").concat(a(I)));if(I.rawArgs)return I(y,s,ss(E,A),E);var k=f.map(L=>L(E,A,M));return I.apply(I,k)}}else{var m=p in s?gr(s,p):void 0,h=typeof m=="function"&&m.rawArgs===!0,d=S=>{var E;if(S.has(p))E=S.get(p);else if(p in s)E=gr(s,p);else return l.onUndefinedFunction(p);if(typeof E=="function")return E;throw new TypeError("'".concat(p,`' is not a function; its value is:
  `).concat(a(E)))};if(h){var g=this.args;return function(E,A,M){var I=d(E);return I(g,s,ss(E,A),E)}}else switch(f.length){case 0:return function(E,A,M){var I=d(E);return I()};case 1:return function(E,A,M){var I=d(E),k=f[0];return I(k(E,A,M))};case 2:return function(E,A,M){var I=d(E),k=f[0],L=f[1];return I(k(E,A,M),L(E,A,M))};default:return function(E,A,M){var I=d(E),k=f.map(L=>L(E,A,M));return I(...k)}}}}else if(Qn(this.fn)&&fi(this.fn.index)&&this.fn.index.isObjectProperty()){var w=this.fn.object._compile(s,c),v=this.fn.index.getObjectProperty(),x=this.args;return function(E,A,M){var I=w(E,A,M),k=XS(I,v);if(k!=null&&k.rawArgs)return k(x,s,ss(E,A),E);var L=f.map(P=>P(E,A,M));return k.apply(I,L)}}else{var D=this.fn.toString(),b=this.fn._compile(s,c),C=this.args;return function(E,A,M){var I=b(E,A,M);if(typeof I!="function")throw new TypeError("Expression '".concat(D,"' did not evaluate to a function; value is:")+`
  `.concat(a(I)));if(I.rawArgs)return I(C,s,ss(E,A),E);var k=f.map(L=>L(E,A,M));return I.apply(I,k)}}}forEach(s){s(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)s(this.args[c],"args["+c+"]",this)}map(s){for(var c=this._ifNode(s(this.fn,"fn",this)),f=[],p=0;p<this.args.length;p++)f[p]=this._ifNode(s(this.args[p],"args["+p+"]",this));return new l(c,f)}clone(){return new l(this.fn,this.args.slice(0))}toString(s){var c,f=this.fn.toString(s);return s&&typeof s.handler=="object"&&je(s.handler,f)&&(c=s.handler[f](this,s)),typeof c!="undefined"?c:super.toString(s)}_toString(s){var c=this.args.map(function(p){return p.toString(s)}),f=Ji(this.fn)?"("+this.fn.toString(s)+")":this.fn.toString(s);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:Xp,fn:this.fn,args:this.args}}toHTML(s){var c=this.args.map(function(f){return f.toHTML(s)});return'<span class="math-function">'+Zr(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(s){var c;return s&&typeof s.handler=="object"&&je(s.handler,this.name)&&(c=s.handler[this.name](this,s)),typeof c!="undefined"?c:super.toTex(s)}_toTex(s){var c=this.args.map(function(m){return m.toTex(s)}),f;Nx[this.name]&&(f=Nx[this.name]),t[this.name]&&(typeof t[this.name].toTex=="function"||typeof t[this.name].toTex=="object"||typeof t[this.name].toTex=="string")&&(f=t[this.name].toTex);var p;switch(typeof f){case"function":p=f(this,s);break;case"string":p=o(f,this,s);break;case"object":switch(typeof f[c.length]){case"function":p=f[c.length](this,s);break;case"string":p=o(f[c.length],this,s);break}}return typeof p!="undefined"?p:o(V2,this,s)}getIdentifier(){return this.type+":"+this.name}}return e=l,zt(l,"name",Xp),zt(l,"onUndefinedFunction",function(u){throw new Error("Undefined function "+u)}),zt(l,"fromJSON",function(u){return new e(u.fn,u.args)}),l},{isClass:!0,isNode:!0});var U2="parse",fG=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],Vx=F(U2,fG,r=>{var{typed:e,numeric:t,config:n,AccessorNode:i,ArrayNode:a,AssignmentNode:o,BlockNode:l,ConditionalNode:u,ConstantNode:s,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:p,ObjectNode:m,OperatorNode:h,ParenthesisNode:d,RangeNode:g,RelationalNode:y,SymbolNode:w}=r,v=e(U2,{string:function(N){return ee(N,{})},"Array | Matrix":function(N){return x(N,{})},"string, Object":function(N,R){var Z=R.nodes!==void 0?R.nodes:{};return ee(N,Z)},"Array | Matrix, Object":x});function x(_){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=N.nodes!==void 0?N.nodes:{};return Ze(_,function(Z){if(typeof Z!="string")throw new TypeError("String expected");return ee(Z,R)})}var D={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},S={true:!0,false:!1,null:null,undefined:void 0},E=["NaN","Infinity"],A={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function M(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:D.NULL,nestingLevel:0,conditionalLevel:null}}function I(_,N){return _.expression.substr(_.index,N)}function k(_){return I(_,1)}function L(_){_.index++}function P(_){return _.expression.charAt(_.index-1)}function B(_){return _.expression.charAt(_.index+1)}function T(_){for(_.tokenType=D.NULL,_.token="",_.comment="";;){if(k(_)==="#")for(;k(_)!==`
`&&k(_)!=="";)_.comment+=k(_),L(_);if(v.isWhitespace(k(_),_.nestingLevel))L(_);else break}if(k(_)===""){_.tokenType=D.DELIMITER;return}if(k(_)===`
`&&!_.nestingLevel){_.tokenType=D.DELIMITER,_.token=k(_),L(_);return}var N=k(_),R=I(_,2),Z=I(_,3);if(Z.length===3&&b[Z]){_.tokenType=D.DELIMITER,_.token=Z,L(_),L(_),L(_);return}if(R.length===2&&b[R]){_.tokenType=D.DELIMITER,_.token=R,L(_),L(_);return}if(b[N]){_.tokenType=D.DELIMITER,_.token=N,L(_);return}if(v.isDigitDot(N)){_.tokenType=D.NUMBER;var se=I(_,2);if(se==="0b"||se==="0o"||se==="0x"){for(_.token+=k(_),L(_),_.token+=k(_),L(_);v.isHexDigit(k(_));)_.token+=k(_),L(_);if(k(_)===".")for(_.token+=".",L(_);v.isHexDigit(k(_));)_.token+=k(_),L(_);else if(k(_)==="i")for(_.token+="i",L(_);v.isDigit(k(_));)_.token+=k(_),L(_);return}if(k(_)==="."){if(_.token+=k(_),L(_),!v.isDigit(k(_))){_.tokenType=D.DELIMITER;return}}else{for(;v.isDigit(k(_));)_.token+=k(_),L(_);v.isDecimalMark(k(_),B(_))&&(_.token+=k(_),L(_))}for(;v.isDigit(k(_));)_.token+=k(_),L(_);if(k(_)==="E"||k(_)==="e"){if(v.isDigit(B(_))||B(_)==="-"||B(_)==="+"){if(_.token+=k(_),L(_),(k(_)==="+"||k(_)==="-")&&(_.token+=k(_),L(_)),!v.isDigit(k(_)))throw Ne(_,'Digit expected, got "'+k(_)+'"');for(;v.isDigit(k(_));)_.token+=k(_),L(_);if(v.isDecimalMark(k(_),B(_)))throw Ne(_,'Digit expected, got "'+k(_)+'"')}else if(B(_)===".")throw L(_),Ne(_,'Digit expected, got "'+k(_)+'"')}return}if(v.isAlpha(k(_),P(_),B(_))){for(;v.isAlpha(k(_),P(_),B(_))||v.isDigit(k(_));)_.token+=k(_),L(_);je(C,_.token)?_.tokenType=D.DELIMITER:_.tokenType=D.SYMBOL;return}for(_.tokenType=D.UNKNOWN;k(_)!=="";)_.token+=k(_),L(_);throw Ne(_,'Syntax error in part "'+_.token+'"')}function z(_){do T(_);while(_.token===`
`)}function O(_){_.nestingLevel++}function J(_){_.nestingLevel--}v.isAlpha=function(N,R,Z){return v.isValidLatinOrGreek(N)||v.isValidMathSymbol(N,Z)||v.isValidMathSymbol(R,N)},v.isValidLatinOrGreek=function(N){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(N)},v.isValidMathSymbol=function(N,R){return/^[\uD835]$/.test(N)&&/^[\uDC00-\uDFFF]$/.test(R)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(R)},v.isWhitespace=function(N,R){return N===" "||N==="	"||N===`
`&&R>0},v.isDecimalMark=function(N,R){return N==="."&&R!=="/"&&R!=="*"&&R!=="^"},v.isDigitDot=function(N){return N>="0"&&N<="9"||N==="."},v.isDigit=function(N){return N>="0"&&N<="9"},v.isHexDigit=function(N){return N>="0"&&N<="9"||N>="a"&&N<="f"||N>="A"&&N<="F"};function ee(_,N){var R=M();hr(R,{expression:_,extraNodes:N}),T(R);var Z=j(R);if(R.token!=="")throw R.tokenType===D.DELIMITER?Oe(R,"Unexpected operator "+R.token):Ne(R,'Unexpected part "'+R.token+'"');return Z}function j(_){var N,R=[],Z;for(_.token!==""&&_.token!==`
`&&_.token!==";"&&(N=V(_),_.comment&&(N.comment=_.comment));_.token===`
`||_.token===";";)R.length===0&&N&&(Z=_.token!==";",R.push({node:N,visible:Z})),T(_),_.token!==`
`&&_.token!==";"&&_.token!==""&&(N=V(_),_.comment&&(N.comment=_.comment),Z=_.token!==";",R.push({node:N,visible:Z}));return R.length>0?new l(R):(N||(N=new s(void 0),_.comment&&(N.comment=_.comment)),N)}function V(_){var N,R,Z,se,ye=re(_);if(_.token==="="){if(tr(ye))return N=ye.name,z(_),Z=V(_),new o(new w(N),Z);if(Qn(ye))return z(_),Z=V(_),new o(ye.object,ye.index,Z);if(Mn(ye)&&tr(ye.fn)&&(se=!0,R=[],N=ye.name,ye.args.forEach(function(_e,Re){tr(_e)?R[Re]=_e.name:se=!1}),se))return z(_),Z=V(_),new c(N,R,Z);throw Ne(_,"Invalid left hand side of assignment operator =")}return ye}function re(_){for(var N=xe(_);_.token==="?";){var R=_.conditionalLevel;_.conditionalLevel=_.nestingLevel,z(_);var Z=N,se=V(_);if(_.token!==":")throw Ne(_,"False part of conditional expression expected");_.conditionalLevel=null,z(_);var ye=V(_);N=new u(Z,se,ye),_.conditionalLevel=R}return N}function xe(_){for(var N=oe(_);_.token==="or";)z(_),N=new h("or","or",[N,oe(_)]);return N}function oe(_){for(var N=le(_);_.token==="xor";)z(_),N=new h("xor","xor",[N,le(_)]);return N}function le(_){for(var N=ve(_);_.token==="and";)z(_),N=new h("and","and",[N,ve(_)]);return N}function ve(_){for(var N=ue(_);_.token==="|";)z(_),N=new h("|","bitOr",[N,ue(_)]);return N}function ue(_){for(var N=ce(_);_.token==="^|";)z(_),N=new h("^|","bitXor",[N,ce(_)]);return N}function ce(_){for(var N=me(_);_.token==="&";)z(_),N=new h("&","bitAnd",[N,me(_)]);return N}function me(_){for(var N=[de(_)],R=[],Z={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};je(Z,_.token);){var se={name:_.token,fn:Z[_.token]};R.push(se),z(_),N.push(de(_))}return N.length===1?N[0]:N.length===2?new h(R[0].name,R[0].fn,N):new y(R.map(ye=>ye.fn),N)}function de(_){var N,R,Z,se;N=Be(_);for(var ye={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};je(ye,_.token);)R=_.token,Z=ye[R],z(_),se=[N,Be(_)],N=new h(R,Z,se);return N}function Be(_){var N,R,Z,se;N=we(_);for(var ye={to:"to",in:"to"};je(ye,_.token);)R=_.token,Z=ye[R],z(_),R==="in"&&_.token===""?N=new h("*","multiply",[N,new w("in")],!0):(se=[N,we(_)],N=new h(R,Z,se));return N}function we(_){var N,R=[];if(_.token===":"?N=new s(1):N=U(_),_.token===":"&&_.conditionalLevel!==_.nestingLevel){for(R.push(N);_.token===":"&&R.length<3;)z(_),_.token===")"||_.token==="]"||_.token===","||_.token===""?R.push(new w("end")):R.push(U(_));R.length===3?N=new g(R[0],R[2],R[1]):N=new g(R[0],R[1])}return N}function U(_){var N,R,Z,se;N=H(_);for(var ye={"+":"add","-":"subtract"};je(ye,_.token);){R=_.token,Z=ye[R],z(_);var _e=H(_);_e.isPercentage?se=[N,new h("*","multiply",[N,_e])]:se=[N,_e],N=new h(R,Z,se)}return N}function H(_){var N,R,Z,se;N=fe(_),R=N;for(var ye={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};je(ye,_.token);)Z=_.token,se=ye[Z],z(_),R=fe(_),N=new h(Z,se,[N,R]);return N}function fe(_){var N,R;for(N=$(_),R=N;_.tokenType===D.SYMBOL||_.token==="in"&&wt(N)||_.tokenType===D.NUMBER&&!wt(R)&&(!pr(R)||R.op==="!")||_.token==="(";)R=$(_),N=new h("*","multiply",[N,R],!0);return N}function $(_){for(var N=Q(_),R=N,Z=[];_.token==="/"&&al(R);)if(Z.push(hr({},_)),z(_),_.tokenType===D.NUMBER)if(Z.push(hr({},_)),z(_),_.tokenType===D.SYMBOL||_.token==="(")hr(_,Z.pop()),Z.pop(),R=Q(_),N=new h("/","divide",[N,R]);else{Z.pop(),hr(_,Z.pop());break}else{hr(_,Z.pop());break}return N}function Q(_){var N,R,Z,se;N=te(_);for(var ye={"%":"mod",mod:"mod"};je(ye,_.token);)R=_.token,Z=ye[R],z(_),R==="%"&&_.tokenType===D.DELIMITER&&_.token!=="("?N=new h("/","divide",[N,new s(100)],!1,!0):(se=[N,te(_)],N=new h(R,Z,se));return N}function te(_){var N,R,Z,se={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return je(se,_.token)?(Z=se[_.token],N=_.token,z(_),R=[te(_)],new h(N,Z,R)):he(_)}function he(_){var N,R,Z,se;return N=be(_),(_.token==="^"||_.token===".^")&&(R=_.token,Z=R==="^"?"pow":"dotPow",z(_),se=[N,te(_)],N=new h(R,Z,se)),N}function be(_){var N,R,Z,se;N=Pe(_);for(var ye={"!":"factorial","'":"ctranspose"};je(ye,_.token);)R=_.token,Z=ye[R],T(_),se=[N],N=new h(R,Z,se),N=mt(_,N);return N}function Pe(_){var N=[];if(_.tokenType===D.SYMBOL&&je(_.extraNodes,_.token)){var R=_.extraNodes[_.token];if(T(_),_.token==="("){if(N=[],O(_),T(_),_.token!==")")for(N.push(V(_));_.token===",";)T(_),N.push(V(_));if(_.token!==")")throw Ne(_,"Parenthesis ) expected");J(_),T(_)}return new R(N)}return Fe(_)}function Fe(_){var N,R;return _.tokenType===D.SYMBOL||_.tokenType===D.DELIMITER&&_.token in C?(R=_.token,T(_),je(S,R)?N=new s(S[R]):E.indexOf(R)!==-1?N=new s(t(R,"number")):N=new w(R),N=mt(_,N),N):gt(_)}function mt(_,N,R){for(var Z;(_.token==="("||_.token==="["||_.token===".")&&(!R||R.indexOf(_.token)!==-1);)if(Z=[],_.token==="(")if(tr(N)||Qn(N)){if(O(_),T(_),_.token!==")")for(Z.push(V(_));_.token===",";)T(_),Z.push(V(_));if(_.token!==")")throw Ne(_,"Parenthesis ) expected");J(_),T(_),N=new f(N,Z)}else return N;else if(_.token==="["){if(O(_),T(_),_.token!=="]")for(Z.push(V(_));_.token===",";)T(_),Z.push(V(_));if(_.token!=="]")throw Ne(_,"Parenthesis ] expected");J(_),T(_),N=new i(N,new p(Z))}else{T(_);var se=_.tokenType===D.SYMBOL||_.tokenType===D.DELIMITER&&_.token in C;if(!se)throw Ne(_,"Property name expected after dot");Z.push(new s(_.token)),T(_);var ye=!0;N=new i(N,new p(Z,ye))}return N}function gt(_){var N,R;return _.token==='"'||_.token==="'"?(R=Lt(_,_.token),N=new s(R),N=mt(_,N),N):Yt(_)}function Lt(_,N){for(var R="";k(_)!==""&&k(_)!==N;)if(k(_)==="\\"){L(_);var Z=k(_),se=A[Z];if(se!==void 0)R+=se,_.index+=1;else if(Z==="u"){var ye=_.expression.slice(_.index+1,_.index+5);if(/^[0-9A-Fa-f]{4}$/.test(ye))R+=String.fromCharCode(parseInt(ye,16)),_.index+=5;else throw Ne(_,"Invalid unicode character \\u".concat(ye))}else throw Ne(_,"Bad escape character \\".concat(Z))}else R+=k(_),L(_);if(T(_),_.token!==N)throw Ne(_,"End of string ".concat(N," expected"));return T(_),R}function Yt(_){var N,R,Z,se;if(_.token==="["){if(O(_),T(_),_.token!=="]"){var ye=W(_);if(_.token===";"){for(Z=1,R=[ye];_.token===";";)T(_),R[Z]=W(_),Z++;if(_.token!=="]")throw Ne(_,"End of matrix ] expected");J(_),T(_),se=R[0].items.length;for(var _e=1;_e<Z;_e++)if(R[_e].items.length!==se)throw Oe(_,"Column dimensions mismatch ("+R[_e].items.length+" !== "+se+")");N=new a(R)}else{if(_.token!=="]")throw Ne(_,"End of matrix ] expected");J(_),T(_),N=ye}}else J(_),T(_),N=new a([]);return mt(_,N)}return ne(_)}function W(_){for(var N=[V(_)],R=1;_.token===",";)T(_),N[R]=V(_),R++;return new a(N)}function ne(_){if(_.token==="{"){O(_);var N,R={};do if(T(_),_.token!=="}"){if(_.token==='"'||_.token==="'")N=Lt(_,_.token);else if(_.tokenType===D.SYMBOL||_.tokenType===D.DELIMITER&&_.token in C)N=_.token,T(_);else throw Ne(_,"Symbol or string expected as object key");if(_.token!==":")throw Ne(_,"Colon : expected after object key");T(_),R[N]=V(_)}while(_.token===",");if(_.token!=="}")throw Ne(_,"Comma , or bracket } expected after object value");J(_),T(_);var Z=new m(R);return Z=mt(_,Z),Z}return pe(_)}function pe(_){var N;return _.tokenType===D.NUMBER?(N=_.token,T(_),new s(t(N,n.number))):Ae(_)}function Ae(_){var N;if(_.token==="("){if(O(_),T(_),N=V(_),_.token!==")")throw Ne(_,"Parenthesis ) expected");return J(_),T(_),N=new d(N),N=mt(_,N),N}return Me(_)}function Me(_){throw _.token===""?Ne(_,"Unexpected end of expression"):Ne(_,"Value expected")}function Se(_){return _.index-_.token.length+1}function Ne(_,N){var R=Se(_),Z=new SyntaxError(N+" (char "+R+")");return Z.char=R,Z}function Oe(_,N){var R=Se(_),Z=new SyntaxError(N+" (char "+R+")");return Z.char=R,Z}return e.addConversion({from:"string",to:"Node",convert:v}),v});var q2="compile",pG=["typed","parse"],Ux=F(q2,pG,r=>{var{typed:e,parse:t}=r;return e(q2,{string:function(i){return t(i).compile()},"Array | Matrix":function(i){return Ze(i,function(a){return t(a).compile()})}})});var z2="evaluate",mG=["typed","parse"],qx=F(z2,mG,r=>{var{typed:e,parse:t}=r;return e(z2,{string:function(i){var a=Qi();return t(i).compile().evaluate(a)},"string, Map | Object":function(i,a){return t(i).compile().evaluate(a)},"Array | Matrix":function(i){var a=Qi();return Ze(i,function(o){return t(o).compile().evaluate(a)})},"Array | Matrix, Map | Object":function(i,a){return Ze(i,function(o){return t(o).compile().evaluate(a)})}})});var dG="Parser",hG=["evaluate"],zx=F(dG,hG,r=>{var{evaluate:e}=r;function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Qi(),writable:!1})}return t.prototype.type="Parser",t.prototype.isParser=!0,t.prototype.evaluate=function(n){return e(n,this.scope)},t.prototype.get=function(n){if(this.scope.has(n))return this.scope.get(n)},t.prototype.getAll=function(){return KS(this.scope)},t.prototype.getAllAsMap=function(){return this.scope},t.prototype.set=function(n,i){return this.scope.set(n,i),i},t.prototype.remove=function(n){this.scope.delete(n)},t.prototype.clear=function(){this.scope.clear()},t},{isClass:!0});var $2="parser",gG=["typed","Parser"],$x=F($2,gG,r=>{var{typed:e,Parser:t}=r;return e($2,{"":function(){return new t}})});var H2="lup",vG=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],Hx=F(H2,vG,r=>{var{typed:e,matrix:t,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:l,larger:u,equalScalar:s,unaryMinus:c,DenseMatrix:f,SparseMatrix:p,Spa:m}=r;return e(H2,{DenseMatrix:function(y){return h(y)},SparseMatrix:function(y){return d(y)},Array:function(y){var w=t(y),v=h(w);return{L:v.L.valueOf(),U:v.U.valueOf(),p:v.p}}});function h(g){var y=g._size[0],w=g._size[1],v=Math.min(y,w),x=tt(g._data),D=[],b=[y,v],C=[],S=[v,w],E,A,M,I=[];for(E=0;E<y;E++)I[E]=E;for(A=0;A<w;A++){if(A>0)for(E=0;E<y;E++){var k=Math.min(E,A),L=0;for(M=0;M<k;M++)L=i(L,o(x[E][M],x[M][A]));x[E][A]=l(x[E][A],L)}var P=A,B=0,T=0;for(E=A;E<y;E++){var z=x[E][A],O=n(z);u(O,B)&&(P=E,B=O,T=z)}if(A!==P&&(I[A]=[I[P],I[P]=I[A]][0],f._swapRows(A,P,x)),A<y)for(E=A+1;E<y;E++){var J=x[E][A];s(J,0)||(x[E][A]=a(x[E][A],T))}}for(A=0;A<w;A++)for(E=0;E<y;E++){if(A===0&&(E<w&&(C[E]=[]),D[E]=[]),E<A){E<w&&(C[E][A]=x[E][A]),A<y&&(D[E][A]=0);continue}if(E===A){E<w&&(C[E][A]=x[E][A]),A<y&&(D[E][A]=1);continue}E<w&&(C[E][A]=0),A<y&&(D[E][A]=x[E][A])}var ee=new f({data:D,size:b}),j=new f({data:C,size:S}),V=[];for(E=0,v=I.length;E<v;E++)V[I[E]]=E;return{L:ee,U:j,p:V,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function d(g){var y=g._size[0],w=g._size[1],v=Math.min(y,w),x=g._values,D=g._index,b=g._ptr,C=[],S=[],E=[],A=[y,v],M=[],I=[],k=[],L=[v,w],P,B,T,z=[],O=[];for(P=0;P<y;P++)z[P]=P,O[P]=P;var J=function(V,re){var xe=O[V],oe=O[re];z[xe]=re,z[oe]=V,O[V]=oe,O[re]=xe},ee=function(){var V=new m;B<y&&(E.push(C.length),C.push(1),S.push(B)),k.push(M.length);var re=b[B],xe=b[B+1];for(T=re;T<xe;T++)P=D[T],V.set(z[P],x[T]);B>0&&V.forEach(0,B-1,function(ue,ce){p._forEachRow(ue,C,S,E,function(me,de){me>ue&&V.accumulate(me,c(o(de,ce)))})});var oe=B,le=V.get(B),ve=n(le);V.forEach(B+1,y-1,function(ue,ce){var me=n(ce);u(me,ve)&&(oe=ue,ve=me,le=ce)}),B!==oe&&(p._swapRows(B,oe,A[1],C,S,E),p._swapRows(B,oe,L[1],M,I,k),V.swap(B,oe),J(B,oe)),V.forEach(0,y-1,function(ue,ce){ue<=B?(M.push(ce),I.push(ue)):(ce=a(ce,le),s(ce,0)||(C.push(ce),S.push(ue)))})};for(B=0;B<w;B++)ee();return k.push(M.length),E.push(C.length),{L:new p({values:C,index:S,ptr:E,size:A}),U:new p({values:M,index:I,ptr:k,size:L}),p:z,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}});var W2="qr",yG=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],Wx=F(W2,yG,r=>{var{typed:e,matrix:t,zeros:n,identity:i,isZero:a,equal:o,sign:l,sqrt:u,conj:s,unaryMinus:c,addScalar:f,divideScalar:p,multiplyScalar:m,subtractScalar:h,complex:d}=r;return hr(e(W2,{DenseMatrix:function(x){return y(x)},SparseMatrix:function(x){return w(x)},Array:function(x){var D=t(x),b=y(D);return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:g});function g(v){var x=v._size[0],D=v._size[1],b=i([x],"dense"),C=b._data,S=v.clone(),E=S._data,A,M,I,k=n([x],"");for(I=0;I<Math.min(D,x);++I){var L=E[I][I],P=c(o(L,0)?1:l(L)),B=s(P),T=0;for(A=I;A<x;A++)T=f(T,m(E[A][I],s(E[A][I])));var z=m(P,u(T));if(!a(z)){var O=h(L,z);for(k[I]=1,A=I+1;A<x;A++)k[A]=p(E[A][I],O);var J=c(s(p(O,z))),ee=void 0;for(M=I;M<D;M++){for(ee=0,A=I;A<x;A++)ee=f(ee,m(s(k[A]),E[A][M]));for(ee=m(ee,J),A=I;A<x;A++)E[A][M]=m(h(E[A][M],m(k[A],ee)),B)}for(A=0;A<x;A++){for(ee=0,M=I;M<x;M++)ee=f(ee,m(C[A][M],k[M]));for(ee=m(ee,J),M=I;M<x;++M)C[A][M]=p(h(C[A][M],m(ee,s(k[M]))),B)}}}return{Q:b,R:S,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function y(v){var x=g(v),D=x.R._data;if(v._data.length>0)for(var b=D[0][0].type==="Complex"?d(0):0,C=0;C<D.length;++C)for(var S=0;S<C&&S<(D[0]||[]).length;++S)D[C][S]=b;return x}function w(v){throw new Error("qr not implemented for sparse matrices yet")}});function G2(r,e,t,n){for(var i=r._values,a=r._index,o=r._ptr,l=r._size,u=r._datatype,s=l[0],c=l[1],f=n&&r._values?[]:null,p=[],m=[],h=0,d=0;d<c;d++){m[d]=h;for(var g=t?t[d]:d,y=o[g],w=o[g+1],v=y;v<w;v++){var x=e?e[a[v]]:a[v];p[h]=x,f&&(f[h]=i[v]),h++}}return m[c]=h,r.createSparseMatrix({values:f,index:p,ptr:m,size:[s,c],datatype:u})}function Qp(r,e,t,n,i,a,o){var l=0;for(t[o]=r;l>=0;){var u=t[o+l],s=t[n+u];s===-1?(l--,a[e++]=u):(t[n+u]=t[i+s],++l,t[o+l]=s)}return e}function j2(r,e){if(!r)return null;var t=0,n,i=[],a=[],o=0,l=e,u=2*e;for(n=0;n<e;n++)a[o+n]=-1;for(n=e-1;n>=0;n--)r[n]!==-1&&(a[l+n]=a[o+r[n]],a[o+r[n]]=n);for(n=0;n<e;n++)r[n]===-1&&(t=Qp(n,t,a,o,l,i,u));return i}function Z2(r,e){if(!r)return null;var t=r._index,n=r._ptr,i=r._size,a=i[0],o=i[1],l=[],u=[],s=0,c=o,f,p;if(e)for(f=0;f<a;f++)u[c+f]=-1;for(var m=0;m<o;m++){l[m]=-1,u[s+m]=-1;for(var h=n[m],d=n[m+1],g=h;g<d;g++){var y=t[g];for(f=e?u[c+y]:y;f!==-1&&f<m;f=p)p=u[s+f],u[s+f]=m,p===-1&&(l[f]=m);e&&(u[c+y]=m)}}return l}function Y2(r,e,t){for(var n=r._values,i=r._index,a=r._ptr,o=r._size,l=o[1],u=0,s=0;s<l;s++){var c=a[s];for(a[s]=u;c<a[s+1];c++)e(i[c],s,n?n[c]:1,t)&&(i[u]=i[c],n&&(n[u]=n[c]),u++)}return a[l]=u,i.splice(u,i.length-u),n&&n.splice(u,n.length-u),u}function Li(r){return-r-2}var xG="csAmd",bG=["add","multiply","transpose"],J2=F(xG,bG,r=>{var{add:e,multiply:t,transpose:n}=r;return function(c,f){if(!f||c<=0||c>3)return null;var p=f._size,m=p[0],h=p[1],d=0,g=Math.max(16,10*Math.sqrt(h));g=Math.min(h-2,g);var y=i(c,f,m,h,g);Y2(y,u,null);for(var w=y._index,v=y._ptr,x=v[h],D=[],b=[],C=0,S=h+1,E=2*(h+1),A=3*(h+1),M=4*(h+1),I=5*(h+1),k=6*(h+1),L=7*(h+1),P=D,B=a(h,v,b,C,A,P,E,L,S,k,M,I),T=o(h,v,b,I,M,k,g,S,A,P,E),z=0,O,J,ee,j,V,re,xe,oe,le,ve,ue,ce,me,de,Be,we;T<h;){for(ee=-1;z<h&&(ee=b[A+z])===-1;z++);b[E+ee]!==-1&&(P[b[E+ee]]=-1),b[A+z]=b[E+ee];var U=b[M+ee],H=b[S+ee];T+=H;var fe=0;b[S+ee]=-H;var $=v[ee],Q=U===0?$:x,te=Q;for(j=1;j<=U+1;j++){for(j>U?(re=ee,xe=$,oe=b[C+ee]-U):(re=w[$++],xe=v[re],oe=b[C+re]),V=1;V<=oe;V++)O=w[xe++],!((le=b[S+O])<=0)&&(fe+=le,b[S+O]=-le,w[te++]=O,b[E+O]!==-1&&(P[b[E+O]]=P[O]),P[O]!==-1?b[E+P[O]]=b[E+O]:b[A+b[I+O]]=b[E+O]);re!==ee&&(v[re]=Li(ee),b[k+re]=0)}for(U!==0&&(x=te),b[I+ee]=fe,v[ee]=Q,b[C+ee]=te-Q,b[M+ee]=-2,B=l(B,d,b,k,h),ve=Q;ve<te;ve++)if(O=w[ve],!((ue=b[M+O])<=0)){le=-b[S+O];var he=B-le;for($=v[O],ce=v[O]+ue-1;$<=ce;$++)re=w[$],b[k+re]>=B?b[k+re]-=le:b[k+re]!==0&&(b[k+re]=b[I+re]+he)}for(ve=Q;ve<te;ve++){for(O=w[ve],ce=v[O],me=ce+b[M+O]-1,de=ce,Be=0,we=0,$=ce;$<=me;$++)if(re=w[$],b[k+re]!==0){var be=b[k+re]-B;be>0?(we+=be,w[de++]=re,Be+=re):(v[re]=Li(ee),b[k+re]=0)}b[M+O]=de-ce+1;var Pe=de,Fe=ce+b[C+O];for($=me+1;$<Fe;$++){J=w[$];var mt=b[S+J];mt<=0||(we+=mt,w[de++]=J,Be+=J)}we===0?(v[O]=Li(ee),le=-b[S+O],fe-=le,H+=le,T+=le,b[S+O]=0,b[M+O]=-1):(b[I+O]=Math.min(b[I+O],we),w[de]=w[Pe],w[Pe]=w[ce],w[ce]=ee,b[C+O]=de-ce+1,Be=(Be<0?-Be:Be)%h,b[E+O]=b[L+Be],b[L+Be]=O,P[O]=Be)}for(b[I+ee]=fe,d=Math.max(d,fe),B=l(B+d,d,b,k,h),ve=Q;ve<te;ve++)if(O=w[ve],!(b[S+O]>=0))for(Be=P[O],O=b[L+Be],b[L+Be]=-1;O!==-1&&b[E+O]!==-1;O=b[E+O],B++){for(oe=b[C+O],ue=b[M+O],$=v[O]+1;$<=v[O]+oe-1;$++)b[k+w[$]]=B;var gt=O;for(J=b[E+O];J!==-1;){var Lt=b[C+J]===oe&&b[M+J]===ue;for($=v[J]+1;Lt&&$<=v[J]+oe-1;$++)b[k+w[$]]!==B&&(Lt=0);Lt?(v[J]=Li(O),b[S+O]+=b[S+J],b[S+J]=0,b[M+J]=-1,J=b[E+J],b[E+gt]=J):(gt=J,J=b[E+J])}}for($=Q,ve=Q;ve<te;ve++)O=w[ve],!((le=-b[S+O])<=0)&&(b[S+O]=le,we=b[I+O]+fe-le,we=Math.min(we,h-T-le),b[A+we]!==-1&&(P[b[A+we]]=O),b[E+O]=b[A+we],P[O]=-1,b[A+we]=O,z=Math.min(z,we),b[I+O]=we,w[$++]=O);b[S+ee]=H,(b[C+ee]=$-Q)===0&&(v[ee]=-1,b[k+ee]=0),U!==0&&(x=$)}for(O=0;O<h;O++)v[O]=Li(v[O]);for(J=0;J<=h;J++)b[A+J]=-1;for(J=h;J>=0;J--)b[S+J]>0||(b[E+J]=b[A+v[J]],b[A+v[J]]=J);for(re=h;re>=0;re--)b[S+re]<=0||v[re]!==-1&&(b[E+re]=b[A+v[re]],b[A+v[re]]=re);for(ee=0,O=0;O<=h;O++)v[O]===-1&&(ee=Qp(O,ee,b,A,E,D,k));return D.splice(D.length-1,1),D};function i(s,c,f,p,m){var h=n(c);if(s===1&&p===f)return e(c,h);if(s===2){for(var d=h._index,g=h._ptr,y=0,w=0;w<f;w++){var v=g[w];if(g[w]=y,!(g[w+1]-v>m))for(var x=g[w+1];v<x;v++)d[y++]=d[v]}return g[f]=y,c=n(h),t(h,c)}return t(h,c)}function a(s,c,f,p,m,h,d,g,y,w,v,x){for(var D=0;D<s;D++)f[p+D]=c[D+1]-c[D];f[p+s]=0;for(var b=0;b<=s;b++)f[m+b]=-1,h[b]=-1,f[d+b]=-1,f[g+b]=-1,f[y+b]=1,f[w+b]=1,f[v+b]=0,f[x+b]=f[p+b];var C=l(0,0,f,w,s);return f[v+s]=-2,c[s]=-1,f[w+s]=0,C}function o(s,c,f,p,m,h,d,g,y,w,v){for(var x=0,D=0;D<s;D++){var b=f[p+D];if(b===0)f[m+D]=-2,x++,c[D]=-1,f[h+D]=0;else if(b>d)f[g+D]=0,f[m+D]=-1,x++,c[D]=Li(s),f[g+s]++;else{var C=f[y+b];C!==-1&&(w[C]=D),f[v+D]=f[y+b],f[y+b]=D}}return x}function l(s,c,f,p,m){if(s<2||s+c<0){for(var h=0;h<m;h++)f[p+h]!==0&&(f[p+h]=1);s=2}return s}function u(s,c){return s!==c}});function X2(r,e,t,n,i,a,o){var l,u,s=0,c;if(r<=e||t[n+e]<=t[i+r])return-1;t[i+r]=t[n+e];var f=t[a+r];if(t[a+r]=e,f===-1)s=1,c=r;else{for(s=2,c=f;c!==t[o+c];c=t[o+c]);for(l=f;l!==c;l=u)u=t[o+l],t[o+l]=c}return{jleaf:s,q:c}}var DG="csCounts",wG=["transpose"],Q2=F(DG,wG,r=>{var{transpose:e}=r;return function(t,n,i,a){if(!t||!n||!i)return null;var o=t._size,l=o[0],u=o[1],s,c,f,p,m,h,d,g=4*u+(a?u+l+1:0),y=[],w=0,v=u,x=2*u,D=3*u,b=4*u,C=5*u+1;for(f=0;f<g;f++)y[f]=-1;var S=[],E=e(t),A=E._index,M=E._ptr;for(f=0;f<u;f++)for(c=i[f],S[c]=y[D+c]===-1?1:0;c!==-1&&y[D+c]===-1;c=n[c])y[D+c]=f;if(a){for(f=0;f<u;f++)y[i[f]]=f;for(s=0;s<l;s++){for(f=u,h=M[s],d=M[s+1],m=h;m<d;m++)f=Math.min(f,y[A[m]]);y[C+s]=y[b+f],y[b+f]=s}}for(s=0;s<u;s++)y[w+s]=s;for(f=0;f<u;f++){for(c=i[f],n[c]!==-1&&S[n[c]]--,p=a?y[b+f]:c;p!==-1;p=a?y[C+p]:-1)for(m=M[p];m<M[p+1];m++){s=A[m];var I=X2(s,c,y,D,v,x,w);I.jleaf>=1&&S[c]++,I.jleaf===2&&S[I.q]--}n[c]!==-1&&(y[w+c]=n[c])}for(c=0;c<u;c++)n[c]!==-1&&(S[n[c]]+=S[c]);return S}});var EG="csSqr",CG=["add","multiply","transpose"],K2=F(EG,CG,r=>{var{add:e,multiply:t,transpose:n}=r,i=J2({add:e,multiply:t,transpose:n}),a=Q2({transpose:n});return function(u,s,c){var f=s._ptr,p=s._size,m=p[1],h,d={};if(d.q=i(u,s),u&&!d.q)return null;if(c){var g=u?G2(s,null,d.q,0):s;d.parent=Z2(g,1);var y=j2(d.parent,m);if(d.cp=a(g,d.parent,y,1),g&&d.parent&&d.cp&&o(g,d))for(d.unz=0,h=0;h<m;h++)d.unz+=d.cp[h]}else d.unz=4*f[m]+m,d.lnz=d.unz;return d};function o(l,u){var s=l._ptr,c=l._index,f=l._size,p=f[0],m=f[1];u.pinv=[],u.leftmost=[];var h=u.parent,d=u.pinv,g=u.leftmost,y=[],w=0,v=p,x=p+m,D=p+2*m,b,C,S,E,A;for(C=0;C<m;C++)y[v+C]=-1,y[x+C]=-1,y[D+C]=0;for(b=0;b<p;b++)g[b]=-1;for(C=m-1;C>=0;C--)for(E=s[C],A=s[C+1],S=E;S<A;S++)g[c[S]]=C;for(b=p-1;b>=0;b--)d[b]=-1,C=g[b],C!==-1&&(y[D+C]++===0&&(y[x+C]=b),y[w+b]=y[v+C],y[v+C]=b);for(u.lnz=0,u.m2=p,C=0;C<m;C++)if(b=y[v+C],u.lnz++,b<0&&(b=u.m2++),d[b]=C,!(--D[C]<=0)){u.lnz+=y[D+C];var M=h[C];M!==-1&&(y[D+M]===0&&(y[x+M]=y[x+C]),y[w+y[x+C]]=y[v+M],y[v+M]=y[w+b],y[D+M]+=y[D+C])}for(b=0;b<p;b++)d[b]<0&&(d[b]=C++);return!0}});function _l(r,e){return r[e]<0}function Kp(r,e){r[e]=Li(r[e])}function Gx(r){return r<0?Li(r):r}function eM(r,e,t,n,i){var a=e._index,o=e._ptr,l=e._size,u=l[1],s,c,f,p=0;for(n[0]=r;p>=0;){r=n[p];var m=i?i[r]:r;_l(o,r)||(Kp(o,r),n[u+p]=m<0?0:Gx(o[m]));var h=1;for(c=n[u+p],f=m<0?0:Gx(o[m+1]);c<f;c++)if(s=a[c],!_l(o,s)){n[u+p]=c,n[++p]=s,h=0;break}h&&(p--,n[--t]=r)}return t}function tM(r,e,t,n,i){var a=r._ptr,o=r._size,l=e._index,u=e._ptr,s=o[1],c,f,p,m=s;for(f=u[t],p=u[t+1],c=f;c<p;c++){var h=l[c];_l(a,h)||(m=eM(h,r,m,n,i))}for(c=m;c<s;c++)Kp(a,n[c]);return m}var AG="csSpsolve",SG=["divideScalar","multiply","subtract"],rM=F(AG,SG,r=>{var{divideScalar:e,multiply:t,subtract:n}=r;return function(a,o,l,u,s,c,f){var p=a._values,m=a._index,h=a._ptr,d=a._size,g=d[1],y=o._values,w=o._index,v=o._ptr,x,D,b,C,S=tM(a,o,l,u,c);for(x=S;x<g;x++)s[u[x]]=0;for(D=v[l],b=v[l+1],x=D;x<b;x++)s[w[x]]=y[x];for(var E=S;E<g;E++){var A=u[E],M=c?c[A]:A;if(!(M<0))for(D=h[M],b=h[M+1],s[A]=e(s[A],p[f?D:b-1]),x=f?D+1:D,C=f?b:b-1;x<C;x++){var I=m[x];s[I]=n(s[I],t(p[x],s[A]))}}return S}});var FG="csLu",NG=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],nM=F(FG,NG,r=>{var{abs:e,divideScalar:t,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:l}=r,u=rM({divideScalar:t,multiply:n,subtract:i});return function(c,f,p){if(!c)return null;var m=c._size,h=m[1],d,g=100,y=100;f&&(d=f.q,g=f.lnz||g,y=f.unz||y);var w=[],v=[],x=[],D=new l({values:w,index:v,ptr:x,size:[h,h]}),b=[],C=[],S=[],E=new l({values:b,index:C,ptr:S,size:[h,h]}),A=[],M,I,k=[],L=[];for(M=0;M<h;M++)k[M]=0,A[M]=-1,x[M+1]=0;g=0,y=0;for(var P=0;P<h;P++){x[P]=g,S[P]=y;var B=d?d[P]:P,T=u(D,c,B,L,k,A,1),z=-1,O=-1;for(I=T;I<h;I++)if(M=L[I],A[M]<0){var J=e(k[M]);a(J,O)&&(O=J,z=M)}else C[y]=A[M],b[y++]=k[M];if(z===-1||O<=0)return null;A[B]<0&&o(e(k[B]),n(O,p))&&(z=B);var ee=k[z];for(C[y]=P,b[y++]=ee,A[z]=P,v[g]=z,w[g++]=1,I=T;I<h;I++)M=L[I],A[M]<0&&(v[g]=M,w[g++]=t(k[M],ee)),k[M]=0}for(x[h]=g,S[h]=y,I=0;I<g;I++)v[I]=A[v[I]];return w.splice(g,w.length-g),v.splice(g,v.length-g),b.splice(y,b.length-y),C.splice(y,C.length-y),{L:D,U:E,pinv:A}}});var iM="slu",_G=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],jx=F(iM,_G,r=>{var{typed:e,abs:t,add:n,multiply:i,transpose:a,divideScalar:o,subtract:l,larger:u,largerEq:s,SparseMatrix:c}=r,f=K2({add:n,multiply:i,transpose:a}),p=nM({abs:t,divideScalar:o,multiply:i,subtract:l,larger:u,largerEq:s,SparseMatrix:c});return e(iM,{"SparseMatrix, number, number":function(h,d,g){if(!Ue(d)||d<0||d>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var y=f(d,h,!1),w=p(h,y,g);return{L:w.L,U:w.U,p:w.pinv,q:y.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function Zx(r,e){var t,n=e.length,i=[];if(r)for(t=0;t<n;t++)i[r[t]]=e[t];else for(t=0;t<n;t++)i[t]=e[t];return i}var aM="lusolve",MG=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Yx=F(aM,MG,r=>{var{typed:e,matrix:t,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:l}=r,u=ta({DenseMatrix:l});return e(aM,{"Array, Array | Matrix":function(p,m){p=t(p);var h=n(p),d=c(h.L,h.U,h.p,null,m);return d.valueOf()},"DenseMatrix, Array | Matrix":function(p,m){var h=n(p);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix":function(p,m){var h=n(p);return c(h.L,h.U,h.p,null,m)},"SparseMatrix, Array | Matrix, number, number":function(p,m,h,d){var g=i(p,h,d);return c(g.L,g.U,g.p,g.q,m)},"Object, Array | Matrix":function(p,m){return c(p.L,p.U,p.p,p.q,m)}});function s(f){if($e(f))return f;if(Nt(f))return t(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,p,m,h,d){f=s(f),p=s(p),m&&(d=u(f,d,!0),d._data=Zx(m,d._data));var g=o(f,d),y=a(p,g);return h&&(y._data=Zx(h,y._data)),y}});var oM="polynomialRoot",TG=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],Jx=F(oM,TG,r=>{var{typed:e,isZero:t,equalScalar:n,add:i,subtract:a,multiply:o,divide:l,sqrt:u,unaryMinus:s,cbrt:c,typeOf:f,im:p,re:m}=r;return e(oM,{"number|Complex, ...number|Complex":(h,d)=>{for(var g=[h,...d];g.length>0&&t(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(h,", ").concat(d,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[s(l(g[0],g[1]))];case 3:{var[y,w,v]=g,x=o(2,v),D=o(w,w),b=o(4,v,y);if(n(D,b))return[l(s(w),x)];var C=u(a(D,b));return[l(a(C,w),x),l(a(s(C),w),x)]}case 4:{var[S,E,A,M]=g,I=s(o(3,M)),k=o(A,A),L=o(3,M,E),P=i(o(2,A,A,A),o(27,M,M,S)),B=o(9,M,A,E);if(n(k,L)&&n(P,B))return[l(A,I)];var T=a(k,L),z=a(P,B),O=i(o(18,M,A,E,S),o(A,A,E,E)),J=i(o(4,A,A,A,S),o(4,M,E,E,E),o(27,M,M,S,S));if(n(O,J))return[l(a(o(4,M,A,E),i(o(9,M,M,S),o(A,A,A))),o(M,T)),l(a(o(9,M,S),o(A,E)),o(2,T))];var ee;n(k,L)?ee=z:ee=l(i(z,u(a(o(z,z),o(4,T,T,T)))),2);var j=!0,V=c(ee,j).toArray().map(re=>l(i(A,re,l(T,re)),I));return V.map(re=>f(re)==="Complex"&&n(m(re),m(re)+p(re))?m(re):re)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})});var IG="Help",BG=["parse"],Xx=F(IG,BG,r=>{var{parse:e}=r;function t(n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return t.prototype.type="Help",t.prototype.isHelp=!0,t.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var a={},o=0;o<n.examples.length;o++){var l=n.examples[o];i+="    "+l+`
`;var u=void 0;try{u=e(l).compile().evaluate(a)}catch(s){u=s}u!==void 0&&!Gf(u)&&(i+="        "+ot(u,{precision:14})+`
`)}i+=`
`}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},t.prototype.toJSON=function(){var n=tt(this.doc);return n.mathjs="Help",n},t.fromJSON=function(n){var i={};return Object.keys(n).filter(a=>a!=="mathjs").forEach(a=>{i[a]=n[a]}),new t(i)},t.prototype.valueOf=t.prototype.toString,t},{isClass:!0});var OG="Chain",kG=["?on","math","typed"],Qx=F(OG,kG,r=>{var{on:e,math:t,typed:n}=r;function i(s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");jf(s)?this.value=s.value:this.value=s}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return ot(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(s){return new i(s.value)};function a(s,c){typeof c=="function"&&(i.prototype[s]=l(c))}function o(s,c){CS(i.prototype,s,function(){var p=c();if(typeof p=="function")return l(p)})}function l(s){return function(){if(arguments.length===0)return new i(s(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(n.isTypedFunction(s)){var p=n.resolve(s,c);if(p.params.length===1)throw new Error("chain function "+s.name+" cannot match rest parameter between chain value and additional arguments.");return new i(p.implementation.apply(s,c))}return new i(s.apply(s,c))}}i.createProxy=function(s,c){if(typeof s=="string")a(s,c);else{var f=function(h){je(s,h)&&u[h]===void 0&&o(h,()=>s[h])};for(var p in s)f(p)}};var u={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(t),e&&e("import",function(s,c,f){f||o(s,c)}),i},{isClass:!0});var Kx={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]};var sM={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]};var uM={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]};var lM={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]};var cM={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]};var fM={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]};var pM={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]};var mM={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]};var dM={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]};var hM={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]};var gM={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]};var eb={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]};var vM={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]};var yM={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]};var xM={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]};var bM={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]};var DM={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]};var wM={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]};var EM={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]};var CM={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]};var AM={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]};var SM={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]};var FM={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]};var NM={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]};var _M={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]};var MM={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]};var TM={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]};var IM={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]};var BM={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]};var OM={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]};var kM={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]};var PM={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]};var RM={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]};var LM={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]};var VM={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]};var UM={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]};var qM={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]};var zM={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]};var $M={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]};var HM={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]};var WM={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]};var GM={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]};var jM={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]};var ZM={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]};var YM={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]};var JM={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]};var XM={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]};var QM={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]};var KM={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]};var eT={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]};var tT={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]};var rT={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]};var nT={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]};var iT={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]};var aT={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]};var oT={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]};var sT={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]};var uT={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]};var lT={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]};var cT={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]};var fT={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]};var pT={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]};var mT={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]};var dT={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]};var hT={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]};var gT={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]};var vT={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]};var yT={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]};var xT={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]};var bT={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]};var DT={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]};var wT={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]};var ET={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]};var CT={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']};var AT={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]};var ST={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]};var FT={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]};var NT={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]};var _T={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]};var MT={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]};var TT={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]};var IT={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]};var BT={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]};var OT={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]};var kT={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]};var PT={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]};var RT={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]};var LT={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]};var VT={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]};var UT={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var qT={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]};var zT={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]};var $T={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]};var HT={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]};var WT={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]};var GT={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]};var jT={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]};var ZT={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]};var YT={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]};var JT={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]};var XT={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]};var QT={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]};var KT={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]};var eI={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]};var tI={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]};var rI={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]};var nI={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]};var iI={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]};var aI={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]};var oI={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]};var sI={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]};var uI={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]};var lI={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]};var cI={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var fI={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]};var pI={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]};var mI={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var dI={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var hI={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var gI={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]};var vI={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]};var yI={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false }"],seealso:["inv"]};var xI={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]};var bI={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]};var DI={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]};var wI={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]};var EI={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var CI={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]};var AI={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]};var SI={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]};var FI={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]};var NI={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]};var _I={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]};var MI={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]};var TI={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]};var II={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]};var BI={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]};var OI={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]};var kI={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]};var PI={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]};var RI={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]};var LI={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]};var VI={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]};var UI={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]};var qI={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]};var zI={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]};var $I={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]};var HI={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]};var WI={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]};var GI={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]};var jI={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]};var ZI={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]};var YI={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]};var JI={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]};var XI={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]};var QI={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]};var KI={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]};var eB={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]};var tB={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]};var rB={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]};var nB={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]};var iB={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]};var aB={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]};var oB={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]};var sB={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]};var uB={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]};var lB={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]};var cB={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]};var fB={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]};var pB={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]};var mB={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]};var dB={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]};var hB={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]};var gB={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]};var vB={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]};var yB={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]};var xB={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]};var bB={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]};var DB={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]};var wB={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]};var EB={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]};var CB={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]};var AB={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]};var SB={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]};var FB={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]};var NB={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]};var _B={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]};var MB={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]};var TB={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]};var IB={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]};var BB={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]};var OB={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]};var kB={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]};var PB={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]};var RB={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]};var LB={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]};var VB={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var UB={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]};var qB={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]};var zB={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]};var $B={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]};var HB={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]};var WB={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]};var GB={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]};var jB={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]};var ZB={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]};var YB={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]};var JB={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]};var XB={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]};var QB={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]};var KB={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]};var e3={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]};var t3={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]};var r3={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]};var n3={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]};var i3={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]};var a3={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]};var o3={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]};var s3={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]};var u3={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]};var l3={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]};var c3={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]};var f3={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]};var p3={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]};var m3={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]};var d3={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]};var h3={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]};var g3={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]};var v3={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]};var y3={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]};var x3={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]};var b3={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var D3={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]};var w3={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]};var E3={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]};var C3={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var A3={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]};var S3={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]};var F3={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]};var N3={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]};var _3={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]};var M3={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]};var T3={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]};var I3={bignumber:wM,boolean:EM,complex:CM,createUnit:AM,fraction:SM,index:FM,matrix:NM,number:_M,sparse:MM,splitUnit:TM,string:IM,unit:BM,e:Kx,E:Kx,false:sM,i:uM,Infinity:lM,LN2:fM,LN10:cM,LOG2E:mM,LOG10E:pM,NaN:dM,null:hM,pi:eb,PI:eb,phi:gM,SQRT1_2:vM,SQRT2:yM,tau:xM,true:bM,version:DM,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:RM,lsolve:VM,lsolveAll:UM,lup:qM,lusolve:zM,leafCount:LM,polynomialRoot:$M,resolve:GM,simplify:jM,simplifyConstant:ZM,simplifyCore:YM,symbolicEqual:XM,rationalize:WM,slu:JM,usolve:QM,usolveAll:KM,qr:HM,abs:eT,add:tT,cbrt:rT,ceil:nT,cube:iT,divide:aT,dotDivide:oT,dotMultiply:sT,dotPow:uT,exp:lT,expm:cT,expm1:fT,fix:pT,floor:mT,gcd:dT,hypot:hT,lcm:vT,log:yT,log2:DT,log1p:bT,log10:xT,mod:wT,multiply:ET,norm:CT,nthRoot:AT,nthRoots:ST,pow:FT,round:NT,sign:_T,sqrt:MT,sqrtm:TT,square:kT,subtract:PT,unaryMinus:RT,unaryPlus:LT,xgcd:VT,invmod:gT,bitAnd:UT,bitNot:qT,bitOr:zT,bitXor:$T,leftShift:HT,rightArithShift:WT,rightLogShift:GT,bellNumbers:jT,catalan:ZT,composition:YT,stirlingS2:JT,config:OM,import:kM,typed:PM,arg:XT,conj:QT,re:eI,im:KT,evaluate:tI,help:rI,distance:nI,intersect:iI,and:aI,not:oI,or:sI,xor:uI,concat:cI,count:fI,cross:pI,column:lI,ctranspose:mI,det:dI,diag:hI,diff:gI,dot:vI,getMatrixDataType:wI,identity:EI,filter:xI,flatten:bI,forEach:DI,inv:CI,pinv:AI,eigs:yI,kron:SI,matrixFromFunction:_I,matrixFromRows:MI,matrixFromColumns:NI,map:FI,ones:TI,partitionSelect:II,range:BI,resize:kI,reshape:OI,rotate:PI,rotationMatrix:RI,row:LI,size:VI,sort:UI,squeeze:qI,subset:zI,trace:$I,transpose:HI,zeros:WI,fft:GI,ifft:jI,sylvester:IT,schur:BT,lyap:OT,solveODE:T3,combinations:ZI,combinationsWithRep:YI,factorial:JI,gamma:XI,kldivergence:KI,lgamma:QI,multinomial:eB,permutations:tB,pickRandom:rB,random:nB,randomInt:iB,compare:aB,compareNatural:oB,compareText:sB,deepEqual:uB,equal:lB,equalText:cB,larger:fB,largerEq:pB,smaller:mB,smallerEq:dB,unequal:hB,setCartesian:gB,setDifference:vB,setDistinct:yB,setIntersect:xB,setIsSubset:bB,setMultiplicity:DB,setPowerset:wB,setSize:EB,setSymDifference:CB,setUnion:AB,zpk2tf:SB,freqz:FB,erf:NB,zeta:_B,cumsum:VB,mad:MB,max:TB,mean:IB,median:BB,min:OB,mode:kB,prod:PB,quantileSeq:RB,std:LB,sum:UB,variance:qB,corr:zB,acos:$B,acosh:HB,acot:WB,acoth:GB,acsc:jB,acsch:ZB,asec:YB,asech:JB,asin:XB,asinh:QB,atan:KB,atanh:t3,atan2:e3,cos:r3,cosh:n3,cot:i3,coth:a3,csc:o3,csch:s3,sec:u3,sech:l3,sin:c3,sinh:f3,tan:p3,tanh:m3,to:d3,clone:g3,format:v3,bin:h3,oct:N3,hex:x3,isNaN:D3,isInteger:b3,isNegative:w3,isNumeric:E3,hasNumericValue:y3,isPositive:C3,isPrime:A3,isZero:S3,print:_3,typeOf:M3,numeric:F3};var B3="help",PG=["typed","mathWithTransform","Help"],tb=F(B3,PG,r=>{var{typed:e,mathWithTransform:t,Help:n}=r;return e(B3,{any:function(a){var o,l=a;if(typeof a!="string"){for(o in t)if(je(t,o)&&a===t[o]){l=o;break}}var u=gr(I3,l);if(!u){var s=typeof l=="function"?l.name:l;throw new Error('No documentation found on "'+s+'"')}return new n(u)}})});var O3="chain",RG=["typed","Chain"],rb=F(O3,RG,r=>{var{typed:e,Chain:t}=r;return e(O3,{"":function(){return new t},any:function(i){return new t(i)}})});var k3="det",LG=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],nb=F(k3,LG,r=>{var{typed:e,matrix:t,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:l}=r;return e(k3,{any:function(c){return tt(c)},"Array | Matrix":function(c){var f;switch($e(c)?f=c.size():Array.isArray(c)?(c=t(c),f=c.size()):f=[],f.length){case 0:return tt(c);case 1:if(f[0]===1)return tt(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+ot(f)+")");case 2:{var p=f[0],m=f[1];if(p===m)return u(c.clone().valueOf(),p,m);if(m===0)return 1;throw new RangeError("Matrix must be square (size: "+ot(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ot(f)+")")}}});function u(s,c,f){if(c===1)return tt(s[0][0]);if(c===2)return n(i(s[0][0],s[1][1]),i(s[1][0],s[0][1]));for(var p=!1,m=new Array(c).fill(0).map((C,S)=>S),h=0;h<c;h++){var d=m[h];if(o(s[d][h])){var g=void 0;for(g=h+1;g<c;g++)if(!o(s[m[g]][h])){d=m[g],m[g]=m[h],m[h]=d,p=!p;break}if(g===c)return s[d][h]}for(var y=s[d][h],w=h===0?1:s[m[h-1]][h-1],v=h+1;v<c;v++)for(var x=m[v],D=h+1;D<c;D++)s[x][D]=a(n(i(s[x][D],y),i(s[x][h],s[d][D])),w)}var b=s[m[c-1]][c-1];return p?l(b):b}});var P3="inv",VG=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],ib=F(P3,VG,r=>{var{typed:e,matrix:t,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:l,identity:u,abs:s}=r;return e(P3,{"Array | Matrix":function(p){var m=$e(p)?p.size():nt(p);switch(m.length){case 1:if(m[0]===1)return $e(p)?t([n(1,p.valueOf()[0])]):[n(1,p[0])];throw new RangeError("Matrix must be square (size: "+ot(m)+")");case 2:{var h=m[0],d=m[1];if(h===d)return $e(p)?t(c(p.valueOf(),h,d),p.storage()):c(p,h,d);throw new RangeError("Matrix must be square (size: "+ot(m)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ot(m)+")")}},any:function(p){return n(1,p)}});function c(f,p,m){var h,d,g,y,w;if(p===1){if(y=f[0][0],y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,y)]]}else if(p===2){var v=l(f);if(v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],v),n(o(f[0][1]),v)],[n(o(f[1][0]),v),n(f[0][0],v)]]}else{var x=f.concat();for(h=0;h<p;h++)x[h]=x[h].concat();for(var D=u(p).valueOf(),b=0;b<m;b++){var C=s(x[b][b]),S=b;for(h=b+1;h<p;)s(x[h][b])>C&&(C=s(x[h][b]),S=h),h++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");h=S,h!==b&&(w=x[b],x[b]=x[h],x[h]=w,w=D[b],D[b]=D[h],D[h]=w);var E=x[b],A=D[b];for(h=0;h<p;h++){var M=x[h],I=D[h];if(h!==b){if(M[b]!==0){for(g=n(o(M[b]),E[b]),d=b;d<m;d++)M[d]=i(M[d],a(g,E[d]));for(d=0;d<m;d++)I[d]=i(I[d],a(g,A[d]))}}else{for(g=E[b],d=b;d<m;d++)M[d]=n(M[d],g);for(d=0;d<m;d++)I[d]=n(I[d],g)}}}return D}}});var R3="pinv",UG=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],ab=F(R3,UG,r=>{var{typed:e,matrix:t,inv:n,deepEqual:i,equal:a,dotDivide:o,dot:l,ctranspose:u,divideScalar:s,multiply:c,add:f,Complex:p}=r;return e(R3,{"Array | Matrix":function(v){var x=$e(v)?v.size():nt(v);switch(x.length){case 1:return y(v)?u(v):x[0]===1?n(v):o(u(v),l(v,v));case 2:{if(y(v))return u(v);var D=x[0],b=x[1];if(D===b)try{return n(v)}catch(C){if(!(C instanceof Error&&C.message.match(/Cannot calculate inverse, determinant is zero/)))throw C}return $e(v)?t(m(v.valueOf(),D,b),v.storage()):m(v,D,b)}default:throw new RangeError("Matrix must be two dimensional (size: "+ot(x)+")")}},any:function(v){return a(v,0)?tt(v):s(1,v)}});function m(w,v,x){var{C:D,F:b}=d(w,v,x),C=c(n(c(u(D),D)),u(D)),S=c(u(b),n(c(b,u(b))));return c(S,C)}function h(w,v,x){for(var D=tt(w),b=0,C=0;C<v;C++){if(x<=b)return D;for(var S=C;g(D[S][b]);)if(S++,v===S&&(S=C,b++,x===b))return D;[D[S],D[C]]=[D[C],D[S]];for(var E=D[C][b],A=0;A<x;A++)D[C][A]=o(D[C][A],E);for(var M=0;M<v;M++)if(M!==C){E=D[M][b];for(var I=0;I<x;I++)D[M][I]=f(D[M][I],c(-1,c(E,D[C][I])))}b++}return D}function d(w,v,x){var D=h(w,v,x),b=w.map((S,E)=>S.filter((A,M)=>M<v&&!g(l(D[M],D[M])))),C=D.filter((S,E)=>!g(l(D[E],D[E])));return{C:b,F:C}}function g(w){return a(f(w,p(1,1)),f(0,p(1,1)))}function y(w){return i(f(w,p(1,1)),f(c(w,0),p(1,1)))}});function L3(r){var{addScalar:e,subtract:t,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:l,abs:u,bignumber:s,diag:c,size:f,reshape:p,inv:m,qr:h,usolve:d,usolveAll:g,equal:y,complex:w,larger:v,smaller:x,matrixFromColumns:D,dot:b}=r;function C(j,V,re,xe){var oe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,le=S(j,V,re,xe,oe);E(j,V,re,xe,oe,le);var{values:ve,C:ue}=A(j,V,re,xe,oe);if(oe){var ce=M(j,V,ue,le,ve,re,xe);return{values:ve,eigenvectors:ce}}return{values:ve}}function S(j,V,re,xe,oe){var le=xe==="BigNumber",ve=xe==="Complex",ue=le?s(0):0,ce=le?s(1):ve?w(1):1,me=le?s(1):1,de=le?s(10):2,Be=a(de,de),we;oe&&(we=Array(V).fill(ce));for(var U=!1;!U;){U=!0;for(var H=0;H<V;H++){for(var fe=ue,$=ue,Q=0;Q<V;Q++)H!==Q&&(fe=e(fe,u(j[Q][H])),$=e($,u(j[H][Q])));if(!y(fe,0)&&!y($,0)){for(var te=me,he=fe,be=o($,de),Pe=a($,de);x(he,be);)he=a(he,Be),te=a(te,de);for(;v(he,Pe);)he=o(he,Be),te=o(te,de);var Fe=x(o(e(he,$),te),a(e(fe,$),.95));if(Fe){U=!1;for(var mt=o(1,te),gt=0;gt<V;gt++)H!==gt&&(j[H][gt]=a(j[H][gt],mt),j[gt][H]=a(j[gt][H],te));oe&&(we[H]=a(we[H],mt))}}}}return oe?c(we):null}function E(j,V,re,xe,oe,le){var ve=xe==="BigNumber",ue=xe==="Complex",ce=ve?s(0):ue?w(0):0;ve&&(re=s(re));for(var me=0;me<V-2;me++){for(var de=0,Be=ce,we=me+1;we<V;we++){var U=j[we][me];x(u(Be),u(U))&&(Be=U,de=we)}if(!x(u(Be),re)){if(de!==me+1){var H=j[de];j[de]=j[me+1],j[me+1]=H;for(var fe=0;fe<V;fe++){var $=j[fe][de];j[fe][de]=j[fe][me+1],j[fe][me+1]=$}if(oe){var Q=le[de];le[de]=le[me+1],le[me+1]=Q}}for(var te=me+2;te<V;te++){var he=o(j[te][me],Be);if(he!==0){for(var be=0;be<V;be++)j[te][be]=t(j[te][be],a(he,j[me+1][be]));for(var Pe=0;Pe<V;Pe++)j[Pe][me+1]=e(j[Pe][me+1],a(he,j[Pe][te]));if(oe)for(var Fe=0;Fe<V;Fe++)le[te][Fe]=t(le[te][Fe],a(he,le[me+1][Fe]))}}}}return le}function A(j,V,re,xe,oe){var le=xe==="BigNumber",ve=xe==="Complex",ue=le?s(1):ve?w(1):1;le&&(re=s(re));for(var ce=tt(j),me=[],de=V,Be=[],we=oe?c(Array(V).fill(ue)):void 0,U=oe?c(Array(de).fill(ue)):void 0,H=0;H<=100;){H+=1;for(var fe=ce[de-1][de-1],$=0;$<de;$++)ce[$][$]=t(ce[$][$],fe);var{Q,R:te}=h(ce);ce=i(te,Q);for(var he=0;he<de;he++)ce[he][he]=e(ce[he][he],fe);if(oe&&(U=i(U,Q)),de===1||x(u(ce[de-1][de-2]),re)){H=0,me.push(ce[de-1][de-1]),oe&&(Be.unshift([[1]]),L(U,V),we=i(we,U),de>1&&(U=c(Array(de-1).fill(ue)))),de-=1,ce.pop();for(var be=0;be<de;be++)ce[be].pop()}else if(de===2||x(u(ce[de-2][de-3]),re)){H=0;var Pe=I(ce[de-2][de-2],ce[de-2][de-1],ce[de-1][de-2],ce[de-1][de-1]);me.push(...Pe),oe&&(Be.unshift(k(ce[de-2][de-2],ce[de-2][de-1],ce[de-1][de-2],ce[de-1][de-1],Pe[0],Pe[1],re,xe)),L(U,V),we=i(we,U),de>2&&(U=c(Array(de-2).fill(ue)))),de-=2,ce.pop(),ce.pop();for(var Fe=0;Fe<de;Fe++)ce[Fe].pop(),ce[Fe].pop()}if(de===0)break}if(me.sort((Lt,Yt)=>+t(u(Lt),u(Yt))),H>100){var mt=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+me.join(", "));throw mt.values=me,mt.vectors=[],mt}var gt=oe?i(we,P(Be,V)):void 0;return{values:me,C:gt}}function M(j,V,re,xe,oe,le,ve){var ue=m(re),ce=i(ue,j,re),me=ve==="BigNumber",de=ve==="Complex",Be=me?s(0):de?w(0):0,we=me?s(1):de?w(1):1,U=[],H=[];for(var fe of oe){var $=B(U,fe,y);$===-1?(U.push(fe),H.push(1)):H[$]+=1}for(var Q=[],te=U.length,he=Array(V).fill(Be),be=c(Array(V).fill(we)),Pe=function(){var gt=U[Fe],Lt=t(ce,i(gt,be)),Yt=g(Lt,he);for(Yt.shift();Yt.length<H[Fe];){var W=T(Lt,V,Yt,le,ve);if(W===null)break;Yt.push(W)}var ne=i(m(xe),re);Yt=Yt.map(pe=>i(ne,pe)),Q.push(...Yt.map(pe=>({value:gt,vector:n(pe)})))},Fe=0;Fe<te;Fe++)Pe();return Q}function I(j,V,re,xe){var oe=e(j,xe),le=t(a(j,xe),a(V,re)),ve=a(oe,.5),ue=a(l(t(a(oe,oe),a(4,le))),.5);return[e(ve,ue),t(ve,ue)]}function k(j,V,re,xe,oe,le,ve,ue){var ce=ue==="BigNumber",me=ue==="Complex",de=ce?s(0):me?w(0):0,Be=ce?s(1):me?w(1):1;if(x(u(re),ve))return[[Be,de],[de,Be]];if(v(u(t(oe,le)),ve))return[[t(oe,xe),t(le,xe)],[re,re]];var we=t(j,oe),U=t(xe,oe);return x(u(V),ve)&&x(u(U),ve)?[[we,Be],[re,de]]:[[V,de],[U,Be]]}function L(j,V){for(var re=0;re<j.length;re++)j[re].push(...Array(V-j[re].length).fill(0));for(var xe=j.length;xe<V;xe++)j.push(Array(V).fill(0)),j[xe][xe]=1;return j}function P(j,V){for(var re=[],xe=0;xe<V;xe++)re[xe]=Array(V).fill(0);var oe=0;for(var le of j){for(var ve=le.length,ue=0;ue<ve;ue++)for(var ce=0;ce<ve;ce++)re[oe+ue][oe+ce]=le[ue][ce];oe+=ve}return re}function B(j,V,re){for(var xe=0;xe<j.length;xe++)if(re(j[xe],V))return xe;return-1}function T(j,V,re,xe,oe){for(var le=oe==="BigNumber"?s(1e3):1e3,ve,ue=0;ue<5;++ue){ve=z(V,re,oe);try{ve=d(j,ve)}catch(me){continue}if(v(J(ve),le))break}if(ue>=5)return null;for(ue=0;;){var ce=d(j,ve);if(x(J(O(ve,[ce])),xe))break;if(++ue>=10)return null;ve=ee(ce)}return ve}function z(j,V,re){var xe=re==="BigNumber",oe=re==="Complex",le=Array(j).fill(0).map(ve=>2*Math.random()-1);return xe&&(le=le.map(ve=>s(ve))),oe&&(le=le.map(ve=>w(ve))),le=O(le,V),ee(le,re)}function O(j,V){var re=f(j);for(var xe of V)xe=p(xe,re),j=t(j,i(o(b(xe,j),b(xe,xe)),xe));return j}function J(j){return u(l(b(j,j)))}function ee(j,V){var re=V==="BigNumber",xe=V==="Complex",oe=re?s(1):xe?w(1):1;return i(o(oe,J(j)),j)}return C}function V3(r){var{config:e,addScalar:t,subtract:n,abs:i,atan:a,cos:o,sin:l,multiplyScalar:u,inv:s,bignumber:c,multiply:f,add:p}=r;function m(E,A){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,I=arguments.length>3?arguments[3]:void 0,k=arguments.length>4?arguments[4]:void 0;if(I==="number")return h(E,M,k);if(I==="BigNumber")return d(E,M,k);throw TypeError("Unsupported data type: "+I)}function h(E,A,M){var I=E.length,k=Math.abs(A/I),L,P;if(M){P=new Array(I);for(var B=0;B<I;B++)P[B]=Array(I).fill(0),P[B][B]=1}for(var T=b(E);Math.abs(T[1])>=Math.abs(k);){var z=T[0][0],O=T[0][1];L=g(E[z][z],E[O][O],E[z][O]),E=D(E,L,z,O),M&&(P=w(P,L,z,O)),T=b(E)}for(var J=Array(I).fill(0),ee=0;ee<I;ee++)J[ee]=E[ee][ee];return S(tt(J),P,M)}function d(E,A,M){var I=E.length,k=i(A/I),L,P;if(M){P=new Array(I);for(var B=0;B<I;B++)P[B]=Array(I).fill(0),P[B][B]=1}for(var T=C(E);i(T[1])>=i(k);){var z=T[0][0],O=T[0][1];L=y(E[z][z],E[O][O],E[z][O]),E=x(E,L,z,O),M&&(P=v(P,L,z,O)),T=C(E)}for(var J=Array(I).fill(0),ee=0;ee<I;ee++)J[ee]=E[ee][ee];return S(tt(J),P,M)}function g(E,A,M){var I=A-E;return Math.abs(I)<=e.epsilon?Math.PI/4:.5*Math.atan(2*M/(A-E))}function y(E,A,M){var I=n(A,E);return i(I)<=e.epsilon?c(-1).acos().div(4):u(.5,a(f(2,M,s(I))))}function w(E,A,M,I){for(var k=E.length,L=Math.cos(A),P=Math.sin(A),B=Array(k).fill(0),T=Array(k).fill(0),z=0;z<k;z++)B[z]=L*E[z][M]-P*E[z][I],T[z]=P*E[z][M]+L*E[z][I];for(var O=0;O<k;O++)E[O][M]=B[O],E[O][I]=T[O];return E}function v(E,A,M,I){for(var k=E.length,L=o(A),P=l(A),B=Array(k).fill(c(0)),T=Array(k).fill(c(0)),z=0;z<k;z++)B[z]=n(u(L,E[z][M]),u(P,E[z][I])),T[z]=t(u(P,E[z][M]),u(L,E[z][I]));for(var O=0;O<k;O++)E[O][M]=B[O],E[O][I]=T[O];return E}function x(E,A,M,I){for(var k=E.length,L=c(o(A)),P=c(l(A)),B=u(L,L),T=u(P,P),z=Array(k).fill(c(0)),O=Array(k).fill(c(0)),J=f(c(2),L,P,E[M][I]),ee=t(n(u(B,E[M][M]),J),u(T,E[I][I])),j=p(u(T,E[M][M]),J,u(B,E[I][I])),V=0;V<k;V++)z[V]=n(u(L,E[M][V]),u(P,E[I][V])),O[V]=t(u(P,E[M][V]),u(L,E[I][V]));E[M][M]=ee,E[I][I]=j,E[M][I]=c(0),E[I][M]=c(0);for(var re=0;re<k;re++)re!==M&&re!==I&&(E[M][re]=z[re],E[re][M]=z[re],E[I][re]=O[re],E[re][I]=O[re]);return E}function D(E,A,M,I){for(var k=E.length,L=Math.cos(A),P=Math.sin(A),B=L*L,T=P*P,z=Array(k).fill(0),O=Array(k).fill(0),J=B*E[M][M]-2*L*P*E[M][I]+T*E[I][I],ee=T*E[M][M]+2*L*P*E[M][I]+B*E[I][I],j=0;j<k;j++)z[j]=L*E[M][j]-P*E[I][j],O[j]=P*E[M][j]+L*E[I][j];E[M][M]=J,E[I][I]=ee,E[M][I]=0,E[I][M]=0;for(var V=0;V<k;V++)V!==M&&V!==I&&(E[M][V]=z[V],E[V][M]=z[V],E[I][V]=O[V],E[V][I]=O[V]);return E}function b(E){for(var A=E.length,M=0,I=[0,1],k=0;k<A;k++)for(var L=k+1;L<A;L++)Math.abs(M)<Math.abs(E[k][L])&&(M=Math.abs(E[k][L]),I=[k,L]);return[I,M]}function C(E){for(var A=E.length,M=0,I=[0,1],k=0;k<A;k++)for(var L=k+1;L<A;L++)i(M)<i(E[k][L])&&(M=i(E[k][L]),I=[k,L]);return[I,M]}function S(E,A,M){var I=E.length,k=Array(I),L;if(M){L=Array(I);for(var P=0;P<I;P++)L[P]=Array(I)}for(var B=0;B<I;B++){for(var T=0,z=E[0],O=0;O<E.length;O++)i(E[O])<i(z)&&(T=O,z=E[T]);if(k[B]=E.splice(T,1)[0],M)for(var J=0;J<I;J++)L[B][J]=A[J][T],A[J].splice(T,1)}if(!M)return{values:k};var ee=L.map((j,V)=>({value:k[V],vector:j}));return{values:k,eigenvectors:ee}}return m}var qG="eigs",zG=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],ob=F(qG,zG,r=>{var{config:e,typed:t,matrix:n,addScalar:i,subtract:a,equal:o,abs:l,atan:u,cos:s,sin:c,multiplyScalar:f,divideScalar:p,inv:m,bignumber:h,multiply:d,add:g,larger:y,column:w,flatten:v,number:x,complex:D,sqrt:b,diag:C,size:S,reshape:E,qr:A,usolve:M,usolveAll:I,im:k,re:L,smaller:P,matrixFromColumns:B,dot:T}=r,z=V3({config:e,addScalar:i,subtract:a,column:w,flatten:v,equal:o,abs:l,atan:u,cos:s,sin:c,multiplyScalar:f,inv:m,bignumber:h,complex:D,multiply:d,add:g}),O=L3({config:e,addScalar:i,subtract:a,multiply:d,multiplyScalar:f,flatten:v,divideScalar:p,sqrt:b,abs:l,bignumber:h,diag:C,size:S,reshape:E,qr:A,inv:m,usolve:M,usolveAll:I,equal:o,complex:D,larger:y,smaller:P,matrixFromColumns:B,dot:T});return t("eigs",{Array:function(le){return J(n(le))},"Array, number|BigNumber":function(le,ve){return J(n(le),{precision:ve})},"Array, Object"(oe,le){return J(n(oe),le)},Matrix:function(le){return J(le,{matricize:!0})},"Matrix, number|BigNumber":function(le,ve){return J(le,{precision:ve,matricize:!0})},"Matrix, Object":function(le,ve){var ue={matricize:!0};return hr(ue,ve),J(le,ue)}});function J(oe){var le,ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ue="eigenvectors"in ve?ve.eigenvectors:!0,ce=(le=ve.precision)!==null&&le!==void 0?le:e.epsilon,me=ee(oe,ce,ue);return ve.matricize&&(me.values=n(me.values),ue&&(me.eigenvectors=me.eigenvectors.map(de=>{var{value:Be,vector:we}=de;return{value:Be,vector:n(we)}}))),ue&&Object.defineProperty(me,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),me}function ee(oe,le,ve){var ue=oe.toArray(),ce=oe.size();if(ce.length!==2||ce[0]!==ce[1])throw new RangeError("Matrix must be square (size: ".concat(ot(ce),")"));var me=ce[0];if(V(ue,me,le)&&(re(ue,me),j(ue,me,le))){var de=xe(oe,ue,me);return z(ue,me,le,de,ve)}var Be=xe(oe,ue,me);return O(ue,me,le,Be,ve)}function j(oe,le,ve){for(var ue=0;ue<le;ue++)for(var ce=ue;ce<le;ce++)if(y(h(l(a(oe[ue][ce],oe[ce][ue]))),ve))return!1;return!0}function V(oe,le,ve){for(var ue=0;ue<le;ue++)for(var ce=0;ce<le;ce++)if(y(h(l(k(oe[ue][ce]))),ve))return!1;return!0}function re(oe,le){for(var ve=0;ve<le;ve++)for(var ue=0;ue<le;ue++)oe[ve][ue]=L(oe[ve][ue])}function xe(oe,le,ve){var ue=oe.datatype();if(ue==="number"||ue==="BigNumber"||ue==="Complex")return ue;for(var ce=!1,me=!1,de=!1,Be=0;Be<ve;Be++)for(var we=0;we<ve;we++){var U=le[Be][we];if(at(U)||xa(U))ce=!0;else if(it(U))me=!0;else if(Nn(U))de=!0;else throw TypeError("Unsupported type in Matrix: "+St(U))}if(me&&de&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),de){for(var H=0;H<ve;H++)for(var fe=0;fe<ve;fe++)le[H][fe]=D(le[H][fe]);return"Complex"}if(me){for(var $=0;$<ve;$++)for(var Q=0;Q<ve;Q++)le[$][Q]=h(le[$][Q]);return"BigNumber"}if(ce){for(var te=0;te<ve;te++)for(var he=0;he<ve;he++)le[te][he]=x(le[te][he]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}});var U3="expm",$G=["typed","abs","add","identity","inv","multiply"],sb=F(U3,$G,r=>{var{typed:e,abs:t,add:n,identity:i,inv:a,multiply:o}=r;return e(U3,{Matrix:function(f){var p=f.size();if(p.length!==2||p[0]!==p[1])throw new RangeError("Matrix must be square (size: "+ot(p)+")");for(var m=p[0],h=1e-15,d=l(f),g=u(d,h),y=g.q,w=g.j,v=o(f,Math.pow(2,-w)),x=i(m),D=i(m),b=1,C=v,S=-1,E=1;E<=y;E++)E>1&&(C=o(C,v),S=-S),b=b*(y-E+1)/((2*y-E+1)*E),x=n(x,o(b,C)),D=n(D,o(b*S,C));for(var A=o(a(D),x),M=0;M<w;M++)A=o(A,A);return Ii(f)?f.createSparseMatrix(A):A}});function l(c){for(var f=c.size()[0],p=0,m=0;m<f;m++){for(var h=0,d=0;d<f;d++)h+=t(c.get([m,d]));p=Math.max(h,p)}return p}function u(c,f){for(var p=30,m=0;m<p;m++)for(var h=0;h<=m;h++){var d=m-h;if(s(c,h,d)<f)return{q:h,j:d}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function s(c,f,p){for(var m=1,h=2;h<=f;h++)m*=h;for(var d=m,g=f+1;g<=2*f;g++)d*=g;var y=d*(2*f+1);return 8*Math.pow(c/Math.pow(2,p),2*f)*m*m/(d*y)}});var q3="sqrtm",HG=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],ub=F(q3,HG,r=>{var{typed:e,abs:t,add:n,multiply:i,map:a,sqrt:o,subtract:l,inv:u,size:s,max:c,identity:f}=r,p=1e3,m=1e-6;function h(d){var g,y=0,w=d,v=f(s(d));do{var x=w;if(w=i(.5,n(x,u(v))),v=i(.5,n(v,u(x))),g=c(t(l(w,x))),g>m&&++y>p)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>m);return w}return e(q3,{"Array | Matrix":function(g){var y=$e(g)?g.size():nt(g);switch(y.length){case 1:if(y[0]===1)return a(g,o);throw new RangeError("Matrix must be square (size: "+ot(y)+")");case 2:{var w=y[0],v=y[1];if(w===v)return h(g);throw new RangeError("Matrix must be square (size: "+ot(y)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+ot(y)+")")}}})});var z3="sylvester",WG=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],lb=F(z3,WG,r=>{var{typed:e,schur:t,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:l,transpose:u,index:s,subset:c,add:f,subtract:p,identity:m,lusolve:h,abs:d}=r;return e(z3,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(w,v,x){return g(i(w),v,x)},"Array, Array, Matrix":function(w,v,x){return g(i(w),i(v),x)},"Array, Matrix, Array":function(w,v,x){return g(i(w),v,i(x))},"Matrix, Array, Matrix":function(w,v,x){return g(w,i(v),x)},"Matrix, Array, Array":function(w,v,x){return g(w,i(v),i(x))},"Matrix, Matrix, Array":function(w,v,x){return g(w,v,i(x))},"Array, Array, Array":function(w,v,x){return g(i(w),i(v),i(x)).toArray()}});function g(y,w,v){for(var x=w.size()[0],D=y.size()[0],b=t(y),C=b.T,S=b.U,E=t(a(-1,w)),A=E.T,M=E.U,I=a(a(u(S),v),M),k=o(0,D),L=[],P=(de,Be)=>l(de,Be,1),B=(de,Be)=>l(de,Be,0),T=0;T<x;T++)if(T<x-1&&d(c(A,s(T+1,T)))>1e-5){for(var z=B(c(I,s(k,T)),c(I,s(k,T+1))),O=0;O<T;O++)z=f(z,B(a(L[O],c(A,s(O,T))),a(L[O],c(A,s(O,T+1)))));var J=a(m(D),a(-1,c(A,s(T,T)))),ee=a(m(D),a(-1,c(A,s(T+1,T)))),j=a(m(D),a(-1,c(A,s(T,T+1)))),V=a(m(D),a(-1,c(A,s(T+1,T+1)))),re=B(P(f(C,J),ee),P(j,f(C,V))),xe=h(re,z);L[T]=xe.subset(s(o(0,D),0)),L[T+1]=xe.subset(s(o(D,2*D),0)),T++}else{for(var oe=c(I,s(k,T)),le=0;le<T;le++)oe=f(oe,a(L[le],c(A,s(le,T))));var ve=c(A,s(T,T)),ue=p(C,a(ve,m(D)));L[T]=h(ue,oe)}var ce=i(n(...L)),me=a(S,a(ce,u(M)));return me}});var $3="schur",GG=["typed","matrix","identity","multiply","qr","norm","subtract"],cb=F($3,GG,r=>{var{typed:e,matrix:t,identity:n,multiply:i,qr:a,norm:o,subtract:l}=r;return e($3,{Array:function(c){var f=u(t(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return u(c)}});function u(s){var c=s.size()[0],f=s,p=n(c),m=0,h;do{h=f;var d=a(f),g=d.Q,y=d.R;if(f=i(y,g),p=i(p,g),m++>100)break}while(o(l(f,h))>1e-4);return{U:p,T:f}}});var H3="lyap",jG=["typed","matrix","sylvester","multiply","transpose"],fb=F(H3,jG,r=>{var{typed:e,matrix:t,sylvester:n,multiply:i,transpose:a}=r;return e(H3,{"Matrix, Matrix":function(l,u){return n(l,a(l),i(-1,u))},"Array, Matrix":function(l,u){return n(t(l),a(t(l)),i(-1,u))},"Matrix, Array":function(l,u){return n(l,a(t(l)),t(i(-1,u)))},"Array, Array":function(l,u){return n(t(l),a(t(l)),t(i(-1,u))).toArray()}})});var ZG="divide",YG=["typed","matrix","multiply","equalScalar","divideScalar","inv"],pb=F(ZG,YG,r=>{var{typed:e,matrix:t,multiply:n,equalScalar:i,divideScalar:a,inv:o}=r,l=jt({typed:e,equalScalar:i}),u=Tr({typed:e});return e("divide",Zf({"Array | Matrix, Array | Matrix":function(c,f){return n(c,o(f))},"DenseMatrix, any":function(c,f){return u(c,f,a,!1)},"SparseMatrix, any":function(c,f){return l(c,f,a,!1)},"Array, any":function(c,f){return u(t(c),f,a,!1).valueOf()},"any, Array | Matrix":function(c,f){return n(c,o(f))}},a.signatures))});var W3="distance",JG=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],mb=F(W3,JG,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,deepEqual:o,sqrt:l,abs:u}=r;return e(W3,{"Array, Array, Array":function(D,b,C){if(D.length===2&&b.length===2&&C.length===2){if(!c(D))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(b,C))throw new TypeError("LinePoint1 should not be same with LinePoint2");var S=n(C[1],b[1]),E=n(b[0],C[0]),A=n(i(C[0],b[1]),i(b[0],C[1]));return g(D[0],D[1],S,E,A)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(D,b,C){if(Object.keys(D).length===2&&Object.keys(b).length===2&&Object.keys(C).length===2){if(!c(D))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(C))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(h(b),h(C)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in D&&"pointY"in D&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in C&&"lineTwoPtY"in C){var S=n(C.lineTwoPtY,b.lineOnePtY),E=n(b.lineOnePtX,C.lineTwoPtX),A=n(i(C.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,C.lineTwoPtY));return g(D.pointX,D.pointY,S,E,A)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(D,b){if(D.length===2&&b.length===3){if(!c(D))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(D[0],D[1],b[0],b[1],b[2])}else if(D.length===3&&b.length===6){if(!f(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!m(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(D[0],D[1],D[2],b[0],b[1],b[2],b[3],b[4],b[5])}else if(D.length===b.length&&D.length>0){if(!p(D))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!p(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return w(D,b)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(D,b){if(Object.keys(D).length===2&&Object.keys(b).length===3){if(!c(D))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in D&&"pointY"in D&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return g(D.pointX,D.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}else if(Object.keys(D).length===3&&Object.keys(b).length===6){if(!f(D))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!m(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in D&&"pointY"in D&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return y(D.pointX,D.pointY,D.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}else if(Object.keys(D).length===2&&Object.keys(b).length===2){if(!c(D))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in D&&"pointOneY"in D&&"pointTwoX"in b&&"pointTwoY"in b)return w([D.pointOneX,D.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(D).length===3&&Object.keys(b).length===3){if(!f(D))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in D&&"pointOneY"in D&&"pointOneZ"in D&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return w([D.pointOneX,D.pointOneY,D.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(D){if(!d(D))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return v(D)}});function s(x){return typeof x=="number"||it(x)}function c(x){return x.constructor!==Array&&(x=h(x)),s(x[0])&&s(x[1])}function f(x){return x.constructor!==Array&&(x=h(x)),s(x[0])&&s(x[1])&&s(x[2])}function p(x){return Array.isArray(x)||(x=h(x)),x.every(s)}function m(x){return x.constructor!==Array&&(x=h(x)),s(x[0])&&s(x[1])&&s(x[2])&&s(x[3])&&s(x[4])&&s(x[5])}function h(x){for(var D=Object.keys(x),b=[],C=0;C<D.length;C++)b.push(x[D[C]]);return b}function d(x){if(x[0].length===2&&s(x[0][0])&&s(x[0][1])){if(x.some(D=>D.length!==2||!s(D[0])||!s(D[1])))return!1}else if(x[0].length===3&&s(x[0][0])&&s(x[0][1])&&s(x[0][2])){if(x.some(D=>D.length!==3||!s(D[0])||!s(D[1])||!s(D[2])))return!1}else return!1;return!0}function g(x,D,b,C,S){var E=u(t(t(i(b,x),i(C,D)),S)),A=l(t(i(b,b),i(C,C)));return a(E,A)}function y(x,D,b,C,S,E,A,M,I){var k=[n(i(n(S,D),I),i(n(E,b),M)),n(i(n(E,b),A),i(n(C,x),I)),n(i(n(C,x),M),i(n(S,D),A))];k=l(t(t(i(k[0],k[0]),i(k[1],k[1])),i(k[2],k[2])));var L=l(t(t(i(A,A),i(M,M)),i(I,I)));return a(k,L)}function w(x,D){for(var b=x.length,C=0,S=0,E=0;E<b;E++)S=n(x[E],D[E]),C=t(i(S,S),C);return l(C)}function v(x){for(var D=[],b=[],C=[],S=0;S<x.length-1;S++)for(var E=S+1;E<x.length;E++)x[0].length===2?(b=[x[S][0],x[S][1]],C=[x[E][0],x[E][1]]):x[0].length===3&&(b=[x[S][0],x[S][1],x[S][2]],C=[x[E][0],x[E][1],x[E][2]]),D.push(w(b,C));return D}});var XG="intersect",QG=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],db=F(XG,QG,r=>{var{typed:e,config:t,abs:n,add:i,addScalar:a,matrix:o,multiply:l,multiplyScalar:u,divideScalar:s,subtract:c,smaller:f,equalScalar:p,flatten:m,isZero:h,isNumeric:d}=r;return e("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":y,"Matrix, Matrix, Matrix":function(M,I,k){var L=g(M.valueOf(),I.valueOf(),k.valueOf());return L===null?null:o(L)},"Matrix, Matrix, Matrix, Matrix":function(M,I,k,L){var P=y(M.valueOf(),I.valueOf(),k.valueOf(),L.valueOf());return P===null?null:o(P)}});function g(A,M,I){if(A=w(A),M=w(M),I=w(I),!x(A))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!D(I))throw new TypeError("Array with 4 numbers expected as third argument");return E(A[0],A[1],A[2],M[0],M[1],M[2],I[0],I[1],I[2],I[3])}function y(A,M,I,k){if(A=w(A),M=w(M),I=w(I),k=w(k),A.length===2){if(!v(A))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!v(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!v(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!v(k))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return b(A,M,I,k)}else if(A.length===3){if(!x(A))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!x(k))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return S(A[0],A[1],A[2],M[0],M[1],M[2],I[0],I[1],I[2],k[0],k[1],k[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function w(A){return A.length===1?A[0]:A.length>1&&Array.isArray(A[0])&&A.every(M=>Array.isArray(M)&&M.length===1)?m(A):A}function v(A){return A.length===2&&d(A[0])&&d(A[1])}function x(A){return A.length===3&&d(A[0])&&d(A[1])&&d(A[2])}function D(A){return A.length===4&&d(A[0])&&d(A[1])&&d(A[2])&&d(A[3])}function b(A,M,I,k){var L=A,P=I,B=c(L,M),T=c(P,k),z=c(u(B[0],T[1]),u(T[0],B[1]));if(h(z)||f(n(z),t.epsilon))return null;var O=u(T[0],L[1]),J=u(T[1],L[0]),ee=u(T[0],P[1]),j=u(T[1],P[0]),V=s(a(c(c(O,J),ee),j),z);return i(l(B,V),L)}function C(A,M,I,k,L,P,B,T,z,O,J,ee){var j=u(c(A,M),c(I,k)),V=u(c(L,P),c(B,T)),re=u(c(z,O),c(J,ee));return a(a(j,V),re)}function S(A,M,I,k,L,P,B,T,z,O,J,ee){var j=C(A,B,O,B,M,T,J,T,I,z,ee,z),V=C(O,B,k,A,J,T,L,M,ee,z,P,I),re=C(A,B,k,A,M,T,L,M,I,z,P,I),xe=C(O,B,O,B,J,T,J,T,ee,z,ee,z),oe=C(k,A,k,A,L,M,L,M,P,I,P,I),le=c(u(j,V),u(re,xe)),ve=c(u(oe,xe),u(V,V));if(h(ve))return null;var ue=s(le,ve),ce=s(a(j,u(ue,V)),xe),me=a(A,u(ue,c(k,A))),de=a(M,u(ue,c(L,M))),Be=a(I,u(ue,c(P,I))),we=a(B,u(ce,c(O,B))),U=a(T,u(ce,c(J,T))),H=a(z,u(ce,c(ee,z)));return p(me,we)&&p(de,U)&&p(Be,H)?[me,de,Be]:null}function E(A,M,I,k,L,P,B,T,z,O){var J=u(A,B),ee=u(k,B),j=u(M,T),V=u(L,T),re=u(I,z),xe=u(P,z),oe=c(c(c(O,J),j),re),le=c(c(c(a(a(ee,V),xe),J),j),re),ve=s(oe,le),ue=a(A,u(ve,c(k,A))),ce=a(M,u(ve,c(L,M))),me=a(I,u(ve,c(P,I)));return[ue,ce,me]}});var G3="sum",KG=["typed","config","add","numeric"],Ml=F(G3,KG,r=>{var{typed:e,config:t,add:n,numeric:i}=r;return e(G3,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":o,"...":function(u){if(mi(u))throw new TypeError("Scalar values expected in function sum");return a(u)}});function a(l){var u;return hn(l,function(s){try{u=u===void 0?s:n(u,s)}catch(c){throw Er(c,"sum",s)}}),u===void 0&&(u=i(0,t.number)),typeof u=="string"&&(u=i(u,t.number)),u}function o(l,u){try{var s=oo(l,u,n);return s}catch(c){throw Er(c,"sum")}}});var em="cumsum",ej=["typed","add","unaryPlus"],Tl=F(em,ej,r=>{var{typed:e,add:t,unaryPlus:n}=r;return e(em,{Array:i,Matrix:function(s){return s.create(i(s.valueOf()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(s,c){return s.create(o(s.valueOf(),c))},"...":function(s){if(mi(s))throw new TypeError("All values expected to be scalar in function cumsum");return i(s)}});function i(u){try{return a(u)}catch(s){throw Er(s,em)}}function a(u){if(u.length===0)return[];for(var s=[n(u[0])],c=1;c<u.length;++c)s.push(t(s[c-1],u[c]));return s}function o(u,s){var c=nt(u);if(s<0||s>=c.length)throw new ln(s,c.length);try{return l(u,s)}catch(f){throw Er(f,em)}}function l(u,s){var c,f,p;if(s<=0){var m=u[0][0];if(Array.isArray(m)){for(p=dp(u),f=[],c=0;c<p.length;c++)f[c]=l(p[c],s-1);return f}else return a(u)}else{for(f=[],c=0;c<u.length;c++)f[c]=l(u[c],s-1);return f}}});var j3="mean",tj=["typed","add","divide"],Il=F(j3,tj,r=>{var{typed:e,add:t,divide:n}=r;return e(j3,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":i,"...":function(l){if(mi(l))throw new TypeError("Scalar values expected in function mean");return a(l)}});function i(o,l){try{var u=oo(o,l,t),s=Array.isArray(o)?nt(o):o.size();return n(u,s[l])}catch(c){throw Er(c,"mean")}}function a(o){var l,u=0;if(hn(o,function(s){try{l=l===void 0?s:t(l,s),u++}catch(c){throw Er(c,"mean",s)}}),u===0)throw new Error("Cannot calculate the mean of an empty array");return n(l,u)}});var Z3="median",rj=["typed","add","divide","compare","partitionSelect"],hb=F(Z3,rj,r=>{var{typed:e,add:t,divide:n,compare:i,partitionSelect:a}=r;function o(s){try{s=vt(s.valueOf());var c=s.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,p=a(s,f+1),m=s[f],h=0;h<f;++h)i(s[h],m)>0&&(m=s[h]);return u(m,p)}else{var d=a(s,(c-1)/2);return l(d)}}catch(g){throw Er(g,"median")}}var l=e({"number | BigNumber | Complex | Unit":function(c){return c}}),u=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return n(t(c,f),2)}});return e(Z3,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(mi(c))throw new TypeError("Scalar values expected in function median");return o(c)}})});var Y3="mad",nj=["typed","abs","map","median","subtract"],gb=F(Y3,nj,r=>{var{typed:e,abs:t,map:n,median:i,subtract:a}=r;return e(Y3,{"Array | Matrix":o,"...":function(u){return o(u)}});function o(l){if(l=vt(l.valueOf()),l.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var u=i(l);return i(n(l,function(s){return t(a(s,u))}))}catch(s){throw s instanceof TypeError&&s.message.indexOf("median")!==-1?new TypeError(s.message.replace("median","mad")):Er(s,"mad")}}});var vb="unbiased",J3="variance",ij=["typed","add","subtract","multiply","divide","apply","isNaN"],Bl=F(J3,ij,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:l}=r;return e(J3,{"Array | Matrix":function(f){return u(f,vb)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(f,p){return s(f,p,vb)},"Array | Matrix, number | BigNumber, string":s,"...":function(f){return u(f,vb)}});function u(c,f){var p,m=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(hn(c,function(g){try{p=p===void 0?g:t(p,g),m++}catch(y){throw Er(y,"variance",g)}}),m===0)throw new Error("Cannot calculate variance of an empty array");var h=a(p,m);if(p=void 0,hn(c,function(g){var y=n(g,h);p=p===void 0?i(y,y):t(p,i(y,y))}),l(p))return p;switch(f){case"uncorrected":return a(p,m);case"biased":return a(p,m+1);case"unbiased":{var d=it(p)?p.mul(0):0;return m===1?d:a(p,m-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function s(c,f,p){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(c,f,m=>u(m,p))}catch(m){throw Er(m,"variance")}}});var X3="quantileSeq",aj=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],Ol=F(X3,aj,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:p}=r,m=as({typed:e,isInteger:s});return e(X3,{"Array | Matrix, number | BigNumber":(w,v)=>d(w,v,!1),"Array | Matrix, number | BigNumber, number":(w,v,x)=>h(w,v,!1,x,d),"Array | Matrix, number | BigNumber, boolean":d,"Array | Matrix, number | BigNumber, boolean, number":(w,v,x,D)=>h(w,v,x,D,d),"Array | Matrix, Array | Matrix":(w,v)=>g(w,v,!1),"Array | Matrix, Array | Matrix, number":(w,v,x)=>h(w,v,!1,x,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(w,v,x,D)=>h(w,v,x,D,g)});function h(w,v,x,D,b){return m(w,D,C=>b(C,v,x))}function d(w,v,x){var D,b=w.valueOf();if(c(v,0))throw new Error("N/prob must be non-negative");if(f(v,1))return at(v)?y(b,v,x):t(y(b,v,x));if(p(v,1)){if(!s(v))throw new Error("N must be a positive integer");if(p(v,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var C=n(v,1);D=[];for(var S=0;c(S,v);S++){var E=a(S+1,C);D.push(y(b,E,x))}return at(v)?D:t(D)}}function g(w,v,x){for(var D=w.valueOf(),b=v.valueOf(),C=[],S=0;S<b.length;++S)C.push(y(D,b[S],x));return C}function y(w,v,x){var D=vt(w),b=D.length;if(b===0)throw new Error("Cannot calculate quantile of an empty sequence");var C=at(v)?v*(b-1):v.times(b-1),S=at(v)?Math.floor(C):C.floor().toNumber(),E=at(v)?C%1:C.minus(S);if(s(C))return x?D[C]:l(D,at(v)?C:C.valueOf());var A,M;if(x)A=D[S],M=D[S+1];else{M=l(D,S+1),A=D[S];for(var I=0;I<S;++I)u(D[I],A)>0&&(A=D[I])}return n(o(A,i(1,E)),o(M,E))}});var Q3="std",oj=["typed","map","sqrt","variance"],kl=F(Q3,oj,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r;return e(Q3,{"Array | Matrix":a,"Array | Matrix, string":a,"Array | Matrix, number | BigNumber":a,"Array | Matrix, number | BigNumber, string":a,"...":function(l){return a(l)}});function a(o,l){if(o.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var u=i.apply(null,arguments);return _n(u)?t(u,n):n(u)}catch(s){throw s instanceof TypeError&&s.message.indexOf(" variance")!==-1?new TypeError(s.message.replace(" variance"," std")):s}}});var K3="corr",sj=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],yb=F(K3,sj,r=>{var{typed:e,matrix:t,sqrt:n,sum:i,add:a,subtract:o,multiply:l,pow:u,divide:s}=r;return e(K3,{"Array, Array":function(m,h){return c(m,h)},"Matrix, Matrix":function(m,h){var d=c(m.toArray(),h.toArray());return Array.isArray(d)?t(d):d}});function c(p,m){var h=[];if(Array.isArray(p[0])&&Array.isArray(m[0])){if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var d=0;d<p.length;d++){if(p[d].length!==m[d].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");h.push(f(p[d],m[d]))}return h}else{if(p.length!==m.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(p,m)}}function f(p,m){var h=p.length,d=i(p),g=i(m),y=p.reduce((b,C,S)=>a(b,l(C,m[S])),0),w=i(p.map(b=>u(b,2))),v=i(m.map(b=>u(b,2))),x=o(l(h,y),l(d,g)),D=n(l(o(l(h,w),u(d,2)),o(l(h,v),u(g,2))));return s(x,D)}});var eO="combinations",uj=["typed"],xb=F(eO,uj,r=>{var{typed:e}=r;return e(eO,{"number, number":Ig,"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,l,u=n.minus(i),s=new a(1);if(!tO(n)||!tO(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(o=s,i.lt(u))for(l=s;l.lte(u);l=l.plus(s))o=o.times(i.plus(l)).dividedBy(l);else for(l=s;l.lte(i);l=l.plus(s))o=o.times(u.plus(l)).dividedBy(l);return o}})});function tO(r){return r.isInteger()&&r.gte(0)}var rO="combinationsWithRep",lj=["typed"],bb=F(rO,lj,r=>{var{typed:e}=r;return e(rO,{"number, number":function(n,i){if(!Ue(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Ue(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var a=Kn(n,n+i-1);return a/Kn(1,i)}var o=Kn(i+1,n+i-1);return o/Kn(1,n-1)},"BigNumber, BigNumber":function(n,i){var a=n.constructor,o,l,u=new a(1),s=n.minus(u);if(!nO(n)||!nO(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(u))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=u,i.lt(s))for(l=u;l.lte(s);l=l.plus(u))o=o.times(i.plus(l)).dividedBy(l);else for(l=u;l.lte(i);l=l.plus(u))o=o.times(s.plus(l)).dividedBy(l);return o}})});function nO(r){return r.isInteger()&&r.gte(0)}var iO="gamma",cj=["typed","config","multiplyScalar","pow","BigNumber","Complex"],Db=F(iO,cj,r=>{var{typed:e,config:t,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=r;function l(s){if(s.im===0)return ml(s.re);if(s.re<.5){var c=new o(1-s.re,-s.im),f=new o(Math.PI*s.re,Math.PI*s.im);return new o(Math.PI).div(f.sin()).div(l(c))}s=new o(s.re-1,s.im);for(var p=new o(is[0],0),m=1;m<is.length;++m){var h=new o(is[m],0);p=p.add(h.div(s.add(m)))}var d=new o(s.re+Lg+.5,s.im),g=Math.sqrt(2*Math.PI),y=d.pow(s.add(.5)),w=d.neg().exp();return p.mul(g).mul(y).mul(w)}return e(iO,{number:ml,Complex:l,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new a(1/0):u(c.minus(1));if(!c.isFinite())return new a(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function u(s){if(s<8)return new a([1,1,2,6,24,120,720,5040][s]);var c=t.precision+(Math.log(s.toNumber())|0),f=a.clone({precision:c});if(s%2===1)return s.times(u(new a(s-1)));for(var p=s,m=new f(s),h=s.toNumber();p>2;)p-=2,h+=p,m=m.times(h);return new a(m.toPrecision(a.precision))}});var aO="lgamma",fj=["Complex","typed"],wb=F(aO,fj,r=>{var{Complex:e,typed:t}=r,n=7,i=7,a=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return t(aO,{number:dl,Complex:o,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function o(s){var c=6.283185307179586,f=1.1447298858494002,p=.1;if(s.isNaN())return new e(NaN,NaN);if(s.im===0)return new e(dl(s.re),0);if(s.re>=n||Math.abs(s.im)>=i)return l(s);if(s.re<=p){var m=LS(c,s.im)*Math.floor(.5*s.re+.25),h=s.mul(Math.PI).sin().log(),d=o(new e(1-s.re,-s.im));return new e(f,m).sub(h).sub(d)}else return s.im>=0?u(s):u(s.conjugate()).conjugate()}function l(s){for(var c=s.sub(.5).mul(s.log()).sub(s).add(Vg),f=new e(1,0).div(s),p=f.div(s),m=a[0],h=a[1],d=2*p.re,g=p.re*p.re+p.im*p.im,y=2;y<8;y++){var w=h;h=-g*m+a[y],m=d*m+w}var v=f.mul(p.mul(m).add(h));return c.add(v)}function u(s){var c=0,f=0,p=s;for(s=s.add(1);s.re<=n;){p=p.mul(s);var m=p.im<0?1:0;m!==0&&f===0&&c++,f=m,s=s.add(1)}return l(s).sub(p.log()).sub(new e(0,c*2*Math.PI*1))}});var oO="factorial",pj=["typed","gamma"],Eb=F(oO,pj,r=>{var{typed:e,gamma:t}=r;return e(oO,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return t(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return t(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>Ze(i,n))})});var sO="kldivergence",mj=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],Cb=F(sO,mj,r=>{var{typed:e,matrix:t,divide:n,sum:i,multiply:a,map:o,dotDivide:l,log:u,isNumeric:s}=r;return e(sO,{"Array, Array":function(p,m){return c(t(p),t(m))},"Matrix, Array":function(p,m){return c(p,t(m))},"Array, Matrix":function(p,m){return c(t(p),m)},"Matrix, Matrix":function(p,m){return c(p,m)}});function c(f,p){var m=p.size().length,h=f.size().length;if(m>1)throw new Error("first object must be one dimensional");if(h>1)throw new Error("second object must be one dimensional");if(m!==h)throw new Error("Length of two vectors must be equal");var d=i(f);if(d===0)throw new Error("Sum of elements in first object must be non zero");var g=i(p);if(g===0)throw new Error("Sum of elements in second object must be non zero");var y=n(f,i(f)),w=n(p,i(p)),v=i(a(y,o(l(y,w),x=>u(x))));return s(v)?v:Number.NaN}});var uO="multinomial",dj=["typed","add","divide","multiply","factorial","isInteger","isPositive"],Ab=F(uO,dj,r=>{var{typed:e,add:t,divide:n,multiply:i,factorial:a,isInteger:o,isPositive:l}=r;return e(uO,{"Array | Matrix":function(s){var c=0,f=1;return hn(s,function(p){if(!o(p)||!l(p))throw new TypeError("Positive integer value expected in function multinomial");c=t(c,p),f=i(f,a(p))}),n(a(c),f)}})});var lO="permutations",hj=["typed","factorial"],Sb=F(lO,hj,r=>{var{typed:e,factorial:t}=r;return e(lO,{"number | BigNumber":t,"number, number":function(i,a){if(!Ue(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Ue(a)||a<0)throw new TypeError("Positive integer value expected in function permutations");if(a>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Kn(i-a+1,i)},"BigNumber, BigNumber":function(i,a){var o,l;if(!cO(i)||!cO(a))throw new TypeError("Positive integer value expected in function permutations");if(a.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var u=i.mul(0).add(1);for(o=u,l=i.minus(a).plus(1);l.lte(i);l=l.plus(1))o=o.times(l);return o}})});function cO(r){return r.isInteger()&&r.gte(0)}var Bb=Fr(SO(),1),wj=(0,Bb.default)(Date.now());function Sa(r){var e;function t(i){e=i===null?wj:(0,Bb.default)(String(i))}t(r);function n(){return e()}return n}var FO="pickRandom",Ej=["typed","config","?on"],Ob=F(FO,Ej,r=>{var{typed:e,config:t,on:n}=r,i=Sa(t.randomSeed);return n&&n("config",function(o,l){o.randomSeed!==l.randomSeed&&(i=Sa(o.randomSeed))}),e(FO,{"Array | Matrix":function(l){return a(l,{})},"Array | Matrix, Object":function(l,u){return a(l,u)},"Array | Matrix, number":function(l,u){return a(l,{number:u})},"Array | Matrix, Array | Matrix":function(l,u){return a(l,{weights:u})},"Array | Matrix, Array | Matrix, number":function(l,u,s){return a(l,{number:s,weights:u})},"Array | Matrix, number, Array | Matrix":function(l,u,s){return a(l,{number:u,weights:s})}});function a(o,l){var{number:u,weights:s,elementWise:c=!0}=l,f=typeof u=="undefined";f&&(u=1);var p=$e(o)?o.create:$e(s)?s.create:null;o=o.valueOf(),s&&(s=s.valueOf()),c===!0&&(o=vt(o),s=vt(s));var m=0;if(typeof s!="undefined"){if(s.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var h=0,d=s.length;h<d;h++){if(!at(s[h])||s[h]<0)throw new Error("Weights must be an array of positive numbers");m+=s[h]}}for(var g=o.length,y=[],w;y.length<u;){if(typeof s=="undefined")w=o[Math.floor(i()*g)];else for(var v=i()*m,x=0,D=o.length;x<D;x++)if(v-=s[x],v<0){w=o[x];break}y.push(w)}return f?y[0]:p?p(y):y}});function Pl(r,e){var t=[];if(r=r.slice(0),r.length>1)for(var n=0,i=r.shift();n<i;n++)t.push(Pl(r,e));else for(var a=0,o=r.shift();a<o;a++)t.push(e());return t}var NO="random",Cj=["typed","config","?on"],kb=F(NO,Cj,r=>{var{typed:e,config:t,on:n}=r,i=Sa(t.randomSeed);return n&&n("config",function(l,u){l.randomSeed!==u.randomSeed&&(i=Sa(l.randomSeed))}),e(NO,{"":()=>o(0,1),number:l=>o(0,l),"number, number":(l,u)=>o(l,u),"Array | Matrix":l=>a(l,0,1),"Array | Matrix, number":(l,u)=>a(l,0,u),"Array | Matrix, number, number":(l,u,s)=>a(l,u,s)});function a(l,u,s){var c=Pl(l.valueOf(),()=>o(u,s));return $e(l)?l.create(c):c}function o(l,u){return l+i()*(u-l)}});var _O="randomInt",Aj=["typed","config","?on"],Pb=F(_O,Aj,r=>{var{typed:e,config:t,on:n}=r,i=Sa(t.randomSeed);return n&&n("config",function(l,u){l.randomSeed!==u.randomSeed&&(i=Sa(l.randomSeed))}),e(_O,{"":()=>o(0,1),number:l=>o(0,l),"number, number":(l,u)=>o(l,u),"Array | Matrix":l=>a(l,0,1),"Array | Matrix, number":(l,u)=>a(l,0,u),"Array | Matrix, number, number":(l,u,s)=>a(l,u,s)});function a(l,u,s){var c=Pl(l.valueOf(),()=>o(u,s));return $e(l)?l.create(c):c}function o(l,u){return Math.floor(l+i()*(u-l))}});var MO="stirlingS2",Sj=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],Rb=F(MO,Sj,r=>{var{typed:e,addScalar:t,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:l,combinations:u,isNegative:s,isInteger:c,number:f,bignumber:p,larger:m}=r,h=[],d=[];return e(MO,{"number | BigNumber, number | BigNumber":function(y,w){if(!c(y)||s(y)||!c(w)||s(w))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(m(w,y))throw new TypeError("k must be less than or equal to n in function stirlingS2");var v=!(at(y)&&at(w)),x=v?d:h,D=v?p:f,b=f(y),C=f(w);if(x[b]&&x[b].length>C)return x[b][C];for(var S=0;S<=b;++S)if(x[S]||(x[S]=[D(S===0?1:0)]),S!==0)for(var E=x[S],A=x[S-1],M=E.length;M<=S&&M<=C;++M)M===S?E[M]=1:E[M]=t(i(D(M),A[M]),A[M-1]);return x[b][C]}})});var TO="bellNumbers",Fj=["typed","addScalar","isNegative","isInteger","stirlingS2"],Lb=F(TO,Fj,r=>{var{typed:e,addScalar:t,isNegative:n,isInteger:i,stirlingS2:a}=r;return e(TO,{"number | BigNumber":function(l){if(!i(l)||n(l))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var u=0,s=0;s<=l;s++)u=t(u,a(l,s));return u}})});var IO="catalan",Nj=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],Vb=F(IO,Nj,r=>{var{typed:e,addScalar:t,divideScalar:n,multiplyScalar:i,combinations:a,isNegative:o,isInteger:l}=r;return e(IO,{"number | BigNumber":function(s){if(!l(s)||o(s))throw new TypeError("Non-negative integer value expected in function catalan");return n(a(i(s,2),s),t(s,1))}})});var BO="composition",_j=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],Ub=F(BO,_j,r=>{var{typed:e,addScalar:t,combinations:n,isPositive:i,isNegative:a,isInteger:o,larger:l}=r;return e(BO,{"number | BigNumber, number | BigNumber":function(s,c){if(!o(s)||!i(s)||!o(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(l(c,s))throw new TypeError("k must be less than or equal to n in function composition");return n(t(s,-1),t(c,-1))}})});var OO="leafCount",Mj=["parse","typed"],qb=F(OO,Mj,r=>{var{parse:e,typed:t}=r;function n(i){var a=0;return i.forEach(o=>{a+=n(o)}),a||1}return t(OO,{Node:function(a){return n(a)}})});function zb(r){return wt(r)||pr(r)&&r.isUnary()&&wt(r.args[0])}function Rl(r){return!!(wt(r)||(Mn(r)||pr(r))&&r.args.every(Rl)||un(r)&&Rl(r.content))}function kO(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function $b(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(t),!0).forEach(function(n){zt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):kO(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Tj="simplifyUtil",Ij=["FunctionNode","OperatorNode","SymbolNode"],mu=F(Tj,Ij,r=>{var{FunctionNode:e,OperatorNode:t,SymbolNode:n}=r,i=!0,a=!1,o="defaultF",l={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:a,total:i,commutative:a,associative:a},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:a,total:i,commutative:a,associative:a},paren:{trivial:i,total:i,commutative:i,associative:a},defaultF:{trivial:a,total:i,commutative:a,associative:a}},u={divide:{total:a},log:{total:a}},s={subtract:{total:a},abs:{trivial:i},log:{total:i}};function c(v,x){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l,b=o;if(typeof v=="string"?b=v:pr(v)?b=v.fn.toString():Mn(v)?b=v.name:un(v)&&(b="paren"),je(D,b)){var C=D[b];if(je(C,x))return C[x];if(je(l,b))return l[b][x]}if(je(D,o)){var S=D[o];return je(S,x)?S[x]:l[o][x]}if(je(l,b)){var E=l[b];if(je(E,x))return E[x]}return l[o][x]}function f(v){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return c(v,"commutative",x)}function p(v){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;return c(v,"associative",x)}function m(v,x){var D=$b({},v);for(var b in x)je(v,b)?D[b]=$b($b({},x[b]),v[b]):D[b]=x[b];return D}function h(v,x){if(!v.args||v.args.length===0)return v;v.args=d(v,x);for(var D=0;D<v.args.length;D++)h(v.args[D],x)}function d(v,x){var D,b=[],C=function S(E){for(var A=0;A<E.args.length;A++){var M=E.args[A];pr(M)&&D===M.op?S(M):b.push(M)}};return p(v,x)?(D=v.op,C(v),b):v.args}function g(v,x){if(!(!v.args||v.args.length===0)){for(var D=w(v),b=v.args.length,C=0;C<b;C++)g(v.args[C],x);if(b>2&&p(v,x)){for(var S=v.args.pop();v.args.length>0;)S=D([v.args.pop(),S]);v.args=S.args}}}function y(v,x){if(!(!v.args||v.args.length===0)){for(var D=w(v),b=v.args.length,C=0;C<b;C++)y(v.args[C],x);if(b>2&&p(v,x)){for(var S=v.args.shift();v.args.length>0;)S=D([S,v.args.shift()]);v.args=S.args}}}function w(v){return pr(v)?function(x){try{return new t(v.op,v.fn,x,v.implicit)}catch(D){return console.error(D),[]}}:function(x){return new e(new n(v.name),x)}}return{createMakeNodeFunction:w,hasProperty:c,isCommutative:f,isAssociative:p,mergeContext:m,flatten:h,allChildren:d,unflattenr:g,unflattenl:y,defaultContext:l,realContext:u,positiveContext:s}});var Bj="simplify",Oj=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Hb=F(Bj,Oj,r=>{var{config:e,typed:t,parse:n,add:i,subtract:a,multiply:o,divide:l,pow:u,isZero:s,equal:c,resolve:f,simplifyConstant:p,simplifyCore:m,fraction:h,bignumber:d,mathWithTransform:g,matrix:y,AccessorNode:w,ArrayNode:v,ConstantNode:x,FunctionNode:D,IndexNode:b,ObjectNode:C,OperatorNode:S,ParenthesisNode:E,SymbolNode:A}=r,{hasProperty:M,isCommutative:I,isAssociative:k,mergeContext:L,flatten:P,unflattenr:B,unflattenl:T,createMakeNodeFunction:z,defaultContext:O,realContext:J,positiveContext:ee}=mu({FunctionNode:D,OperatorNode:S,SymbolNode:A});t.addConversion({from:"Object",to:"Map",convert:Da});var j=t("simplify",{Node:ue,"Node, Map":($,Q)=>ue($,!1,Q),"Node, Map, Object":($,Q,te)=>ue($,!1,Q,te),"Node, Array":ue,"Node, Array, Map":ue,"Node, Array, Map, Object":ue});t.removeConversion({from:"Object",to:"Map",convert:Da}),j.defaultContext=O,j.realContext=J,j.positiveContext=ee;function V($){return $.transform(function(Q,te,he){return un(Q)?V(Q.content):Q})}var re={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};j.rules=[m,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},p,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},p,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function xe($,Q){var te={};if($.s){var he=$.s.split("->");if(he.length===2)te.l=he[0],te.r=he[1];else throw SyntaxError("Could not parse rule: "+$.s)}else te.l=$.l,te.r=$.r;te.l=V(n(te.l)),te.r=V(n(te.r));for(var be of["imposeContext","repeat","assuming"])be in $&&(te[be]=$[be]);if($.evaluate&&(te.evaluate=n($.evaluate)),k(te.l,Q)){var Pe=!I(te.l,Q),Fe;Pe&&(Fe=ve());var mt=z(te.l),gt=ve();te.expanded={},te.expanded.l=mt([te.l,gt]),P(te.expanded.l,Q),B(te.expanded.l,Q),te.expanded.r=mt([te.r,gt]),Pe&&(te.expandedNC1={},te.expandedNC1.l=mt([Fe,te.l]),te.expandedNC1.r=mt([Fe,te.r]),te.expandedNC2={},te.expandedNC2.l=mt([Fe,te.expanded.l]),te.expandedNC2.r=mt([Fe,te.expanded.r]))}return te}function oe($,Q){for(var te=[],he=0;he<$.length;he++){var be=$[he],Pe=void 0,Fe=typeof be;switch(Fe){case"string":be={s:be};case"object":Pe=xe(be,Q);break;case"function":Pe=be;break;default:throw TypeError("Unsupported type of rule: "+Fe)}te.push(Pe)}return te}var le=0;function ve(){return new A("_p"+le++)}function ue($,Q){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qi(),he=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},be=he.consoleDebug;Q=oe(Q||j.rules,he.context);var Pe=f($,te);Pe=V(Pe);for(var Fe={},mt=Pe.toString({parenthesis:"all"});!Fe[mt];){Fe[mt]=!0,le=0;var gt=mt;be&&console.log("Working on: ",mt);for(var Lt=0;Lt<Q.length;Lt++){var Yt="";if(typeof Q[Lt]=="function"?(Pe=Q[Lt](Pe,he),be&&(Yt=Q[Lt].name)):(P(Pe,he.context),Pe=me(Pe,Q[Lt],he.context),be&&(Yt="".concat(Q[Lt].l.toString()," -> ").concat(Q[Lt].r.toString()))),be){var W=Pe.toString({parenthesis:"all"});W!==gt&&(console.log("Applying",Yt,"produced",W),gt=W)}T(Pe,he.context)}mt=Pe.toString({parenthesis:"all"})}return Pe}function ce($,Q,te){var he=$;if($)for(var be=0;be<$.length;++be){var Pe=me($[be],Q,te);Pe!==$[be]&&(he===$&&(he=$.slice()),he[be]=Pe)}return he}function me($,Q,te){if(Q.assuming){for(var he in Q.assuming)for(var be in Q.assuming[he])if(M(he,be,te)!==Q.assuming[he][be])return $}var Pe=L(Q.imposeContext,te),Fe=$;if(Fe instanceof S||Fe instanceof D){var mt=ce(Fe.args,Q,te);mt!==Fe.args&&(Fe=Fe.clone(),Fe.args=mt)}else if(Fe instanceof E){if(Fe.content){var gt=me(Fe.content,Q,te);gt!==Fe.content&&(Fe=new E(gt))}}else if(Fe instanceof v){var Lt=ce(Fe.items,Q,te);Lt!==Fe.items&&(Fe=new v(Lt))}else if(Fe instanceof w){var Yt=Fe.object;Fe.object&&(Yt=me(Fe.object,Q,te));var W=Fe.index;Fe.index&&(W=me(Fe.index,Q,te)),(Yt!==Fe.object||W!==Fe.index)&&(Fe=new w(Yt,W))}else if(Fe instanceof b){var ne=ce(Fe.dimensions,Q,te);ne!==Fe.dimensions&&(Fe=new b(ne))}else if(Fe instanceof C){var pe=!1,Ae={};for(var Me in Fe.properties)Ae[Me]=me(Fe.properties[Me],Q,te),Ae[Me]!==Fe.properties[Me]&&(pe=!0);pe&&(Fe=new C(Ae))}var Se=Q.r,Ne=H(Q.l,Fe,Pe)[0];if(!Ne&&Q.expanded&&(Se=Q.expanded.r,Ne=H(Q.expanded.l,Fe,Pe)[0]),!Ne&&Q.expandedNC1&&(Se=Q.expandedNC1.r,Ne=H(Q.expandedNC1.l,Fe,Pe)[0],Ne||(Se=Q.expandedNC2.r,Ne=H(Q.expandedNC2.l,Fe,Pe)[0])),Ne){var Oe=Fe.implicit;Fe=Se.clone(),Oe&&"implicit"in Se&&(Fe.implicit=!0),Fe=Fe.transform(function(_){return _.isSymbolNode&&je(Ne.placeholders,_.name)?Ne.placeholders[_.name].clone():_})}return Q.repeat&&Fe!==$&&(Fe=me(Fe,Q,te)),Fe}function de($,Q){var te=[],he,be,Pe=z($);if(I($,Q))for(var Fe=0;Fe<$.args.length;Fe++)be=$.args.slice(0),be.splice(Fe,1),he=be.length===1?be[0]:Pe(be),te.push(Pe([$.args[Fe],he]));else for(var mt=1;mt<$.args.length;mt++){var gt=$.args[0];mt>1&&(gt=Pe($.args.slice(0,mt))),be=$.args.slice(mt),he=be.length===1?be[0]:Pe(be),te.push(Pe([gt,he]))}return te}function Be($,Q){var te={placeholders:{}};if(!$.placeholders&&!Q.placeholders)return te;if($.placeholders){if(!Q.placeholders)return $}else return Q;for(var he in $.placeholders)if(je($.placeholders,he)&&(te.placeholders[he]=$.placeholders[he],je(Q.placeholders,he)&&!fe($.placeholders[he],Q.placeholders[he])))return null;for(var be in Q.placeholders)je(Q.placeholders,be)&&(te.placeholders[be]=Q.placeholders[be]);return te}function we($,Q){var te=[];if($.length===0||Q.length===0)return te;for(var he,be=0;be<$.length;be++)for(var Pe=0;Pe<Q.length;Pe++)he=Be($[be],Q[Pe]),he&&te.push(he);return te}function U($){if($.length===0)return $;for(var Q=$.reduce(we),te=[],he={},be=0;be<Q.length;be++){var Pe=JSON.stringify(Q[be]);he[Pe]||(he[Pe]=!0,te.push(Q[be]))}return te}function H($,Q,te,he){var be=[{placeholders:{}}];if($ instanceof S&&Q instanceof S||$ instanceof D&&Q instanceof D){if($ instanceof S){if($.op!==Q.op||$.fn!==Q.fn)return[]}else if($ instanceof D&&$.name!==Q.name)return[];if(Q.args.length===1&&$.args.length===1||!k(Q,te)&&Q.args.length===$.args.length||he){for(var Pe=[],Fe=0;Fe<$.args.length;Fe++){var mt=H($.args[Fe],Q.args[Fe],te);if(mt.length===0)break;Pe.push(mt)}if(Pe.length!==$.args.length){if(!I(Q,te)||$.args.length===1)return[];if($.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var gt=H($.args[0],Q.args[1],te);if(gt.length===0)return[];var Lt=H($.args[1],Q.args[0],te);if(Lt.length===0)return[];Pe=[gt,Lt]}be=U(Pe)}else if(Q.args.length>=2&&$.args.length===2){for(var Yt=de(Q,te),W=[],ne=0;ne<Yt.length;ne++){var pe=H($,Yt[ne],te,!0);W=W.concat(pe)}return W}else{if($.args.length>2)throw Error("Unexpected non-binary associative function: "+$.toString());return[]}}else if($ instanceof A){if($.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(re[$.name]){if($.name!==Q.name)return[]}else switch($.name[1]>="a"&&$.name[1]<="z"?$.name.substring(0,2):$.name[0]){case"n":case"_p":be[0].placeholders[$.name]=Q;break;case"c":case"cl":if(wt(Q))be[0].placeholders[$.name]=Q;else return[];break;case"v":if(!wt(Q))be[0].placeholders[$.name]=Q;else return[];break;case"vl":if(tr(Q))be[0].placeholders[$.name]=Q;else return[];break;case"cd":if(zb(Q))be[0].placeholders[$.name]=Q;else return[];break;case"vd":if(!zb(Q))be[0].placeholders[$.name]=Q;else return[];break;case"ce":if(Rl(Q))be[0].placeholders[$.name]=Q;else return[];break;case"ve":if(!Rl(Q))be[0].placeholders[$.name]=Q;else return[];break;default:throw new Error("Invalid symbol in rule: "+$.name)}}else if($ instanceof x){if(!c($.value,Q.value))return[]}else return[];return be}function fe($,Q){if($ instanceof x&&Q instanceof x){if(!c($.value,Q.value))return!1}else if($ instanceof A&&Q instanceof A){if($.name!==Q.name)return!1}else if($ instanceof S&&Q instanceof S||$ instanceof D&&Q instanceof D){if($ instanceof S){if($.op!==Q.op||$.fn!==Q.fn)return!1}else if($ instanceof D&&$.name!==Q.name)return!1;if($.args.length!==Q.args.length)return!1;for(var te=0;te<$.args.length;te++)if(!fe($.args[te],Q.args[te]))return!1}else return!1;return!0}return j});var kj="simplifyConstant",Pj=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],Wb=F(kj,Pj,r=>{var{typed:e,config:t,mathWithTransform:n,matrix:i,fraction:a,bignumber:o,AccessorNode:l,ArrayNode:u,ConstantNode:s,FunctionNode:c,IndexNode:f,ObjectNode:p,OperatorNode:m,SymbolNode:h}=r,{isCommutative:d,isAssociative:g,allChildren:y,createMakeNodeFunction:w}=mu({FunctionNode:c,OperatorNode:m,SymbolNode:h}),v=e("simplifyConstant",{Node:P=>C(L(P,{})),"Node, Object":function(B,T){return C(L(B,T))}});function x(P){return xa(P)?P.valueOf():P instanceof Array?P.map(x):$e(P)?i(x(P.valueOf())):P}function D(P,B,T){try{return n[P].apply(null,B)}catch(z){return B=B.map(x),E(n[P].apply(null,B),T)}}var b=e({Fraction:M,number:function(B){return B<0?A(new s(-B)):new s(B)},BigNumber:function(B){return B<0?A(new s(-B)):new s(B)},Complex:function(B){throw new Error("Cannot convert Complex number to Node")},string:function(B){return new s(B)},Matrix:function(B){return new u(B.valueOf().map(T=>b(T)))}});function C(P){return Et(P)?P:b(P)}function S(P,B){var T=B&&B.exactFractions!==!1;if(T&&isFinite(P)&&a){var z=a(P),O=B&&typeof B.fractionsLimit=="number"?B.fractionsLimit:1/0;if(z.valueOf()===P&&z.n<O&&z.d<O)return z}return P}var E=e({"string, Object":function(B,T){if(t.number==="BigNumber")return o===void 0&&su(),o(B);if(t.number==="Fraction")return a===void 0&&Dp(),a(B);var z=parseFloat(B);return S(z,T)},"Fraction, Object":function(B,T){return B},"BigNumber, Object":function(B,T){return B},"number, Object":function(B,T){return S(B,T)},"Complex, Object":function(B,T){return B.im!==0?B:S(B.re,T)},"Matrix, Object":function(B,T){return i(S(B.valueOf()))},"Array, Object":function(B,T){return B.map(S)}});function A(P){return new m("-","unaryMinus",[P])}function M(P){var B,T=P.s*P.n;return T<0?B=new m("-","unaryMinus",[new s(-T)]):B=new s(T),P.d===1?B:new m("/","divide",[B,new s(P.d)])}function I(P,B,T){if(!fi(B))return new l(C(P),C(B));if(sn(P)||$e(P)){for(var z=Array.from(B.dimensions);z.length>0;)if(wt(z[0])&&typeof z[0].value!="string"){var O=E(z.shift().value,T);sn(P)?P=P.items[O-1]:(P=P.valueOf()[O-1],P instanceof Array&&(P=i(P)))}else if(z.length>1&&wt(z[1])&&typeof z[1].value!="string"){var J=E(z[1].value,T),ee=[],j=sn(P)?P.items:P.valueOf();for(var V of j)if(sn(V))ee.push(V.items[J-1]);else if($e(P))ee.push(V[J-1]);else break;if(ee.length===j.length)sn(P)?P=new u(ee):P=i(ee),z.splice(1,1);else break}else break;return z.length===B.dimensions.length?new l(C(P),B):z.length>0?(B=new f(z),new l(C(P),B)):P}if(Ka(P)&&B.dimensions.length===1&&wt(B.dimensions[0])){var re=B.dimensions[0].value;return re in P.properties?P.properties[re]:new s}return new l(C(P),B)}function k(P,B,T,z){var O=B.shift(),J=B.reduce((ee,j)=>{if(!Et(j)){var V=ee.pop();if(Et(V))return[V,j];try{return ee.push(D(P,[V,j],z)),ee}catch(xe){ee.push(V)}}ee.push(C(ee.pop()));var re=ee.length===1?ee[0]:T(ee);return[T([re,C(j)])]},[O]);return J.length===1?J[0]:T([J[0],b(J[1])])}function L(P,B){switch(P.type){case"SymbolNode":return P;case"ConstantNode":switch(typeof P.value){case"number":return E(P.value,B);case"string":return P.value;default:if(!isNaN(P.value))return E(P.value,B)}return P;case"FunctionNode":if(n[P.name]&&n[P.name].rawArgs)return P;{var T=["add","multiply"];if(T.indexOf(P.name)===-1){var z=P.args.map(me=>L(me,B));if(!z.some(Et))try{return D(P.name,z,B)}catch(me){}if(P.name==="size"&&z.length===1&&sn(z[0])){for(var O=[],J=z[0];sn(J);)O.push(J.items.length),J=J.items[0];return i(O)}return new c(P.name,z.map(C))}}case"OperatorNode":{var ee=P.fn.toString(),j,V,re=w(P);if(pr(P)&&P.isUnary())j=[L(P.args[0],B)],Et(j[0])?V=re(j):V=D(ee,j,B);else if(g(P,B.context))if(j=y(P,B.context),j=j.map(me=>L(me,B)),d(ee,B.context)){for(var xe=[],oe=[],le=0;le<j.length;le++)Et(j[le])?oe.push(j[le]):xe.push(j[le]);xe.length>1?(V=k(ee,xe,re,B),oe.unshift(V),V=k(ee,oe,re,B)):V=k(ee,j,re,B)}else V=k(ee,j,re,B);else j=P.args.map(me=>L(me,B)),V=k(ee,j,re,B);return V}case"ParenthesisNode":return L(P.content,B);case"AccessorNode":return I(L(P.object,B),L(P.index,B),B);case"ArrayNode":{var ve=P.items.map(me=>L(me,B));return ve.some(Et)?new u(ve.map(C)):i(ve)}case"IndexNode":return new f(P.dimensions.map(me=>v(me,B)));case"ObjectNode":{var ue={};for(var ce in P.properties)ue[ce]=v(P.properties[ce],B);return new p(ue)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(P.type))}}return v});var PO="simplifyCore",Rj=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],Gb=F(PO,Rj,r=>{var{typed:e,parse:t,equal:n,isZero:i,add:a,subtract:o,multiply:l,divide:u,pow:s,AccessorNode:c,ArrayNode:f,ConstantNode:p,FunctionNode:m,IndexNode:h,ObjectNode:d,OperatorNode:g,ParenthesisNode:y,SymbolNode:w}=r,v=new p(0),x=new p(1),D=new p(!0),b=new p(!1);function C(M){return pr(M)&&["and","not","or"].includes(M.op)}var{hasProperty:S,isCommutative:E}=mu({FunctionNode:m,OperatorNode:g,SymbolNode:w});function A(M){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},k=I?I.context:void 0;if(S(M,"trivial",k)){if(Mn(M)&&M.args.length===1)return A(M.args[0],I);var L=!1,P=0;if(M.forEach(oe=>{++P,P===1&&(L=A(oe,I))}),P===1)return L}var B=M;if(Mn(B)){var T=O2(B.name);if(T){if(B.args.length>2&&S(B,"associative",k))for(;B.args.length>2;){var z=B.args.pop(),O=B.args.pop();B.args.push(new g(T,B.name,[z,O]))}B=new g(T,B.name,B.args)}else return new m(A(B.fn),B.args.map(oe=>A(oe,I)))}if(pr(B)&&B.isUnary()){var J=A(B.args[0],I);if(B.op==="~"&&pr(J)&&J.isUnary()&&J.op==="~"||B.op==="not"&&pr(J)&&J.isUnary()&&J.op==="not"&&C(J.args[0]))return J.args[0];var ee=!0;if(B.op==="-"&&pr(J)&&(J.isBinary()&&J.fn==="subtract"&&(B=new g("-","subtract",[J.args[1],J.args[0]]),ee=!1),J.isUnary()&&J.op==="-"))return J.args[0];if(ee)return new g(B.op,B.fn,[J])}if(pr(B)&&B.isBinary()){var j=A(B.args[0],I),V=A(B.args[1],I);if(B.op==="+"){if(wt(j)&&i(j.value))return V;if(wt(V)&&i(V.value))return j;pr(V)&&V.isUnary()&&V.op==="-"&&(V=V.args[0],B=new g("-","subtract",[j,V]))}if(B.op==="-")return pr(V)&&V.isUnary()&&V.op==="-"?A(new g("+","add",[j,V.args[0]]),I):wt(j)&&i(j.value)?A(new g("-","unaryMinus",[V])):wt(V)&&i(V.value)?j:new g(B.op,B.fn,[j,V]);if(B.op==="*"){if(wt(j)){if(i(j.value))return v;if(n(j.value,1))return V}if(wt(V)){if(i(V.value))return v;if(n(V.value,1))return j;if(E(B,k))return new g(B.op,B.fn,[V,j],B.implicit)}return new g(B.op,B.fn,[j,V],B.implicit)}if(B.op==="/")return wt(j)&&i(j.value)?v:wt(V)&&n(V.value,1)?j:new g(B.op,B.fn,[j,V]);if(B.op==="^"&&wt(V)){if(i(V.value))return x;if(n(V.value,1))return j}if(B.op==="and"){if(wt(j))if(j.value){if(C(V))return V}else return b;if(wt(V))if(V.value){if(C(j))return j}else return b}if(B.op==="or"){if(wt(j)){if(j.value)return D;if(C(V))return V}if(wt(V)){if(V.value)return D;if(C(j))return j}}return new g(B.op,B.fn,[j,V])}if(pr(B))return new g(B.op,B.fn,B.args.map(oe=>A(oe,I)));if(sn(B))return new f(B.items.map(oe=>A(oe,I)));if(Qn(B))return new c(A(B.object,I),A(B.index,I));if(fi(B))return new h(B.dimensions.map(oe=>A(oe,I)));if(Ka(B)){var re={};for(var xe in B.properties)re[xe]=A(B.properties[xe],I);return new d(re)}return B}return e(PO,{Node:A,"Node,Object":A})});var Lj="resolve",Vj=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],jb=F(Lj,Vj,r=>{var{typed:e,parse:t,ConstantNode:n,FunctionNode:i,OperatorNode:a,ParenthesisNode:o}=r;function l(u,s){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!s)return u;if(tr(u)){if(c.has(u.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var p=s.get(u.name);if(Et(p)){var m=new Set(c);return m.add(u.name),l(p,s,m)}else return typeof p=="number"?t(String(p)):p!==void 0?new n(p):u}else if(pr(u)){var h=u.args.map(function(g){return l(g,s,c)});return new a(u.op,u.fn,h,u.implicit)}else{if(un(u))return new o(l(u.content,s,c));if(Mn(u)){var d=u.args.map(function(g){return l(g,s,c)});return new i(u.name,d)}}return u.map(g=>l(g,s,c))}return e("resolve",{Node:l,"Node, Map | null | undefined":l,"Node, Object":(u,s)=>l(u,Da(s)),"Array | Matrix":e.referToSelf(u=>s=>s.map(c=>u(c))),"Array | Matrix, null | undefined":e.referToSelf(u=>s=>s.map(c=>u(c))),"Array, Object":e.referTo("Array,Map",u=>(s,c)=>u(s,Da(c))),"Matrix, Object":e.referTo("Matrix,Map",u=>(s,c)=>u(s,Da(c))),"Array | Matrix, Map":e.referToSelf(u=>(s,c)=>s.map(f=>u(f,c)))})});var RO="symbolicEqual",Uj=["parse","simplify","typed","OperatorNode"],Zb=F(RO,Uj,r=>{var{parse:e,simplify:t,typed:n,OperatorNode:i}=r;function a(o,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=new i("-","subtract",[o,l]),c=t(s,{},u);return wt(c)&&!c.value}return n(RO,{"Node, Node":a,"Node, Node, Object":a})});var LO="derivative",qj=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],Yb=F(LO,qj,r=>{var{typed:e,config:t,parse:n,simplify:i,equal:a,isZero:o,numeric:l,ConstantNode:u,FunctionNode:s,OperatorNode:c,ParenthesisNode:f,SymbolNode:p}=r;function m(v,x){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},b={};g(b,v,x.name);var C=y(v,b);return D.simplify?i(C):C}e.addConversion({from:"identifier",to:"SymbolNode",convert:n});var h=e(LO,{"Node, SymbolNode":m,"Node, SymbolNode, Object":m});e.removeConversion({from:"identifier",to:"SymbolNode",convert:n}),h._simplify=!0,h.toTex=function(v){return d.apply(null,v.args)};var d=e("_derivTex",{"Node, SymbolNode":function(x,D){return wt(x)&&St(x.value)==="string"?d(n(x.value).toString(),D.toString(),1):d(x.toTex(),D.toString(),1)},"Node, ConstantNode":function(x,D){if(St(D.value)==="string")return d(x,n(D.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(x,D,b){return d(x.toString(),D.name,b.value)},"string, string, number":function(x,D,b){var C;return b===1?C="{d\\over d"+D+"}":C="{d^{"+b+"}\\over d"+D+"^{"+b+"}}",C+"\\left[".concat(x,"\\right]")}}),g=e("constTag",{"Object, ConstantNode, string":function(x,D){return x[D]=!0,!0},"Object, SymbolNode, string":function(x,D,b){return D.name!==b?(x[D]=!0,!0):!1},"Object, ParenthesisNode, string":function(x,D,b){return g(x,D.content,b)},"Object, FunctionAssignmentNode, string":function(x,D,b){return D.params.indexOf(b)===-1?(x[D]=!0,!0):g(x,D.expr,b)},"Object, FunctionNode | OperatorNode, string":function(x,D,b){if(D.args.length>0){for(var C=g(x,D.args[0],b),S=1;S<D.args.length;++S)C=g(x,D.args[S],b)&&C;if(C)return x[D]=!0,!0}return!1}}),y=e("_derivative",{"ConstantNode, Object":function(x){return w(0)},"SymbolNode, Object":function(x,D){return D[x]!==void 0?w(0):w(1)},"ParenthesisNode, Object":function(x,D){return new f(y(x.content,D))},"FunctionAssignmentNode, Object":function(x,D){return D[x]!==void 0?w(0):y(x.expr,D)},"FunctionNode, Object":function(x,D){if(D[x]!==void 0)return w(0);var b=x.args[0],C,S=!1,E=!1,A;switch(x.name){case"cbrt":S=!0,A=new c("*","multiply",[w(3),new c("^","pow",[b,new c("/","divide",[w(2),w(3)])])]);break;case"sqrt":case"nthRoot":if(x.args.length===1)S=!0,A=new c("*","multiply",[w(2),new s("sqrt",[b])]);else if(x.args.length===2)return C=new c("/","divide",[w(1),x.args[1]]),D[C]=D[x.args[1]],y(new c("^","pow",[b,C]),D);break;case"log10":C=w(10);case"log":if(!C&&x.args.length===1)A=b.clone(),S=!0;else if(x.args.length===1&&C||x.args.length===2&&D[x.args[1]]!==void 0)A=new c("*","multiply",[b.clone(),new s("log",[C||x.args[1]])]),S=!0;else if(x.args.length===2)return y(new c("/","divide",[new s("log",[b]),new s("log",[x.args[1]])]),D);break;case"pow":if(x.args.length===2)return D[C]=D[x.args[1]],y(new c("^","pow",[b,x.args[1]]),D);break;case"exp":A=new s("exp",[b.clone()]);break;case"sin":A=new s("cos",[b.clone()]);break;case"cos":A=new c("-","unaryMinus",[new s("sin",[b.clone()])]);break;case"tan":A=new c("^","pow",[new s("sec",[b.clone()]),w(2)]);break;case"sec":A=new c("*","multiply",[x,new s("tan",[b.clone()])]);break;case"csc":E=!0,A=new c("*","multiply",[x,new s("cot",[b.clone()])]);break;case"cot":E=!0,A=new c("^","pow",[new s("csc",[b.clone()]),w(2)]);break;case"asin":S=!0,A=new s("sqrt",[new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])])]);break;case"acos":S=!0,E=!0,A=new s("sqrt",[new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])])]);break;case"atan":S=!0,A=new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)]);break;case"asec":S=!0,A=new c("*","multiply",[new s("abs",[b.clone()]),new s("sqrt",[new c("-","subtract",[new c("^","pow",[b.clone(),w(2)]),w(1)])])]);break;case"acsc":S=!0,E=!0,A=new c("*","multiply",[new s("abs",[b.clone()]),new s("sqrt",[new c("-","subtract",[new c("^","pow",[b.clone(),w(2)]),w(1)])])]);break;case"acot":S=!0,E=!0,A=new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)]);break;case"sinh":A=new s("cosh",[b.clone()]);break;case"cosh":A=new s("sinh",[b.clone()]);break;case"tanh":A=new c("^","pow",[new s("sech",[b.clone()]),w(2)]);break;case"sech":E=!0,A=new c("*","multiply",[x,new s("tanh",[b.clone()])]);break;case"csch":E=!0,A=new c("*","multiply",[x,new s("coth",[b.clone()])]);break;case"coth":E=!0,A=new c("^","pow",[new s("csch",[b.clone()]),w(2)]);break;case"asinh":S=!0,A=new s("sqrt",[new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)])]);break;case"acosh":S=!0,A=new s("sqrt",[new c("-","subtract",[new c("^","pow",[b.clone(),w(2)]),w(1)])]);break;case"atanh":S=!0,A=new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])]);break;case"asech":S=!0,E=!0,A=new c("*","multiply",[b.clone(),new s("sqrt",[new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])])])]);break;case"acsch":S=!0,E=!0,A=new c("*","multiply",[new s("abs",[b.clone()]),new s("sqrt",[new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)])])]);break;case"acoth":S=!0,E=!0,A=new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])]);break;case"abs":A=new c("/","divide",[new s(new p("abs"),[b.clone()]),b.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+x.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var M,I;S?(M="/",I="divide"):(M="*",I="multiply");var k=y(b,D);return E&&(k=new c("-","unaryMinus",[k])),new c(M,I,[k,A])},"OperatorNode, Object":function(x,D){if(D[x]!==void 0)return w(0);if(x.op==="+")return new c(x.op,x.fn,x.args.map(function(P){return y(P,D)}));if(x.op==="-"){if(x.isUnary())return new c(x.op,x.fn,[y(x.args[0],D)]);if(x.isBinary())return new c(x.op,x.fn,[y(x.args[0],D),y(x.args[1],D)])}if(x.op==="*"){var b=x.args.filter(function(P){return D[P]!==void 0});if(b.length>0){var C=x.args.filter(function(P){return D[P]===void 0}),S=C.length===1?C[0]:new c("*","multiply",C),E=b.concat(y(S,D));return new c("*","multiply",E)}return new c("+","add",x.args.map(function(P){return new c("*","multiply",x.args.map(function(B){return B===P?y(B,D):B.clone()}))}))}if(x.op==="/"&&x.isBinary()){var A=x.args[0],M=x.args[1];return D[M]!==void 0?new c("/","divide",[y(A,D),M]):D[A]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[A]),new c("/","divide",[y(M,D),new c("^","pow",[M.clone(),w(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[y(A,D),M.clone()]),new c("*","multiply",[A.clone(),y(M,D)])]),new c("^","pow",[M.clone(),w(2)])])}if(x.op==="^"&&x.isBinary()){var I=x.args[0],k=x.args[1];if(D[I]!==void 0)return wt(I)&&(o(I.value)||a(I.value,1))?w(0):new c("*","multiply",[x,new c("*","multiply",[new s("log",[I.clone()]),y(k.clone(),D)])]);if(D[k]!==void 0){if(wt(k)){if(o(k.value))return w(0);if(a(k.value,1))return y(I,D)}var L=new c("^","pow",[I.clone(),new c("-","subtract",[k,w(1)])]);return new c("*","multiply",[k.clone(),new c("*","multiply",[y(I,D),L])])}return new c("*","multiply",[new c("^","pow",[I.clone(),k.clone()]),new c("+","add",[new c("*","multiply",[y(I,D),new c("/","divide",[k.clone(),I.clone()])]),new c("*","multiply",[y(k,D),new s("log",[I.clone()])])])])}throw new Error('Cannot process operator "'+x.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function w(v,x){return new u(l(v,x||t.number))}return h});var VO="rationalize",zj=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],Jb=F(VO,zj,r=>{var{config:e,typed:t,equal:n,isZero:i,add:a,subtract:o,multiply:l,divide:u,pow:s,parse:c,simplifyConstant:f,simplifyCore:p,simplify:m,fraction:h,bignumber:d,mathWithTransform:g,matrix:y,AccessorNode:w,ArrayNode:v,ConstantNode:x,FunctionNode:D,IndexNode:b,ObjectNode:C,OperatorNode:S,SymbolNode:E,ParenthesisNode:A}=r;function M(B){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,O=k(),J=I(B,T,!0,O.firstRules),ee=J.variables.length,j={exactFractions:!1},V={exactFractions:!0};if(B=J.expression,ee>=1){B=L(B);var re,xe,oe=!0,le=!1;B=m(B,O.firstRules,{},j);for(var ve;xe=oe?O.distrDivRules:O.sucDivRules,B=m(B,xe,{},V),oe=!oe,ve=B.toString(),ve!==re;)le=!0,re=ve;le&&(B=m(B,O.firstRulesAgain,{},j)),B=m(B,O.finalRules,{},j)}var ue=[],ce={};return B.type==="OperatorNode"&&B.isBinary()&&B.op==="/"?(ee===1&&(B.args[0]=P(B.args[0],ue),B.args[1]=P(B.args[1])),z&&(ce.numerator=B.args[0],ce.denominator=B.args[1])):(ee===1&&(B=P(B,ue)),z&&(ce.numerator=B,ce.denominator=null)),z?(ce.coefficients=ue,ce.variables=J.variables,ce.expression=B,ce):B}return t(VO,{Node:M,"Node, boolean":(B,T)=>M(B,{},T),"Node, Object":M,"Node, Object, boolean":M});function I(B,T,z,O){var J=[],ee=m(B,O,T,{exactFractions:!1});z=!!z;var j="+-*"+(z?"/":"");re(ee);var V={};return V.expression=ee,V.variables=J,V;function re(xe){var oe=xe.type;if(oe==="FunctionNode")throw new Error("There is an unsolved function call");if(oe==="OperatorNode")if(xe.op==="^"){if(xe.args[1].type!=="ConstantNode"||!Ue(parseFloat(xe.args[1].value)))throw new Error("There is a non-integer exponent");re(xe.args[0])}else{if(j.indexOf(xe.op)===-1)throw new Error("Operator "+xe.op+" invalid in polynomial expression");for(var le=0;le<xe.args.length;le++)re(xe.args[le])}else if(oe==="SymbolNode"){var ve=xe.name,ue=J.indexOf(ve);ue===-1&&J.push(ve)}else if(oe==="ParenthesisNode")re(xe.content);else if(oe!=="ConstantNode")throw new Error("type "+oe+" is not allowed in polynomial expression")}}function k(){var B=[p,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],T=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],z=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],O=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],J={};return J.firstRules=B.concat(T,O),J.distrDivRules=z,J.sucDivRules=O,J.firstRulesAgain=B.concat(T),J.finalRules=[p,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],J}function L(B,T,z){var O=B.type,J=arguments.length>1;if(O==="OperatorNode"&&B.isBinary()){var ee=!1,j;if(B.op==="^"&&(B.args[0].type==="ParenthesisNode"||B.args[0].type==="OperatorNode")&&B.args[1].type==="ConstantNode"&&(j=parseFloat(B.args[1].value),ee=j>=2&&Ue(j)),ee){if(j>2){var V=B.args[0],re=new S("^","pow",[B.args[0].cloneDeep(),new x(j-1)]);B=new S("*","multiply",[V,re])}else B=new S("*","multiply",[B.args[0],B.args[0].cloneDeep()]);J&&(z==="content"?T.content=B:T.args[z]=B)}}if(O==="ParenthesisNode")L(B.content,B,"content");else if(O!=="ConstantNode"&&O!=="SymbolNode")for(var xe=0;xe<B.args.length;xe++)L(B.args[xe],B,xe);if(!J)return B}function P(B,T){T===void 0&&(T=[]),T[0]=0;var z={};z.cte=1,z.oper="+",z.fire="";var O=0,J="";ve(B,null,z),O=T.length-1;for(var ee=!0,j,V=O;V>=0;V--)if(T[V]!==0){var re=new x(ee?T[V]:Math.abs(T[V])),xe=T[V]<0?"-":"+";if(V>0){var oe=new E(J);if(V>1){var le=new x(V);oe=new S("^","pow",[oe,le])}T[V]===-1&&ee?re=new S("-","unaryMinus",[oe]):Math.abs(T[V])===1?re=oe:re=new S("*","multiply",[re,oe])}ee?j=re:xe==="+"?j=new S("+","add",[j,re]):j=new S("-","subtract",[j,re]),ee=!1}if(ee)return new x(0);return j;function ve(ue,ce,me){var de=ue.type;if(de==="FunctionNode")throw new Error("There is an unsolved function call");if(de==="OperatorNode"){if("+-*^".indexOf(ue.op)===-1)throw new Error("Operator "+ue.op+" invalid");if(ce!==null){if((ue.fn==="unaryMinus"||ue.fn==="pow")&&ce.fn!=="add"&&ce.fn!=="subtract"&&ce.fn!=="multiply")throw new Error("Invalid "+ue.op+" placing");if((ue.fn==="subtract"||ue.fn==="add"||ue.fn==="multiply")&&ce.fn!=="add"&&ce.fn!=="subtract")throw new Error("Invalid "+ue.op+" placing");if((ue.fn==="subtract"||ue.fn==="add"||ue.fn==="unaryMinus")&&me.noFil!==0)throw new Error("Invalid "+ue.op+" placing")}(ue.op==="^"||ue.op==="*")&&(me.fire=ue.op);for(var Be=0;Be<ue.args.length;Be++)ue.fn==="unaryMinus"&&(me.oper="-"),(ue.op==="+"||ue.fn==="subtract")&&(me.fire="",me.cte=1,me.oper=Be===0?"+":ue.op),me.noFil=Be,ve(ue.args[Be],ue,me)}else if(de==="SymbolNode"){if(ue.name!==J&&J!=="")throw new Error("There is more than one variable");if(J=ue.name,ce===null){T[1]=1;return}if(ce.op==="^"&&me.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ce.op==="*"&&me.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(me.fire===""||me.fire==="*")&&(O<1&&(T[1]=0),T[1]+=me.cte*(me.oper==="+"?1:-1),O=Math.max(1,O))}else if(de==="ConstantNode"){var we=parseFloat(ue.value);if(ce===null){T[0]=we;return}if(ce.op==="^"){if(me.noFil!==1)throw new Error("Constant cannot be powered");if(!Ue(we)||we<=0)throw new Error("Non-integer exponent is not allowed");for(var U=O+1;U<we;U++)T[U]=0;we>O&&(T[we]=0),T[we]+=me.cte*(me.oper==="+"?1:-1),O=Math.max(we,O);return}me.cte=we,me.fire===""&&(T[0]+=me.cte*(me.oper==="+"?1:-1))}else throw new Error("Type "+de+" is not allowed")}}});var UO="zpk2tf",$j=["typed","add","multiply","Complex","number"],Xb=F(UO,$j,r=>{var{typed:e,add:t,multiply:n,Complex:i,number:a}=r;return e(UO,{"Array,Array,number":function(s,c,f){return o(s,c,f)},"Array,Array":function(s,c){return o(s,c,1)},"Matrix,Matrix,number":function(s,c,f){return o(s.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(s,c){return o(s.valueOf(),c.valueOf(),1)}});function o(u,s,c){u.some(w=>w.type==="BigNumber")&&(u=u.map(w=>a(w))),s.some(w=>w.type==="BigNumber")&&(s=s.map(w=>a(w)));for(var f=[i(1,0)],p=[i(1,0)],m=0;m<u.length;m++){var h=u[m];typeof h=="number"&&(h=i(h,0)),f=l(f,[i(1,0),i(-h.re,-h.im)])}for(var d=0;d<s.length;d++){var g=s[d];typeof g=="number"&&(g=i(g,0)),p=l(p,[i(1,0),i(-g.re,-g.im)])}for(var y=0;y<f.length;y++)f[y]=n(f[y],c);return[f,p]}function l(u,s){for(var c=[],f=0;f<u.length+s.length-1;f++){c[f]=i(0,0);for(var p=0;p<u.length;p++)f-p>=0&&f-p<s.length&&(c[f]=t(c[f],n(u[p],s[f-p])))}return c}});var qO="freqz",Hj=["typed","add","multiply","Complex","divide","matrix"],Qb=F(qO,Hj,r=>{var{typed:e,add:t,multiply:n,Complex:i,divide:a,matrix:o}=r;return e(qO,{"Array, Array":function(c,f){var p=u(512);return l(c,f,p)},"Array, Array, Array":function(c,f,p){return l(c,f,p)},"Array, Array, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=u(p);return l(c,f,m)},"Matrix, Matrix":function(c,f){var p=u(512),{w:m,h}=l(c.valueOf(),f.valueOf(),p);return{w:o(m),h:o(h)}},"Matrix, Matrix, Matrix":function(c,f,p){var{h:m}=l(c.valueOf(),f.valueOf(),p.valueOf());return{h:o(m),w:o(p)}},"Matrix, Matrix, number":function(c,f,p){if(p<0)throw new Error("w must be a positive number");var m=u(p),{h}=l(c.valueOf(),f.valueOf(),m);return{h:o(h),w:o(m)}}});function l(s,c,f){for(var p=[],m=[],h=0;h<f.length;h++){for(var d=i(0,0),g=i(0,0),y=0;y<s.length;y++)d=t(d,n(s[y],i(Math.cos(-y*f[h]),Math.sin(-y*f[h]))));for(var w=0;w<c.length;w++)g=t(g,n(c[w],i(Math.cos(-w*f[h]),Math.sin(-w*f[h]))));p.push(d),m.push(g)}for(var v=[],x=0;x<p.length;x++)v.push(a(p[x],m[x]));return{h:v,w:f}}function u(s){for(var c=[],f=0;f<s;f++)c.push(f/s*Math.PI);return c}});var Wj="reviver",Gj=["classes"],Kb=F(Wj,Gj,r=>{var{classes:e}=r;return function(n,i){var a=e[i&&i.mathjs];return a&&typeof a.fromJSON=="function"?a.fromJSON(i):i}});var jj="replacer",Zj=[],e1=F(jj,Zj,()=>function(e,t){return typeof t=="number"&&(!isFinite(t)||isNaN(t))?{mathjs:"number",value:String(t)}:t});var zO="12.1.0";var t1=F("true",[],()=>!0),r1=F("false",[],()=>!1),n1=F("null",[],()=>null),i1=ei("Infinity",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1/0):1/0}),a1=ei("NaN",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(NaN):NaN}),o1=ei("pi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?Nl(t):EF}),s1=ei("tau",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?W_(t):CF}),u1=ei("e",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?$_(t):AF}),l1=ei("phi",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?H_(t):SF}),c1=ei("LN2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).ln():Math.LN2}),f1=ei("LN10",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(10).ln():Math.LN10}),p1=ei("LOG2E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(2).ln()):Math.LOG2E}),m1=ei("LOG10E",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(1).div(new t(10).ln()):Math.LOG10E}),d1=ei("SQRT1_2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t("0.5").sqrt():Math.SQRT1_2}),h1=ei("SQRT2",["config","?BigNumber"],r=>{var{config:e,BigNumber:t}=r;return e.number==="BigNumber"?new t(2).sqrt():Math.SQRT2}),g1=ei("i",["Complex"],r=>{var{Complex:e}=r;return e.I});var v1=F("version",[],()=>zO);function ei(r,e,t){return F(r,e,t,{recreateOnConfigChange:!0})}var y1=At("speedOfLight","299792458","m s^-1"),x1=At("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),b1=At("planckConstant","6.62607015e-34","J s"),D1=At("reducedPlanckConstant","1.0545718176461565e-34","J s"),w1=At("magneticConstant","1.25663706212e-6","N A^-2"),E1=At("electricConstant","8.8541878128e-12","F m^-1"),C1=At("vacuumImpedance","376.730313667","ohm"),A1=At("coulomb","8.987551792261171e9","N m^2 C^-2"),S1=At("elementaryCharge","1.602176634e-19","C"),F1=At("bohrMagneton","9.2740100783e-24","J T^-1"),N1=At("conductanceQuantum","7.748091729863649e-5","S"),_1=At("inverseConductanceQuantum","12906.403729652257","ohm"),M1=At("magneticFluxQuantum","2.0678338484619295e-15","Wb"),T1=At("nuclearMagneton","5.0507837461e-27","J T^-1"),I1=At("klitzing","25812.807459304513","ohm");var B1=At("bohrRadius","5.29177210903e-11","m"),O1=At("classicalElectronRadius","2.8179403262e-15","m"),k1=At("electronMass","9.1093837015e-31","kg"),P1=At("fermiCoupling","1.1663787e-5","GeV^-2"),R1=rm("fineStructure",.0072973525693),L1=At("hartreeEnergy","4.3597447222071e-18","J"),V1=At("protonMass","1.67262192369e-27","kg"),U1=At("deuteronMass","3.3435830926e-27","kg"),q1=At("neutronMass","1.6749271613e-27","kg"),z1=At("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),$1=At("rydberg","10973731.568160","m^-1"),H1=At("thomsonCrossSection","6.6524587321e-29","m^2"),W1=rm("weakMixingAngle",.2229),G1=rm("efimovFactor",22.7),j1=At("atomicMass","1.66053906660e-27","kg"),Z1=At("avogadro","6.02214076e23","mol^-1"),Y1=At("boltzmann","1.380649e-23","J K^-1"),J1=At("faraday","96485.33212331001","C mol^-1"),X1=At("firstRadiation","3.7417718521927573e-16","W m^2"),Q1=At("loschmidt","2.686780111798444e25","m^-3"),K1=At("gasConstant","8.31446261815324","J K^-1 mol^-1"),eD=At("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),tD=At("molarVolume","0.022413969545014137","m^3 mol^-1"),rD=rm("sackurTetrode",-1.16487052358),nD=At("secondRadiation","0.014387768775039337","m K"),iD=At("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),aD=At("wienDisplacement","2.897771955e-3","m K"),oD=At("molarMass","0.99999999965e-3","kg mol^-1"),sD=At("molarMassC12","11.9999999958e-3","kg mol^-1"),uD=At("gravity","9.80665","m s^-2"),lD=At("planckLength","1.616255e-35","m"),cD=At("planckMass","2.176435e-8","kg"),fD=At("planckTime","5.391245e-44","s"),pD=At("planckCharge","1.87554603778e-18","C"),mD=At("planckTemperature","1.416785e+32","K");function At(r,e,t){var n=["config","Unit","BigNumber"];return F(r,n,i=>{var{config:a,Unit:o,BigNumber:l}=i,u=a.number==="BigNumber"?new l(e):parseFloat(e),s=new o(u,t);return s.fixPrefix=!0,s})}function rm(r,e){var t=["config","BigNumber"];return F(r,t,n=>{var{config:i,BigNumber:a}=n;return i.number==="BigNumber"?new a(e):e})}var Yj="apply",Jj=["typed","isInteger"],dD=F(Yj,Jj,r=>{var{typed:e,isInteger:t}=r,n=as({typed:e,isInteger:t});return e("apply",{"...any":function(a){var o=a[1];at(o)?a[1]=o-1:it(o)&&(a[1]=o.minus(1));try{return n.apply(null,a)}catch(l){throw or(l)}}})},{isTransformFunction:!0});var Xj="column",Qj=["typed","Index","matrix","range"],hD=F(Xj,Qj,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=xl({typed:e,Index:t,matrix:n,range:i});return e("column",{"...any":function(l){var u=l.length-1,s=l[u];at(s)&&(l[u]=s-1);try{return a.apply(null,l)}catch(c){throw or(c)}}})},{isTransformFunction:!0});function du(r,e,t){var n=r.filter(function(l){return tr(l)&&!(l.name in e)&&!t.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+r+'"');var i=n.name,a=ss(t),o=r.compile();return function(u){return a.set(i,u),o.evaluate(a)}}var Kj="filter",eZ=["typed"],gD=F(Kj,eZ,r=>{var{typed:e}=r;function t(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(tr(i[1])||Ji(i[1])?u=i[1].compile().evaluate(o):u=du(i[1],a,o)),n(l,u)}t.rawArgs=!0;var n=e("filter",{"Array, function":$O,"Matrix, function":function(a,o){return a.create($O(a.toArray(),o))},"Array, RegExp":Ks,"Matrix, RegExp":function(a,o){return a.create(Ks(a.toArray(),o))}});return t},{isTransformFunction:!0});function $O(r,e){return rp(r,function(t,n,i){return hi(e,t,[n+1],i,"filter")})}var tZ="forEach",rZ=["typed"],vD=F(tZ,rZ,r=>{var{typed:e}=r;function t(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(tr(i[1])||Ji(i[1])?u=i[1].compile().evaluate(o):u=du(i[1],a,o)),n(l,u)}t.rawArgs=!0;var n=e("forEach",{"Array | Matrix, function":function(a,o){var l=function u(s,c){if(Array.isArray(s))eo(s,function(f,p){u(f,c.concat(p+1))});else return hi(o,s,c,a,"forEach")};l(a.valueOf(),[])}});return t},{isTransformFunction:!0});var nZ="index",iZ=["Index","getMatrixDataType"],yD=F(nZ,iZ,r=>{var{Index:e,getMatrixDataType:t}=r;return function(){for(var i=[],a=0,o=arguments.length;a<o;a++){var l=arguments[a];if(Js(l))l.start--,l.end-=l.step>0?0:2;else if(l&&l.isSet===!0)l=l.map(function(s){return s-1});else if(Nt(l)||$e(l))t(l)!=="boolean"&&(l=l.map(function(s){return s-1}));else if(at(l))l--;else if(it(l))l=l.toNumber()-1;else if(typeof l!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[a]=l}var u=new e;return e.apply(u,i),u}},{isTransformFunction:!0});var aZ="map",oZ=["typed"],xD=F(aZ,oZ,r=>{var{typed:e}=r;function t(i,a,o){var l,u;return i[0]&&(l=i[0].compile().evaluate(o)),i[1]&&(tr(i[1])||Ji(i[1])?u=i[1].compile().evaluate(o):u=du(i[1],a,o)),n(l,u)}t.rawArgs=!0;var n=e("map",{"Array, function":function(a,o){return HO(a,o,a)},"Matrix, function":function(a,o){return a.create(HO(a.valueOf(),o,a))}});return t},{isTransformFunction:!0});function HO(r,e,t){function n(i,a){return Array.isArray(i)?Rn(i,function(o,l){return n(o,a.concat(l+1))}):hi(e,i,a,t,"map")}return n(r,[])}function vn(r){if(r.length===2&&_n(r[0])){r=r.slice();var e=r[1];at(e)?r[1]=e-1:it(e)&&(r[1]=e.minus(1))}return r}var sZ="max",uZ=["typed","config","numeric","larger"],bD=F(sZ,uZ,r=>{var{typed:e,config:t,numeric:n,larger:i}=r,a=Sl({typed:e,config:t,numeric:n,larger:i});return e("max",{"...any":function(l){l=vn(l);try{return a.apply(null,l)}catch(u){throw or(u)}}})},{isTransformFunction:!0});var lZ="mean",cZ=["typed","add","divide"],DD=F(lZ,cZ,r=>{var{typed:e,add:t,divide:n}=r,i=Il({typed:e,add:t,divide:n});return e("mean",{"...any":function(o){o=vn(o);try{return i.apply(null,o)}catch(l){throw or(l)}}})},{isTransformFunction:!0});var fZ="min",pZ=["typed","config","numeric","smaller"],wD=F(fZ,pZ,r=>{var{typed:e,config:t,numeric:n,smaller:i}=r,a=Fl({typed:e,config:t,numeric:n,smaller:i});return e("min",{"...any":function(l){l=vn(l);try{return a.apply(null,l)}catch(u){throw or(u)}}})},{isTransformFunction:!0});var mZ="range",dZ=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],ED=F(mZ,dZ,r=>{var{typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c}=r,f=wl({typed:e,config:t,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:l,largerEq:u,add:s,isPositive:c});return e("range",{"...any":function(m){var h=m.length-1,d=m[h];return typeof d!="boolean"&&m.push(!0),f.apply(null,m)}})},{isTransformFunction:!0});var hZ="row",gZ=["typed","Index","matrix","range"],CD=F(hZ,gZ,r=>{var{typed:e,Index:t,matrix:n,range:i}=r,a=El({typed:e,Index:t,matrix:n,range:i});return e("row",{"...any":function(l){var u=l.length-1,s=l[u];at(s)&&(l[u]=s-1);try{return a.apply(null,l)}catch(c){throw or(c)}}})},{isTransformFunction:!0});var vZ="subset",yZ=["typed","matrix","zeros","add"],AD=F(vZ,yZ,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=Cl({typed:e,matrix:t,zeros:n,add:i});return e("subset",{"...any":function(l){try{return a.apply(null,l)}catch(u){throw or(u)}}})},{isTransformFunction:!0});var xZ="concat",bZ=["typed","matrix","isInteger"],SD=F(xZ,bZ,r=>{var{typed:e,matrix:t,isInteger:n}=r,i=yl({typed:e,matrix:t,isInteger:n});return e("concat",{"...any":function(o){var l=o.length-1,u=o[l];at(u)?o[l]=u-1:it(u)&&(o[l]=u.minus(1));try{return i.apply(null,o)}catch(s){throw or(s)}}})},{isTransformFunction:!0});var WO="diff",DZ=["typed","matrix","subtract","number","bignumber"],FD=F(WO,DZ,r=>{var{typed:e,matrix:t,subtract:n,number:i,bignumber:a}=r,o=Dl({typed:e,matrix:t,subtract:n,number:i,bignumber:a});return e(WO,{"...any":function(u){u=vn(u);try{return o.apply(null,u)}catch(s){throw or(s)}}})},{isTransformFunction:!0});var wZ="std",EZ=["typed","map","sqrt","variance"],ND=F(wZ,EZ,r=>{var{typed:e,map:t,sqrt:n,variance:i}=r,a=kl({typed:e,map:t,sqrt:n,variance:i});return e("std",{"...any":function(l){l=vn(l);try{return a.apply(null,l)}catch(u){throw or(u)}}})},{isTransformFunction:!0});var GO="sum",CZ=["typed","config","add","numeric"],_D=F(GO,CZ,r=>{var{typed:e,config:t,add:n,numeric:i}=r,a=Ml({typed:e,config:t,add:n,numeric:i});return e(GO,{"...any":function(l){l=vn(l);try{return a.apply(null,l)}catch(u){throw or(u)}}})},{isTransformFunction:!0});var AZ="quantileSeq",SZ=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],MD=F(AZ,SZ,r=>{var{typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:p}=r,m=Ol({typed:e,bignumber:t,add:n,subtract:i,divide:a,multiply:o,partitionSelect:l,compare:u,isInteger:s,smaller:c,smallerEq:f,larger:p});return e("quantileSeq",{"Array | Matrix, number | BigNumber":m,"Array | Matrix, number | BigNumber, number":(d,g,y)=>m(d,g,h(y)),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(d,g,y,w)=>m(d,g,y,h(w)),"Array | Matrix, Array | Matrix":m,"Array | Matrix, Array | Matrix, number":(d,g,y)=>m(d,g,h(y)),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(d,g,y,w)=>m(d,g,y,h(w))});function h(d){return vn([[],d])[1]}},{isTransformFunction:!0});var jO="cumsum",FZ=["typed","add","unaryPlus"],TD=F(jO,FZ,r=>{var{typed:e,add:t,unaryPlus:n}=r,i=Tl({typed:e,add:t,unaryPlus:n});return e(jO,{"...any":function(o){if(o.length===2&&_n(o[0])){var l=o[1];at(l)?o[1]=l-1:it(l)&&(o[1]=l.minus(1))}try{return i.apply(null,o)}catch(u){throw or(u)}}})},{isTransformFunction:!0});var ZO="variance",NZ=["typed","add","subtract","multiply","divide","apply","isNaN"],ID=F(ZO,NZ,r=>{var{typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:l}=r,u=Bl({typed:e,add:t,subtract:n,multiply:i,divide:a,apply:o,isNaN:l});return e(ZO,{"...any":function(c){c=vn(c);try{return u.apply(null,c)}catch(f){throw or(f)}}})},{isTransformFunction:!0});var YO="print",_Z=["typed","matrix","zeros","add"],BD=F(YO,_Z,r=>{var{typed:e,matrix:t,zeros:n,add:i}=r,a=Al({typed:e,matrix:t,zeros:n,add:i});return e(YO,{"string, Object | Array":function(u,s){return a(o(u),s)},"string, Object | Array, number | Object":function(u,s,c){return a(o(u),s,c)}});function o(l){return l.replace(Ep,u=>{var s=u.slice(1).split("."),c=s.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0});var Le=Xh({config:Ce}),sr=Kh({}),OD=u1({BigNumber:Le,config:Ce}),JO=r1({}),XO=R1({BigNumber:Le,config:Ce}),co=tg({}),kD=g1({Complex:sr}),QO=i1({BigNumber:Le,config:Ce}),KO=f1({BigNumber:Le,config:Ce}),ek=m1({BigNumber:Le,config:Ce}),Ll=ng({}),tk=a1({BigNumber:Le,config:Ce}),rk=n1({}),nk=l1({BigNumber:Le,config:Ce}),ik=rg({}),PD=Hh({}),ak=d1({BigNumber:Le,config:Ce}),ok=rD({BigNumber:Le,config:Ce}),RD=s1({BigNumber:Le,config:Ce}),sk=t1({}),uk=v1({}),_t=ig({Matrix:Ll}),lk=G1({BigNumber:Le,config:Ce}),ck=c1({BigNumber:Le,config:Ce}),nm=o1({BigNumber:Le,config:Ce}),fk=e1({}),pk=h1({BigNumber:Le,config:Ce}),Y=$h({BigNumber:Le,Complex:sr,DenseMatrix:_t,Fraction:co}),im=Fv({BigNumber:Le,config:Ce,typed:Y}),mk=W1({BigNumber:Le,config:Ce}),yn=Nv({typed:Y}),dk=B0({Complex:sr,config:Ce,typed:Y}),hk=k0({BigNumber:Le,typed:Y}),gk=R0({BigNumber:Le,Complex:sr,config:Ce,typed:Y}),qr=_v({typed:Y}),vk=oy({typed:Y}),yk=U0({BigNumber:Le,Complex:sr,config:Ce,typed:Y}),xk=z0({typed:Y}),LD=$0({typed:Y}),bk=W0({Complex:sr,config:Ce,typed:Y}),qn=yv({BigNumber:Le,typed:Y}),Dk=ny({typed:Y}),wk=vv({typed:Y}),Ek=ag({typed:Y}),Vl=xb({typed:Y}),Ul=xv({Complex:sr,typed:Y}),fo=sy({typed:Y}),am=G0({typed:Y}),Ck=Z0({BigNumber:Le,typed:Y}),Ak=J0({BigNumber:Le,typed:Y}),Sk=Ov({typed:Y}),Ut=mv({config:Ce,typed:Y}),Fk=Ly({typed:Y}),VD=kv({typed:Y}),Nk=Pv({Complex:sr,typed:Y}),_k=gy({typed:Y}),Mk=yy({typed:Y}),hu=zy({typed:Y}),om=xy({typed:Y}),Tk=Wy({format:hu,typed:Y}),sm=uy({typed:Y}),Tn=sg({typed:Y}),Fa=ov({typed:Y}),po=lv({typed:Y}),yi=cv({typed:Y}),Ik=p1({BigNumber:Le,config:Ce}),Bk=wb({Complex:sr,typed:Y}),Ok=$v({Complex:sr,config:Ce,typed:Y}),UD=Hv({Complex:sr,config:Ce,typed:Y}),mo=wy({typed:Y}),Ar=Wv({typed:Y}),qD=cy({typed:Y}),ra=hv({typed:Y}),kk=Hy({format:hu,typed:Y}),Pk=Ob({config:Ce,typed:Y}),Rk=Al({typed:Y}),Lk=kb({config:Ce,typed:Y}),um=ly({typed:Y}),Vk=Q0({BigNumber:Le,typed:Y}),zD=Zv({BigNumber:Le,Fraction:co,complex:Ul,typed:Y}),ql=ex({typed:Y}),na=dv({Matrix:Ll,equalScalar:Ut,typed:Y}),Uk=Av({typed:Y}),qk=Jv({typed:Y}),zk=gv({typed:Y}),ti=Mv({typed:Y}),$k=rx({typed:Y}),$D=pv({typed:Y}),Hk=O0({Complex:sr,config:Ce,typed:Y}),Wk=L0({BigNumber:Le,typed:Y}),lm=as({isInteger:Tn,typed:Y}),Gk=V0({BigNumber:Le,Complex:sr,config:Ce,typed:Y}),jk=$y({format:hu,typed:Y}),Zk=bb({typed:Y}),Yk=j0({typed:Y}),Jk=X0({BigNumber:Le,typed:Y}),gu=fv({typed:Y}),Xk=jy({typed:Y}),Qk=Pb({config:Ce,typed:Y}),Kk=K0({BigNumber:Le,typed:Y}),eP=tx({typed:Y}),tP=T0({SparseMatrix:na,typed:Y}),xi=Yv({Complex:sr,config:Ce,typed:Y}),rP=nx({typed:Y}),Vi=Sv({typed:Y}),nP=P0({BigNumber:Le,Complex:sr,config:Ce,typed:Y}),iP=Y0({BigNumber:Le,typed:Y}),ls=bv({Fraction:co,typed:Y}),ho=sv({typed:Y}),Ve=Dv({DenseMatrix:_t,Matrix:Ll,SparseMatrix:na,typed:Y}),aP=wv({isZero:yi,matrix:Ve,typed:Y}),oP=Uy({isNaN:gu,isNumeric:ho,typed:Y}),bi=Zy({bignumber:qn,fraction:ls,number:ra}),HD=qy({config:Ce,multiplyScalar:Ar,numeric:bi,typed:Y}),WD=Cy({isInteger:Tn,matrix:Ve,typed:Y}),en=Ny({matrix:Ve,config:Ce,typed:Y}),sP=_y({matrix:Ve,typed:Y}),vu=My({matrix:Ve,typed:Y}),GD=Qv({BigNumber:Le,config:Ce,matrix:Ve,typed:Y}),xn=Iy({BigNumber:Le,config:Ce,matrix:Ve,typed:Y}),uP=q0({Complex:sr,config:Ce,typed:Y}),jD=Tv({BigNumber:Le,Complex:sr,Fraction:co,config:Ce,isNegative:Fa,matrix:Ve,typed:Y,unaryMinus:Vi}),Xt=yl({isInteger:Tn,matrix:Ve,typed:Y}),lP=my({prod:HD,size:en,typed:Y}),cm=Ty({conj:fo,transpose:vu,typed:Y}),ZD=hy({DenseMatrix:_t,SparseMatrix:na,matrix:Ve,typed:Y}),br=Yy({numeric:bi,typed:Y}),yu=r0({DenseMatrix:_t,concat:Xt,divideScalar:br,equalScalar:Ut,matrix:Ve,typed:Y}),ri=d0({DenseMatrix:_t,concat:Xt,equalScalar:Ut,matrix:Ve,typed:Y}),xu=vy({matrix:Ve,typed:Y}),cP=uv({isNumeric:ho,typed:Y}),Na=by({BigNumber:Le,DenseMatrix:_t,SparseMatrix:na,config:Ce,matrix:Ve,typed:Y}),fP=Dy({matrix:Ve,multiplyScalar:Ar,typed:Y}),zl=x0({DenseMatrix:_t,concat:Xt,config:Ce,matrix:Ve,typed:Y}),pP=s0({DenseMatrix:_t,concat:Xt,equalScalar:Ut,matrix:Ve,typed:Y,zeros:xn}),YD=n0({DenseMatrix:_t,divideScalar:br,equalScalar:Ut,matrix:Ve,multiplyScalar:Ar,subtractScalar:ti,typed:Y}),fm=Cv({flatten:xu,matrix:Ve,size:en,typed:Y}),mP=jv({BigNumber:Le,concat:Xt,equalScalar:Ut,matrix:Ve,typed:Y}),dP=Ey({BigNumber:Le,config:Ce,matrix:Ve,typed:Y}),pm=Wx({addScalar:qr,complex:Ul,conj:fo,divideScalar:br,equal:ri,identity:Na,isZero:yi,matrix:Ve,multiplyScalar:Ar,sign:zD,sqrt:xi,subtractScalar:ti,typed:Y,unaryMinus:Vi,zeros:xn}),hP=Ay({config:Ce,matrix:Ve}),gP=u0({DenseMatrix:_t,concat:Xt,equalScalar:Ut,matrix:Ve,typed:Y,zeros:xn}),cs=Xy({BigNumber:Le,DenseMatrix:_t,equalScalar:Ut,matrix:Ve,typed:Y,zeros:xn}),bn=g0({DenseMatrix:_t,concat:Xt,config:Ce,matrix:Ve,typed:Y}),Sr=Xv({DenseMatrix:_t,concat:Xt,equalScalar:Ut,matrix:Ve,subtractScalar:ti,typed:Y,unaryMinus:Vi}),vP=Gy({concat:Xt,matrix:Ve,typed:Y}),yP=D0({DenseMatrix:_t,concat:Xt,config:Ce,equalScalar:Ut,matrix:Ve,typed:Y}),mm=i0({DenseMatrix:_t,divideScalar:br,equalScalar:Ut,matrix:Ve,multiplyScalar:Ar,subtractScalar:ti,typed:Y}),xP=py({DenseMatrix:_t,concat:Xt,matrix:Ve,typed:Y}),qt=dx({DenseMatrix:_t,SparseMatrix:na,addScalar:qr,concat:Xt,equalScalar:Ut,matrix:Ve,typed:Y}),bP=H0({BigNumber:Le,DenseMatrix:_t,concat:Xt,equalScalar:Ut,matrix:Ve,typed:Y}),DP=ry({concat:Xt,equalScalar:Ut,matrix:Ve,typed:Y}),wP=ay({DenseMatrix:_t,concat:Xt,matrix:Ve,typed:Y}),EP=Vb({addScalar:qr,combinations:Vl,divideScalar:br,isInteger:Tn,isNegative:Fa,multiplyScalar:Ar,typed:Y}),go=f0({BigNumber:Le,DenseMatrix:_t,Fraction:co,concat:Xt,config:Ce,equalScalar:Ut,matrix:Ve,typed:Y}),JD=m0({concat:Xt,matrix:Ve,typed:Y}),CP=Tl({add:qt,typed:Y,unaryPlus:im}),dm=b0({equal:ri,typed:Y}),AP=Dl({matrix:Ve,number:ra,subtract:Sr,typed:Y}),SP=mb({abs:yn,addScalar:qr,deepEqual:dm,divideScalar:br,multiplyScalar:Ar,sqrt:xi,subtractScalar:ti,typed:Y}),$l=vx({addScalar:qr,conj:fo,multiplyScalar:Ar,size:en,typed:Y}),FP=h0({compareText:JD,isZero:yi,typed:Y}),XD=gl({DenseMatrix:_t,config:Ce,equalScalar:Ut,matrix:Ve,round:cs,typed:Y,zeros:xn}),NP=qv({BigNumber:Le,DenseMatrix:_t,concat:Xt,config:Ce,equalScalar:Ut,matrix:Ve,round:cs,typed:Y,zeros:xn}),_P=hx({abs:yn,addScalar:qr,divideScalar:br,isPositive:po,multiplyScalar:Ar,smaller:bn,sqrt:xi,typed:Y}),QD=C0({DenseMatrix:_t,smaller:bn}),fn=A0({ImmutableDenseMatrix:QD,getMatrixDataType:om}),Dn=y0({DenseMatrix:_t,concat:Xt,config:Ce,matrix:Ve,typed:Y}),hm=Qy({Complex:sr,config:Ce,divideScalar:br,typed:Y}),MP=a0({DenseMatrix:_t,divideScalar:br,equalScalar:Ut,matrix:Ve,multiplyScalar:Ar,subtractScalar:ti,typed:Y}),TP=Ev({flatten:xu,matrix:Ve,size:en,typed:Y}),IP=Fl({config:Ce,numeric:bi,smaller:bn,typed:Y}),KD=vl({DenseMatrix:_t,concat:Xt,config:Ce,equalScalar:Ut,matrix:Ve,round:cs,typed:Y,zeros:xn}),Qt=Gv({addScalar:qr,dot:$l,equalScalar:Ut,matrix:Ve,multiplyScalar:Ar,typed:Y}),BP=e0({Complex:sr,config:Ce,divideScalar:br,typed:Y}),OP=fy({DenseMatrix:_t,concat:Xt,equalScalar:Ut,matrix:Ve,typed:Y}),Hl=w0({compare:go,isNaN:gu,isNumeric:ho,typed:Y}),kP=l0({DenseMatrix:_t,concat:Xt,equalScalar:Ut,matrix:Ve,typed:Y,zeros:xn}),ew=jx({SparseMatrix:na,abs:yn,add:qt,divideScalar:br,larger:Dn,largerEq:zl,multiply:Qt,subtract:Sr,transpose:vu,typed:Y}),zn=Cl({add:qt,matrix:Ve,typed:Y,zeros:xn}),gm=Ml({add:qt,config:Ce,numeric:bi,typed:Y}),PP=yx({add:qt,matrix:Ve,typed:Y}),tw=o0({DenseMatrix:_t,divideScalar:br,equalScalar:Ut,matrix:Ve,multiplyScalar:Ar,subtractScalar:ti,typed:Y}),RP=Xb({Complex:sr,add:qt,multiply:Qt,number:ra,typed:Y}),LP=iy({DenseMatrix:_t,concat:Xt,equalScalar:Ut,matrix:Ve,typed:Y}),vm=Bv({DenseMatrix:_t,config:Ce,equalScalar:Ut,matrix:Ve,round:cs,typed:Y,zeros:xn}),Ui=p0({compare:go,typed:Y}),VP=Ub({addScalar:qr,combinations:Vl,isInteger:Tn,isNegative:Fa,isPositive:po,larger:Dn,typed:Y}),UP=dy({matrix:Ve,multiply:Qt,subtract:Sr,typed:Y}),rw=nb({divideScalar:br,isZero:yi,matrix:Ve,multiply:Qt,subtractScalar:ti,typed:Y,unaryMinus:Vi}),qP=ey({concat:Xt,equalScalar:Ut,matrix:Ve,multiplyScalar:Ar,typed:Y}),nw=S0({larger:Dn,smaller:bn}),iw=Lv({Complex:sr,DenseMatrix:_t,ceil:vm,equalScalar:Ut,floor:XD,matrix:Ve,typed:Y,zeros:xn}),aw=xx({Index:fn,typed:Y}),zP=db({abs:yn,add:qt,addScalar:qr,config:Ce,divideScalar:br,equalScalar:Ut,flatten:xu,isNumeric:ho,isZero:yi,matrix:Ve,multiply:Qt,multiplyScalar:Ar,smaller:bn,subtract:Sr,typed:Y}),$P=Kv({BigNumber:Le,add:qt,config:Ce,equal:ri,isInteger:Tn,mod:KD,smaller:bn,typed:Y,xgcd:GD}),HP=zv({concat:Xt,equalScalar:Ut,matrix:Ve,typed:Y}),WP=Ky({Complex:sr,config:Ce,divideScalar:br,log:hm,typed:Y}),ym=Sl({config:Ce,larger:Dn,numeric:bi,typed:Y}),GP=ix({DenseMatrix:_t,Index:fn,compareNatural:Ui,size:en,subset:zn,typed:Y}),jP=ox({DenseMatrix:_t,Index:fn,compareNatural:Ui,size:en,subset:zn,typed:Y}),ZP=ux({Index:fn,compareNatural:Ui,size:en,subset:zn,typed:Y}),YP=cx({Index:fn,compareNatural:Ui,size:en,subset:zn,typed:Y}),fs=v0({DenseMatrix:_t,concat:Xt,config:Ce,matrix:Ve,typed:Y}),JP=E0({compare:go,compareNatural:Ui,matrix:Ve,typed:Y}),XP=c0({concat:Xt,equalScalar:Ut,matrix:Ve,not:qD,typed:Y,zeros:xn}),ps=wl({bignumber:qn,matrix:Ve,add:qt,config:Ce,isPositive:po,larger:Dn,largerEq:zl,smaller:bn,smallerEq:fs,typed:Y}),QP=El({Index:fn,matrix:Ve,range:ps,typed:Y}),ow=ax({DenseMatrix:_t,Index:fn,compareNatural:Ui,size:en,subset:zn,typed:Y}),KP=lx({Index:fn,compareNatural:Ui,size:en,subset:zn,typed:Y}),sw=px({Index:fn,concat:Xt,setDifference:ow,size:en,subset:zn,typed:Y}),uw=F0({FibonacciHeap:nw,addScalar:qr,equalScalar:Ut}),lw=xl({Index:fn,matrix:Ve,range:ps,typed:Y}),vo=ib({abs:yn,addScalar:qr,det:rw,divideScalar:br,identity:Na,matrix:Ve,multiply:Qt,typed:Y,unaryMinus:Vi}),cw=Hx({DenseMatrix:_t,Spa:uw,SparseMatrix:na,abs:yn,addScalar:qr,divideScalar:br,equalScalar:Ut,larger:Dn,matrix:Ve,multiplyScalar:Ar,subtractScalar:ti,typed:Y,unaryMinus:Vi}),eR=ab({Complex:sr,add:qt,ctranspose:cm,deepEqual:dm,divideScalar:br,dot:$l,dotDivide:yu,equal:ri,inv:vo,matrix:Ve,multiply:Qt,typed:Y}),ni=Jy({Complex:sr,config:Ce,fraction:ls,identity:Na,inv:vo,matrix:Ve,multiply:Qt,number:ra,typed:Y}),fw=sx({DenseMatrix:_t,Index:fn,compareNatural:Ui,size:en,subset:zn,typed:Y}),tR=mx({Index:fn,concat:Xt,setIntersect:fw,setSymDifference:sw,size:en,subset:zn,typed:Y}),rR=ub({abs:yn,add:qt,identity:Na,inv:vo,map:mo,max:ym,multiply:Qt,size:en,sqrt:xi,subtract:Sr,typed:Y}),xt=_0({BigNumber:Le,Complex:sr,Fraction:co,abs:yn,addScalar:qr,config:Ce,divideScalar:br,equal:ri,fix:iw,format:hu,isNumeric:ho,multiplyScalar:Ar,number:ra,pow:ni,round:cs,subtractScalar:ti}),nR=C1({BigNumber:Le,Unit:xt,config:Ce}),iR=aD({BigNumber:Le,Unit:xt,config:Ce}),aR=j1({BigNumber:Le,Unit:xt,config:Ce}),oR=F1({BigNumber:Le,Unit:xt,config:Ce}),sR=Y1({BigNumber:Le,Unit:xt,config:Ce}),uR=N1({BigNumber:Le,Unit:xt,config:Ce}),lR=A1({BigNumber:Le,Unit:xt,config:Ce}),cR=U1({BigNumber:Le,Unit:xt,config:Ce}),fR=t0({DenseMatrix:_t,concat:Xt,equalScalar:Ut,matrix:Ve,pow:ni,typed:Y}),pR=E1({BigNumber:Le,Unit:xt,config:Ce}),mR=S1({BigNumber:Le,Unit:xt,config:Ce}),dR=sb({abs:yn,add:qt,identity:Na,inv:vo,multiply:Qt,typed:Y}),hR=J1({BigNumber:Le,Unit:xt,config:Ce}),pw=By({addScalar:qr,ceil:vm,conj:fo,divideScalar:br,dotDivide:yu,exp:VD,i:kD,log2:UD,matrix:Ve,multiplyScalar:Ar,pow:ni,tau:RD,typed:Y}),xm=Db({BigNumber:Le,Complex:sr,config:Ce,multiplyScalar:Ar,pow:ni,typed:Y}),gR=x1({BigNumber:Le,Unit:xt,config:Ce}),vR=L1({BigNumber:Le,Unit:xt,config:Ce}),yR=Oy({conj:fo,dotDivide:yu,fft:pw,typed:Y}),xR=I1({BigNumber:Le,Unit:xt,config:Ce}),bR=Q1({BigNumber:Le,Unit:xt,config:Ce}),DR=w1({BigNumber:Le,Unit:xt,config:Ce}),wR=oD({BigNumber:Le,Unit:xt,config:Ce}),ER=eD({BigNumber:Le,Unit:xt,config:Ce}),CR=q1({BigNumber:Le,Unit:xt,config:Ce}),AR=T1({BigNumber:Le,Unit:xt,config:Ce}),SR=pD({BigNumber:Le,Unit:xt,config:Ce}),FR=lD({BigNumber:Le,Unit:xt,config:Ce}),NR=mD({BigNumber:Le,Unit:xt,config:Ce}),_R=V1({BigNumber:Le,Unit:xt,config:Ce}),MR=z1({BigNumber:Le,Unit:xt,config:Ce}),TR=D1({BigNumber:Le,Unit:xt,config:Ce}),IR=$1({BigNumber:Le,Unit:xt,config:Ce}),BR=nD({BigNumber:Le,Unit:xt,config:Ce}),OR=y1({BigNumber:Le,Unit:xt,config:Ce}),kR=iD({BigNumber:Le,Unit:xt,config:Ce}),PR=H1({BigNumber:Le,Unit:xt,config:Ce}),RR=Z1({BigNumber:Le,Unit:xt,config:Ce}),LR=B1({BigNumber:Le,Unit:xt,config:Ce}),VR=I0({Unit:xt,typed:Y}),Jr=pb({divideScalar:br,equalScalar:Ut,inv:vo,matrix:Ve,multiply:Qt,typed:Y}),UR=k1({BigNumber:Le,Unit:xt,config:Ce}),bu=Eb({gamma:xm,typed:Y}),qR=X1({BigNumber:Le,Unit:xt,config:Ce}),zR=uD({BigNumber:Le,Unit:xt,config:Ce}),$R=_1({BigNumber:Le,Unit:xt,config:Ce}),mw=Yx({DenseMatrix:_t,lsolve:YD,lup:cw,matrix:Ve,slu:ew,typed:Y,usolve:mm}),HR=M1({BigNumber:Le,Unit:xt,config:Ce}),WR=sD({BigNumber:Le,Unit:xt,config:Ce}),GR=Ab({add:qt,divide:Jr,factorial:bu,isInteger:Tn,isPositive:po,multiply:Qt,typed:Y}),jR=Sb({factorial:bu,typed:Y}),ZR=cD({BigNumber:Le,Unit:xt,config:Ce}),YR=Jx({add:qt,cbrt:jD,divide:Jr,equalScalar:Ut,im:sm,isZero:yi,multiply:Qt,re:um,sqrt:xi,subtract:Sr,typeOf:$D,typed:Y,unaryMinus:Vi}),JR=fx({compareNatural:Ui,typed:Y}),XR=Ry({abs:yn,add:qt,bignumber:qn,divide:Jr,isNegative:Fa,isPositive:po,larger:Dn,map:mo,matrix:Ve,max:ym,multiply:Qt,smaller:bn,subtract:Sr,typed:Y,unaryMinus:Vi}),dw=Rb({bignumber:qn,addScalar:qr,combinations:Vl,divideScalar:br,factorial:bu,isInteger:Tn,isNegative:Fa,larger:Dn,multiplyScalar:Ar,number:ra,pow:ni,subtractScalar:ti,typed:Y}),QR=M0({Unit:xt,typed:Y}),KR=Lb({addScalar:qr,isInteger:Tn,isNegative:Fa,stirlingS2:dw,typed:Y}),hw=ob({abs:yn,add:qt,addScalar:qr,atan:LD,bignumber:qn,column:lw,complex:Ul,config:Ce,cos:am,diag:ZD,divideScalar:br,dot:$l,equal:ri,flatten:xu,im:sm,inv:vo,larger:Dn,matrix:Ve,matrixFromColumns:fm,multiply:Qt,multiplyScalar:Ar,number:ra,qr:pm,re:um,reshape:WD,sin:ql,size:en,smaller:bn,sqrt:xi,subtract:Sr,typed:Y,usolve:mm,usolveAll:tw}),e4=P1({BigNumber:Le,Unit:xt,config:Ce}),t4=K1({BigNumber:Le,Unit:xt,config:Ce}),gw=Il({add:qt,divide:Jr,typed:Y}),r4=tD({BigNumber:Le,Unit:xt,config:Ce}),n4=b1({BigNumber:Le,Unit:xt,config:Ce}),i4=Ol({bignumber:qn,add:qt,compare:go,divide:Jr,isInteger:Tn,larger:Dn,multiply:Qt,partitionSelect:Hl,smaller:bn,smallerEq:fs,subtract:Sr,typed:Y}),bm=Bl({add:qt,apply:lm,divide:Jr,isNaN:gu,multiply:Qt,subtract:Sr,typed:Y}),a4=O1({BigNumber:Le,Unit:xt,config:Ce}),vw=hb({add:qt,compare:go,divide:Jr,partitionSelect:Hl,typed:Y}),o4=yb({add:qt,divide:Jr,matrix:Ve,mean:gw,multiply:Qt,pow:ni,sqrt:xi,subtract:Sr,sum:gm,typed:Y}),s4=Qb({Complex:sr,add:qt,divide:Jr,matrix:Ve,multiply:Qt,typed:Y}),u4=gb({abs:yn,map:mo,median:vw,subtract:Sr,typed:Y}),l4=kl({map:mo,sqrt:xi,typed:Y,variance:bm}),c4=Vy({BigNumber:Le,Complex:sr,add:qt,config:Ce,divide:Jr,equal:ri,factorial:bu,gamma:xm,isNegative:Fa,multiply:Qt,pi:nm,pow:ni,sin:ql,smallerEq:fs,subtract:Sr,typed:Y}),Dm=gx({abs:yn,add:qt,conj:fo,ctranspose:cm,eigs:hw,equalScalar:Ut,larger:Dn,matrix:Ve,multiply:Qt,pow:ni,smaller:bn,sqrt:xi,typed:Y}),yw=Fy({BigNumber:Le,DenseMatrix:_t,SparseMatrix:na,addScalar:qr,config:Ce,cos:am,matrix:Ve,multiplyScalar:Ar,norm:Dm,sin:ql,typed:Y,unaryMinus:Vi}),f4=Cb({divide:Jr,dotDivide:yu,isNumeric:ho,log:hm,map:mo,matrix:Ve,multiply:Qt,sum:gm,typed:Y}),p4=fD({BigNumber:Le,Unit:xt,config:Ce}),xw=cb({identity:Na,matrix:Ve,multiply:Qt,norm:Dm,qr:pm,subtract:Sr,typed:Y}),m4=Sy({multiply:Qt,rotationMatrix:yw,typed:Y}),bw=lb({abs:yn,add:qt,concat:Xt,identity:Na,index:aw,lusolve:mw,matrix:Ve,matrixFromColumns:fm,multiply:Qt,range:ps,schur:xw,subset:zn,subtract:Sr,transpose:vu,typed:Y}),d4=fb({matrix:Ve,multiply:Qt,sylvester:bw,transpose:vu,typed:Y});var Du={},wu={},h4={},wn=bx({mathWithTransform:wu}),Eu=Ix({Node:wn}),_a=Bx({Node:wn}),ms=Ox({Node:wn}),g4=Px({Node:wn}),Cu=wx({Node:wn}),v4=Cx({Node:wn,ResultSet:PD}),y4=Ax({Node:wn}),yo=_x({Node:wn}),x4=kx({Node:wn}),MZ=Kb({classes:h4}),Dw=Qx({math:Du,typed:Y}),b4=Mx({Node:wn,typed:Y}),TZ=rb({Chain:Dw,typed:Y}),Au=Tx({Node:wn,size:en}),Su=Dx({Node:wn,subset:zn}),D4=Ex({matrix:Ve,Node:wn,subset:zn}),xo=Rx({Unit:xt,Node:wn,math:Du}),bo=Lx({Node:wn,SymbolNode:xo,math:Du}),qi=Vx({AccessorNode:Su,ArrayNode:Cu,AssignmentNode:D4,BlockNode:v4,ConditionalNode:y4,ConstantNode:yo,FunctionAssignmentNode:b4,FunctionNode:bo,IndexNode:Au,ObjectNode:Eu,OperatorNode:_a,ParenthesisNode:ms,RangeNode:x4,RelationalNode:g4,SymbolNode:xo,config:Ce,numeric:bi,typed:Y}),w4=jb({ConstantNode:yo,FunctionNode:bo,OperatorNode:_a,ParenthesisNode:ms,parse:qi,typed:Y}),ww=Wb({bignumber:qn,fraction:ls,AccessorNode:Su,ArrayNode:Cu,ConstantNode:yo,FunctionNode:bo,IndexNode:Au,ObjectNode:Eu,OperatorNode:_a,SymbolNode:xo,config:Ce,mathWithTransform:wu,matrix:Ve,typed:Y}),Ew=Ux({parse:qi,typed:Y}),E4=Xx({parse:qi}),IZ=qb({parse:qi,typed:Y}),Cw=Gb({AccessorNode:Su,ArrayNode:Cu,ConstantNode:yo,FunctionNode:bo,IndexNode:Au,ObjectNode:Eu,OperatorNode:_a,ParenthesisNode:ms,SymbolNode:xo,add:qt,divide:Jr,equal:ri,isZero:yi,multiply:Qt,parse:qi,pow:ni,subtract:Sr,typed:Y}),C4=qx({parse:qi,typed:Y}),BZ=tb({Help:E4,mathWithTransform:wu,typed:Y}),A4=zx({evaluate:C4}),wm=Hb({bignumber:qn,fraction:ls,AccessorNode:Su,ArrayNode:Cu,ConstantNode:yo,FunctionNode:bo,IndexNode:Au,ObjectNode:Eu,OperatorNode:_a,ParenthesisNode:ms,SymbolNode:xo,add:qt,config:Ce,divide:Jr,equal:ri,isZero:yi,mathWithTransform:wu,matrix:Ve,multiply:Qt,parse:qi,pow:ni,resolve:w4,simplifyConstant:ww,simplifyCore:Cw,subtract:Sr,typed:Y}),OZ=Zb({OperatorNode:_a,parse:qi,simplify:wm,typed:Y}),kZ=$x({Parser:A4,typed:Y}),PZ=Jb({bignumber:qn,fraction:ls,AccessorNode:Su,ArrayNode:Cu,ConstantNode:yo,FunctionNode:bo,IndexNode:Au,ObjectNode:Eu,OperatorNode:_a,ParenthesisNode:ms,SymbolNode:xo,add:qt,config:Ce,divide:Jr,equal:ri,isZero:yi,mathWithTransform:wu,matrix:Ve,multiply:Qt,parse:qi,pow:ni,simplify:wm,simplifyConstant:ww,simplifyCore:Cw,subtract:Sr,typed:Y}),RZ=Yb({ConstantNode:yo,FunctionNode:bo,OperatorNode:_a,ParenthesisNode:ms,SymbolNode:xo,config:Ce,equal:ri,isZero:yi,numeric:bi,parse:qi,simplify:wm,typed:Y});hr(Du,{e:OD,false:JO,fineStructure:XO,i:kD,Infinity:QO,LN10:KO,LOG10E:ek,NaN:tk,null:rk,phi:nk,SQRT1_2:ak,sackurTetrode:ok,tau:RD,true:sk,E:OD,version:uk,efimovFactor:lk,LN2:ck,pi:nm,replacer:fk,reviver:MZ,SQRT2:pk,typed:Y,unaryPlus:im,PI:nm,weakMixingAngle:mk,abs:yn,acos:dk,acot:hk,acsc:gk,addScalar:qr,arg:vk,asech:yk,asinh:xk,atan:LD,atanh:bk,bignumber:qn,bitNot:Dk,boolean:wk,clone:Ek,combinations:Vl,complex:Ul,conj:fo,cos:am,cot:Ck,csc:Ak,cube:Sk,equalScalar:Ut,erf:Fk,exp:VD,expm1:Nk,filter:_k,forEach:Mk,format:hu,getMatrixDataType:om,hex:Tk,im:sm,isInteger:Tn,isNegative:Fa,isPositive:po,isZero:yi,LOG2E:Ik,lgamma:Bk,log10:Ok,log2:UD,map:mo,multiplyScalar:Ar,not:qD,number:ra,oct:kk,pickRandom:Pk,print:Rk,random:Lk,re:um,sec:Vk,sign:zD,sin:ql,splitUnit:Uk,square:qk,string:zk,subtractScalar:ti,tan:$k,typeOf:$D,acosh:Hk,acsch:Wk,apply:lm,asec:Gk,bin:jk,chain:TZ,combinationsWithRep:Zk,cosh:Yk,csch:Jk,isNaN:gu,isPrime:Xk,randomInt:Qk,sech:Kk,sinh:eP,sparse:tP,sqrt:xi,tanh:rP,unaryMinus:Vi,acoth:nP,coth:iP,fraction:ls,isNumeric:ho,matrix:Ve,matrixFromFunction:aP,mode:oP,numeric:bi,prod:HD,reshape:WD,size:en,squeeze:sP,transpose:vu,xgcd:GD,zeros:xn,asin:uP,cbrt:jD,concat:Xt,count:lP,ctranspose:cm,diag:ZD,divideScalar:br,dotDivide:yu,equal:ri,flatten:xu,hasNumericValue:cP,identity:Na,kron:fP,largerEq:zl,leftShift:pP,lsolve:YD,matrixFromColumns:fm,nthRoot:mP,ones:dP,qr:pm,resize:hP,rightArithShift:gP,round:cs,smaller:bn,subtract:Sr,to:vP,unequal:yP,usolve:mm,xor:xP,add:qt,atan2:bP,bitAnd:DP,bitXor:wP,catalan:EP,compare:go,compareText:JD,cumsum:CP,deepEqual:dm,diff:AP,distance:SP,dot:$l,equalText:FP,floor:XD,gcd:NP,hypot:_P,larger:Dn,log:hm,lsolveAll:MP,matrixFromRows:TP,min:IP,mod:KD,multiply:Qt,nthRoots:BP,or:OP,partitionSelect:Hl,rightLogShift:kP,slu:ew,subset:zn,sum:gm,trace:PP,usolveAll:tw,zpk2tf:RP,bitOr:LP,ceil:vm,compareNatural:Ui,composition:VP,cross:UP,det:rw,dotMultiply:qP,fix:iw,index:aw,intersect:zP,invmod:$P,lcm:HP,log1p:WP,max:ym,setCartesian:GP,setDistinct:jP,setIsSubset:ZP,setPowerset:YP,smallerEq:fs,sort:JP,and:XP,range:ps,row:QP,setDifference:ow,setMultiplicity:KP,setSymDifference:sw,column:lw,inv:vo,lup:cw,pinv:eR,pow:ni,setIntersect:fw,setUnion:tR,sqrtm:rR,vacuumImpedance:nR,wienDisplacement:iR,atomicMass:aR,bohrMagneton:oR,boltzmann:sR,conductanceQuantum:uR,coulomb:lR,deuteronMass:cR,dotPow:fR,electricConstant:pR,elementaryCharge:mR,expm:dR,faraday:hR,fft:pw,gamma:xm,gravitationConstant:gR,hartreeEnergy:vR,ifft:yR,klitzing:xR,loschmidt:bR,magneticConstant:DR,molarMass:wR,molarPlanckConstant:ER,neutronMass:CR,nuclearMagneton:AR,planckCharge:SR,planckLength:FR,planckTemperature:NR,protonMass:_R,quantumOfCirculation:MR,reducedPlanckConstant:TR,rydberg:IR,secondRadiation:BR,speedOfLight:OR,stefanBoltzmann:kR,thomsonCrossSection:PR,avogadro:RR,bohrRadius:LR,createUnit:VR,divide:Jr,electronMass:UR,factorial:bu,firstRadiation:qR,gravity:zR,inverseConductanceQuantum:$R,lusolve:mw,magneticFluxQuantum:HR,molarMassC12:WR,multinomial:GR,parse:qi,permutations:jR,planckMass:ZR,polynomialRoot:YR,resolve:w4,setSize:JR,simplifyConstant:ww,solveODE:XR,stirlingS2:dw,unit:QR,bellNumbers:KR,compile:Ew,eigs:hw,fermiCoupling:e4,gasConstant:t4,leafCount:IZ,mean:gw,molarVolume:r4,planckConstant:n4,quantileSeq:i4,simplifyCore:Cw,variance:bm,classicalElectronRadius:a4,evaluate:C4,help:BZ,median:vw,simplify:wm,symbolicEqual:OZ,corr:o4,freqz:s4,mad:u4,parser:kZ,rationalize:PZ,std:l4,zeta:c4,derivative:RZ,norm:Dm,rotationMatrix:yw,kldivergence:f4,planckTime:p4,schur:xw,rotate:m4,sylvester:bw,lyap:d4,config:Ce});hr(wu,Du,{filter:gD({typed:Y}),forEach:vD({typed:Y}),map:xD({typed:Y}),apply:dD({isInteger:Tn,typed:Y}),concat:SD({isInteger:Tn,matrix:Ve,typed:Y}),max:bD({config:Ce,larger:Dn,numeric:bi,typed:Y}),print:BD({add:qt,matrix:Ve,typed:Y,zeros:xn}),diff:FD({bignumber:qn,matrix:Ve,number:ra,subtract:Sr,typed:Y}),min:wD({config:Ce,numeric:bi,smaller:bn,typed:Y}),subset:AD({add:qt,matrix:Ve,typed:Y,zeros:xn}),cumsum:TD({add:qt,typed:Y,unaryPlus:im}),index:yD({Index:fn,getMatrixDataType:om}),sum:_D({add:qt,config:Ce,numeric:bi,typed:Y}),range:ED({bignumber:qn,matrix:Ve,add:qt,config:Ce,isPositive:po,larger:Dn,largerEq:zl,smaller:bn,smallerEq:fs,typed:Y}),row:CD({Index:fn,matrix:Ve,range:ps,typed:Y}),column:hD({Index:fn,matrix:Ve,range:ps,typed:Y}),mean:DD({add:qt,divide:Jr,typed:Y}),quantileSeq:MD({add:qt,bignumber:qn,compare:go,divide:Jr,isInteger:Tn,larger:Dn,multiply:Qt,partitionSelect:Hl,smaller:bn,smallerEq:fs,subtract:Sr,typed:Y}),variance:ID({add:qt,apply:lm,divide:Jr,isNaN:gu,multiply:Qt,subtract:Sr,typed:Y}),std:ND({map:mo,sqrt:xi,typed:Y,variance:bm})});hr(h4,{BigNumber:Le,Complex:sr,Fraction:co,Matrix:Ll,Node:wn,ObjectNode:Eu,OperatorNode:_a,ParenthesisNode:ms,Range:ik,RelationalNode:g4,ResultSet:PD,ArrayNode:Cu,BlockNode:v4,ConditionalNode:y4,ConstantNode:yo,DenseMatrix:_t,RangeNode:x4,Chain:Dw,FunctionAssignmentNode:b4,SparseMatrix:na,IndexNode:Au,ImmutableDenseMatrix:QD,Index:fn,AccessorNode:Su,AssignmentNode:D4,FibonacciHeap:nw,Spa:uw,Unit:xt,SymbolNode:xo,FunctionNode:bo,Help:E4,Parser:A4});Dw.createProxy(Du);var Em=class extends Xa{constructor(t){super(t);this.hidden=!1}buildVariables(t){var a;let n=0;this.expressionStr="";let i=[];for(let o of(a=t.templateDeclaration)!=null?a:[])if(typeof o!="string"){let l={bindTargetDeclaration:o,inputSignal:new Vr(void 0),uuid:yr(),contextName:`MB_VAR_${n}`};i.push(l),this.expressionStr+=l.contextName,n+=1}else this.expressionStr+=o;return this.expression=Ew(this.expressionStr),i}_render(t){}_update(t,n){t.innerText=n}destroy(){}buildContext(t){var i;let n={};for(let a of t!=null?t:[])!a.contextName||!a.inputSignal||(n[a.contextName]=(i=a.inputSignal.get())!=null?i:"");return n}async computeValue(t){if(!this.expression)throw new pa({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:"expression is undefined"});let n=this.buildContext(t);try{return this.expression.evaluate(n)}catch(i){throw i instanceof Error?new pa({errorLevel:"ERROR",effect:"failed to evaluate expression",cause:i,context:{expression:this.expressionStr,context:n}}):new Error("failed to evaluate js expression because of: unexpected thrown value")}}getDefaultDisplayValue(){return""}};var Am=require("obsidian");var Cm=class extends Xa{constructor(t){super(t);this.renderMarkdown=!1,this.markdownComponent=new Am.Component}buildVariables(t){var a;this.textParts=[];let n=0,i=[];for(let o of(a=t.templateDeclaration)!=null?a:[])if(typeof o!="string"){let l={bindTargetDeclaration:o,inputSignal:new Vr(void 0),uuid:yr(),contextName:`MB_VAR_${n}`};i.push(l),this.textParts.push(n),n+=1}else this.textParts.push(o);return i}_render(t){var n,i;this.renderMarkdown=(i=(n=this.renderChild.getArgument("renderMarkdown"))==null?void 0:n.value)!=null?i:!1,this.markdownComponent.load(),this.renderMarkdown&&t.addClass("mb-view-markdown")}async _update(t,n){this.renderMarkdown?(this.markdownComponent.unload(),this.markdownComponent.load(),await Am.MarkdownRenderer.render(this.renderChild.plugin.app,n,t,this.renderChild.filePath,this.markdownComponent)):t.innerText=n}destroy(){this.markdownComponent.unload()}computeValue(t){if(!this.textParts)throw new pa({errorLevel:"CRITICAL",effect:"failed to evaluate text view field",cause:"content parts is undefined"});return this.textParts.map(n=>typeof n=="number"?JC(t[n].inputSignal.get(),this.renderChild.plugin.settings.viewFieldDisplayNullAsEmpty):n).join("")}getDefaultDisplayValue(){return""}};function LZ(r){let e,t;return e=new Tf({props:{elements:r[0],$$slots:{default:[qZ,({element:n})=>({1:n}),({element:n})=>n?2:0]},$$scope:{ctx:r}}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.elements=n[0]),i&6&&(a.$$scope={dirty:i,ctx:n}),e.$set(a)},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function VZ(r){let e,t;return e=new Ja({props:{mdLink:r[0][0]}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p(n,i){let a={};i&1&&(a.mdLink=n[0][0]),e.$set(a)},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function UZ(r){let e;return{c(){e=X("span")},m(t,n){ae(t,e,n)},p:ke,i:ke,o:ke,d(t){t&&ie(e)}}}function qZ(r){let e,t;return e=new Ja({props:{mdLink:r[1]}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p(n,i){let a={};i&2&&(a.mdLink=n[1]),e.$set(a)},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function zZ(r){let e,t,n,i,a=[UZ,VZ,LZ],o=[];function l(u,s){return u[0].length===0?0:u[0].length===1?1:2}return e=l(r,-1),t=o[e]=a[e](r),{c(){t.c(),n=mr()},m(u,s){o[e].m(u,s),ae(u,n,s),i=!0},p(u,[s]){let c=e;e=l(u,s),e===c?o[e].p(u,s):(Bt(),De(o[c],1,1,()=>{o[c]=null}),Ot(),t=o[e],t?t.p(u,s):(t=o[e]=a[e](u),t.c()),ge(t,1),t.m(n.parentNode,n))},i(u){i||(ge(t),i=!0)},o(u){De(t),i=!1},d(u){u&&ie(n),o[e].d(u)}}}function $Z(r,e,t){let{mdLinkList:n}=e;return r.$$set=i=>{"mdLinkList"in i&&t(0,n=i.mdLinkList)},[n]}var Aw=class extends ze{constructor(e){super(),Ge(this,e,$Z,zZ,He,{mdLinkList:0})}},Sw=Aw;var Sm=class extends Xa{constructor(t){super(t)}buildVariables(t){let n=t.templateDeclaration.filter(o=>typeof o=="string"?o:!0);if(n.length!==1)throw new $u({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});let i=n[0];if(typeof i=="string")throw new $u({errorLevel:"ERROR",effect:"can not create view field",cause:"link view filed only supports exactly a single bind target and not text content"});return[{bindTargetDeclaration:i,inputSignal:new Vr(void 0),uuid:yr(),contextName:"MB_VAR_0"}]}_render(t){this.component=new Sw({target:t,props:{mdLinkList:[]}})}async _update(t,n){let i=Fn.parseLinkList(n);this.component=new Sw({target:t,props:{mdLinkList:i}})}destroy(){var t;(t=this.component)==null||t.$destroy()}computeValue(t){if(t.length!==1)throw new pa({errorLevel:"CRITICAL",effect:"failed to evaluate link view field",cause:"there should be exactly one variable"});let i=t[0].inputSignal.get();return typeof i=="string"?this.convertToLink(i):Array.isArray(i)?i.filter(o=>typeof o=="string").map(o=>this.convertToLink(o)).filter(o=>o!=="").join(", "):""}convertToLink(t){return Fn.isLink(t)?t:Fn.isLink(`[[${t}]]`)?`[[${t}]]`:this.getUrl(t)?`[${this.getUrl(t).hostname}](${t})`:""}getUrl(t){try{return new URL(t)}catch(n){return}}getDefaultDisplayValue(){return""}};var Fm=class{constructor(e){this.plugin=e}createViewField(e,t){if(e==="math")return new Em(t);if(e==="text")return new Cm(t);if(e==="link")return new Sm(t)}};var Nm=class{constructor(e){this.plugin=e}async runAction(e,t){e.type==="command"?await this.runCommandAction(e):e.type==="js"&&await this.runJSAction(e,t)}async runCommandAction(e){this.plugin.internal.executeCommandById(e.command)}async runJSAction(e,t){(await this.plugin.internal.jsEngineRunFile(e.jsFile,t))()}};var _m=class{constructor(e){this.plugin=e,this.inputField=new wf(this),this.inputFieldParser=new Df(this.plugin),this.viewFieldParser=new ef(this.plugin),this.bindTargetParser=new tf(this.plugin),this.inputFieldFactory=new Wf(this.plugin),this.viewFieldFactory=new Fm(this.plugin),this.buttonActionRunner=new Nm(this.plugin)}createInputField(e,t,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let l=this.inputFieldParser.validateDeclaration(e,o),u=new Yo(i,t,l,this.plugin,n,yr());return a.addChild(u),u}createInputFieldFromString(e,t,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let l=this.inputFieldParser.parseString(e,o),u=new Yo(i,t,l,this.plugin,n,yr());return a.addChild(u),u}createViewFieldFromString(e,t,n,i,a,o){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let l=this.viewFieldParser.parseString(e,o),u=new Hs(i,t,l,this.plugin,n,yr());return a.addChild(u),u}createJsViewFieldFromString(e,t,n,i,a){if(this.plugin.isFilePathExcluded(n))return this.createExcludedField(i,n,a);let o=this.viewFieldParser.parseJsString(e),l=new nf(i,t,o,this.plugin,n,yr());return a.addChild(l),l}createExcludedField(e,t,n){let i=new Ef(e,"inline",this.plugin,t,yr());return n.addChild(i),i}createSignal(e){return new Vr(e)}listenToMetadata(e,t,n,i=!1,a){let o=yr(),l=this.plugin.metadataManager.subscribe(o,e,{filePath:t,metadataPath:Af(n),listenToChildren:i,boundToLocalScope:!1},a!=null?a:()=>{});return()=>{l.unsubscribe()}}createTable(e,t,n,i,a,o){let l=new Sf(e,"inline",this.plugin,t,yr(),i,a,o);return n.addChild(l),l}createBindTarget(e){return this.bindTargetParser.parseAndValidateBindTarget(e)}};var S4=require("obsidian");var Fw=So[1];function F4(r){Fw=r}function Nw(r){return EE[r]}function N4(r,e){let t=(0,S4.moment)(new Date(e,r)).daysInMonth(),n=new Array(42).fill(0),i=HZ(new Date(e,r,1));for(let a=0;a<t;a++)n[a+i]=a+1;return n=n[n.length-7]?n:n.slice(0,-7),n=n[n.length-7]?n:n.slice(0,-7),n}function HZ(r){return Bd(r.getDay()-Fw.index,7)}function _4(){return So.map(e=>({index:Bd(e.index-Fw.index,7),name:e.name,shortName:e.shortName})).sort((e,t)=>e.index-t.index).map(e=>e.shortName)}function M4(){let r=0;return()=>++r}var Do=require("@codemirror/view"),Mw=require("@codemirror/language"),Bm=require("obsidian");var I4=require("obsidian");var T4=require("@codemirror/view");var Mm=class extends T4.WidgetType{constructor(t,n,i,a){super();this.content=t,this.filePath=n,this.parentComponent=i,this.plugin=a}eq(t){return t.content===this.content}toDOM(t){let n=document.createElement("span");return n.addClass("cm-inline-code"),this.renderChild=this.createRenderChild(n,this.parentComponent),n}destroy(t){var n;(n=this.renderChild)==null||n.unload(),super.destroy(t)}},Tm=class extends Mm{createRenderChild(e,t){return this.plugin.api.createViewFieldFromString(this.content,"inline",this.filePath,e,t)}},Im=class extends Mm{createRenderChild(e,t){return this.plugin.api.createInputFieldFromString(this.content,"inline",this.filePath,e,t)}},_w=(t=>(t.INPUT_FIELD_WIDGET="INPUT_FIELD_WIDGET",t.VIEW_FIELD_WIDGET="VIEW_FIELD_WIDGET",t))(_w||{});var ia=class r{static checkSelectionOverlap(e,t,n){if(!e)return!1;for(let i of e.ranges)if(i.to>=t&&i.from<=n)return!0;return!1}static getContent(e,t,n){return e.sliceDoc(t,n)}static constructMarkdownRenderChildWidget(e,t,n,i,a){if(e==="INPUT_FIELD_WIDGET")return new Im(t,n,i,a);if(e==="VIEW_FIELD_WIDGET")return new Tm(t,n,i,a)}static getDeclarationPrefix(e){if(e==="INPUT_FIELD_WIDGET")return"INPUT";if(e==="VIEW_FIELD_WIDGET")return"VIEW";throw new Fi({errorLevel:"CRITICAL",effect:"failed to get declaration prefix",cause:`Invalid widget type "${e}"`})}static isDeclaration(e,t){let n=r.getDeclarationPrefix(e)+"[",i="]";return t.startsWith(n)&&t.endsWith(i)}static isDeclarationAndGetWidgetType(e){if(e.endsWith("]"))for(let t of Object.values(_w)){let n=r.getDeclarationPrefix(t)+"[";if(e.startsWith(n))return t}}static getCurrentFile(e){return e.state.field(I4.editorInfoField).file}static existsDecorationBetween(e,t,n){let i=!1;return e.between(t,n,()=>{i=!0}),i}};function B4(r){return Do.ViewPlugin.fromClass(class{constructor(e){var t;this.component=new Bm.Component,this.component.load(),this.decorations=(t=this.renderWidgets(e))!=null?t:Do.Decoration.none}update(e){var t;if(!e.state.field(Bm.editorLivePreviewField)){this.decorations=Do.Decoration.none;return}e.docChanged?(this.decorations=this.decorations.map(e.changes),this.updateTree(e.view)):e.selectionSet?this.updateTree(e.view):e.viewportChanged&&(this.decorations=(t=this.renderWidgets(e.view))!=null?t:Do.Decoration.none)}updateTree(e){for(let{from:t,to:n}of e.visibleRanges)(0,Mw.syntaxTree)(e.state).iterate({from:t,to:n,enter:i=>{let a=i.node,{shouldRender:o,content:l,widgetType:u}=this.getRenderInfo(e,a);o?u!==void 0&&l!==void 0&&this.addDecoration(a,e,l,u):u!==void 0&&l!==void 0&&this.removeDecoration(a)}})}removeDecoration(e){this.decorations.between(e.from-1,e.to+1,(t,n,i)=>{this.decorations=this.decorations.update({filterFrom:t,filterTo:n,filter:()=>!1})})}addDecoration(e,t,n,i){var s;let a=e.from-1,o=e.to+1;if(ia.existsDecorationBetween(this.decorations,a,o))return;let l=ia.getCurrentFile(t);if(!l)return;let u=(s=this.renderWidget(e,i,n,l))==null?void 0:s.value;u&&(this.decorations=this.decorations.update({add:[{from:a,to:o,value:u}]}))}getRenderInfo(e,t){var i;let n=new Set((i=t.type.name)==null?void 0:i.split("_"));if(n.has("inline-code")&&!n.has("formatting")){let a=e.state.selection,o=ia.checkSelectionOverlap(a,t.from-1,t.to+1),l=this.readNode(e,t.from,t.to);return{shouldRender:!o,content:l.content,widgetType:l.widgetType}}return{shouldRender:!1,content:void 0,widgetType:void 0}}readNode(e,t,n){let i=ia.getContent(e.state,t,n);return{content:i,widgetType:ia.isDeclarationAndGetWidgetType(i)}}renderWidgets(e){let t=ia.getCurrentFile(e);if(!t)return;let n=[];for(let i of e.visibleRanges)(0,Mw.syntaxTree)(e.state).iterate({from:i.from,to:i.to,enter:a=>{let o=a.node,l=this.getRenderInfo(e,o);if(!l.shouldRender||!l.widgetType||!l.content)return;let u=this.renderWidget(o,l.widgetType,l.content,t);u&&n.push(u)}});return Do.Decoration.set(n,!0)}renderWidget(e,t,n,i){let a=ia.constructMarkdownRenderChildWidget(t,n,i.path,this.component,r);if(a)return Do.Decoration.replace({widget:a}).range(e.from-1,e.to+1)}destroy(){this.component.unload()}},{decorations:e=>e.decorations})}var Om=class{constructor(){this.activeMDRCs=new Map}unload(){for(let e of this.activeMDRCs.values())console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),e.unload()}registerMDRC(e){console.debug(`meta-bind | MDRCManager >> registered MDRC ${e.uuid}`),this.activeMDRCs.set(e.uuid,e)}unregisterMDRC(e){console.debug(`meta-bind | MDRCManager >> unregistered MDRC ${e.uuid}`),this.activeMDRCs.delete(e.uuid)}};var O4=require("obsidian");var km=class{constructor(e){this.app=e.app,this.plugin=e}getMetadataAndExtraCache(e){var i,a;if(e.bindTarget===void 0)throw new Bo({errorLevel:"CRITICAL",effect:"can not get metadata and extra cache",cause:"subscription bind target undefined"});let t=this.plugin.app.vault.getAbstractFileByPath(e.bindTarget.filePath);if(!(t instanceof O4.TFile))throw new Bo({errorLevel:"CRITICAL",effect:"can not get metadata and extra cache",cause:"bind target file path does not point to a tFile"});let n=(i=this.plugin.app.metadataCache.getFileCache(t))==null?void 0:i.frontmatter;return{extraCache:{file:t},metadata:(a=structuredClone(n))!=null?a:{}}}setManagerInstance(e){this.manager=e}async updateMetadata(e,t){let n=t.extraCache.file;await this.plugin.app.fileManager.processFrontMatter(n,i=>{t.changed=!1,Object.assign(i,t.metadata)})}load(){this.plugin.registerEvent(this.plugin.app.metadataCache.on("changed",(e,t,n)=>{var i,a;(a=this.manager)==null||a.updateCacheOnExternalUpdate(e.path,(i=n.frontmatter)!=null?i:{})})),this.plugin.registerEvent(this.plugin.app.vault.on("delete",e=>{var t;(t=this.manager)==null||t.deleteCacheInstant(e.path)})),this.plugin.registerEvent(this.plugin.app.vault.on("rename",(e,t)=>{var n;console.log("rename"),(n=this.manager)==null||n.deleteCacheInstant(t)})),this.manager!==void 0&&(this.interval=window.setInterval(()=>{var e;return(e=this.manager)==null?void 0:e.update()},this.plugin.settings.syncInterval))}unload(){this.interval!==void 0&&window.clearInterval(this.interval)}};var k4=require("obsidian");var Tw=8,Wl=class extends kn{constructor(t,n,i,a,o,l){super(t,"block",i,a,o);this.content=n,this.depth=l}async parseContent(){let t=this.content.split(`
`).map(u=>u.trim()).filter(u=>u.length>0);if(t.length===0)return"";if(t.length>1)throw new Es({errorLevel:"ERROR",effect:"can not create embed",cause:"embed may only contain one link"});let n=t[0],i=Fn.parseLink(n);if(!i.internal)throw new Es({errorLevel:"ERROR",effect:"can not create embed",cause:"embed link is not an internal link"});let a=this.plugin.app.metadataCache.getFirstLinkpathDest(i.target,this.filePath);if(a===null)throw new Es({errorLevel:"ERROR",effect:"can not create embed",cause:"link target not found"});let l=(await this.plugin.app.vault.cachedRead(a)).split(`
`);for(let u=0;u<l.length;u++)l[u].startsWith("```meta-bind-embed")&&(l[u]=`\`\`\`meta-bind-embed-internal-${this.depth+1}`);return l.join(`
`)}async onload(){if(this.depth>=Tw)this.containerEl.empty(),this.containerEl.addClass("mb-error"),this.containerEl.innerText="Max embed depth reached";else{let t=await this.parseContent();await k4.MarkdownRenderer.render(this.plugin.app,t,this.containerEl,this.filePath,this)}}};var Ba=require("obsidian");var Gl=require("obsidian"),Pm=class extends Gl.Modal{constructor(t,n,i,a,o,l,u){super(t);this.value=n,this.title=i,this.subTitle=a,this.description=o,this.onSubmit=l,this.onCancel=u}onOpen(){this.contentEl.empty(),this.contentEl.createEl("h2",{text:this.title});let t=new Gl.Setting(this.contentEl);t.setName(this.subTitle),t.setDesc(this.description),t.addText(i=>{i.setValue(this.value),i.setPlaceholder(this.subTitle),i.onChange(a=>{this.value=a})});let n=new Gl.Setting(this.contentEl);n.addButton(i=>{i.setButtonText("Apply"),i.setCta(),i.onClick(()=>{this.onSubmit(this.value),this.close()})}),n.addButton(i=>{i.setButtonText("Cancel"),i.onClick(()=>{this.onCancel(),this.close()})})}onClose(){super.onClose()}};var p8=Fr(c8());var m8=require("obsidian");var f8=require("obsidian"),td=class extends f8.FuzzySuggestModal{constructor(t,n,i){super(t);this.options=n,this.onSelect=i}getItemText(t){return t.displayValue}getItems(){return this.options}onChooseItem(t,n){this.onSelect(t)}};var Ia=class{constructor(e,t){this.value=e,this.displayValue=t}valueAsString(){var e,t;return(t=(e=this.value)==null?void 0:e.toString())!=null?t:"null"}};function XJ(r,e,t,n,i){let a=[];for(let o of t)a.push(new Ia(o.value,o.name));if(n.length>0){if(!r)return new m8.Notice("meta-bind | dataview needs to be installed and enabled to use suggest option queries"),a;for(let o of n)r.pages(o.value,e).forEach(u=>{try{let s=u.file;i?a.push(new Ia(`[[${s.path}|${s.name}]]`,`file-link: ${s.name}`)):a.push(new Ia(s.name,`file: ${s.name}`))}catch(s){console.warn("meta-bind | error while computing suggest options",s)}})}return a}function QJ(r,e){let t=e.app,n=(0,p8.getAPI)(t),i=r.base.getArguments("option"),a=r.base.getArguments("optionQuery"),o=r.base.getArgument("useLinks");return XJ(n,r.base.getFilePath(),i,a,o===void 0||o.value)}function d8(r,e,t){new td(t.app,QJ(r,t),e).open()}var Hn=require("obsidian");var b8=require("obsidian");function KJ(r){pn(r,"svelte-1m4qg39",".image-card-image.svelte-1m4qg39{width:100%;height:fit-content;max-height:500px;object-fit:contain}.image-card-text.svelte-1m4qg39{display:block;margin:var(--size-4-2);margin-bottom:var(--size-4-4)}")}function eX(r){let e,t,n,i,a,o,l,u;return{c(){e=X("div"),t=X("img"),i=Ee(),a=X("span"),o=We(r[0]),q(t,"class","image-card-image svelte-1m4qg39"),xs(t.src,n=Ys(r[0]))||q(t,"src",n),q(t,"alt",r[0]),q(a,"class","image-card-text svelte-1m4qg39"),q(e,"class","image-card svelte-1m4qg39"),q(e,"role","button"),q(e,"tabindex","0")},m(s,c){ae(s,e,c),G(e,t),G(e,i),G(e,a),G(a,o),l||(u=[Te(e,"click",r[3]),Te(e,"keydown",r[4])],l=!0)},p(s,[c]){c&1&&!xs(t.src,n=Ys(s[0]))&&q(t,"src",n),c&1&&q(t,"alt",s[0]),c&1&&ct(o,s[0])},i:ke,o:ke,d(s){s&&ie(e),l=!1,st(u)}}}function tX(r,e,t){let{image:n}=e,{onSelect:i}=e;function a(u,s){u.key===" "&&i(s)}let o=()=>i(n),l=u=>a(u,n);return r.$$set=u=>{"image"in u&&t(0,n=u.image),"onSelect"in u&&t(1,i=u.onSelect)},[n,i,a,o,l]}var hE=class extends ze{constructor(e){super(),Ge(this,e,tX,eX,He,{image:0,onSelect:1},KJ)}},h8=hE;var y8=require("obsidian");function g8(r,e,t){let n=r.slice();return n[6]=e[t],n}function v8(r){let e,t;return e=new h8({props:{image:r[6].value,onSelect:r[0]}}),{c(){Qe(e.$$.fragment)},m(n,i){Je(e,n,i),t=!0},p(n,i){let a={};i&4&&(a.image=n[6].value),i&1&&(a.onSelect=n[0]),e.$set(a)},i(n){t||(ge(e.$$.fragment,n),t=!0)},o(n){De(e.$$.fragment,n),t=!1},d(n){Xe(e,n)}}}function rX(r){let e,t,n,i,a,o,l,u=Ke(r[2]),s=[];for(let f=0;f<u.length;f+=1)s[f]=v8(g8(r,u,f));let c=f=>De(s[f],1,1,()=>{s[f]=null});return{c(){e=X("div"),t=X("input"),n=Ee(),i=X("div");for(let f=0;f<s.length;f+=1)s[f].c();q(t,"type","text"),q(t,"placeholder","Search Images..."),q(e,"class","mb-image-search-container"),q(i,"class","mb-image-card-grid")},m(f,p){ae(f,e,p),G(e,t),bt(t,r[1]),ae(f,n,p),ae(f,i,p);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(i,null);a=!0,o||(l=Te(t,"input",r[4]),o=!0)},p(f,[p]){if(p&2&&t.value!==f[1]&&bt(t,f[1]),p&5){u=Ke(f[2]);let m;for(m=0;m<u.length;m+=1){let h=g8(f,u,m);s[m]?(s[m].p(h,p),ge(s[m],1)):(s[m]=v8(h),s[m].c(),ge(s[m],1),s[m].m(i,null))}for(Bt(),m=u.length;m<s.length;m+=1)c(m);Ot()}},i(f){if(!a){for(let p=0;p<u.length;p+=1)ge(s[p]);a=!0}},o(f){s=s.filter(Boolean);for(let p=0;p<s.length;p+=1)De(s[p]);a=!1},d(f){f&&(ie(e),ie(n),ie(i)),Mt(s,f),o=!1,l()}}}function nX(r,e,t){let{options:n}=e,{onSelect:i}=e,a="",o;function l(s){var c;if(!s){t(2,o=n);return}let f=(0,y8.prepareFuzzySearch)(s),p=[];for(let m of n)((c=f(m.value))===null||c===void 0?void 0:c.score)!==void 0&&p.push(m);t(2,o=p)}function u(){a=this.value,t(1,a)}return r.$$set=s=>{"options"in s&&t(3,n=s.options),"onSelect"in s&&t(0,i=s.onSelect)},r.$$.update=()=>{r.$$.dirty&2&&l(a)},[i,a,o,n,u]}var gE=class extends ze{constructor(e){super(),Ge(this,e,nX,rX,He,{options:3,onSelect:0})}},x8=gE;var rd=class extends b8.Modal{constructor(t,n,i){super(t);this.options=n,this.onSelect=i}onOpen(){this.modalEl.style.width="100%",new x8({target:this.contentEl,props:{options:this.options,onSelect:t=>{this.onSelect(t),this.close()}}})}};function D8(r){let e=[];for(let t of r.children)t instanceof Hn.TFile&&w8(t.extension)&&e.push(new Ia(t.path,t.name)),t instanceof Hn.TFolder&&e.push(...D8(t));return e}function iX(r,e,t){let n=[];for(let i of e){let a=i.value;if(a.startsWith('"')&&a.endsWith('"'))a=a.substring(1,a.length-1);else{let l=new lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:"expected suggest option query for image suggester to start and end with double quotation marks"});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}let o;if(a===""||a==="."?o=t.app.vault.getRoot():o=t.app.vault.getAbstractFileByPath(a),o==null){let l=new lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${a} for image suggester to exist`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!(o instanceof Hn.TFolder)){let l=new lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option query ${i.value} for image suggester to be a folder`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}n.push(...D8(o))}for(let i of r){let a=Qu(i.value);if(!a){let l=new lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} to be truthy`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}let o=t.app.vault.getAbstractFileByPath(a);if(!o){let l=new lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to exist`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!(o instanceof Hn.TFile)){let l=new lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be a file`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}if(!w8(o.extension)){let l=new lr({errorLevel:"ERROR",effect:"failed to get suggest options",cause:`expected suggest option ${i.value} for image suggester to be an image file`});new Hn.Notice(`meta-bind | ${l.message}`),console.warn(l);continue}n.push(new Ia(o.path,o.name))}return n}function w8(r){return["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp"].contains(r)}function aX(r,e){let t=r.base.getArguments("option"),n=r.base.getArguments("optionQuery");return iX(t,n,e)}function E8(r,e,t){new rd(t.app,aX(r,t),e).open()}var _8=require("obsidian");var S8=require("obsidian");function oX(r){pn(r,"svelte-12l82wb",".calendar.svelte-12l82wb{margin-top:10px}.calendar-header.svelte-12l82wb{display:flex;justify-content:space-around;flex-wrap:wrap;gap:var(--size-4-1);background:var(--background-secondary);border-radius:var(--mb-border-radius);margin-bottom:var(--size-4-1)}.calendar-content.svelte-12l82wb{display:grid;flex-wrap:wrap;grid-template-columns:repeat(7, 1fr);gap:var(--size-4-1)}.cell.svelte-12l82wb{min-width:40px;padding:var(--size-4-2);display:flex;justify-content:center;align-items:center;border-radius:var(--mb-border-radius)}.content-cell.svelte-12l82wb{cursor:pointer}.cell-text.svelte-12l82wb{margin:auto;text-align:center}.selected.svelte-12l82wb{background:var(--interactive-accent);color:var(--text-on-accent)}.highlight.svelte-12l82wb:hover{background:var(--interactive-hover)}.selected.highlight.svelte-12l82wb:hover{background:var(--interactive-accent-hover)}")}function C8(r,e,t){let n=r.slice();return n[10]=e[t],n}function sX(r,e,t){let n=r.slice();return n[13]=e[t],n}function uX(r){let e,t,n;return{c(){e=X("div"),t=X("span"),t.textContent=`${r[13]}`,n=Ee(),q(t,"class","cell-text svelte-12l82wb"),q(e,"class","cell header-cell svelte-12l82wb")},m(i,a){ae(i,e,a),G(e,t),G(e,n)},p:ke,d(i){i&&ie(e)}}}function A8(r,e){let t,n,i=(e[10]||"")+"",a,o,l,u;function s(){return e[6](e[10])}function c(...f){return e[7](e[10],...f)}return{key:r,first:null,c(){var f,p,m;t=X("div"),n=X("span"),a=We(i),o=Ee(),q(n,"class","cell-text svelte-12l82wb"),q(t,"class","cell svelte-12l82wb"),q(t,"role","button"),q(t,"tabindex","0"),Wt(t,"highlight",e[10]),Wt(t,"content-cell",e[10]),Wt(t,"selected",((f=e[0])==null?void 0:f.year())===e[2]&&((p=e[0])==null?void 0:p.month())===e[1]&&((m=e[0])==null?void 0:m.date())===e[10]),this.first=t},m(f,p){ae(f,t,p),G(t,n),G(n,a),G(t,o),l||(u=[Te(t,"click",s),Te(t,"keydown",c)],l=!0)},p(f,p){var m,h,d;e=f,p&8&&i!==(i=(e[10]||"")+"")&&ct(a,i),p&8&&Wt(t,"highlight",e[10]),p&8&&Wt(t,"content-cell",e[10]),p&15&&Wt(t,"selected",((m=e[0])==null?void 0:m.year())===e[2]&&((h=e[0])==null?void 0:h.month())===e[1]&&((d=e[0])==null?void 0:d.date())===e[10])},d(f){f&&ie(t),l=!1,st(u)}}}function lX(r){let e,t,n,i,a=[],o=new Map,l=Ke(_4()),u=[];for(let f=0;f<l.length;f+=1)u[f]=uX(sX(r,l,f));let s=Ke(r[3]),c=f=>M4();for(let f=0;f<s.length;f+=1){let p=C8(r,s,f),m=c(p);o.set(m,a[f]=A8(m,p))}return{c(){e=X("div"),t=X("div");for(let f=0;f<u.length;f+=1)u[f].c();n=Ee(),i=X("div");for(let f=0;f<a.length;f+=1)a[f].c();q(t,"class","calendar-header svelte-12l82wb"),q(i,"class","calendar-content svelte-12l82wb"),q(e,"class","calendar svelte-12l82wb")},m(f,p){ae(f,e,p),G(e,t);for(let m=0;m<u.length;m+=1)u[m]&&u[m].m(t,null);G(e,n),G(e,i);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(i,null)},p(f,[p]){p&63&&(s=Ke(f[3]),a=hc(a,p,c,1,f,s,o,i,kE,A8,null,C8))},i:ke,o:ke,d(f){f&&ie(e),Mt(u,f);for(let p=0;p<a.length;p+=1)a[p].d()}}}function cX(r,e,t){let n=zu(),{selectedDate:i}=e,{month:a}=e,{year:o}=e,l;function u(m){n("dateChange",(0,S8.moment)(new Date(o,a,m)))}function s(m){m&&u(m)}function c(m,h){m.key===" "&&s(h)}let f=m=>s(m),p=(m,h)=>c(h,m);return r.$$set=m=>{"selectedDate"in m&&t(0,i=m.selectedDate),"month"in m&&t(1,a=m.month),"year"in m&&t(2,o=m.year)},r.$$.update=()=>{r.$$.dirty&6&&t(3,l=N4(a,o))},[i,a,o,l,s,c,f,p]}var vE=class extends ze{constructor(e){super(),Ge(this,e,cX,lX,He,{selectedDate:0,month:1,year:2},oX)}},F8=vE;var yE=require("obsidian");function fX(r){pn(r,"svelte-berpp6",".date-picker.svelte-berpp6{display:block;padding:var(--size-4-4)}.date-picker-header.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:space-around}.date-picker-header-text.svelte-berpp6{flex:1;text-align:center;display:flex;gap:var(--size-4-2);align-items:center;justify-content:center;width:min-content}.date-picker-header-text-year.svelte-berpp6{width:60px;padding:var(--size-4-2)}.date-picker-header-text-month.svelte-berpp6{height:min-content}.month-switch-button.svelte-berpp6{margin:0}.date-picker-footer.svelte-berpp6{display:flex;gap:var(--size-4-2);align-items:center;justify-content:center}.none-button.svelte-berpp6{margin:0}")}function pX(r){let e,t,n,i,a,o,l=Nw(r[1])+"",u,s,c,f,p,m,h,d,g,y,w,v,x,D;return d=new F8({props:{month:r[1],year:r[2],selectedDate:r[0]}}),d.$on("dateChange",r[6]),{c(){e=X("div"),t=X("div"),n=X("button"),n.textContent="Prev",i=Ee(),a=X("div"),o=X("span"),u=We(l),s=Ee(),c=X("input"),p=Ee(),m=X("button"),m.textContent="Next",h=Ee(),Qe(d.$$.fragment),g=Ee(),y=X("div"),w=X("button"),w.textContent="Set no Date",q(n,"class","month-switch-button svelte-berpp6"),q(o,"class","date-picker-header-text-month svelte-berpp6"),q(c,"class","date-picker-header-text-year svelte-berpp6"),q(c,"type","number"),c.value=f=r[2].toString(),q(a,"class","date-picker-header-text svelte-berpp6"),q(m,"class","month-switch-button svelte-berpp6"),q(t,"class","date-picker-header svelte-berpp6"),q(w,"class","none-button svelte-berpp6"),q(y,"class","date-picker-footer svelte-berpp6"),q(e,"class","date-picker svelte-berpp6")},m(b,C){ae(b,e,C),G(e,t),G(t,n),G(t,i),G(t,a),G(a,o),G(o,u),G(a,s),G(a,c),G(t,p),G(t,m),G(e,h),Je(d,e,null),G(e,g),G(e,y),G(y,w),v=!0,x||(D=[Te(n,"click",r[4]),Te(c,"input",r[5]),Te(m,"click",r[3]),Te(w,"click",r[7])],x=!0)},p(b,[C]){(!v||C&2)&&l!==(l=Nw(b[1])+"")&&ct(u,l),(!v||C&4&&f!==(f=b[2].toString())&&c.value!==f)&&(c.value=f);let S={};C&2&&(S.month=b[1]),C&4&&(S.year=b[2]),C&1&&(S.selectedDate=b[0]),d.$set(S)},i(b){v||(ge(d.$$.fragment,b),v=!0)},o(b){De(d.$$.fragment,b),v=!1},d(b){b&&ie(e),Xe(d),x=!1,st(D)}}}function mX(r,e,t){let{selectedDate:n=(0,yE.moment)()}=e,{dateChangeCallback:i}=e,a,o;function l(){if(a===11){t(1,a=0),t(2,o+=1);return}t(1,a=a+1)}function u(){if(a===0){t(1,a=11),t(2,o-=1);return}t(1,a-=1)}function s(p){let m=p.target.value,h=Number.parseInt(m);Number.isNaN(h)||t(2,o=h)}function c(p){t(0,n=p.detail),i(p.detail)}function f(){t(0,n=null),i(null)}return r.$$set=p=>{"selectedDate"in p&&t(0,n=p.selectedDate),"dateChangeCallback"in p&&t(8,i=p.dateChangeCallback)},r.$$.update=()=>{if(r.$$.dirty&1)if(n)t(1,a=n.month()),t(2,o=n.year());else{let p=(0,yE.moment)();t(1,a=p.month()),t(2,o=p.year())}},[n,a,o,l,u,s,c,f,i]}var xE=class extends ze{constructor(e){super(),Ge(this,e,mX,pX,He,{selectedDate:0,dateChangeCallback:8},fX)}},N8=xE;var nd=class extends _8.Modal{constructor(t,n){super(t);this.datePicker=n}onOpen(){this.datePickerInput=new N8({target:this.contentEl,props:{selectedDate:this.datePicker.getInternalValue(),dateChangeCallback:t=>{this.datePicker.setInternalValue(t),this.close()}}})}onClose(){var t;(t=this.datePickerInput)==null||t.$destroy()}};function M8(r){var e;return(e=r.plugins.getPlugin("js-engine"))==null?void 0:e.api}var id=class{constructor(e){this.plugin=e,this.app=e.app}openDatePickerModal(e){new nd(this.app,e).open()}openImageSuggesterModal(e,t){E8(e,t,this.plugin)}openSuggesterModal(e,t){d8(e,t,this.plugin)}openTextPromptModal(e,t,n,i,a,o){new Pm(this.app,e,t,n,i,a,o).open()}async renderMarkdown(e,t,n){let i=new Ba.Component;return await Ba.MarkdownRenderer.render(this.app,e,t,n,i),()=>i.unload()}executeCommandById(e){return this.app.commands.executeCommandById(e)}async jsEngineRunFile(e,t,n){let i=M8(this.app);if(!i)throw new Error("js-engine plugin not found");let a=this.app.vault.getAbstractFileByPath(t);if(!a||!(a instanceof Ba.TFile))throw new Error(`calling file not found: ${t}`);let o=this.app.metadataCache.getFileCache(a),l=new Ba.Component;return await i.internal.executeFile(e,{component:l,container:n,context:{metadata:o,file:a,line:0}}),()=>l.unload()}async jsEngineRunCode(e,t,n){let i=M8(this.app);if(!i)throw new Error("js-engine plugin not found");let a=this.app.vault.getAbstractFileByPath(t);if(!a||!(a instanceof Ba.TFile))throw new Error(`calling file not found: ${t}`);let o=this.app.metadataCache.getFileCache(a),l=new Ba.Component;return await i.internal.execute({code:e,component:l,container:n,context:{metadata:o,file:a,line:0}}),()=>l.unload()}};var I8=require("obsidian");function bE(r,e,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function l(c){try{s(n.next(c))}catch(f){o(f)}}function u(c){try{s(n.throw(c))}catch(f){o(f)}}function s(c){c.done?a(c.value):i(c.value).then(l,u)}s((n=n.apply(r,e||[])).next())})}function dX(r){pn(r,"svelte-12xcpmj","button.svelte-12xcpmj{gap:var(--size-4-1)}.mod-plain.svelte-12xcpmj{background:none;box-shadow:none;border:none;color:var(--text-muted)}.mod-plain.svelte-12xcpmj:hover{color:var(--text-normal)}.disabled.svelte-12xcpmj{opacity:0.6}")}function hX(r){let e,t,n,i;return{c(){e=X("button"),t=We(r[3]),q(e,"aria-label",r[2]),e.disabled=r[0],q(e,"class","svelte-12xcpmj"),Wt(e,"mod-cta",r[1]==="primary"),Wt(e,"mod-warning",r[1]==="destructive"),Wt(e,"mod-plain",r[1]==="plain"),Wt(e,"disabled",r[0])},m(a,o){ae(a,e,o),G(e,t),n||(i=Te(e,"click",r[6]),n=!0)},p(a,[o]){o&8&&ct(t,a[3]),o&4&&q(e,"aria-label",a[2]),o&1&&(e.disabled=a[0]),o&2&&Wt(e,"mod-cta",a[1]==="primary"),o&2&&Wt(e,"mod-warning",a[1]==="destructive"),o&2&&Wt(e,"mod-plain",a[1]==="plain"),o&1&&Wt(e,"disabled",a[0])},i:ke,o:ke,d(a){a&&ie(e),n=!1,i()}}}function gX(r,e,t){let{variant:n="default"}=e,{disabled:i=!1}=e,{tooltip:a=""}=e,{label:o=""}=e,{onClick:l=()=>bE(void 0,void 0,void 0,function*(){})}=e;function u(){return bE(this,void 0,void 0,function*(){if(!i){t(0,i=!0);try{yield l()}catch(c){console.log("failed to run button component on click",c)}finally{t(0,i=!1)}}})}let s=()=>u();return r.$$set=c=>{"variant"in c&&t(1,n=c.variant),"disabled"in c&&t(0,i=c.disabled),"tooltip"in c&&t(2,a=c.tooltip),"label"in c&&t(3,o=c.label),"onClick"in c&&t(5,l=c.onClick)},[i,n,a,o,u,l,s]}var DE=class extends ze{constructor(e){super(),Ge(this,e,gX,hX,He,{variant:1,disabled:0,tooltip:2,label:3,onClick:5},dX)}},T8=DE;var ad=class extends kn{constructor(t,n,i,a,o){super(t,"block",i,a,o);this.content=n}createErrorIndicator(t){new Mi({target:t,props:{app:this.plugin.app,errorCollection:this.errorCollection,declaration:this.content}})}async runAction(t){if(t.action)await this.plugin.api.buttonActionRunner.runAction(t.action,this.filePath);else if(t.actions)for(let n of t.actions)await this.plugin.api.buttonActionRunner.runAction(n,this.filePath);else console.error("ButtonMDRC | no action defined")}onload(){console.log("ButtonMDRC | onload");let t=(0,I8.parseYaml)(this.content),n=sC.safeParse(t);if(!n.success){this.errorCollection.add(new vc({errorLevel:"CRITICAL",effect:"can not parse button config",cause:n.error})),this.createErrorIndicator(this.containerEl);return}let i=n.data;this.buttonComponent=new T8({target:this.containerEl,props:{variant:i.style,label:i.label,onClick:async()=>{await this.runAction(i)}}})}onunload(){var t;console.log("ButtonMDRC | onunload"),(t=this.buttonComponent)==null||t.$destroy()}};var od=class extends B8.Plugin{async onload(){console.log("meta-bind | Main >> load"),await this.loadSettings(),await this.saveSettings(),this.api=new _m(this),this.internal=new id(this);let t=this.api.inputFieldParser.parseTemplates(this.settings.inputFieldTemplates);t.hasErrors()&&console.warn("meta-bind | failed to parse templates",t),this.mdrcManager=new Om;let n=new km(this);this.metadataManager=new Vc(n),this.registerMarkdownPostProcessor((i,a)=>{let o=i.querySelectorAll("code");for(let l=0;l<o.length;l++){let u=o.item(l);if(u.hasClass("mb-none"))continue;let s=u.innerText,c=s.startsWith("INPUT[")&&s.endsWith("]"),f=s.startsWith("VIEW[")&&s.endsWith("]");c&&this.api.createInputFieldFromString(s,"inline",a.sourcePath,u,a,void 0),f&&this.api.createViewFieldFromString(s,"inline",a.sourcePath,u,a)}},100),this.registerMarkdownCodeBlockProcessor("meta-bind",(i,a,o)=>{let l=a,u=i.trim(),s=u.startsWith("INPUT[")&&u.endsWith("]"),c=u.startsWith("VIEW[")&&u.endsWith("]");s&&this.api.createInputFieldFromString(u,"block",o.sourcePath,l,o,void 0),c&&this.api.createViewFieldFromString(u,"inline",o.sourcePath,l,o)}),this.registerMarkdownCodeBlockProcessor("meta-bind-js-view",(i,a,o)=>{this.api.createJsViewFieldFromString(i,"block",o.sourcePath,a,o)}),this.registerMarkdownCodeBlockProcessor("meta-bind-embed",(i,a,o)=>{let l=new Wl(a,i,this,o.sourcePath,yr(),0);o.addChild(l)});for(let i=1;i<=Tw;i++)this.registerMarkdownCodeBlockProcessor(`meta-bind-embed-internal-${i}`,(a,o,l)=>{let u=new Wl(o,a,this,l.sourcePath,yr(),i);l.addChild(u)});this.settings.devMode&&this.registerMarkdownCodeBlockProcessor("meta-bind-button",(i,a,o)=>{let l=new ad(a,i,this,o.sourcePath,yr());o.addChild(l)}),this.registerEditorExtension(B4(this)),this.addCommand({id:"mb-open-docs",name:"Open Meta Bind Docs",callback:()=>{window.open("https://mprojectscode.github.io/obsidian-meta-bind-plugin-docs/","_blank")}}),this.addCommand({id:"mb-open-faq",name:"Open Meta Bind FAQ",callback:()=>{this.activateView(Zo)}}),this.addCommand({id:"mb-open-help",name:"Open Meta Bind Help",callback:()=>{this.activateView(Zo)}}),this.registerView(Zo,i=>new Bc(i,this)),this.addSettingTab(new Oc(this.app,this))}onunload(){console.log("meta-bind | Main >> unload"),this.mdrcManager.unload(),this.metadataManager.unload()}getFilePathsByName(t){let n=this.app.metadataCache.getFirstLinkpathDest(t,"");return n===null?[]:[n.path]}isFilePathExcluded(t){for(let n of this.settings.excludedFolders)if(t.startsWith(n))return!0;return!1}async loadSettings(){console.log("meta-bind | Main >> settings load");let t=await this.loadData();t=this.applyTemplatesMigration(Object.assign({},Si,t)),this.settings=t,await this.saveSettings()}async saveSettings(){console.log("meta-bind | Main >> settings save"),Wr.dateFormat=this.settings.preferredDateFormat,F4(this.settings.firstWeekday),await this.saveData(this.settings)}applyTemplatesMigration(t){return t}async activateView(t){let{workspace:n}=this.app,i,a=n.getLeavesOfType(t);a.length>0?i=a[0]:(i=n.getLeaf("tab"),await i.setViewState({type:t,active:!0})),n.revealLeaf(i)}};
/*! Bundled license information:

complex.js/complex.js:
  (**
   * @license Complex.js v2.1.1 12/05/2020
   *
   * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

fraction.js/fraction.js:
  (**
   * @license Fraction.js v4.3.0 20/08/2023
   * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
   *
   * Copyright (c) 2023, Robert Eisele (robert@raw.org)
   * Dual licensed under the MIT or GPL Version 2 licenses.
   **)

decimal.js/decimal.mjs:
  (*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   *)
*/
